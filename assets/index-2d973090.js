var S3=Object.defineProperty;var C3=(e,t,n)=>t in e?S3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Hd=(e,t,n)=>(C3(e,typeof t!="symbol"?t+"":t,n),n);function T3(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const h=Object.getOwnPropertyDescriptor(o,c);h&&Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function n(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=n(c);fetch(c.href,h)}})();var E3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sk={exports:{}},Yy={},ak={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),P3=Symbol.for("react.portal"),A3=Symbol.for("react.fragment"),k3=Symbol.for("react.strict_mode"),I3=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),R3=Symbol.for("react.context"),L3=Symbol.for("react.forward_ref"),D3=Symbol.for("react.suspense"),z3=Symbol.for("react.memo"),B3=Symbol.for("react.lazy"),SC=Symbol.iterator;function O3(e){return e===null||typeof e!="object"?null:(e=SC&&e[SC]||e["@@iterator"],typeof e=="function"?e:null)}var lk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ck=Object.assign,uk={};function Eh(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||lk}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hk(){}hk.prototype=Eh.prototype;function yb(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||lk}var vb=yb.prototype=new hk;vb.constructor=yb;ck(vb,Eh.prototype);vb.isPureReactComponent=!0;var CC=Array.isArray,dk=Object.prototype.hasOwnProperty,_b={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function fk(e,t,n){var o,c={},h=null,p=null;if(t!=null)for(o in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(h=""+t.key),t)dk.call(t,o)&&!pk.hasOwnProperty(o)&&(c[o]=t[o]);var a=arguments.length-2;if(a===1)c.children=n;else if(1<a){for(var b=Array(a),w=0;w<a;w++)b[w]=arguments[w+2];c.children=b}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)c[o]===void 0&&(c[o]=a[o]);return{$$typeof:bf,type:e,key:h,ref:p,props:c,_owner:_b.current}}function F3(e,t){return{$$typeof:bf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xb(e){return typeof e=="object"&&e!==null&&e.$$typeof===bf}function N3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var TC=/\/+/g;function __(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N3(""+e.key):t.toString(36)}function kg(e,t,n,o,c){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case bf:case P3:p=!0}}if(p)return p=e,c=c(p),e=o===""?"."+__(p,0):o,CC(c)?(n="",e!=null&&(n=e.replace(TC,"$&/")+"/"),kg(c,t,n,"",function(w){return w})):c!=null&&(xb(c)&&(c=F3(c,n+(!c.key||p&&p.key===c.key?"":(""+c.key).replace(TC,"$&/")+"/")+e)),t.push(c)),1;if(p=0,o=o===""?".":o+":",CC(e))for(var a=0;a<e.length;a++){h=e[a];var b=o+__(h,a);p+=kg(h,t,n,b,c)}else if(b=O3(e),typeof b=="function")for(e=b.call(e),a=0;!(h=e.next()).done;)h=h.value,b=o+__(h,a++),p+=kg(h,t,n,b,c);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Xm(e,t,n){if(e==null)return e;var o=[],c=0;return kg(e,o,"","",function(h){return t.call(n,h,c++)}),o}function $3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var io={current:null},Ig={transition:null},V3={ReactCurrentDispatcher:io,ReactCurrentBatchConfig:Ig,ReactCurrentOwner:_b};function mk(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:Xm,forEach:function(e,t,n){Xm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xm(e,function(){t++}),t},toArray:function(e){return Xm(e,function(t){return t})||[]},only:function(e){if(!xb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=Eh;fn.Fragment=A3;fn.Profiler=I3;fn.PureComponent=yb;fn.StrictMode=k3;fn.Suspense=D3;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V3;fn.act=mk;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=ck({},e.props),c=e.key,h=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,p=_b.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(b in t)dk.call(t,b)&&!pk.hasOwnProperty(b)&&(o[b]=t[b]===void 0&&a!==void 0?a[b]:t[b])}var b=arguments.length-2;if(b===1)o.children=n;else if(1<b){a=Array(b);for(var w=0;w<b;w++)a[w]=arguments[w+2];o.children=a}return{$$typeof:bf,type:e.type,key:c,ref:h,props:o,_owner:p}};fn.createContext=function(e){return e={$$typeof:R3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M3,_context:e},e.Consumer=e};fn.createElement=fk;fn.createFactory=function(e){var t=fk.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:L3,render:e}};fn.isValidElement=xb;fn.lazy=function(e){return{$$typeof:B3,_payload:{_status:-1,_result:e},_init:$3}};fn.memo=function(e,t){return{$$typeof:z3,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=Ig.transition;Ig.transition={};try{e()}finally{Ig.transition=t}};fn.unstable_act=mk;fn.useCallback=function(e,t){return io.current.useCallback(e,t)};fn.useContext=function(e){return io.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return io.current.useDeferredValue(e)};fn.useEffect=function(e,t){return io.current.useEffect(e,t)};fn.useId=function(){return io.current.useId()};fn.useImperativeHandle=function(e,t,n){return io.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return io.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return io.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return io.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return io.current.useReducer(e,t,n)};fn.useRef=function(e){return io.current.useRef(e)};fn.useState=function(e){return io.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return io.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return io.current.useTransition()};fn.version="18.3.1";ak.exports=fn;var q=ak.exports;const Ls=Xy(q),iy=T3({__proto__:null,default:Ls},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3=q,U3=Symbol.for("react.element"),W3=Symbol.for("react.fragment"),G3=Object.prototype.hasOwnProperty,q3=j3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H3={key:!0,ref:!0,__self:!0,__source:!0};function gk(e,t,n){var o,c={},h=null,p=null;n!==void 0&&(h=""+n),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(p=t.ref);for(o in t)G3.call(t,o)&&!H3.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:U3,type:e,key:h,ref:p,props:c,_owner:q3.current}}Yy.Fragment=W3;Yy.jsx=gk;Yy.jsxs=gk;sk.exports=Yy;var oe=sk.exports,Sx={},yk={exports:{}},No={},vk={exports:{}},_k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(De,Re){var et=De.length;De.push(Re);e:for(;0<et;){var pt=et-1>>>1,ut=De[pt];if(0<c(ut,Re))De[pt]=Re,De[et]=ut,et=pt;else break e}}function n(De){return De.length===0?null:De[0]}function o(De){if(De.length===0)return null;var Re=De[0],et=De.pop();if(et!==Re){De[0]=et;e:for(var pt=0,ut=De.length,ct=ut>>>1;pt<ct;){var Dt=2*(pt+1)-1,Gt=De[Dt],dn=Dt+1,Yt=De[dn];if(0>c(Gt,et))dn<ut&&0>c(Yt,Gt)?(De[pt]=Yt,De[dn]=et,pt=dn):(De[pt]=Gt,De[Dt]=et,pt=Dt);else if(dn<ut&&0>c(Yt,et))De[pt]=Yt,De[dn]=et,pt=dn;else break e}}return Re}function c(De,Re){var et=De.sortIndex-Re.sortIndex;return et!==0?et:De.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,a=p.now();e.unstable_now=function(){return p.now()-a}}var b=[],w=[],E=1,A=null,I=3,L=!1,F=!1,j=!1,K=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(De){for(var Re=n(w);Re!==null;){if(Re.callback===null)o(w);else if(Re.startTime<=De)o(w),Re.sortIndex=Re.expirationTime,t(b,Re);else break;Re=n(w)}}function J(De){if(j=!1,$(De),!F)if(n(b)!==null)F=!0,Ge(ie);else{var Re=n(w);Re!==null&&Ye(J,Re.startTime-De)}}function ie(De,Re){F=!1,j&&(j=!1,B(me),me=-1),L=!0;var et=I;try{for($(Re),A=n(b);A!==null&&(!(A.expirationTime>Re)||De&&!Te());){var pt=A.callback;if(typeof pt=="function"){A.callback=null,I=A.priorityLevel;var ut=pt(A.expirationTime<=Re);Re=e.unstable_now(),typeof ut=="function"?A.callback=ut:A===n(b)&&o(b),$(Re)}else o(b);A=n(b)}if(A!==null)var ct=!0;else{var Dt=n(w);Dt!==null&&Ye(J,Dt.startTime-Re),ct=!1}return ct}finally{A=null,I=et,L=!1}}var de=!1,ye=null,me=-1,ke=5,G=-1;function Te(){return!(e.unstable_now()-G<ke)}function Le(){if(ye!==null){var De=e.unstable_now();G=De;var Re=!0;try{Re=ye(!0,De)}finally{Re?Ue():(de=!1,ye=null)}}else de=!1}var Ue;if(typeof V=="function")Ue=function(){V(Le)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Oe=qe.port2;qe.port1.onmessage=Le,Ue=function(){Oe.postMessage(null)}}else Ue=function(){K(Le,0)};function Ge(De){ye=De,de||(de=!0,Ue())}function Ye(De,Re){me=K(function(){De(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(De){De.callback=null},e.unstable_continueExecution=function(){F||L||(F=!0,Ge(ie))},e.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<De?Math.floor(1e3/De):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(b)},e.unstable_next=function(De){switch(I){case 1:case 2:case 3:var Re=3;break;default:Re=I}var et=I;I=Re;try{return De()}finally{I=et}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(De,Re){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var et=I;I=De;try{return Re()}finally{I=et}},e.unstable_scheduleCallback=function(De,Re,et){var pt=e.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?pt+et:pt):et=pt,De){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=et+ut,De={id:E++,callback:Re,priorityLevel:De,startTime:et,expirationTime:ut,sortIndex:-1},et>pt?(De.sortIndex=et,t(w,De),n(b)===null&&De===n(w)&&(j?(B(me),me=-1):j=!0,Ye(J,et-pt))):(De.sortIndex=ut,t(b,De),F||L||(F=!0,Ge(ie))),De},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(De){var Re=I;return function(){var et=I;I=Re;try{return De.apply(this,arguments)}finally{I=et}}}})(_k);vk.exports=_k;var Z3=vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3=q,Fo=Z3;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xk=new Set,Fp={};function Nc(e,t){mh(e,t),mh(e+"Capture",t)}function mh(e,t){for(Fp[e]=t,e=0;e<t.length;e++)xk.add(t[e])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cx=Object.prototype.hasOwnProperty,X3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EC={},PC={};function Y3(e){return Cx.call(PC,e)?!0:Cx.call(EC,e)?!1:X3.test(e)?PC[e]=!0:(EC[e]=!0,!1)}function J3(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Q3(e,t,n,o){if(t===null||typeof t>"u"||J3(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function oo(e,t,n,o,c,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ci[e]=new oo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ci[t]=new oo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ci[e]=new oo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ci[e]=new oo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ci[e]=new oo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ci[e]=new oo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ci[e]=new oo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ci[e]=new oo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ci[e]=new oo(e,5,!1,e.toLowerCase(),null,!1,!1)});var bb=/[\-:]([a-z])/g;function wb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bb,wb);Ci[t]=new oo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bb,wb);Ci[t]=new oo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bb,wb);Ci[t]=new oo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ci[e]=new oo(e,1,!1,e.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ci[e]=new oo(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sb(e,t,n,o){var c=Ci.hasOwnProperty(t)?Ci[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Q3(t,n,c,o)&&(n=null),o||c===null?Y3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,o=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Za=K3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ym=Symbol.for("react.element"),Nu=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),Cb=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),bk=Symbol.for("react.provider"),wk=Symbol.for("react.context"),Tb=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),Px=Symbol.for("react.suspense_list"),Eb=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),Sk=Symbol.for("react.offscreen"),AC=Symbol.iterator;function Zd(e){return e===null||typeof e!="object"?null:(e=AC&&e[AC]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,x_;function dp(e){if(x_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x_=t&&t[1]||""}return`
`+x_+e}var b_=!1;function w_(e,t){if(!e||b_)return"";b_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var o=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){o=w}e.call(t.prototype)}else{try{throw Error()}catch(w){o=w}e()}}catch(w){if(w&&o&&typeof w.stack=="string"){for(var c=w.stack.split(`
`),h=o.stack.split(`
`),p=c.length-1,a=h.length-1;1<=p&&0<=a&&c[p]!==h[a];)a--;for(;1<=p&&0<=a;p--,a--)if(c[p]!==h[a]){if(p!==1||a!==1)do if(p--,a--,0>a||c[p]!==h[a]){var b=`
`+c[p].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=p&&0<=a);break}}}finally{b_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dp(e):""}function eB(e){switch(e.tag){case 5:return dp(e.type);case 16:return dp("Lazy");case 13:return dp("Suspense");case 19:return dp("SuspenseList");case 0:case 2:case 15:return e=w_(e.type,!1),e;case 11:return e=w_(e.type.render,!1),e;case 1:return e=w_(e.type,!0),e;default:return""}}function Ax(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $u:return"Fragment";case Nu:return"Portal";case Tx:return"Profiler";case Cb:return"StrictMode";case Ex:return"Suspense";case Px:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wk:return(e.displayName||"Context")+".Consumer";case bk:return(e._context.displayName||"Context")+".Provider";case Tb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eb:return t=e.displayName||null,t!==null?t:Ax(e.type)||"Memo";case _l:t=e._payload,e=e._init;try{return Ax(e(t))}catch{}}return null}function tB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ax(t);case 8:return t===Cb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ck(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nB(e){var t=Ck(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){o=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jm(e){e._valueTracker||(e._valueTracker=nB(e))}function Tk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Ck(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function oy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kx(e,t){var n=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kC(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Bl(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ek(e,t){t=t.checked,t!=null&&Sb(e,"checked",t,!1)}function Ix(e,t){Ek(e,t);var n=Bl(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mx(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mx(e,t.type,Bl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mx(e,t,n){(t!=="number"||oy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pp=Array.isArray;function nh(e,t,n,o){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Bl(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Rx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(tt(92));if(pp(n)){if(1<n.length)throw Error(tt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bl(n)}}function Pk(e,t){var n=Bl(t.value),o=Bl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function RC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ak(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ak(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qm,kk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qm=Qm||document.createElement("div"),Qm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Np(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rB=["Webkit","ms","Moz","O"];Object.keys(wp).forEach(function(e){rB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wp[t]=wp[e]})});function Ik(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wp.hasOwnProperty(e)&&wp[e]?(""+t).trim():t+"px"}function Mk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,c=Ik(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,c):e[n]=c}}var iB=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dx(e,t){if(t){if(iB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function zx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=null;function Pb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ox=null,rh=null,ih=null;function LC(e){if(e=Cf(e)){if(typeof Ox!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=n0(t),Ox(e.stateNode,e.type,t))}}function Rk(e){rh?ih?ih.push(e):ih=[e]:rh=e}function Lk(){if(rh){var e=rh,t=ih;if(ih=rh=null,LC(e),t)for(e=0;e<t.length;e++)LC(t[e])}}function Dk(e,t){return e(t)}function zk(){}var S_=!1;function Bk(e,t,n){if(S_)return e(t,n);S_=!0;try{return Dk(e,t,n)}finally{S_=!1,(rh!==null||ih!==null)&&(zk(),Lk())}}function $p(e,t){var n=e.stateNode;if(n===null)return null;var o=n0(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(tt(231,t,typeof n));return n}var Fx=!1;if(Na)try{var Kd={};Object.defineProperty(Kd,"passive",{get:function(){Fx=!0}}),window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{Fx=!1}function oB(e,t,n,o,c,h,p,a,b){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(E){this.onError(E)}}var Sp=!1,sy=null,ay=!1,Nx=null,sB={onError:function(e){Sp=!0,sy=e}};function aB(e,t,n,o,c,h,p,a,b){Sp=!1,sy=null,oB.apply(sB,arguments)}function lB(e,t,n,o,c,h,p,a,b){if(aB.apply(this,arguments),Sp){if(Sp){var w=sy;Sp=!1,sy=null}else throw Error(tt(198));ay||(ay=!0,Nx=w)}}function $c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ok(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DC(e){if($c(e)!==e)throw Error(tt(188))}function cB(e){var t=e.alternate;if(!t){if(t=$c(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var n=e,o=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){n=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return DC(c),e;if(h===o)return DC(c),t;h=h.sibling}throw Error(tt(188))}if(n.return!==o.return)n=c,o=h;else{for(var p=!1,a=c.child;a;){if(a===n){p=!0,n=c,o=h;break}if(a===o){p=!0,o=c,n=h;break}a=a.sibling}if(!p){for(a=h.child;a;){if(a===n){p=!0,n=h,o=c;break}if(a===o){p=!0,o=h,n=c;break}a=a.sibling}if(!p)throw Error(tt(189))}}if(n.alternate!==o)throw Error(tt(190))}if(n.tag!==3)throw Error(tt(188));return n.stateNode.current===n?e:t}function Fk(e){return e=cB(e),e!==null?Nk(e):null}function Nk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nk(e);if(t!==null)return t;e=e.sibling}return null}var $k=Fo.unstable_scheduleCallback,zC=Fo.unstable_cancelCallback,uB=Fo.unstable_shouldYield,hB=Fo.unstable_requestPaint,Nr=Fo.unstable_now,dB=Fo.unstable_getCurrentPriorityLevel,Ab=Fo.unstable_ImmediatePriority,Vk=Fo.unstable_UserBlockingPriority,ly=Fo.unstable_NormalPriority,pB=Fo.unstable_LowPriority,jk=Fo.unstable_IdlePriority,Jy=null,sa=null;function fB(e){if(sa&&typeof sa.onCommitFiberRoot=="function")try{sa.onCommitFiberRoot(Jy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:yB,mB=Math.log,gB=Math.LN2;function yB(e){return e>>>=0,e===0?32:31-(mB(e)/gB|0)|0}var eg=64,tg=4194304;function fp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cy(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes,p=n&268435455;if(p!==0){var a=p&~c;a!==0?o=fp(a):(h&=p,h!==0&&(o=fp(h)))}else p=n&~c,p!==0?o=fp(p):h!==0&&(o=fp(h));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Ds(t),c=1<<n,o|=e[n],t&=~c;return o}function vB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _B(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-Ds(h),a=1<<p,b=c[p];b===-1?(!(a&n)||a&o)&&(c[p]=vB(a,t)):b<=t&&(e.expiredLanes|=a),h&=~a}}function $x(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uk(){var e=eg;return eg<<=1,!(eg&4194240)&&(eg=64),e}function C_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ds(t),e[t]=n}function xB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-Ds(n),h=1<<c;t[c]=0,o[c]=-1,e[c]=-1,n&=~h}}function kb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Ds(n),c=1<<o;c&t|e[o]&t&&(e[o]|=t),n&=~c}}var Vn=0;function Wk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gk,Ib,qk,Hk,Zk,Vx=!1,ng=[],Pl=null,Al=null,kl=null,Vp=new Map,jp=new Map,bl=[],bB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BC(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(t.pointerId)}}function Xd(e,t,n,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Cf(t),t!==null&&Ib(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function wB(e,t,n,o,c){switch(t){case"focusin":return Pl=Xd(Pl,e,t,n,o,c),!0;case"dragenter":return Al=Xd(Al,e,t,n,o,c),!0;case"mouseover":return kl=Xd(kl,e,t,n,o,c),!0;case"pointerover":var h=c.pointerId;return Vp.set(h,Xd(Vp.get(h)||null,e,t,n,o,c)),!0;case"gotpointercapture":return h=c.pointerId,jp.set(h,Xd(jp.get(h)||null,e,t,n,o,c)),!0}return!1}function Kk(e){var t=bc(e.target);if(t!==null){var n=$c(t);if(n!==null){if(t=n.tag,t===13){if(t=Ok(n),t!==null){e.blockedOn=t,Zk(e.priority,function(){qk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Bx=o,n.target.dispatchEvent(o),Bx=null}else return t=Cf(n),t!==null&&Ib(t),e.blockedOn=n,!1;t.shift()}return!0}function OC(e,t,n){Mg(e)&&n.delete(t)}function SB(){Vx=!1,Pl!==null&&Mg(Pl)&&(Pl=null),Al!==null&&Mg(Al)&&(Al=null),kl!==null&&Mg(kl)&&(kl=null),Vp.forEach(OC),jp.forEach(OC)}function Yd(e,t){e.blockedOn===t&&(e.blockedOn=null,Vx||(Vx=!0,Fo.unstable_scheduleCallback(Fo.unstable_NormalPriority,SB)))}function Up(e){function t(c){return Yd(c,e)}if(0<ng.length){Yd(ng[0],e);for(var n=1;n<ng.length;n++){var o=ng[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Pl!==null&&Yd(Pl,e),Al!==null&&Yd(Al,e),kl!==null&&Yd(kl,e),Vp.forEach(t),jp.forEach(t),n=0;n<bl.length;n++)o=bl[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<bl.length&&(n=bl[0],n.blockedOn===null);)Kk(n),n.blockedOn===null&&bl.shift()}var oh=Za.ReactCurrentBatchConfig,uy=!0;function CB(e,t,n,o){var c=Vn,h=oh.transition;oh.transition=null;try{Vn=1,Mb(e,t,n,o)}finally{Vn=c,oh.transition=h}}function TB(e,t,n,o){var c=Vn,h=oh.transition;oh.transition=null;try{Vn=4,Mb(e,t,n,o)}finally{Vn=c,oh.transition=h}}function Mb(e,t,n,o){if(uy){var c=jx(e,t,n,o);if(c===null)D_(e,t,o,hy,n),BC(e,o);else if(wB(c,e,t,n,o))o.stopPropagation();else if(BC(e,o),t&4&&-1<bB.indexOf(e)){for(;c!==null;){var h=Cf(c);if(h!==null&&Gk(h),h=jx(e,t,n,o),h===null&&D_(e,t,o,hy,n),h===c)break;c=h}c!==null&&o.stopPropagation()}else D_(e,t,o,null,n)}}var hy=null;function jx(e,t,n,o){if(hy=null,e=Pb(o),e=bc(e),e!==null)if(t=$c(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ok(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hy=e,null}function Xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dB()){case Ab:return 1;case Vk:return 4;case ly:case pB:return 16;case jk:return 536870912;default:return 16}default:return 16}}var Sl=null,Rb=null,Rg=null;function Yk(){if(Rg)return Rg;var e,t=Rb,n=t.length,o,c="value"in Sl?Sl.value:Sl.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(o=1;o<=p&&t[n-o]===c[h-o];o++);return Rg=c.slice(e,1<o?1-o:void 0)}function Lg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rg(){return!0}function FC(){return!1}function $o(e){function t(n,o,c,h,p){this._reactName=n,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(h):h[a]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?rg:FC,this.isPropagationStopped=FC,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rg)},persist:function(){},isPersistent:rg}),t}var Ph={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lb=$o(Ph),Sf=br({},Ph,{view:0,detail:0}),EB=$o(Sf),T_,E_,Jd,Qy=br({},Sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Db,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jd&&(Jd&&e.type==="mousemove"?(T_=e.screenX-Jd.screenX,E_=e.screenY-Jd.screenY):E_=T_=0,Jd=e),T_)},movementY:function(e){return"movementY"in e?e.movementY:E_}}),NC=$o(Qy),PB=br({},Qy,{dataTransfer:0}),AB=$o(PB),kB=br({},Sf,{relatedTarget:0}),P_=$o(kB),IB=br({},Ph,{animationName:0,elapsedTime:0,pseudoElement:0}),MB=$o(IB),RB=br({},Ph,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LB=$o(RB),DB=br({},Ph,{data:0}),$C=$o(DB),zB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OB[e])?!!t[e]:!1}function Db(){return FB}var NB=br({},Sf,{key:function(e){if(e.key){var t=zB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Db,charCode:function(e){return e.type==="keypress"?Lg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$B=$o(NB),VB=br({},Qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VC=$o(VB),jB=br({},Sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Db}),UB=$o(jB),WB=br({},Ph,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=$o(WB),qB=br({},Qy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HB=$o(qB),ZB=[9,13,27,32],zb=Na&&"CompositionEvent"in window,Cp=null;Na&&"documentMode"in document&&(Cp=document.documentMode);var KB=Na&&"TextEvent"in window&&!Cp,Jk=Na&&(!zb||Cp&&8<Cp&&11>=Cp),jC=String.fromCharCode(32),UC=!1;function Qk(e,t){switch(e){case"keyup":return ZB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vu=!1;function XB(e,t){switch(e){case"compositionend":return eI(t);case"keypress":return t.which!==32?null:(UC=!0,jC);case"textInput":return e=t.data,e===jC&&UC?null:e;default:return null}}function YB(e,t){if(Vu)return e==="compositionend"||!zb&&Qk(e,t)?(e=Yk(),Rg=Rb=Sl=null,Vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jk&&t.locale!=="ko"?null:t.data;default:return null}}var JB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JB[e.type]:t==="textarea"}function tI(e,t,n,o){Rk(o),t=dy(t,"onChange"),0<t.length&&(n=new Lb("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Tp=null,Wp=null;function QB(e){dI(e,0)}function e0(e){var t=Wu(e);if(Tk(t))return e}function e4(e,t){if(e==="change")return t}var nI=!1;if(Na){var A_;if(Na){var k_="oninput"in document;if(!k_){var GC=document.createElement("div");GC.setAttribute("oninput","return;"),k_=typeof GC.oninput=="function"}A_=k_}else A_=!1;nI=A_&&(!document.documentMode||9<document.documentMode)}function qC(){Tp&&(Tp.detachEvent("onpropertychange",rI),Wp=Tp=null)}function rI(e){if(e.propertyName==="value"&&e0(Wp)){var t=[];tI(t,Wp,e,Pb(e)),Bk(QB,t)}}function t4(e,t,n){e==="focusin"?(qC(),Tp=t,Wp=n,Tp.attachEvent("onpropertychange",rI)):e==="focusout"&&qC()}function n4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return e0(Wp)}function r4(e,t){if(e==="click")return e0(t)}function i4(e,t){if(e==="input"||e==="change")return e0(t)}function o4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Os=typeof Object.is=="function"?Object.is:o4;function Gp(e,t){if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var c=n[o];if(!Cx.call(t,c)||!Os(e[c],t[c]))return!1}return!0}function HC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZC(e,t){var n=HC(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HC(n)}}function iI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oI(){for(var e=window,t=oy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oy(e.document)}return t}function Bb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s4(e){var t=oI(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iI(n.ownerDocument.documentElement,n)){if(o!==null&&Bb(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!e.extend&&h>o&&(c=o,o=h,h=c),c=ZC(n,h);var p=ZC(n,o);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a4=Na&&"documentMode"in document&&11>=document.documentMode,ju=null,Ux=null,Ep=null,Wx=!1;function KC(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wx||ju==null||ju!==oy(o)||(o=ju,"selectionStart"in o&&Bb(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ep&&Gp(Ep,o)||(Ep=o,o=dy(Ux,"onSelect"),0<o.length&&(t=new Lb("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=ju)))}function ig(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uu={animationend:ig("Animation","AnimationEnd"),animationiteration:ig("Animation","AnimationIteration"),animationstart:ig("Animation","AnimationStart"),transitionend:ig("Transition","TransitionEnd")},I_={},sI={};Na&&(sI=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function t0(e){if(I_[e])return I_[e];if(!Uu[e])return e;var t=Uu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sI)return I_[e]=t[n];return e}var aI=t0("animationend"),lI=t0("animationiteration"),cI=t0("animationstart"),uI=t0("transitionend"),hI=new Map,XC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vl(e,t){hI.set(e,t),Nc(t,[e])}for(var M_=0;M_<XC.length;M_++){var R_=XC[M_],l4=R_.toLowerCase(),c4=R_[0].toUpperCase()+R_.slice(1);Vl(l4,"on"+c4)}Vl(aI,"onAnimationEnd");Vl(lI,"onAnimationIteration");Vl(cI,"onAnimationStart");Vl("dblclick","onDoubleClick");Vl("focusin","onFocus");Vl("focusout","onBlur");Vl(uI,"onTransitionEnd");mh("onMouseEnter",["mouseout","mouseover"]);mh("onMouseLeave",["mouseout","mouseover"]);mh("onPointerEnter",["pointerout","pointerover"]);mh("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(mp));function YC(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,lB(o,t,void 0,e),e.currentTarget=null}function dI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],c=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var p=o.length-1;0<=p;p--){var a=o[p],b=a.instance,w=a.currentTarget;if(a=a.listener,b!==h&&c.isPropagationStopped())break e;YC(c,a,w),h=b}else for(p=0;p<o.length;p++){if(a=o[p],b=a.instance,w=a.currentTarget,a=a.listener,b!==h&&c.isPropagationStopped())break e;YC(c,a,w),h=b}}}if(ay)throw e=Nx,ay=!1,Nx=null,e}function lr(e,t){var n=t[Kx];n===void 0&&(n=t[Kx]=new Set);var o=e+"__bubble";n.has(o)||(pI(t,e,2,!1),n.add(o))}function L_(e,t,n){var o=0;t&&(o|=4),pI(n,e,o,t)}var og="_reactListening"+Math.random().toString(36).slice(2);function qp(e){if(!e[og]){e[og]=!0,xk.forEach(function(n){n!=="selectionchange"&&(u4.has(n)||L_(n,!1,e),L_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[og]||(t[og]=!0,L_("selectionchange",!1,t))}}function pI(e,t,n,o){switch(Xk(t)){case 1:var c=CB;break;case 4:c=TB;break;default:c=Mb}n=c.bind(null,t,n,e),c=void 0,!Fx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function D_(e,t,n,o,c){var h=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var a=o.stateNode.containerInfo;if(a===c||a.nodeType===8&&a.parentNode===c)break;if(p===4)for(p=o.return;p!==null;){var b=p.tag;if((b===3||b===4)&&(b=p.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;p=p.return}for(;a!==null;){if(p=bc(a),p===null)return;if(b=p.tag,b===5||b===6){o=h=p;continue e}a=a.parentNode}}o=o.return}Bk(function(){var w=h,E=Pb(n),A=[];e:{var I=hI.get(e);if(I!==void 0){var L=Lb,F=e;switch(e){case"keypress":if(Lg(n)===0)break e;case"keydown":case"keyup":L=$B;break;case"focusin":F="focus",L=P_;break;case"focusout":F="blur",L=P_;break;case"beforeblur":case"afterblur":L=P_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=NC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=AB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=UB;break;case aI:case lI:case cI:L=MB;break;case uI:L=GB;break;case"scroll":L=EB;break;case"wheel":L=HB;break;case"copy":case"cut":case"paste":L=LB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=VC}var j=(t&4)!==0,K=!j&&e==="scroll",B=j?I!==null?I+"Capture":null:I;j=[];for(var V=w,$;V!==null;){$=V;var J=$.stateNode;if($.tag===5&&J!==null&&($=J,B!==null&&(J=$p(V,B),J!=null&&j.push(Hp(V,J,$)))),K)break;V=V.return}0<j.length&&(I=new L(I,F,null,n,E),A.push({event:I,listeners:j}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&n!==Bx&&(F=n.relatedTarget||n.fromElement)&&(bc(F)||F[$a]))break e;if((L||I)&&(I=E.window===E?E:(I=E.ownerDocument)?I.defaultView||I.parentWindow:window,L?(F=n.relatedTarget||n.toElement,L=w,F=F?bc(F):null,F!==null&&(K=$c(F),F!==K||F.tag!==5&&F.tag!==6)&&(F=null)):(L=null,F=w),L!==F)){if(j=NC,J="onMouseLeave",B="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(j=VC,J="onPointerLeave",B="onPointerEnter",V="pointer"),K=L==null?I:Wu(L),$=F==null?I:Wu(F),I=new j(J,V+"leave",L,n,E),I.target=K,I.relatedTarget=$,J=null,bc(E)===w&&(j=new j(B,V+"enter",F,n,E),j.target=$,j.relatedTarget=K,J=j),K=J,L&&F)t:{for(j=L,B=F,V=0,$=j;$;$=ku($))V++;for($=0,J=B;J;J=ku(J))$++;for(;0<V-$;)j=ku(j),V--;for(;0<$-V;)B=ku(B),$--;for(;V--;){if(j===B||B!==null&&j===B.alternate)break t;j=ku(j),B=ku(B)}j=null}else j=null;L!==null&&JC(A,I,L,j,!1),F!==null&&K!==null&&JC(A,K,F,j,!0)}}e:{if(I=w?Wu(w):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var ie=e4;else if(WC(I))if(nI)ie=i4;else{ie=n4;var de=t4}else(L=I.nodeName)&&L.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(ie=r4);if(ie&&(ie=ie(e,w))){tI(A,ie,n,E);break e}de&&de(e,I,w),e==="focusout"&&(de=I._wrapperState)&&de.controlled&&I.type==="number"&&Mx(I,"number",I.value)}switch(de=w?Wu(w):window,e){case"focusin":(WC(de)||de.contentEditable==="true")&&(ju=de,Ux=w,Ep=null);break;case"focusout":Ep=Ux=ju=null;break;case"mousedown":Wx=!0;break;case"contextmenu":case"mouseup":case"dragend":Wx=!1,KC(A,n,E);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":KC(A,n,E)}var ye;if(zb)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Vu?Qk(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(Jk&&n.locale!=="ko"&&(Vu||me!=="onCompositionStart"?me==="onCompositionEnd"&&Vu&&(ye=Yk()):(Sl=E,Rb="value"in Sl?Sl.value:Sl.textContent,Vu=!0)),de=dy(w,me),0<de.length&&(me=new $C(me,e,null,n,E),A.push({event:me,listeners:de}),ye?me.data=ye:(ye=eI(n),ye!==null&&(me.data=ye)))),(ye=KB?XB(e,n):YB(e,n))&&(w=dy(w,"onBeforeInput"),0<w.length&&(E=new $C("onBeforeInput","beforeinput",null,n,E),A.push({event:E,listeners:w}),E.data=ye))}dI(A,t)})}function Hp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dy(e,t){for(var n=t+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=$p(e,n),h!=null&&o.unshift(Hp(e,h,c)),h=$p(e,t),h!=null&&o.push(Hp(e,h,c))),e=e.return}return o}function ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JC(e,t,n,o,c){for(var h=t._reactName,p=[];n!==null&&n!==o;){var a=n,b=a.alternate,w=a.stateNode;if(b!==null&&b===o)break;a.tag===5&&w!==null&&(a=w,c?(b=$p(n,h),b!=null&&p.unshift(Hp(n,b,a))):c||(b=$p(n,h),b!=null&&p.push(Hp(n,b,a)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var h4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function QC(e){return(typeof e=="string"?e:""+e).replace(h4,`
`).replace(d4,"")}function sg(e,t,n){if(t=QC(t),QC(e)!==t&&n)throw Error(tt(425))}function py(){}var Gx=null,qx=null;function Hx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zx=typeof setTimeout=="function"?setTimeout:void 0,p4=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,f4=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(e){return eT.resolve(null).then(e).catch(m4)}:Zx;function m4(e){setTimeout(function(){throw e})}function z_(e,t){var n=t,o=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(o===0){e.removeChild(c),Up(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=c}while(n);Up(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ah=Math.random().toString(36).slice(2),ra="__reactFiber$"+Ah,Zp="__reactProps$"+Ah,$a="__reactContainer$"+Ah,Kx="__reactEvents$"+Ah,g4="__reactListeners$"+Ah,y4="__reactHandles$"+Ah;function bc(e){var t=e[ra];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[ra]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tT(e);e!==null;){if(n=e[ra])return n;e=tT(e)}return t}e=n,n=e.parentNode}return null}function Cf(e){return e=e[ra]||e[$a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function n0(e){return e[Zp]||null}var Xx=[],Gu=-1;function jl(e){return{current:e}}function cr(e){0>Gu||(e.current=Xx[Gu],Xx[Gu]=null,Gu--)}function nr(e,t){Gu++,Xx[Gu]=e.current,e.current=t}var Ol={},ji=jl(Ol),_o=jl(!1),Rc=Ol;function gh(e,t){var n=e.type.contextTypes;if(!n)return Ol;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in n)c[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function xo(e){return e=e.childContextTypes,e!=null}function fy(){cr(_o),cr(ji)}function nT(e,t,n){if(ji.current!==Ol)throw Error(tt(168));nr(ji,t),nr(_o,n)}function fI(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(tt(108,tB(e)||"Unknown",c));return br({},n,o)}function my(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ol,Rc=ji.current,nr(ji,e),nr(_o,_o.current),!0}function rT(e,t,n){var o=e.stateNode;if(!o)throw Error(tt(169));n?(e=fI(e,t,Rc),o.__reactInternalMemoizedMergedChildContext=e,cr(_o),cr(ji),nr(ji,e)):cr(_o),nr(_o,n)}var za=null,r0=!1,B_=!1;function mI(e){za===null?za=[e]:za.push(e)}function v4(e){r0=!0,mI(e)}function Ul(){if(!B_&&za!==null){B_=!0;var e=0,t=Vn;try{var n=za;for(Vn=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}za=null,r0=!1}catch(c){throw za!==null&&(za=za.slice(e+1)),$k(Ab,Ul),c}finally{Vn=t,B_=!1}}return null}var qu=[],Hu=0,gy=null,yy=0,ns=[],rs=0,Lc=null,Ba=1,Oa="";function mc(e,t){qu[Hu++]=yy,qu[Hu++]=gy,gy=e,yy=t}function gI(e,t,n){ns[rs++]=Ba,ns[rs++]=Oa,ns[rs++]=Lc,Lc=e;var o=Ba;e=Oa;var c=32-Ds(o)-1;o&=~(1<<c),n+=1;var h=32-Ds(t)+c;if(30<h){var p=c-c%5;h=(o&(1<<p)-1).toString(32),o>>=p,c-=p,Ba=1<<32-Ds(t)+c|n<<c|o,Oa=h+e}else Ba=1<<h|n<<c|o,Oa=e}function Ob(e){e.return!==null&&(mc(e,1),gI(e,1,0))}function Fb(e){for(;e===gy;)gy=qu[--Hu],qu[Hu]=null,yy=qu[--Hu],qu[Hu]=null;for(;e===Lc;)Lc=ns[--rs],ns[rs]=null,Oa=ns[--rs],ns[rs]=null,Ba=ns[--rs],ns[rs]=null}var Do=null,Lo=null,fr=!1,Rs=null;function yI(e,t){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Do=e,Lo=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Do=e,Lo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lc!==null?{id:Ba,overflow:Oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ss(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Do=e,Lo=null,!0):!1;default:return!1}}function Yx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jx(e){if(fr){var t=Lo;if(t){var n=t;if(!iT(e,t)){if(Yx(e))throw Error(tt(418));t=Il(n.nextSibling);var o=Do;t&&iT(e,t)?yI(o,n):(e.flags=e.flags&-4097|2,fr=!1,Do=e)}}else{if(Yx(e))throw Error(tt(418));e.flags=e.flags&-4097|2,fr=!1,Do=e}}}function oT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Do=e}function ag(e){if(e!==Do)return!1;if(!fr)return oT(e),fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hx(e.type,e.memoizedProps)),t&&(t=Lo)){if(Yx(e))throw vI(),Error(tt(418));for(;t;)yI(e,t),t=Il(t.nextSibling)}if(oT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lo=Il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lo=null}}else Lo=Do?Il(e.stateNode.nextSibling):null;return!0}function vI(){for(var e=Lo;e;)e=Il(e.nextSibling)}function yh(){Lo=Do=null,fr=!1}function Nb(e){Rs===null?Rs=[e]:Rs.push(e)}var _4=Za.ReactCurrentBatchConfig;function Qd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tt(309));var o=n.stateNode}if(!o)throw Error(tt(147,e));var c=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var a=c.refs;p===null?delete a[h]:a[h]=p},t._stringRef=h,t)}if(typeof e!="string")throw Error(tt(284));if(!n._owner)throw Error(tt(290,e))}return e}function lg(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sT(e){var t=e._init;return t(e._payload)}function _I(e){function t(B,V){if(e){var $=B.deletions;$===null?(B.deletions=[V],B.flags|=16):$.push(V)}}function n(B,V){if(!e)return null;for(;V!==null;)t(B,V),V=V.sibling;return null}function o(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function c(B,V){return B=Dl(B,V),B.index=0,B.sibling=null,B}function h(B,V,$){return B.index=$,e?($=B.alternate,$!==null?($=$.index,$<V?(B.flags|=2,V):$):(B.flags|=2,V)):(B.flags|=1048576,V)}function p(B){return e&&B.alternate===null&&(B.flags|=2),B}function a(B,V,$,J){return V===null||V.tag!==6?(V=U_($,B.mode,J),V.return=B,V):(V=c(V,$),V.return=B,V)}function b(B,V,$,J){var ie=$.type;return ie===$u?E(B,V,$.props.children,J,$.key):V!==null&&(V.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===_l&&sT(ie)===V.type)?(J=c(V,$.props),J.ref=Qd(B,V,$),J.return=B,J):(J=$g($.type,$.key,$.props,null,B.mode,J),J.ref=Qd(B,V,$),J.return=B,J)}function w(B,V,$,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=W_($,B.mode,J),V.return=B,V):(V=c(V,$.children||[]),V.return=B,V)}function E(B,V,$,J,ie){return V===null||V.tag!==7?(V=kc($,B.mode,J,ie),V.return=B,V):(V=c(V,$),V.return=B,V)}function A(B,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=U_(""+V,B.mode,$),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ym:return $=$g(V.type,V.key,V.props,null,B.mode,$),$.ref=Qd(B,null,V),$.return=B,$;case Nu:return V=W_(V,B.mode,$),V.return=B,V;case _l:var J=V._init;return A(B,J(V._payload),$)}if(pp(V)||Zd(V))return V=kc(V,B.mode,$,null),V.return=B,V;lg(B,V)}return null}function I(B,V,$,J){var ie=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ie!==null?null:a(B,V,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Ym:return $.key===ie?b(B,V,$,J):null;case Nu:return $.key===ie?w(B,V,$,J):null;case _l:return ie=$._init,I(B,V,ie($._payload),J)}if(pp($)||Zd($))return ie!==null?null:E(B,V,$,J,null);lg(B,$)}return null}function L(B,V,$,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return B=B.get($)||null,a(V,B,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ym:return B=B.get(J.key===null?$:J.key)||null,b(V,B,J,ie);case Nu:return B=B.get(J.key===null?$:J.key)||null,w(V,B,J,ie);case _l:var de=J._init;return L(B,V,$,de(J._payload),ie)}if(pp(J)||Zd(J))return B=B.get($)||null,E(V,B,J,ie,null);lg(V,J)}return null}function F(B,V,$,J){for(var ie=null,de=null,ye=V,me=V=0,ke=null;ye!==null&&me<$.length;me++){ye.index>me?(ke=ye,ye=null):ke=ye.sibling;var G=I(B,ye,$[me],J);if(G===null){ye===null&&(ye=ke);break}e&&ye&&G.alternate===null&&t(B,ye),V=h(G,V,me),de===null?ie=G:de.sibling=G,de=G,ye=ke}if(me===$.length)return n(B,ye),fr&&mc(B,me),ie;if(ye===null){for(;me<$.length;me++)ye=A(B,$[me],J),ye!==null&&(V=h(ye,V,me),de===null?ie=ye:de.sibling=ye,de=ye);return fr&&mc(B,me),ie}for(ye=o(B,ye);me<$.length;me++)ke=L(ye,B,me,$[me],J),ke!==null&&(e&&ke.alternate!==null&&ye.delete(ke.key===null?me:ke.key),V=h(ke,V,me),de===null?ie=ke:de.sibling=ke,de=ke);return e&&ye.forEach(function(Te){return t(B,Te)}),fr&&mc(B,me),ie}function j(B,V,$,J){var ie=Zd($);if(typeof ie!="function")throw Error(tt(150));if($=ie.call($),$==null)throw Error(tt(151));for(var de=ie=null,ye=V,me=V=0,ke=null,G=$.next();ye!==null&&!G.done;me++,G=$.next()){ye.index>me?(ke=ye,ye=null):ke=ye.sibling;var Te=I(B,ye,G.value,J);if(Te===null){ye===null&&(ye=ke);break}e&&ye&&Te.alternate===null&&t(B,ye),V=h(Te,V,me),de===null?ie=Te:de.sibling=Te,de=Te,ye=ke}if(G.done)return n(B,ye),fr&&mc(B,me),ie;if(ye===null){for(;!G.done;me++,G=$.next())G=A(B,G.value,J),G!==null&&(V=h(G,V,me),de===null?ie=G:de.sibling=G,de=G);return fr&&mc(B,me),ie}for(ye=o(B,ye);!G.done;me++,G=$.next())G=L(ye,B,me,G.value,J),G!==null&&(e&&G.alternate!==null&&ye.delete(G.key===null?me:G.key),V=h(G,V,me),de===null?ie=G:de.sibling=G,de=G);return e&&ye.forEach(function(Le){return t(B,Le)}),fr&&mc(B,me),ie}function K(B,V,$,J){if(typeof $=="object"&&$!==null&&$.type===$u&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Ym:e:{for(var ie=$.key,de=V;de!==null;){if(de.key===ie){if(ie=$.type,ie===$u){if(de.tag===7){n(B,de.sibling),V=c(de,$.props.children),V.return=B,B=V;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===_l&&sT(ie)===de.type){n(B,de.sibling),V=c(de,$.props),V.ref=Qd(B,de,$),V.return=B,B=V;break e}n(B,de);break}else t(B,de);de=de.sibling}$.type===$u?(V=kc($.props.children,B.mode,J,$.key),V.return=B,B=V):(J=$g($.type,$.key,$.props,null,B.mode,J),J.ref=Qd(B,V,$),J.return=B,B=J)}return p(B);case Nu:e:{for(de=$.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){n(B,V.sibling),V=c(V,$.children||[]),V.return=B,B=V;break e}else{n(B,V);break}else t(B,V);V=V.sibling}V=W_($,B.mode,J),V.return=B,B=V}return p(B);case _l:return de=$._init,K(B,V,de($._payload),J)}if(pp($))return F(B,V,$,J);if(Zd($))return j(B,V,$,J);lg(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(n(B,V.sibling),V=c(V,$),V.return=B,B=V):(n(B,V),V=U_($,B.mode,J),V.return=B,B=V),p(B)):n(B,V)}return K}var vh=_I(!0),xI=_I(!1),vy=jl(null),_y=null,Zu=null,$b=null;function Vb(){$b=Zu=_y=null}function jb(e){var t=vy.current;cr(vy),e._currentValue=t}function Qx(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function sh(e,t){_y=e,$b=Zu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vo=!0),e.firstContext=null)}function us(e){var t=e._currentValue;if($b!==e)if(e={context:e,memoizedValue:t,next:null},Zu===null){if(_y===null)throw Error(tt(308));Zu=e,_y.dependencies={lanes:0,firstContext:e}}else Zu=Zu.next=e;return t}var wc=null;function Ub(e){wc===null?wc=[e]:wc.push(e)}function bI(e,t,n,o){var c=t.interleaved;return c===null?(n.next=n,Ub(t)):(n.next=c.next,c.next=n),t.interleaved=n,Va(e,o)}function Va(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xl=!1;function Wb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,En&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,Va(e,n)}return c=o.interleaved,c===null?(t.next=t,Ub(o)):(t.next=c.next,c.next=t),o.interleaved=t,Va(e,n)}function Dg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,kb(e,n)}}function aT(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?c=h=p:h=h.next=p,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xy(e,t,n,o){var c=e.updateQueue;xl=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,a=c.shared.pending;if(a!==null){c.shared.pending=null;var b=a,w=b.next;b.next=null,p===null?h=w:p.next=w,p=b;var E=e.alternate;E!==null&&(E=E.updateQueue,a=E.lastBaseUpdate,a!==p&&(a===null?E.firstBaseUpdate=w:a.next=w,E.lastBaseUpdate=b))}if(h!==null){var A=c.baseState;p=0,E=w=b=null,a=h;do{var I=a.lane,L=a.eventTime;if((o&I)===I){E!==null&&(E=E.next={eventTime:L,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var F=e,j=a;switch(I=t,L=n,j.tag){case 1:if(F=j.payload,typeof F=="function"){A=F.call(L,A,I);break e}A=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=j.payload,I=typeof F=="function"?F.call(L,A,I):F,I==null)break e;A=br({},A,I);break e;case 2:xl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,I=c.effects,I===null?c.effects=[a]:I.push(a))}else L={eventTime:L,lane:I,tag:a.tag,payload:a.payload,callback:a.callback,next:null},E===null?(w=E=L,b=A):E=E.next=L,p|=I;if(a=a.next,a===null){if(a=c.shared.pending,a===null)break;I=a,a=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(1);if(E===null&&(b=A),c.baseState=b,c.firstBaseUpdate=w,c.lastBaseUpdate=E,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);zc|=p,e.lanes=p,e.memoizedState=A}}function lT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=n,typeof c!="function")throw Error(tt(191,c));c.call(o)}}}var Tf={},aa=jl(Tf),Kp=jl(Tf),Xp=jl(Tf);function Sc(e){if(e===Tf)throw Error(tt(174));return e}function Gb(e,t){switch(nr(Xp,t),nr(Kp,e),nr(aa,Tf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lx(t,e)}cr(aa),nr(aa,t)}function _h(){cr(aa),cr(Kp),cr(Xp)}function SI(e){Sc(Xp.current);var t=Sc(aa.current),n=Lx(t,e.type);t!==n&&(nr(Kp,e),nr(aa,n))}function qb(e){Kp.current===e&&(cr(aa),cr(Kp))}var vr=jl(0);function by(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O_=[];function Hb(){for(var e=0;e<O_.length;e++)O_[e]._workInProgressVersionPrimary=null;O_.length=0}var zg=Za.ReactCurrentDispatcher,F_=Za.ReactCurrentBatchConfig,Dc=0,xr=null,Jr=null,ai=null,wy=!1,Pp=!1,Yp=0,x4=0;function Di(){throw Error(tt(321))}function Zb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Os(e[n],t[n]))return!1;return!0}function Kb(e,t,n,o,c,h){if(Dc=h,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zg.current=e===null||e.memoizedState===null?C4:T4,e=n(o,c),Pp){h=0;do{if(Pp=!1,Yp=0,25<=h)throw Error(tt(301));h+=1,ai=Jr=null,t.updateQueue=null,zg.current=E4,e=n(o,c)}while(Pp)}if(zg.current=Sy,t=Jr!==null&&Jr.next!==null,Dc=0,ai=Jr=xr=null,wy=!1,t)throw Error(tt(300));return e}function Xb(){var e=Yp!==0;return Yp=0,e}function ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?xr.memoizedState=ai=e:ai=ai.next=e,ai}function hs(){if(Jr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=ai===null?xr.memoizedState:ai.next;if(t!==null)ai=t,Jr=e;else{if(e===null)throw Error(tt(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},ai===null?xr.memoizedState=ai=e:ai=ai.next=e}return ai}function Jp(e,t){return typeof t=="function"?t(e):t}function N_(e){var t=hs(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var o=Jr,c=o.baseQueue,h=n.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}o.baseQueue=c=h,n.pending=null}if(c!==null){h=c.next,o=o.baseState;var a=p=null,b=null,w=h;do{var E=w.lane;if((Dc&E)===E)b!==null&&(b=b.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),o=w.hasEagerState?w.eagerState:e(o,w.action);else{var A={lane:E,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};b===null?(a=b=A,p=o):b=b.next=A,xr.lanes|=E,zc|=E}w=w.next}while(w!==null&&w!==h);b===null?p=o:b.next=a,Os(o,t.memoizedState)||(vo=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=b,n.lastRenderedState=o}if(e=n.interleaved,e!==null){c=e;do h=c.lane,xr.lanes|=h,zc|=h,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $_(e){var t=hs(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var o=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);Os(h,t.memoizedState)||(vo=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,o]}function CI(){}function TI(e,t){var n=xr,o=hs(),c=t(),h=!Os(o.memoizedState,c);if(h&&(o.memoizedState=c,vo=!0),o=o.queue,Yb(AI.bind(null,n,o,e),[e]),o.getSnapshot!==t||h||ai!==null&&ai.memoizedState.tag&1){if(n.flags|=2048,Qp(9,PI.bind(null,n,o,c,t),void 0,null),li===null)throw Error(tt(349));Dc&30||EI(n,t,c)}return c}function EI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PI(e,t,n,o){t.value=n,t.getSnapshot=o,kI(t)&&II(e)}function AI(e,t,n){return n(function(){kI(t)&&II(e)})}function kI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Os(e,n)}catch{return!0}}function II(e){var t=Va(e,1);t!==null&&zs(t,e,1,-1)}function cT(e){var t=ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:e},t.queue=e,e=e.dispatch=S4.bind(null,xr,e),[t.memoizedState,e]}function Qp(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function MI(){return hs().memoizedState}function Bg(e,t,n,o){var c=ea();xr.flags|=e,c.memoizedState=Qp(1|t,n,void 0,o===void 0?null:o)}function i0(e,t,n,o){var c=hs();o=o===void 0?null:o;var h=void 0;if(Jr!==null){var p=Jr.memoizedState;if(h=p.destroy,o!==null&&Zb(o,p.deps)){c.memoizedState=Qp(t,n,h,o);return}}xr.flags|=e,c.memoizedState=Qp(1|t,n,h,o)}function uT(e,t){return Bg(8390656,8,e,t)}function Yb(e,t){return i0(2048,8,e,t)}function RI(e,t){return i0(4,2,e,t)}function LI(e,t){return i0(4,4,e,t)}function DI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zI(e,t,n){return n=n!=null?n.concat([e]):null,i0(4,4,DI.bind(null,t,e),n)}function Jb(){}function BI(e,t){var n=hs();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Zb(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function OI(e,t){var n=hs();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Zb(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function FI(e,t,n){return Dc&21?(Os(n,t)||(n=Uk(),xr.lanes|=n,zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n)}function b4(e,t){var n=Vn;Vn=n!==0&&4>n?n:4,e(!0);var o=F_.transition;F_.transition={};try{e(!1),t()}finally{Vn=n,F_.transition=o}}function NI(){return hs().memoizedState}function w4(e,t,n){var o=Ll(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},$I(e))VI(t,n);else if(n=bI(e,t,n,o),n!==null){var c=no();zs(n,e,o,c),jI(n,t,o)}}function S4(e,t,n){var o=Ll(e),c={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if($I(e))VI(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,a=h(p,n);if(c.hasEagerState=!0,c.eagerState=a,Os(a,p)){var b=t.interleaved;b===null?(c.next=c,Ub(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}n=bI(e,t,c,o),n!==null&&(c=no(),zs(n,e,o,c),jI(n,t,o))}}function $I(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function VI(e,t){Pp=wy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jI(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,kb(e,n)}}var Sy={readContext:us,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},C4={readContext:us,useCallback:function(e,t){return ea().memoizedState=[e,t===void 0?null:t],e},useContext:us,useEffect:uT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bg(4194308,4,DI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bg(4,2,e,t)},useMemo:function(e,t){var n=ea();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ea();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=w4.bind(null,xr,e),[o.memoizedState,e]},useRef:function(e){var t=ea();return e={current:e},t.memoizedState=e},useState:cT,useDebugValue:Jb,useDeferredValue:function(e){return ea().memoizedState=e},useTransition:function(){var e=cT(!1),t=e[0];return e=b4.bind(null,e[1]),ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=xr,c=ea();if(fr){if(n===void 0)throw Error(tt(407));n=n()}else{if(n=t(),li===null)throw Error(tt(349));Dc&30||EI(o,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,uT(AI.bind(null,o,h,e),[e]),o.flags|=2048,Qp(9,PI.bind(null,o,h,n,t),void 0,null),n},useId:function(){var e=ea(),t=li.identifierPrefix;if(fr){var n=Oa,o=Ba;n=(o&~(1<<32-Ds(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=x4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T4={readContext:us,useCallback:BI,useContext:us,useEffect:Yb,useImperativeHandle:zI,useInsertionEffect:RI,useLayoutEffect:LI,useMemo:OI,useReducer:N_,useRef:MI,useState:function(){return N_(Jp)},useDebugValue:Jb,useDeferredValue:function(e){var t=hs();return FI(t,Jr.memoizedState,e)},useTransition:function(){var e=N_(Jp)[0],t=hs().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:TI,useId:NI,unstable_isNewReconciler:!1},E4={readContext:us,useCallback:BI,useContext:us,useEffect:Yb,useImperativeHandle:zI,useInsertionEffect:RI,useLayoutEffect:LI,useMemo:OI,useReducer:$_,useRef:MI,useState:function(){return $_(Jp)},useDebugValue:Jb,useDeferredValue:function(e){var t=hs();return Jr===null?t.memoizedState=e:FI(t,Jr.memoizedState,e)},useTransition:function(){var e=$_(Jp)[0],t=hs().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:TI,useId:NI,unstable_isNewReconciler:!1};function ks(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function e1(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var o0={isMounted:function(e){return(e=e._reactInternals)?$c(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=no(),c=Ll(e),h=Fa(o,c);h.payload=t,n!=null&&(h.callback=n),t=Ml(e,h,c),t!==null&&(zs(t,e,c,o),Dg(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=no(),c=Ll(e),h=Fa(o,c);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=Ml(e,h,c),t!==null&&(zs(t,e,c,o),Dg(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=no(),o=Ll(e),c=Fa(n,o);c.tag=2,t!=null&&(c.callback=t),t=Ml(e,c,o),t!==null&&(zs(t,e,o,n),Dg(t,e,o))}};function hT(e,t,n,o,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,p):t.prototype&&t.prototype.isPureReactComponent?!Gp(n,o)||!Gp(c,h):!0}function UI(e,t,n){var o=!1,c=Ol,h=t.contextType;return typeof h=="object"&&h!==null?h=us(h):(c=xo(t)?Rc:ji.current,o=t.contextTypes,h=(o=o!=null)?gh(e,c):Ol),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o0,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function dT(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&o0.enqueueReplaceState(t,t.state,null)}function t1(e,t,n,o){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs={},Wb(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=us(h):(h=xo(t)?Rc:ji.current,c.context=gh(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(e1(e,t,h,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&o0.enqueueReplaceState(c,c.state,null),xy(e,n,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function xh(e,t){try{var n="",o=t;do n+=eB(o),o=o.return;while(o);var c=n}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function V_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function n1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P4=typeof WeakMap=="function"?WeakMap:Map;function WI(e,t,n){n=Fa(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ty||(Ty=!0,d1=o),n1(e,t)},n}function GI(e,t,n){n=Fa(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;n.payload=function(){return o(c)},n.callback=function(){n1(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){n1(e,t),typeof o!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function pT(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new P4;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(n)||(c.add(n),e=V4.bind(null,e,t,n),t.then(e,e))}function fT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mT(e,t,n,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fa(-1,1),t.tag=2,Ml(n,t,1))),n.lanes|=1),e)}var A4=Za.ReactCurrentOwner,vo=!1;function eo(e,t,n,o){t.child=e===null?xI(t,null,n,o):vh(t,e.child,n,o)}function gT(e,t,n,o,c){n=n.render;var h=t.ref;return sh(t,c),o=Kb(e,t,n,o,h,c),n=Xb(),e!==null&&!vo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ja(e,t,c)):(fr&&n&&Ob(t),t.flags|=1,eo(e,t,o,c),t.child)}function yT(e,t,n,o,c){if(e===null){var h=n.type;return typeof h=="function"&&!sw(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,qI(e,t,h,o,c)):(e=$g(n.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&c)){var p=h.memoizedProps;if(n=n.compare,n=n!==null?n:Gp,n(p,o)&&e.ref===t.ref)return ja(e,t,c)}return t.flags|=1,e=Dl(h,o),e.ref=t.ref,e.return=t,t.child=e}function qI(e,t,n,o,c){if(e!==null){var h=e.memoizedProps;if(Gp(h,o)&&e.ref===t.ref)if(vo=!1,t.pendingProps=o=h,(e.lanes&c)!==0)e.flags&131072&&(vo=!0);else return t.lanes=e.lanes,ja(e,t,c)}return r1(e,t,n,o,c)}function HI(e,t,n){var o=t.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Xu,Mo),Mo|=n;else{if(!(n&1073741824))return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nr(Xu,Mo),Mo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:n,nr(Xu,Mo),Mo|=o}else h!==null?(o=h.baseLanes|n,t.memoizedState=null):o=n,nr(Xu,Mo),Mo|=o;return eo(e,t,c,n),t.child}function ZI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function r1(e,t,n,o,c){var h=xo(n)?Rc:ji.current;return h=gh(t,h),sh(t,c),n=Kb(e,t,n,o,h,c),o=Xb(),e!==null&&!vo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ja(e,t,c)):(fr&&o&&Ob(t),t.flags|=1,eo(e,t,n,c),t.child)}function vT(e,t,n,o,c){if(xo(n)){var h=!0;my(t)}else h=!1;if(sh(t,c),t.stateNode===null)Og(e,t),UI(t,n,o),t1(t,n,o,c),o=!0;else if(e===null){var p=t.stateNode,a=t.memoizedProps;p.props=a;var b=p.context,w=n.contextType;typeof w=="object"&&w!==null?w=us(w):(w=xo(n)?Rc:ji.current,w=gh(t,w));var E=n.getDerivedStateFromProps,A=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==o||b!==w)&&dT(t,p,o,w),xl=!1;var I=t.memoizedState;p.state=I,xy(t,o,p,c),b=t.memoizedState,a!==o||I!==b||_o.current||xl?(typeof E=="function"&&(e1(t,n,E,o),b=t.memoizedState),(a=xl||hT(t,n,a,o,I,b,w))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),p.props=o,p.state=b,p.context=w,o=a):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,wI(e,t),a=t.memoizedProps,w=t.type===t.elementType?a:ks(t.type,a),p.props=w,A=t.pendingProps,I=p.context,b=n.contextType,typeof b=="object"&&b!==null?b=us(b):(b=xo(n)?Rc:ji.current,b=gh(t,b));var L=n.getDerivedStateFromProps;(E=typeof L=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==A||I!==b)&&dT(t,p,o,b),xl=!1,I=t.memoizedState,p.state=I,xy(t,o,p,c);var F=t.memoizedState;a!==A||I!==F||_o.current||xl?(typeof L=="function"&&(e1(t,n,L,o),F=t.memoizedState),(w=xl||hT(t,n,w,o,I,F,b)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,F,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,F,b)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=F),p.props=o,p.state=F,p.context=b,o=w):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),o=!1)}return i1(e,t,n,o,h,c)}function i1(e,t,n,o,c,h){ZI(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return c&&rT(t,n,!1),ja(e,t,h);o=t.stateNode,A4.current=t;var a=p&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=vh(t,e.child,null,h),t.child=vh(t,null,a,h)):eo(e,t,a,h),t.memoizedState=o.state,c&&rT(t,n,!0),t.child}function KI(e){var t=e.stateNode;t.pendingContext?nT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nT(e,t.context,!1),Gb(e,t.containerInfo)}function _T(e,t,n,o,c){return yh(),Nb(c),t.flags|=256,eo(e,t,n,o),t.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function s1(e){return{baseLanes:e,cachePool:null,transitions:null}}function XI(e,t,n){var o=t.pendingProps,c=vr.current,h=!1,p=(t.flags&128)!==0,a;if((a=p)||(a=e!==null&&e.memoizedState===null?!1:(c&2)!==0),a?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),nr(vr,c&1),e===null)return Jx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=o.children,e=o.fallback,h?(o=t.mode,h=t.child,p={mode:"hidden",children:p},!(o&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=l0(p,o,0,null),e=kc(e,o,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=s1(n),t.memoizedState=o1,e):Qb(t,p));if(c=e.memoizedState,c!==null&&(a=c.dehydrated,a!==null))return k4(e,t,p,o,a,c,n);if(h){h=o.fallback,p=t.mode,c=e.child,a=c.sibling;var b={mode:"hidden",children:o.children};return!(p&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=Dl(c,b),o.subtreeFlags=c.subtreeFlags&14680064),a!==null?h=Dl(a,h):(h=kc(h,p,n,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,p=e.child.memoizedState,p=p===null?s1(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~n,t.memoizedState=o1,o}return h=e.child,e=h.sibling,o=Dl(h,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Qb(e,t){return t=l0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cg(e,t,n,o){return o!==null&&Nb(o),vh(t,e.child,null,n),e=Qb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k4(e,t,n,o,c,h,p){if(n)return t.flags&256?(t.flags&=-257,o=V_(Error(tt(422))),cg(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,c=t.mode,o=l0({mode:"visible",children:o.children},c,0,null),h=kc(h,c,p,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,t.mode&1&&vh(t,e.child,null,p),t.child.memoizedState=s1(p),t.memoizedState=o1,h);if(!(t.mode&1))return cg(e,t,p,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var a=o.dgst;return o=a,h=Error(tt(419)),o=V_(h,o,void 0),cg(e,t,p,o)}if(a=(p&e.childLanes)!==0,vo||a){if(o=li,o!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|p)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Va(e,c),zs(o,e,c,-1))}return ow(),o=V_(Error(tt(421))),cg(e,t,p,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=j4.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,Lo=Il(c.nextSibling),Do=t,fr=!0,Rs=null,e!==null&&(ns[rs++]=Ba,ns[rs++]=Oa,ns[rs++]=Lc,Ba=e.id,Oa=e.overflow,Lc=t),t=Qb(t,o.children),t.flags|=4096,t)}function xT(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Qx(e.return,t,n)}function j_(e,t,n,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=n,h.tailMode=c)}function YI(e,t,n){var o=t.pendingProps,c=o.revealOrder,h=o.tail;if(eo(e,t,o.children,n),o=vr.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xT(e,n,t);else if(e.tag===19)xT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(nr(vr,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&by(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),j_(t,!1,c,n,h);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&by(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}j_(t,!0,n,null,h);break;case"together":j_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Og(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ja(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,n=Dl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I4(e,t,n){switch(t.tag){case 3:KI(t),yh();break;case 5:SI(t);break;case 1:xo(t.type)&&my(t);break;case 4:Gb(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;nr(vy,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(nr(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?XI(e,t,n):(nr(vr,vr.current&1),e=ja(e,t,n),e!==null?e.sibling:null);nr(vr,vr.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return YI(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nr(vr,vr.current),o)break;return null;case 22:case 23:return t.lanes=0,HI(e,t,n)}return ja(e,t,n)}var JI,a1,QI,eM;JI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};a1=function(){};QI=function(e,t,n,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,Sc(aa.current);var h=null;switch(n){case"input":c=kx(e,c),o=kx(e,o),h=[];break;case"select":c=br({},c,{value:void 0}),o=br({},o,{value:void 0}),h=[];break;case"textarea":c=Rx(e,c),o=Rx(e,o),h=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=py)}Dx(n,o);var p;n=null;for(w in c)if(!o.hasOwnProperty(w)&&c.hasOwnProperty(w)&&c[w]!=null)if(w==="style"){var a=c[w];for(p in a)a.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Fp.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in o){var b=o[w];if(a=c!=null?c[w]:void 0,o.hasOwnProperty(w)&&b!==a&&(b!=null||a!=null))if(w==="style")if(a){for(p in a)!a.hasOwnProperty(p)||b&&b.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in b)b.hasOwnProperty(p)&&a[p]!==b[p]&&(n||(n={}),n[p]=b[p])}else n||(h||(h=[]),h.push(w,n)),n=b;else w==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,a=a?a.__html:void 0,b!=null&&a!==b&&(h=h||[]).push(w,b)):w==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(w,""+b):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Fp.hasOwnProperty(w)?(b!=null&&w==="onScroll"&&lr("scroll",e),h||a===b||(h=[])):(h=h||[]).push(w,b))}n&&(h=h||[]).push("style",n);var w=h;(t.updateQueue=w)&&(t.flags|=4)}};eM=function(e,t,n,o){n!==o&&(t.flags|=4)};function ep(e,t){if(!fr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function M4(e,t,n){var o=t.pendingProps;switch(Fb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:return xo(t.type)&&fy(),zi(t),null;case 3:return o=t.stateNode,_h(),cr(_o),cr(ji),Hb(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ag(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rs!==null&&(m1(Rs),Rs=null))),a1(e,t),zi(t),null;case 5:qb(t);var c=Sc(Xp.current);if(n=t.type,e!==null&&t.stateNode!=null)QI(e,t,n,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(tt(166));return zi(t),null}if(e=Sc(aa.current),ag(t)){o=t.stateNode,n=t.type;var h=t.memoizedProps;switch(o[ra]=t,o[Zp]=h,e=(t.mode&1)!==0,n){case"dialog":lr("cancel",o),lr("close",o);break;case"iframe":case"object":case"embed":lr("load",o);break;case"video":case"audio":for(c=0;c<mp.length;c++)lr(mp[c],o);break;case"source":lr("error",o);break;case"img":case"image":case"link":lr("error",o),lr("load",o);break;case"details":lr("toggle",o);break;case"input":kC(o,h),lr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},lr("invalid",o);break;case"textarea":MC(o,h),lr("invalid",o)}Dx(n,h),c=null;for(var p in h)if(h.hasOwnProperty(p)){var a=h[p];p==="children"?typeof a=="string"?o.textContent!==a&&(h.suppressHydrationWarning!==!0&&sg(o.textContent,a,e),c=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(h.suppressHydrationWarning!==!0&&sg(o.textContent,a,e),c=["children",""+a]):Fp.hasOwnProperty(p)&&a!=null&&p==="onScroll"&&lr("scroll",o)}switch(n){case"input":Jm(o),IC(o,h,!0);break;case"textarea":Jm(o),RC(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=py)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ak(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(n,{is:o.is}):(e=p.createElement(n),n==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,n),e[ra]=t,e[Zp]=o,JI(e,t,!1,!1),t.stateNode=e;e:{switch(p=zx(n,o),n){case"dialog":lr("cancel",e),lr("close",e),c=o;break;case"iframe":case"object":case"embed":lr("load",e),c=o;break;case"video":case"audio":for(c=0;c<mp.length;c++)lr(mp[c],e);c=o;break;case"source":lr("error",e),c=o;break;case"img":case"image":case"link":lr("error",e),lr("load",e),c=o;break;case"details":lr("toggle",e),c=o;break;case"input":kC(e,o),c=kx(e,o),lr("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=br({},o,{value:void 0}),lr("invalid",e);break;case"textarea":MC(e,o),c=Rx(e,o),lr("invalid",e);break;default:c=o}Dx(n,c),a=c;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];h==="style"?Mk(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&kk(e,b)):h==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&Np(e,b):typeof b=="number"&&Np(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Fp.hasOwnProperty(h)?b!=null&&h==="onScroll"&&lr("scroll",e):b!=null&&Sb(e,h,b,p))}switch(n){case"input":Jm(e),IC(e,o,!1);break;case"textarea":Jm(e),RC(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Bl(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?nh(e,!!o.multiple,h,!1):o.defaultValue!=null&&nh(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=py)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&t.stateNode!=null)eM(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(tt(166));if(n=Sc(Xp.current),Sc(aa.current),ag(t)){if(o=t.stateNode,n=t.memoizedProps,o[ra]=t,(h=o.nodeValue!==n)&&(e=Do,e!==null))switch(e.tag){case 3:sg(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sg(o.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[ra]=t,t.stateNode=o}return zi(t),null;case 13:if(cr(vr),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fr&&Lo!==null&&t.mode&1&&!(t.flags&128))vI(),yh(),t.flags|=98560,h=!1;else if(h=ag(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(tt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(tt(317));h[ra]=t}else yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zi(t),h=!1}else Rs!==null&&(m1(Rs),Rs=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Qr===0&&(Qr=3):ow())),t.updateQueue!==null&&(t.flags|=4),zi(t),null);case 4:return _h(),a1(e,t),e===null&&qp(t.stateNode.containerInfo),zi(t),null;case 10:return jb(t.type._context),zi(t),null;case 17:return xo(t.type)&&fy(),zi(t),null;case 19:if(cr(vr),h=t.memoizedState,h===null)return zi(t),null;if(o=(t.flags&128)!==0,p=h.rendering,p===null)if(o)ep(h,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=by(e),p!==null){for(t.flags|=128,ep(h,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)h=n,e=o,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nr(vr,vr.current&1|2),t.child}e=e.sibling}h.tail!==null&&Nr()>bh&&(t.flags|=128,o=!0,ep(h,!1),t.lanes=4194304)}else{if(!o)if(e=by(p),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ep(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!fr)return zi(t),null}else 2*Nr()-h.renderingStartTime>bh&&n!==1073741824&&(t.flags|=128,o=!0,ep(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(n=h.last,n!==null?n.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Nr(),t.sibling=null,n=vr.current,nr(vr,o?n&1|2:n&1),t):(zi(t),null);case 22:case 23:return iw(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Mo&1073741824&&(zi(t),t.subtreeFlags&6&&(t.flags|=8192)):zi(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function R4(e,t){switch(Fb(t),t.tag){case 1:return xo(t.type)&&fy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _h(),cr(_o),cr(ji),Hb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qb(t),null;case 13:if(cr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cr(vr),null;case 4:return _h(),null;case 10:return jb(t.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var ug=!1,Fi=!1,L4=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Ku(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){kr(e,t,o)}else n.current=null}function l1(e,t,n){try{n()}catch(o){kr(e,t,o)}}var bT=!1;function D4(e,t){if(Gx=uy,e=oI(),Bb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var p=0,a=-1,b=-1,w=0,E=0,A=e,I=null;t:for(;;){for(var L;A!==n||c!==0&&A.nodeType!==3||(a=p+c),A!==h||o!==0&&A.nodeType!==3||(b=p+o),A.nodeType===3&&(p+=A.nodeValue.length),(L=A.firstChild)!==null;)I=A,A=L;for(;;){if(A===e)break t;if(I===n&&++w===c&&(a=p),I===h&&++E===o&&(b=p),(L=A.nextSibling)!==null)break;A=I,I=A.parentNode}A=L}n=a===-1||b===-1?null:{start:a,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(qx={focusedElem:e,selectionRange:n},uy=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){t=wt;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var j=F.memoizedProps,K=F.memoizedState,B=t.stateNode,V=B.getSnapshotBeforeUpdate(t.elementType===t.type?j:ks(t.type,j),K);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=t.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(J){kr(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}return F=bT,bT=!1,F}function Ap(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&l1(t,n,h)}c=c.next}while(c!==o)}}function s0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function c1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tM(e){var t=e.alternate;t!==null&&(e.alternate=null,tM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ra],delete t[Zp],delete t[Kx],delete t[g4],delete t[y4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nM(e){return e.tag===5||e.tag===3||e.tag===4}function wT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function u1(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=py));else if(o!==4&&(e=e.child,e!==null))for(u1(e,t,n),e=e.sibling;e!==null;)u1(e,t,n),e=e.sibling}function h1(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(h1(e,t,n),e=e.sibling;e!==null;)h1(e,t,n),e=e.sibling}var _i=null,Is=!1;function gl(e,t,n){for(n=n.child;n!==null;)rM(e,t,n),n=n.sibling}function rM(e,t,n){if(sa&&typeof sa.onCommitFiberUnmount=="function")try{sa.onCommitFiberUnmount(Jy,n)}catch{}switch(n.tag){case 5:Fi||Ku(n,t);case 6:var o=_i,c=Is;_i=null,gl(e,t,n),_i=o,Is=c,_i!==null&&(Is?(e=_i,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_i.removeChild(n.stateNode));break;case 18:_i!==null&&(Is?(e=_i,n=n.stateNode,e.nodeType===8?z_(e.parentNode,n):e.nodeType===1&&z_(e,n),Up(e)):z_(_i,n.stateNode));break;case 4:o=_i,c=Is,_i=n.stateNode.containerInfo,Is=!0,gl(e,t,n),_i=o,Is=c;break;case 0:case 11:case 14:case 15:if(!Fi&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var h=c,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&l1(n,t,p),c=c.next}while(c!==o)}gl(e,t,n);break;case 1:if(!Fi&&(Ku(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){kr(n,t,a)}gl(e,t,n);break;case 21:gl(e,t,n);break;case 22:n.mode&1?(Fi=(o=Fi)||n.memoizedState!==null,gl(e,t,n),Fi=o):gl(e,t,n);break;default:gl(e,t,n)}}function ST(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new L4),t.forEach(function(o){var c=U4.bind(null,e,o);n.has(o)||(n.add(o),o.then(c,c))})}}function Ps(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var c=n[o];try{var h=e,p=t,a=p;e:for(;a!==null;){switch(a.tag){case 5:_i=a.stateNode,Is=!1;break e;case 3:_i=a.stateNode.containerInfo,Is=!0;break e;case 4:_i=a.stateNode.containerInfo,Is=!0;break e}a=a.return}if(_i===null)throw Error(tt(160));rM(h,p,c),_i=null,Is=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(w){kr(c,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iM(t,e),t=t.sibling}function iM(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ps(t,e),Zs(e),o&4){try{Ap(3,e,e.return),s0(3,e)}catch(j){kr(e,e.return,j)}try{Ap(5,e,e.return)}catch(j){kr(e,e.return,j)}}break;case 1:Ps(t,e),Zs(e),o&512&&n!==null&&Ku(n,n.return);break;case 5:if(Ps(t,e),Zs(e),o&512&&n!==null&&Ku(n,n.return),e.flags&32){var c=e.stateNode;try{Np(c,"")}catch(j){kr(e,e.return,j)}}if(o&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,p=n!==null?n.memoizedProps:h,a=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{a==="input"&&h.type==="radio"&&h.name!=null&&Ek(c,h),zx(a,p);var w=zx(a,h);for(p=0;p<b.length;p+=2){var E=b[p],A=b[p+1];E==="style"?Mk(c,A):E==="dangerouslySetInnerHTML"?kk(c,A):E==="children"?Np(c,A):Sb(c,E,A,w)}switch(a){case"input":Ix(c,h);break;case"textarea":Pk(c,h);break;case"select":var I=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var L=h.value;L!=null?nh(c,!!h.multiple,L,!1):I!==!!h.multiple&&(h.defaultValue!=null?nh(c,!!h.multiple,h.defaultValue,!0):nh(c,!!h.multiple,h.multiple?[]:"",!1))}c[Zp]=h}catch(j){kr(e,e.return,j)}}break;case 6:if(Ps(t,e),Zs(e),o&4){if(e.stateNode===null)throw Error(tt(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(j){kr(e,e.return,j)}}break;case 3:if(Ps(t,e),Zs(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(j){kr(e,e.return,j)}break;case 4:Ps(t,e),Zs(e);break;case 13:Ps(t,e),Zs(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(nw=Nr())),o&4&&ST(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(Fi=(w=Fi)||E,Ps(t,e),Fi=w):Ps(t,e),Zs(e),o&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!E&&e.mode&1)for(wt=e,E=e.child;E!==null;){for(A=wt=E;wt!==null;){switch(I=wt,L=I.child,I.tag){case 0:case 11:case 14:case 15:Ap(4,I,I.return);break;case 1:Ku(I,I.return);var F=I.stateNode;if(typeof F.componentWillUnmount=="function"){o=I,n=I.return;try{t=o,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(j){kr(o,n,j)}}break;case 5:Ku(I,I.return);break;case 22:if(I.memoizedState!==null){TT(A);continue}}L!==null?(L.return=I,wt=L):TT(A)}E=E.sibling}e:for(E=null,A=e;;){if(A.tag===5){if(E===null){E=A;try{c=A.stateNode,w?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(a=A.stateNode,b=A.memoizedProps.style,p=b!=null&&b.hasOwnProperty("display")?b.display:null,a.style.display=Ik("display",p))}catch(j){kr(e,e.return,j)}}}else if(A.tag===6){if(E===null)try{A.stateNode.nodeValue=w?"":A.memoizedProps}catch(j){kr(e,e.return,j)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;E===A&&(E=null),A=A.return}E===A&&(E=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Ps(t,e),Zs(e),o&4&&ST(e);break;case 21:break;default:Ps(t,e),Zs(e)}}function Zs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nM(n)){var o=n;break e}n=n.return}throw Error(tt(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Np(c,""),o.flags&=-33);var h=wT(e);h1(e,h,c);break;case 3:case 4:var p=o.stateNode.containerInfo,a=wT(e);u1(e,a,p);break;default:throw Error(tt(161))}}catch(b){kr(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z4(e,t,n){wt=e,oM(e)}function oM(e,t,n){for(var o=(e.mode&1)!==0;wt!==null;){var c=wt,h=c.child;if(c.tag===22&&o){var p=c.memoizedState!==null||ug;if(!p){var a=c.alternate,b=a!==null&&a.memoizedState!==null||Fi;a=ug;var w=Fi;if(ug=p,(Fi=b)&&!w)for(wt=c;wt!==null;)p=wt,b=p.child,p.tag===22&&p.memoizedState!==null?ET(c):b!==null?(b.return=p,wt=b):ET(c);for(;h!==null;)wt=h,oM(h),h=h.sibling;wt=c,ug=a,Fi=w}CT(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,wt=h):CT(e)}}function CT(e){for(;wt!==null;){var t=wt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fi||s0(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Fi)if(n===null)o.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:ks(t.type,n.memoizedProps);o.componentDidUpdate(c,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&lT(t,h,o);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lT(t,p,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var E=w.memoizedState;if(E!==null){var A=E.dehydrated;A!==null&&Up(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Fi||t.flags&512&&c1(t)}catch(I){kr(t,t.return,I)}}if(t===e){wt=null;break}if(n=t.sibling,n!==null){n.return=t.return,wt=n;break}wt=t.return}}function TT(e){for(;wt!==null;){var t=wt;if(t===e){wt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,wt=n;break}wt=t.return}}function ET(e){for(;wt!==null;){var t=wt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{s0(4,t)}catch(b){kr(t,n,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(b){kr(t,c,b)}}var h=t.return;try{c1(t)}catch(b){kr(t,h,b)}break;case 5:var p=t.return;try{c1(t)}catch(b){kr(t,p,b)}}}catch(b){kr(t,t.return,b)}if(t===e){wt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,wt=a;break}wt=t.return}}var B4=Math.ceil,Cy=Za.ReactCurrentDispatcher,ew=Za.ReactCurrentOwner,ls=Za.ReactCurrentBatchConfig,En=0,li=null,Ur=null,Si=0,Mo=0,Xu=jl(0),Qr=0,ef=null,zc=0,a0=0,tw=0,kp=null,go=null,nw=0,bh=1/0,Da=null,Ty=!1,d1=null,Rl=null,hg=!1,Cl=null,Ey=0,Ip=0,p1=null,Fg=-1,Ng=0;function no(){return En&6?Nr():Fg!==-1?Fg:Fg=Nr()}function Ll(e){return e.mode&1?En&2&&Si!==0?Si&-Si:_4.transition!==null?(Ng===0&&(Ng=Uk()),Ng):(e=Vn,e!==0||(e=window.event,e=e===void 0?16:Xk(e.type)),e):1}function zs(e,t,n,o){if(50<Ip)throw Ip=0,p1=null,Error(tt(185));wf(e,n,o),(!(En&2)||e!==li)&&(e===li&&(!(En&2)&&(a0|=n),Qr===4&&wl(e,Si)),bo(e,o),n===1&&En===0&&!(t.mode&1)&&(bh=Nr()+500,r0&&Ul()))}function bo(e,t){var n=e.callbackNode;_B(e,t);var o=cy(e,e===li?Si:0);if(o===0)n!==null&&zC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&zC(n),t===1)e.tag===0?v4(PT.bind(null,e)):mI(PT.bind(null,e)),f4(function(){!(En&6)&&Ul()}),n=null;else{switch(Wk(o)){case 1:n=Ab;break;case 4:n=Vk;break;case 16:n=ly;break;case 536870912:n=jk;break;default:n=ly}n=pM(n,sM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sM(e,t){if(Fg=-1,Ng=0,En&6)throw Error(tt(327));var n=e.callbackNode;if(ah()&&e.callbackNode!==n)return null;var o=cy(e,e===li?Si:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Py(e,o);else{t=o;var c=En;En|=2;var h=lM();(li!==e||Si!==t)&&(Da=null,bh=Nr()+500,Ac(e,t));do try{N4();break}catch(a){aM(e,a)}while(1);Vb(),Cy.current=h,En=c,Ur!==null?t=0:(li=null,Si=0,t=Qr)}if(t!==0){if(t===2&&(c=$x(e),c!==0&&(o=c,t=f1(e,c))),t===1)throw n=ef,Ac(e,0),wl(e,o),bo(e,Nr()),n;if(t===6)wl(e,o);else{if(c=e.current.alternate,!(o&30)&&!O4(c)&&(t=Py(e,o),t===2&&(h=$x(e),h!==0&&(o=h,t=f1(e,h))),t===1))throw n=ef,Ac(e,0),wl(e,o),bo(e,Nr()),n;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(tt(345));case 2:gc(e,go,Da);break;case 3:if(wl(e,o),(o&130023424)===o&&(t=nw+500-Nr(),10<t)){if(cy(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){no(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Zx(gc.bind(null,e,go,Da),t);break}gc(e,go,Da);break;case 4:if(wl(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var p=31-Ds(o);h=1<<p,p=t[p],p>c&&(c=p),o&=~h}if(o=c,o=Nr()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*B4(o/1960))-o,10<o){e.timeoutHandle=Zx(gc.bind(null,e,go,Da),o);break}gc(e,go,Da);break;case 5:gc(e,go,Da);break;default:throw Error(tt(329))}}}return bo(e,Nr()),e.callbackNode===n?sM.bind(null,e):null}function f1(e,t){var n=kp;return e.current.memoizedState.isDehydrated&&(Ac(e,t).flags|=256),e=Py(e,t),e!==2&&(t=go,go=n,t!==null&&m1(t)),e}function m1(e){go===null?go=e:go.push.apply(go,e)}function O4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var c=n[o],h=c.getSnapshot;c=c.value;try{if(!Os(h(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t){for(t&=~tw,t&=~a0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ds(t),o=1<<n;e[n]=-1,t&=~o}}function PT(e){if(En&6)throw Error(tt(327));ah();var t=cy(e,0);if(!(t&1))return bo(e,Nr()),null;var n=Py(e,t);if(e.tag!==0&&n===2){var o=$x(e);o!==0&&(t=o,n=f1(e,o))}if(n===1)throw n=ef,Ac(e,0),wl(e,t),bo(e,Nr()),n;if(n===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gc(e,go,Da),bo(e,Nr()),null}function rw(e,t){var n=En;En|=1;try{return e(t)}finally{En=n,En===0&&(bh=Nr()+500,r0&&Ul())}}function Bc(e){Cl!==null&&Cl.tag===0&&!(En&6)&&ah();var t=En;En|=1;var n=ls.transition,o=Vn;try{if(ls.transition=null,Vn=1,e)return e()}finally{Vn=o,ls.transition=n,En=t,!(En&6)&&Ul()}}function iw(){Mo=Xu.current,cr(Xu)}function Ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p4(n)),Ur!==null)for(n=Ur.return;n!==null;){var o=n;switch(Fb(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&fy();break;case 3:_h(),cr(_o),cr(ji),Hb();break;case 5:qb(o);break;case 4:_h();break;case 13:cr(vr);break;case 19:cr(vr);break;case 10:jb(o.type._context);break;case 22:case 23:iw()}n=n.return}if(li=e,Ur=e=Dl(e.current,null),Si=Mo=t,Qr=0,ef=null,tw=a0=zc=0,go=kp=null,wc!==null){for(t=0;t<wc.length;t++)if(n=wc[t],o=n.interleaved,o!==null){n.interleaved=null;var c=o.next,h=n.pending;if(h!==null){var p=h.next;h.next=c,o.next=p}n.pending=o}wc=null}return e}function aM(e,t){do{var n=Ur;try{if(Vb(),zg.current=Sy,wy){for(var o=xr.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}wy=!1}if(Dc=0,ai=Jr=xr=null,Pp=!1,Yp=0,ew.current=null,n===null||n.return===null){Qr=1,ef=t,Ur=null;break}e:{var h=e,p=n.return,a=n,b=t;if(t=Si,a.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var w=b,E=a,A=E.tag;if(!(E.mode&1)&&(A===0||A===11||A===15)){var I=E.alternate;I?(E.updateQueue=I.updateQueue,E.memoizedState=I.memoizedState,E.lanes=I.lanes):(E.updateQueue=null,E.memoizedState=null)}var L=fT(p);if(L!==null){L.flags&=-257,mT(L,p,a,h,t),L.mode&1&&pT(h,w,t),t=L,b=w;var F=t.updateQueue;if(F===null){var j=new Set;j.add(b),t.updateQueue=j}else F.add(b);break e}else{if(!(t&1)){pT(h,w,t),ow();break e}b=Error(tt(426))}}else if(fr&&a.mode&1){var K=fT(p);if(K!==null){!(K.flags&65536)&&(K.flags|=256),mT(K,p,a,h,t),Nb(xh(b,a));break e}}h=b=xh(b,a),Qr!==4&&(Qr=2),kp===null?kp=[h]:kp.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var B=WI(h,b,t);aT(h,B);break e;case 1:a=b;var V=h.type,$=h.stateNode;if(!(h.flags&128)&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Rl===null||!Rl.has($)))){h.flags|=65536,t&=-t,h.lanes|=t;var J=GI(h,a,t);aT(h,J);break e}}h=h.return}while(h!==null)}uM(n)}catch(ie){t=ie,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(1)}function lM(){var e=Cy.current;return Cy.current=Sy,e===null?Sy:e}function ow(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),li===null||!(zc&268435455)&&!(a0&268435455)||wl(li,Si)}function Py(e,t){var n=En;En|=2;var o=lM();(li!==e||Si!==t)&&(Da=null,Ac(e,t));do try{F4();break}catch(c){aM(e,c)}while(1);if(Vb(),En=n,Cy.current=o,Ur!==null)throw Error(tt(261));return li=null,Si=0,Qr}function F4(){for(;Ur!==null;)cM(Ur)}function N4(){for(;Ur!==null&&!uB();)cM(Ur)}function cM(e){var t=dM(e.alternate,e,Mo);e.memoizedProps=e.pendingProps,t===null?uM(e):Ur=t,ew.current=null}function uM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=R4(n,t),n!==null){n.flags&=32767,Ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,Ur=null;return}}else if(n=M4(n,t,Mo),n!==null){Ur=n;return}if(t=t.sibling,t!==null){Ur=t;return}Ur=t=e}while(t!==null);Qr===0&&(Qr=5)}function gc(e,t,n){var o=Vn,c=ls.transition;try{ls.transition=null,Vn=1,$4(e,t,n,o)}finally{ls.transition=c,Vn=o}return null}function $4(e,t,n,o){do ah();while(Cl!==null);if(En&6)throw Error(tt(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(xB(e,h),e===li&&(Ur=li=null,Si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hg||(hg=!0,pM(ly,function(){return ah(),null})),h=(n.flags&15990)!==0,n.subtreeFlags&15990||h){h=ls.transition,ls.transition=null;var p=Vn;Vn=1;var a=En;En|=4,ew.current=null,D4(e,n),iM(n,e),s4(qx),uy=!!Gx,qx=Gx=null,e.current=n,z4(n),hB(),En=a,Vn=p,ls.transition=h}else e.current=n;if(hg&&(hg=!1,Cl=e,Ey=c),h=e.pendingLanes,h===0&&(Rl=null),fB(n.stateNode),bo(e,Nr()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],o(c.value,{componentStack:c.stack,digest:c.digest});if(Ty)throw Ty=!1,e=d1,d1=null,e;return Ey&1&&e.tag!==0&&ah(),h=e.pendingLanes,h&1?e===p1?Ip++:(Ip=0,p1=e):Ip=0,Ul(),null}function ah(){if(Cl!==null){var e=Wk(Ey),t=ls.transition,n=Vn;try{if(ls.transition=null,Vn=16>e?16:e,Cl===null)var o=!1;else{if(e=Cl,Cl=null,Ey=0,En&6)throw Error(tt(331));var c=En;for(En|=4,wt=e.current;wt!==null;){var h=wt,p=h.child;if(wt.flags&16){var a=h.deletions;if(a!==null){for(var b=0;b<a.length;b++){var w=a[b];for(wt=w;wt!==null;){var E=wt;switch(E.tag){case 0:case 11:case 15:Ap(8,E,h)}var A=E.child;if(A!==null)A.return=E,wt=A;else for(;wt!==null;){E=wt;var I=E.sibling,L=E.return;if(tM(E),E===w){wt=null;break}if(I!==null){I.return=L,wt=I;break}wt=L}}}var F=h.alternate;if(F!==null){var j=F.child;if(j!==null){F.child=null;do{var K=j.sibling;j.sibling=null,j=K}while(j!==null)}}wt=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,wt=p;else e:for(;wt!==null;){if(h=wt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Ap(9,h,h.return)}var B=h.sibling;if(B!==null){B.return=h.return,wt=B;break e}wt=h.return}}var V=e.current;for(wt=V;wt!==null;){p=wt;var $=p.child;if(p.subtreeFlags&2064&&$!==null)$.return=p,wt=$;else e:for(p=V;wt!==null;){if(a=wt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:s0(9,a)}}catch(ie){kr(a,a.return,ie)}if(a===p){wt=null;break e}var J=a.sibling;if(J!==null){J.return=a.return,wt=J;break e}wt=a.return}}if(En=c,Ul(),sa&&typeof sa.onPostCommitFiberRoot=="function")try{sa.onPostCommitFiberRoot(Jy,e)}catch{}o=!0}return o}finally{Vn=n,ls.transition=t}}return!1}function AT(e,t,n){t=xh(n,t),t=WI(e,t,1),e=Ml(e,t,1),t=no(),e!==null&&(wf(e,1,t),bo(e,t))}function kr(e,t,n){if(e.tag===3)AT(e,e,n);else for(;t!==null;){if(t.tag===3){AT(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rl===null||!Rl.has(o))){e=xh(n,e),e=GI(t,e,1),t=Ml(t,e,1),e=no(),t!==null&&(wf(t,1,e),bo(t,e));break}}t=t.return}}function V4(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=no(),e.pingedLanes|=e.suspendedLanes&n,li===e&&(Si&n)===n&&(Qr===4||Qr===3&&(Si&130023424)===Si&&500>Nr()-nw?Ac(e,0):tw|=n),bo(e,t)}function hM(e,t){t===0&&(e.mode&1?(t=tg,tg<<=1,!(tg&130023424)&&(tg=4194304)):t=1);var n=no();e=Va(e,t),e!==null&&(wf(e,t,n),bo(e,n))}function j4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hM(e,n)}function U4(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(tt(314))}o!==null&&o.delete(t),hM(e,n)}var dM;dM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_o.current)vo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vo=!1,I4(e,t,n);vo=!!(e.flags&131072)}else vo=!1,fr&&t.flags&1048576&&gI(t,yy,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Og(e,t),e=t.pendingProps;var c=gh(t,ji.current);sh(t,n),c=Kb(null,t,o,e,c,n);var h=Xb();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xo(o)?(h=!0,my(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Wb(t),c.updater=o0,t.stateNode=c,c._reactInternals=t,t1(t,o,e,n),t=i1(null,t,o,!0,h,n)):(t.tag=0,fr&&h&&Ob(t),eo(null,t,c,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Og(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=G4(o),e=ks(o,e),c){case 0:t=r1(null,t,o,e,n);break e;case 1:t=vT(null,t,o,e,n);break e;case 11:t=gT(null,t,o,e,n);break e;case 14:t=yT(null,t,o,ks(o.type,e),n);break e}throw Error(tt(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:ks(o,c),r1(e,t,o,c,n);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:ks(o,c),vT(e,t,o,c,n);case 3:e:{if(KI(t),e===null)throw Error(tt(387));o=t.pendingProps,h=t.memoizedState,c=h.element,wI(e,t),xy(t,o,null,n);var p=t.memoizedState;if(o=p.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=xh(Error(tt(423)),t),t=_T(e,t,o,n,c);break e}else if(o!==c){c=xh(Error(tt(424)),t),t=_T(e,t,o,n,c);break e}else for(Lo=Il(t.stateNode.containerInfo.firstChild),Do=t,fr=!0,Rs=null,n=xI(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yh(),o===c){t=ja(e,t,n);break e}eo(e,t,o,n)}t=t.child}return t;case 5:return SI(t),e===null&&Jx(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,p=c.children,Hx(o,c)?p=null:h!==null&&Hx(o,h)&&(t.flags|=32),ZI(e,t),eo(e,t,p,n),t.child;case 6:return e===null&&Jx(t),null;case 13:return XI(e,t,n);case 4:return Gb(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=vh(t,null,o,n):eo(e,t,o,n),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:ks(o,c),gT(e,t,o,c,n);case 7:return eo(e,t,t.pendingProps,n),t.child;case 8:return eo(e,t,t.pendingProps.children,n),t.child;case 12:return eo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,h=t.memoizedProps,p=c.value,nr(vy,o._currentValue),o._currentValue=p,h!==null)if(Os(h.value,p)){if(h.children===c.children&&!_o.current){t=ja(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var a=h.dependencies;if(a!==null){p=h.child;for(var b=a.firstContext;b!==null;){if(b.context===o){if(h.tag===1){b=Fa(-1,n&-n),b.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var E=w.pending;E===null?b.next=b:(b.next=E.next,E.next=b),w.pending=b}}h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),Qx(h.return,n,t),a.lanes|=n;break}b=b.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(tt(341));p.lanes|=n,a=p.alternate,a!==null&&(a.lanes|=n),Qx(p,n,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}eo(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,sh(t,n),c=us(c),o=o(c),t.flags|=1,eo(e,t,o,n),t.child;case 14:return o=t.type,c=ks(o,t.pendingProps),c=ks(o.type,c),yT(e,t,o,c,n);case 15:return qI(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:ks(o,c),Og(e,t),t.tag=1,xo(o)?(e=!0,my(t)):e=!1,sh(t,n),UI(t,o,c),t1(t,o,c,n),i1(null,t,o,!0,e,n);case 19:return YI(e,t,n);case 22:return HI(e,t,n)}throw Error(tt(156,t.tag))};function pM(e,t){return $k(e,t)}function W4(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,n,o){return new W4(e,t,n,o)}function sw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G4(e){if(typeof e=="function")return sw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tb)return 11;if(e===Eb)return 14}return 2}function Dl(e,t){var n=e.alternate;return n===null?(n=ss(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $g(e,t,n,o,c,h){var p=2;if(o=e,typeof e=="function")sw(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case $u:return kc(n.children,c,h,t);case Cb:p=8,c|=8;break;case Tx:return e=ss(12,n,t,c|2),e.elementType=Tx,e.lanes=h,e;case Ex:return e=ss(13,n,t,c),e.elementType=Ex,e.lanes=h,e;case Px:return e=ss(19,n,t,c),e.elementType=Px,e.lanes=h,e;case Sk:return l0(n,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bk:p=10;break e;case wk:p=9;break e;case Tb:p=11;break e;case Eb:p=14;break e;case _l:p=16,o=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=ss(p,n,t,c),t.elementType=e,t.type=o,t.lanes=h,t}function kc(e,t,n,o){return e=ss(7,e,o,t),e.lanes=n,e}function l0(e,t,n,o){return e=ss(22,e,o,t),e.elementType=Sk,e.lanes=n,e.stateNode={isHidden:!1},e}function U_(e,t,n){return e=ss(6,e,null,t),e.lanes=n,e}function W_(e,t,n){return t=ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function q4(e,t,n,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C_(0),this.expirationTimes=C_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C_(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function aw(e,t,n,o,c,h,p,a,b){return e=new q4(e,t,n,a,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=ss(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wb(h),e}function H4(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function fM(e){if(!e)return Ol;e=e._reactInternals;e:{if($c(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var n=e.type;if(xo(n))return fI(e,n,t)}return t}function mM(e,t,n,o,c,h,p,a,b){return e=aw(n,o,!0,e,c,h,p,a,b),e.context=fM(null),n=e.current,o=no(),c=Ll(n),h=Fa(o,c),h.callback=t??null,Ml(n,h,c),e.current.lanes=c,wf(e,c,o),bo(e,o),e}function c0(e,t,n,o){var c=t.current,h=no(),p=Ll(c);return n=fM(n),t.context===null?t.context=n:t.pendingContext=n,t=Fa(h,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Ml(c,t,p),e!==null&&(zs(e,c,p,h),Dg(e,c,p)),p}function Ay(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lw(e,t){kT(e,t),(e=e.alternate)&&kT(e,t)}function Z4(){return null}var gM=typeof reportError=="function"?reportError:function(e){console.error(e)};function cw(e){this._internalRoot=e}u0.prototype.render=cw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));c0(e,t,null,null)};u0.prototype.unmount=cw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bc(function(){c0(null,e,null,null)}),t[$a]=null}};function u0(e){this._internalRoot=e}u0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bl.length&&t!==0&&t<bl[n].priority;n++);bl.splice(n,0,e),n===0&&Kk(e)}};function uw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IT(){}function K4(e,t,n,o,c){if(c){if(typeof o=="function"){var h=o;o=function(){var w=Ay(p);h.call(w)}}var p=mM(t,o,e,0,null,!1,!1,"",IT);return e._reactRootContainer=p,e[$a]=p.current,qp(e.nodeType===8?e.parentNode:e),Bc(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var a=o;o=function(){var w=Ay(b);a.call(w)}}var b=aw(e,0,!1,null,null,!1,!1,"",IT);return e._reactRootContainer=b,e[$a]=b.current,qp(e.nodeType===8?e.parentNode:e),Bc(function(){c0(t,b,n,o)}),b}function d0(e,t,n,o,c){var h=n._reactRootContainer;if(h){var p=h;if(typeof c=="function"){var a=c;c=function(){var b=Ay(p);a.call(b)}}c0(t,p,e,c)}else p=K4(n,t,e,c,o);return Ay(p)}Gk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fp(t.pendingLanes);n!==0&&(kb(t,n|1),bo(t,Nr()),!(En&6)&&(bh=Nr()+500,Ul()))}break;case 13:Bc(function(){var o=Va(e,1);if(o!==null){var c=no();zs(o,e,1,c)}}),lw(e,1)}};Ib=function(e){if(e.tag===13){var t=Va(e,134217728);if(t!==null){var n=no();zs(t,e,134217728,n)}lw(e,134217728)}};qk=function(e){if(e.tag===13){var t=Ll(e),n=Va(e,t);if(n!==null){var o=no();zs(n,e,t,o)}lw(e,t)}};Hk=function(){return Vn};Zk=function(e,t){var n=Vn;try{return Vn=e,t()}finally{Vn=n}};Ox=function(e,t,n){switch(t){case"input":if(Ix(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var c=n0(o);if(!c)throw Error(tt(90));Tk(o),Ix(o,c)}}}break;case"textarea":Pk(e,n);break;case"select":t=n.value,t!=null&&nh(e,!!n.multiple,t,!1)}};Dk=rw;zk=Bc;var X4={usingClientEntryPoint:!1,Events:[Cf,Wu,n0,Rk,Lk,rw]},tp={findFiberByHostInstance:bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:tp.bundleType,version:tp.version,rendererPackageName:tp.rendererPackageName,rendererConfig:tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Za.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fk(e),e===null?null:e.stateNode},findFiberByHostInstance:tp.findFiberByHostInstance||Z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dg.isDisabled&&dg.supportsFiber)try{Jy=dg.inject(Y4),sa=dg}catch{}}No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X4;No.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uw(t))throw Error(tt(200));return H4(e,t,null,n)};No.createRoot=function(e,t){if(!uw(e))throw Error(tt(299));var n=!1,o="",c=gM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=aw(e,1,!1,null,null,n,!1,o,c),e[$a]=t.current,qp(e.nodeType===8?e.parentNode:e),new cw(t)};No.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=Fk(t),e=e===null?null:e.stateNode,e};No.flushSync=function(e){return Bc(e)};No.hydrate=function(e,t,n){if(!h0(t))throw Error(tt(200));return d0(null,e,t,!0,n)};No.hydrateRoot=function(e,t,n){if(!uw(e))throw Error(tt(405));var o=n!=null&&n.hydratedSources||null,c=!1,h="",p=gM;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=mM(t,null,e,1,n??null,c,!1,h,p),e[$a]=t.current,qp(e),o)for(e=0;e<o.length;e++)n=o[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new u0(t)};No.render=function(e,t,n){if(!h0(t))throw Error(tt(200));return d0(null,e,t,!1,n)};No.unmountComponentAtNode=function(e){if(!h0(e))throw Error(tt(40));return e._reactRootContainer?(Bc(function(){d0(null,null,e,!1,function(){e._reactRootContainer=null,e[$a]=null})}),!0):!1};No.unstable_batchedUpdates=rw;No.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!h0(n))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return d0(e,t,n,!1,o)};No.version="18.3.1-next-f1338f8080-20240426";function yM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yM)}catch(e){console.error(e)}}yM(),yk.exports=No;var hw=yk.exports;const pg=Xy(hw);var MT=hw;Sx.createRoot=MT.createRoot,Sx.hydrateRoot=MT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},tf.apply(this,arguments)}var Tl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tl||(Tl={}));const RT="popstate";function J4(e){e===void 0&&(e={});function t(o,c){let{pathname:h,search:p,hash:a}=o.location;return g1("",{pathname:h,search:p,hash:a},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){return typeof c=="string"?c:ky(c)}return eO(t,n,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vM(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q4(){return Math.random().toString(36).substr(2,8)}function LT(e,t){return{usr:e.state,key:e.key,idx:t}}function g1(e,t,n,o){return n===void 0&&(n=null),tf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kh(t):t,{state:n,key:t&&t.key||o||Q4()})}function ky(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function kh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function eO(e,t,n,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:h=!1}=o,p=c.history,a=Tl.Pop,b=null,w=E();w==null&&(w=0,p.replaceState(tf({},p.state,{idx:w}),""));function E(){return(p.state||{idx:null}).idx}function A(){a=Tl.Pop;let K=E(),B=K==null?null:K-w;w=K,b&&b({action:a,location:j.location,delta:B})}function I(K,B){a=Tl.Push;let V=g1(j.location,K,B);n&&n(V,K),w=E()+1;let $=LT(V,w),J=j.createHref(V);try{p.pushState($,"",J)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;c.location.assign(J)}h&&b&&b({action:a,location:j.location,delta:1})}function L(K,B){a=Tl.Replace;let V=g1(j.location,K,B);n&&n(V,K),w=E();let $=LT(V,w),J=j.createHref(V);p.replaceState($,"",J),h&&b&&b({action:a,location:j.location,delta:0})}function F(K){let B=c.location.origin!=="null"?c.location.origin:c.location.href,V=typeof K=="string"?K:ky(K);return V=V.replace(/ $/,"%20"),Wr(B,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,B)}let j={get action(){return a},get location(){return e(c,p)},listen(K){if(b)throw new Error("A history only accepts one active listener");return c.addEventListener(RT,A),b=K,()=>{c.removeEventListener(RT,A),b=null}},createHref(K){return t(c,K)},createURL:F,encodeLocation(K){let B=F(K);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:I,replace:L,go(K){return p.go(K)}};return j}var DT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DT||(DT={}));function tO(e,t,n){return n===void 0&&(n="/"),nO(e,t,n,!1)}function nO(e,t,n,o){let c=typeof t=="string"?kh(t):t,h=dw(c.pathname||"/",n);if(h==null)return null;let p=_M(e);rO(p);let a=null;for(let b=0;a==null&&b<p.length;++b){let w=fO(h);a=dO(p[b],w,o)}return a}function _M(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let c=(h,p,a)=>{let b={relativePath:a===void 0?h.path||"":a,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};b.relativePath.startsWith("/")&&(Wr(b.relativePath.startsWith(o),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(o.length));let w=zl([o,b.relativePath]),E=n.concat(b);h.children&&h.children.length>0&&(Wr(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),_M(h.children,t,E,w)),!(h.path==null&&!h.index)&&t.push({path:w,score:uO(w,h.index),routesMeta:E})};return e.forEach((h,p)=>{var a;if(h.path===""||!((a=h.path)!=null&&a.includes("?")))c(h,p);else for(let b of xM(h.path))c(h,p,b)}),t}function xM(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,c=n.endsWith("?"),h=n.replace(/\?$/,"");if(o.length===0)return c?[h,""]:[h];let p=xM(o.join("/")),a=[];return a.push(...p.map(b=>b===""?h:[h,b].join("/"))),c&&a.push(...p),a.map(b=>e.startsWith("/")&&b===""?"/":b)}function rO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hO(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const iO=/^:[\w-]+$/,oO=3,sO=2,aO=1,lO=10,cO=-2,zT=e=>e==="*";function uO(e,t){let n=e.split("/"),o=n.length;return n.some(zT)&&(o+=cO),t&&(o+=sO),n.filter(c=>!zT(c)).reduce((c,h)=>c+(iO.test(h)?oO:h===""?aO:lO),o)}function hO(e,t){return e.length===t.length&&e.slice(0,-1).every((o,c)=>o===t[c])?e[e.length-1]-t[t.length-1]:0}function dO(e,t,n){n===void 0&&(n=!1);let{routesMeta:o}=e,c={},h="/",p=[];for(let a=0;a<o.length;++a){let b=o[a],w=a===o.length-1,E=h==="/"?t:t.slice(h.length)||"/",A=BT({path:b.relativePath,caseSensitive:b.caseSensitive,end:w},E),I=b.route;if(!A&&w&&n&&!o[o.length-1].route.index&&(A=BT({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},E)),!A)return null;Object.assign(c,A.params),p.push({params:c,pathname:zl([h,A.pathname]),pathnameBase:vO(zl([h,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(h=zl([h,A.pathnameBase]))}return p}function BT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=pO(e.path,e.caseSensitive,e.end),c=t.match(n);if(!c)return null;let h=c[0],p=h.replace(/(.)\/+$/,"$1"),a=c.slice(1);return{params:o.reduce((w,E,A)=>{let{paramName:I,isOptional:L}=E;if(I==="*"){let j=a[A]||"";p=h.slice(0,h.length-j.length).replace(/(.)\/+$/,"$1")}const F=a[A];return L&&!F?w[I]=void 0:w[I]=(F||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:p,pattern:e}}function pO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vM(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,a,b)=>(o.push({paramName:a,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function fO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function mO(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:c=""}=typeof e=="string"?kh(e):e;return{pathname:n?n.startsWith("/")?n:gO(n,t):t,search:_O(o),hash:xO(c)}}function gO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function G_(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bM(e,t){let n=yO(e);return t?n.map((o,c)=>c===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function wM(e,t,n,o){o===void 0&&(o=!1);let c;typeof e=="string"?c=kh(e):(c=tf({},e),Wr(!c.pathname||!c.pathname.includes("?"),G_("?","pathname","search",c)),Wr(!c.pathname||!c.pathname.includes("#"),G_("#","pathname","hash",c)),Wr(!c.search||!c.search.includes("#"),G_("#","search","hash",c)));let h=e===""||c.pathname==="",p=h?"/":c.pathname,a;if(p==null)a=n;else{let A=t.length-1;if(!o&&p.startsWith("..")){let I=p.split("/");for(;I[0]==="..";)I.shift(),A-=1;c.pathname=I.join("/")}a=A>=0?t[A]:"/"}let b=mO(c,a),w=p&&p!=="/"&&p.endsWith("/"),E=(h||p===".")&&n.endsWith("/");return!b.pathname.endsWith("/")&&(w||E)&&(b.pathname+="/"),b}const zl=e=>e.join("/").replace(/\/\/+/g,"/"),vO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_O=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const SM=["post","put","patch","delete"];new Set(SM);const wO=["get",...SM];new Set(wO);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},nf.apply(this,arguments)}const pw=q.createContext(null),SO=q.createContext(null),Vc=q.createContext(null),p0=q.createContext(null),jc=q.createContext({outlet:null,matches:[],isDataRoute:!1}),CM=q.createContext(null);function CO(e,t){let{relative:n}=t===void 0?{}:t;Ef()||Wr(!1);let{basename:o,navigator:c}=q.useContext(Vc),{hash:h,pathname:p,search:a}=PM(e,{relative:n}),b=p;return o!=="/"&&(b=p==="/"?o:zl([o,p])),c.createHref({pathname:b,search:a,hash:h})}function Ef(){return q.useContext(p0)!=null}function Pf(){return Ef()||Wr(!1),q.useContext(p0).location}function TM(e){q.useContext(Vc).static||q.useLayoutEffect(e)}function EM(){let{isDataRoute:e}=q.useContext(jc);return e?OO():TO()}function TO(){Ef()||Wr(!1);let e=q.useContext(pw),{basename:t,future:n,navigator:o}=q.useContext(Vc),{matches:c}=q.useContext(jc),{pathname:h}=Pf(),p=JSON.stringify(bM(c,n.v7_relativeSplatPath)),a=q.useRef(!1);return TM(()=>{a.current=!0}),q.useCallback(function(w,E){if(E===void 0&&(E={}),!a.current)return;if(typeof w=="number"){o.go(w);return}let A=wM(w,JSON.parse(p),h,E.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:zl([t,A.pathname])),(E.replace?o.replace:o.push)(A,E.state,E)},[t,o,p,h,e])}function PM(e,t){let{relative:n}=t===void 0?{}:t,{future:o}=q.useContext(Vc),{matches:c}=q.useContext(jc),{pathname:h}=Pf(),p=JSON.stringify(bM(c,o.v7_relativeSplatPath));return q.useMemo(()=>wM(e,JSON.parse(p),h,n==="path"),[e,p,h,n])}function EO(e,t){return PO(e,t)}function PO(e,t,n,o){Ef()||Wr(!1);let{navigator:c,static:h}=q.useContext(Vc),{matches:p}=q.useContext(jc),a=p[p.length-1],b=a?a.params:{};a&&a.pathname;let w=a?a.pathnameBase:"/";a&&a.route;let E=Pf(),A;if(t){var I;let B=typeof t=="string"?kh(t):t;w==="/"||(I=B.pathname)!=null&&I.startsWith(w)||Wr(!1),A=B}else A=E;let L=A.pathname||"/",F=L;if(w!=="/"){let B=w.replace(/^\//,"").split("/");F="/"+L.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=!h&&n&&n.matches&&n.matches.length>0?n.matches:tO(e,{pathname:F}),K=RO(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},b,B.params),pathname:zl([w,c.encodeLocation?c.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:zl([w,c.encodeLocation?c.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),p,n,o);return t&&K?q.createElement(p0.Provider,{value:{location:nf({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:Tl.Pop}},K):K}function AO(){let e=BO(),t=bO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:c},n):null,h)}const kO=q.createElement(AO,null);class IO extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?q.createElement(jc.Provider,{value:this.props.routeContext},q.createElement(CM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MO(e){let{routeContext:t,match:n,children:o}=e,c=q.useContext(pw);return c&&c.static&&c.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(jc.Provider,{value:t},o)}function RO(e,t,n,o){var c;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var h;if(!n)return null;if(n.errors)e=n.matches;else if((h=o)!=null&&h.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let p=e,a=(c=n)==null?void 0:c.errors;if(a!=null){let E=p.findIndex(A=>A.route.id&&(a==null?void 0:a[A.route.id])!==void 0);E>=0||Wr(!1),p=p.slice(0,Math.min(p.length,E+1))}let b=!1,w=-1;if(n&&o&&o.v7_partialHydration)for(let E=0;E<p.length;E++){let A=p[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(w=E),A.route.id){let{loaderData:I,errors:L}=n,F=A.route.loader&&I[A.route.id]===void 0&&(!L||L[A.route.id]===void 0);if(A.route.lazy||F){b=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((E,A,I)=>{let L,F=!1,j=null,K=null;n&&(L=a&&A.route.id?a[A.route.id]:void 0,j=A.route.errorElement||kO,b&&(w<0&&I===0?(FO("route-fallback",!1),F=!0,K=null):w===I&&(F=!0,K=A.route.hydrateFallbackElement||null)));let B=t.concat(p.slice(0,I+1)),V=()=>{let $;return L?$=j:F?$=K:A.route.Component?$=q.createElement(A.route.Component,null):A.route.element?$=A.route.element:$=E,q.createElement(MO,{match:A,routeContext:{outlet:E,matches:B,isDataRoute:n!=null},children:$})};return n&&(A.route.ErrorBoundary||A.route.errorElement||I===0)?q.createElement(IO,{location:n.location,revalidation:n.revalidation,component:j,error:L,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}var AM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AM||{}),Iy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Iy||{});function LO(e){let t=q.useContext(pw);return t||Wr(!1),t}function DO(e){let t=q.useContext(SO);return t||Wr(!1),t}function zO(e){let t=q.useContext(jc);return t||Wr(!1),t}function kM(e){let t=zO(),n=t.matches[t.matches.length-1];return n.route.id||Wr(!1),n.route.id}function BO(){var e;let t=q.useContext(CM),n=DO(Iy.UseRouteError),o=kM(Iy.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function OO(){let{router:e}=LO(AM.UseNavigateStable),t=kM(Iy.UseNavigateStable),n=q.useRef(!1);return TM(()=>{n.current=!0}),q.useCallback(function(c,h){h===void 0&&(h={}),n.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,nf({fromRouteId:t},h)))},[e,t])}const OT={};function FO(e,t,n){!t&&!OT[e]&&(OT[e]=!0)}function NO(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Vg(e){Wr(!1)}function $O(e){let{basename:t="/",children:n=null,location:o,navigationType:c=Tl.Pop,navigator:h,static:p=!1,future:a}=e;Ef()&&Wr(!1);let b=t.replace(/^\/*/,"/"),w=q.useMemo(()=>({basename:b,navigator:h,static:p,future:nf({v7_relativeSplatPath:!1},a)}),[b,a,h,p]);typeof o=="string"&&(o=kh(o));let{pathname:E="/",search:A="",hash:I="",state:L=null,key:F="default"}=o,j=q.useMemo(()=>{let K=dw(E,b);return K==null?null:{location:{pathname:K,search:A,hash:I,state:L,key:F},navigationType:c}},[b,E,A,I,L,F,c]);return j==null?null:q.createElement(Vc.Provider,{value:w},q.createElement(p0.Provider,{children:n,value:j}))}function VO(e){let{children:t,location:n}=e;return EO(y1(t),n)}new Promise(()=>{});function y1(e,t){t===void 0&&(t=[]);let n=[];return q.Children.forEach(e,(o,c)=>{if(!q.isValidElement(o))return;let h=[...t,c];if(o.type===q.Fragment){n.push.apply(n,y1(o.props.children,h));return}o.type!==Vg&&Wr(!1),!o.props.index||!o.props.children||Wr(!1);let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=y1(o.props.children,h)),n.push(p)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v1.apply(this,arguments)}function jO(e,t){if(e==null)return{};var n={},o=Object.keys(e),c,h;for(h=0;h<o.length;h++)c=o[h],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function UO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WO(e,t){return e.button===0&&(!t||t==="_self")&&!UO(e)}const GO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qO="6";try{window.__reactRouterVersion=qO}catch{}const HO="startTransition",FT=iy[HO];function ZO(e){let{basename:t,children:n,future:o,window:c}=e,h=q.useRef();h.current==null&&(h.current=J4({window:c,v5Compat:!0}));let p=h.current,[a,b]=q.useState({action:p.action,location:p.location}),{v7_startTransition:w}=o||{},E=q.useCallback(A=>{w&&FT?FT(()=>b(A)):b(A)},[b,w]);return q.useLayoutEffect(()=>p.listen(E),[p,E]),q.useEffect(()=>NO(o),[o]),q.createElement($O,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:p,future:o})}const KO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q_=q.forwardRef(function(t,n){let{onClick:o,relative:c,reloadDocument:h,replace:p,state:a,target:b,to:w,preventScrollReset:E,viewTransition:A}=t,I=jO(t,GO),{basename:L}=q.useContext(Vc),F,j=!1;if(typeof w=="string"&&XO.test(w)&&(F=w,KO))try{let $=new URL(window.location.href),J=w.startsWith("//")?new URL($.protocol+w):new URL(w),ie=dw(J.pathname,L);J.origin===$.origin&&ie!=null?w=ie+J.search+J.hash:j=!0}catch{}let K=CO(w,{relative:c}),B=YO(w,{replace:p,state:a,target:b,preventScrollReset:E,relative:c,viewTransition:A});function V($){o&&o($),$.defaultPrevented||B($)}return q.createElement("a",v1({},I,{href:F||K,onClick:j||h?o:V,ref:n,target:b}))});var NT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(NT||(NT={}));var $T;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($T||($T={}));function YO(e,t){let{target:n,replace:o,state:c,preventScrollReset:h,relative:p,viewTransition:a}=t===void 0?{}:t,b=EM(),w=Pf(),E=PM(e,{relative:p});return q.useCallback(A=>{if(WO(A,n)){A.preventDefault();let I=o!==void 0?o:ky(w)===ky(E);b(e,{replace:I,state:c,preventScrollReset:h,relative:p,viewTransition:a})}},[w,b,E,o,c,n,e,h,p,a])}function Ua(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${e}; visit ${n} for the full message.`}const la="$$material";function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},My.apply(null,arguments)}var JO=!1;function QO(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function eF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var tF=function(){function e(n){var o=this;this._insertTag=function(c){var h;o.tags.length===0?o.insertionPoint?h=o.insertionPoint.nextSibling:o.prepend?h=o.container.firstChild:h=o.before:h=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(c,h),o.tags.push(c)},this.isSpeedy=n.speedy===void 0?!JO:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eF(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var h=QO(c);try{h.insertRule(o,h.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Bi="-ms-",Ry="-moz-",Ln="-webkit-",IM="comm",fw="rule",mw="decl",nF="@import",MM="@keyframes",rF="@layer",iF=Math.abs,f0=String.fromCharCode,oF=Object.assign;function sF(e,t){return wi(e,0)^45?(((t<<2^wi(e,0))<<2^wi(e,1))<<2^wi(e,2))<<2^wi(e,3):0}function RM(e){return e.trim()}function aF(e,t){return(e=t.exec(e))?e[0]:e}function Dn(e,t,n){return e.replace(t,n)}function _1(e,t){return e.indexOf(t)}function wi(e,t){return e.charCodeAt(t)|0}function rf(e,t,n){return e.slice(t,n)}function ta(e){return e.length}function gw(e){return e.length}function fg(e,t){return t.push(e),e}function lF(e,t){return e.map(t).join("")}var m0=1,wh=1,LM=0,So=0,jr=0,Ih="";function g0(e,t,n,o,c,h,p){return{value:e,root:t,parent:n,type:o,props:c,children:h,line:m0,column:wh,length:p,return:""}}function np(e,t){return oF(g0("",null,null,"",null,null,0),e,{length:-e.length},t)}function cF(){return jr}function uF(){return jr=So>0?wi(Ih,--So):0,wh--,jr===10&&(wh=1,m0--),jr}function zo(){return jr=So<LM?wi(Ih,So++):0,wh++,jr===10&&(wh=1,m0++),jr}function ca(){return wi(Ih,So)}function jg(){return So}function Af(e,t){return rf(Ih,e,t)}function of(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DM(e){return m0=wh=1,LM=ta(Ih=e),So=0,[]}function zM(e){return Ih="",e}function Ug(e){return RM(Af(So-1,x1(e===91?e+2:e===40?e+1:e)))}function hF(e){for(;(jr=ca())&&jr<33;)zo();return of(e)>2||of(jr)>3?"":" "}function dF(e,t){for(;--t&&zo()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return Af(e,jg()+(t<6&&ca()==32&&zo()==32))}function x1(e){for(;zo();)switch(jr){case e:return So;case 34:case 39:e!==34&&e!==39&&x1(jr);break;case 40:e===41&&x1(e);break;case 92:zo();break}return So}function pF(e,t){for(;zo()&&e+jr!==47+10;)if(e+jr===42+42&&ca()===47)break;return"/*"+Af(t,So-1)+"*"+f0(e===47?e:zo())}function fF(e){for(;!of(ca());)zo();return Af(e,So)}function mF(e){return zM(Wg("",null,null,null,[""],e=DM(e),0,[0],e))}function Wg(e,t,n,o,c,h,p,a,b){for(var w=0,E=0,A=p,I=0,L=0,F=0,j=1,K=1,B=1,V=0,$="",J=c,ie=h,de=o,ye=$;K;)switch(F=V,V=zo()){case 40:if(F!=108&&wi(ye,A-1)==58){_1(ye+=Dn(Ug(V),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:ye+=Ug(V);break;case 9:case 10:case 13:case 32:ye+=hF(F);break;case 92:ye+=dF(jg()-1,7);continue;case 47:switch(ca()){case 42:case 47:fg(gF(pF(zo(),jg()),t,n),b);break;default:ye+="/"}break;case 123*j:a[w++]=ta(ye)*B;case 125*j:case 59:case 0:switch(V){case 0:case 125:K=0;case 59+E:B==-1&&(ye=Dn(ye,/\f/g,"")),L>0&&ta(ye)-A&&fg(L>32?jT(ye+";",o,n,A-1):jT(Dn(ye," ","")+";",o,n,A-2),b);break;case 59:ye+=";";default:if(fg(de=VT(ye,t,n,w,E,c,a,$,J=[],ie=[],A),h),V===123)if(E===0)Wg(ye,t,de,de,J,h,A,a,ie);else switch(I===99&&wi(ye,3)===110?100:I){case 100:case 108:case 109:case 115:Wg(e,de,de,o&&fg(VT(e,de,de,0,0,c,a,$,c,J=[],A),ie),c,ie,A,a,o?J:ie);break;default:Wg(ye,de,de,de,[""],ie,0,a,ie)}}w=E=L=0,j=B=1,$=ye="",A=p;break;case 58:A=1+ta(ye),L=F;default:if(j<1){if(V==123)--j;else if(V==125&&j++==0&&uF()==125)continue}switch(ye+=f0(V),V*j){case 38:B=E>0?1:(ye+="\f",-1);break;case 44:a[w++]=(ta(ye)-1)*B,B=1;break;case 64:ca()===45&&(ye+=Ug(zo())),I=ca(),E=A=ta($=ye+=fF(jg())),V++;break;case 45:F===45&&ta(ye)==2&&(j=0)}}return h}function VT(e,t,n,o,c,h,p,a,b,w,E){for(var A=c-1,I=c===0?h:[""],L=gw(I),F=0,j=0,K=0;F<o;++F)for(var B=0,V=rf(e,A+1,A=iF(j=p[F])),$=e;B<L;++B)($=RM(j>0?I[B]+" "+V:Dn(V,/&\f/g,I[B])))&&(b[K++]=$);return g0(e,t,n,c===0?fw:a,b,w,E)}function gF(e,t,n){return g0(e,t,n,IM,f0(cF()),rf(e,2,-2),0)}function jT(e,t,n,o){return g0(e,t,n,mw,rf(e,0,o),rf(e,o+1,-1),o)}function lh(e,t){for(var n="",o=gw(e),c=0;c<o;c++)n+=t(e[c],c,e,t)||"";return n}function yF(e,t,n,o){switch(e.type){case rF:if(e.children.length)break;case nF:case mw:return e.return=e.return||e.value;case IM:return"";case MM:return e.return=e.value+"{"+lh(e.children,o)+"}";case fw:e.value=e.props.join(",")}return ta(n=lh(e.children,o))?e.return=e.value+"{"+n+"}":""}function vF(e){var t=gw(e);return function(n,o,c,h){for(var p="",a=0;a<t;a++)p+=e[a](n,o,c,h)||"";return p}}function _F(e){return function(t){t.root||(t=t.return)&&e(t)}}function BM(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var xF=function(t,n,o){for(var c=0,h=0;c=h,h=ca(),c===38&&h===12&&(n[o]=1),!of(h);)zo();return Af(t,So)},bF=function(t,n){var o=-1,c=44;do switch(of(c)){case 0:c===38&&ca()===12&&(n[o]=1),t[o]+=xF(So-1,n,o);break;case 2:t[o]+=Ug(c);break;case 4:if(c===44){t[++o]=ca()===58?"&\f":"",n[o]=t[o].length;break}default:t[o]+=f0(c)}while(c=zo());return t},wF=function(t,n){return zM(bF(DM(t),n))},UT=new WeakMap,SF=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,o=t.parent,c=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!UT.get(o))&&!c){UT.set(t,!0);for(var h=[],p=wF(n,h),a=o.props,b=0,w=0;b<p.length;b++)for(var E=0;E<a.length;E++,w++)t.props[w]=h[b]?p[b].replace(/&\f/g,a[E]):a[E]+" "+p[b]}}},CF=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function OM(e,t){switch(sF(e,t)){case 5103:return Ln+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ln+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ln+e+Ry+e+Bi+e+e;case 6828:case 4268:return Ln+e+Bi+e+e;case 6165:return Ln+e+Bi+"flex-"+e+e;case 5187:return Ln+e+Dn(e,/(\w+).+(:[^]+)/,Ln+"box-$1$2"+Bi+"flex-$1$2")+e;case 5443:return Ln+e+Bi+"flex-item-"+Dn(e,/flex-|-self/,"")+e;case 4675:return Ln+e+Bi+"flex-line-pack"+Dn(e,/align-content|flex-|-self/,"")+e;case 5548:return Ln+e+Bi+Dn(e,"shrink","negative")+e;case 5292:return Ln+e+Bi+Dn(e,"basis","preferred-size")+e;case 6060:return Ln+"box-"+Dn(e,"-grow","")+Ln+e+Bi+Dn(e,"grow","positive")+e;case 4554:return Ln+Dn(e,/([^-])(transform)/g,"$1"+Ln+"$2")+e;case 6187:return Dn(Dn(Dn(e,/(zoom-|grab)/,Ln+"$1"),/(image-set)/,Ln+"$1"),e,"")+e;case 5495:case 3959:return Dn(e,/(image-set\([^]*)/,Ln+"$1$`$1");case 4968:return Dn(Dn(e,/(.+:)(flex-)?(.*)/,Ln+"box-pack:$3"+Bi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ln+e+e;case 4095:case 3583:case 4068:case 2532:return Dn(e,/(.+)-inline(.+)/,Ln+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ta(e)-1-t>6)switch(wi(e,t+1)){case 109:if(wi(e,t+4)!==45)break;case 102:return Dn(e,/(.+:)(.+)-([^]+)/,"$1"+Ln+"$2-$3$1"+Ry+(wi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_1(e,"stretch")?OM(Dn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(wi(e,t+1)!==115)break;case 6444:switch(wi(e,ta(e)-3-(~_1(e,"!important")&&10))){case 107:return Dn(e,":",":"+Ln)+e;case 101:return Dn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ln+(wi(e,14)===45?"inline-":"")+"box$3$1"+Ln+"$2$3$1"+Bi+"$2box$3")+e}break;case 5936:switch(wi(e,t+11)){case 114:return Ln+e+Bi+Dn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ln+e+Bi+Dn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ln+e+Bi+Dn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ln+e+Bi+e+e}return e}var TF=function(t,n,o,c){if(t.length>-1&&!t.return)switch(t.type){case mw:t.return=OM(t.value,t.length);break;case MM:return lh([np(t,{value:Dn(t.value,"@","@"+Ln)})],c);case fw:if(t.length)return lF(t.props,function(h){switch(aF(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lh([np(t,{props:[Dn(h,/:(read-\w+)/,":"+Ry+"$1")]})],c);case"::placeholder":return lh([np(t,{props:[Dn(h,/:(plac\w+)/,":"+Ln+"input-$1")]}),np(t,{props:[Dn(h,/:(plac\w+)/,":"+Ry+"$1")]}),np(t,{props:[Dn(h,/:(plac\w+)/,Bi+"input-$1")]})],c)}return""})}},EF=[TF],PF=function(t){var n=t.key;if(n==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(j){var K=j.getAttribute("data-emotion");K.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var c=t.stylisPlugins||EF,h={},p,a=[];p=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(j){for(var K=j.getAttribute("data-emotion").split(" "),B=1;B<K.length;B++)h[K[B]]=!0;a.push(j)});var b,w=[SF,CF];{var E,A=[yF,_F(function(j){E.insert(j)})],I=vF(w.concat(c,A)),L=function(K){return lh(mF(K),I)};b=function(K,B,V,$){E=V,L(K?K+"{"+B.styles+"}":B.styles),$&&(F.inserted[B.name]=!0)}}var F={key:n,sheet:new tF({key:n,container:p,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:b};return F.sheet.hydrate(a),F},FM={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=typeof Symbol=="function"&&Symbol.for,yw=ci?Symbol.for("react.element"):60103,vw=ci?Symbol.for("react.portal"):60106,y0=ci?Symbol.for("react.fragment"):60107,v0=ci?Symbol.for("react.strict_mode"):60108,_0=ci?Symbol.for("react.profiler"):60114,x0=ci?Symbol.for("react.provider"):60109,b0=ci?Symbol.for("react.context"):60110,_w=ci?Symbol.for("react.async_mode"):60111,w0=ci?Symbol.for("react.concurrent_mode"):60111,S0=ci?Symbol.for("react.forward_ref"):60112,C0=ci?Symbol.for("react.suspense"):60113,AF=ci?Symbol.for("react.suspense_list"):60120,T0=ci?Symbol.for("react.memo"):60115,E0=ci?Symbol.for("react.lazy"):60116,kF=ci?Symbol.for("react.block"):60121,IF=ci?Symbol.for("react.fundamental"):60117,MF=ci?Symbol.for("react.responder"):60118,RF=ci?Symbol.for("react.scope"):60119;function Vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yw:switch(e=e.type,e){case _w:case w0:case y0:case _0:case v0:case C0:return e;default:switch(e=e&&e.$$typeof,e){case b0:case S0:case E0:case T0:case x0:return e;default:return t}}case vw:return t}}}function NM(e){return Vo(e)===w0}jn.AsyncMode=_w;jn.ConcurrentMode=w0;jn.ContextConsumer=b0;jn.ContextProvider=x0;jn.Element=yw;jn.ForwardRef=S0;jn.Fragment=y0;jn.Lazy=E0;jn.Memo=T0;jn.Portal=vw;jn.Profiler=_0;jn.StrictMode=v0;jn.Suspense=C0;jn.isAsyncMode=function(e){return NM(e)||Vo(e)===_w};jn.isConcurrentMode=NM;jn.isContextConsumer=function(e){return Vo(e)===b0};jn.isContextProvider=function(e){return Vo(e)===x0};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yw};jn.isForwardRef=function(e){return Vo(e)===S0};jn.isFragment=function(e){return Vo(e)===y0};jn.isLazy=function(e){return Vo(e)===E0};jn.isMemo=function(e){return Vo(e)===T0};jn.isPortal=function(e){return Vo(e)===vw};jn.isProfiler=function(e){return Vo(e)===_0};jn.isStrictMode=function(e){return Vo(e)===v0};jn.isSuspense=function(e){return Vo(e)===C0};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===y0||e===w0||e===_0||e===v0||e===C0||e===AF||typeof e=="object"&&e!==null&&(e.$$typeof===E0||e.$$typeof===T0||e.$$typeof===x0||e.$$typeof===b0||e.$$typeof===S0||e.$$typeof===IF||e.$$typeof===MF||e.$$typeof===RF||e.$$typeof===kF)};jn.typeOf=Vo;FM.exports=jn;var LF=FM.exports,$M=LF,DF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VM={};VM[$M.ForwardRef]=DF;VM[$M.Memo]=zF;var BF=!0;function jM(e,t,n){var o="";return n.split(" ").forEach(function(c){e[c]!==void 0?t.push(e[c]+";"):c&&(o+=c+" ")}),o}var xw=function(t,n,o){var c=t.key+"-"+n.name;(o===!1||BF===!1)&&t.registered[c]===void 0&&(t.registered[c]=n.styles)},bw=function(t,n,o){xw(t,n,o);var c=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var h=n;do t.insert(n===h?"."+c:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function OF(e){for(var t=0,n,o=0,c=e.length;c>=4;++o,c-=4)n=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(c){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var FF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},NF=!1,$F=/[A-Z]|^ms/g,VF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UM=function(t){return t.charCodeAt(1)===45},WT=function(t){return t!=null&&typeof t!="boolean"},H_=BM(function(e){return UM(e)?e:e.replace($F,"-$&").toLowerCase()}),GT=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(VF,function(o,c,h){return na={name:c,styles:h,next:na},c})}return FF[t]!==1&&!UM(t)&&typeof n=="number"&&n!==0?n+"px":n},jF="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function sf(e,t,n){if(n==null)return"";var o=n;if(o.__emotion_styles!==void 0)return o;switch(typeof n){case"boolean":return"";case"object":{var c=n;if(c.anim===1)return na={name:c.name,styles:c.styles,next:na},c.name;var h=n;if(h.styles!==void 0){var p=h.next;if(p!==void 0)for(;p!==void 0;)na={name:p.name,styles:p.styles,next:na},p=p.next;var a=h.styles+";";return a}return UF(e,t,n)}case"function":{if(e!==void 0){var b=na,w=n(e);return na=b,sf(e,t,w)}break}}var E=n;if(t==null)return E;var A=t[E];return A!==void 0?A:E}function UF(e,t,n){var o="";if(Array.isArray(n))for(var c=0;c<n.length;c++)o+=sf(e,t,n[c])+";";else for(var h in n){var p=n[h];if(typeof p!="object"){var a=p;t!=null&&t[a]!==void 0?o+=h+"{"+t[a]+"}":WT(a)&&(o+=H_(h)+":"+GT(h,a)+";")}else{if(h==="NO_COMPONENT_SELECTOR"&&NF)throw new Error(jF);if(Array.isArray(p)&&typeof p[0]=="string"&&(t==null||t[p[0]]===void 0))for(var b=0;b<p.length;b++)WT(p[b])&&(o+=H_(h)+":"+GT(h,p[b])+";");else{var w=sf(e,t,p);switch(h){case"animation":case"animationName":{o+=H_(h)+":"+w+";";break}default:o+=h+"{"+w+"}"}}}}return o}var qT=/label:\s*([^\s;{]+)\s*(;|$)/g,na;function kf(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,c="";na=void 0;var h=e[0];if(h==null||h.raw===void 0)o=!1,c+=sf(n,t,h);else{var p=h;c+=p[0]}for(var a=1;a<e.length;a++)if(c+=sf(n,t,e[a]),o){var b=h;c+=b[a]}qT.lastIndex=0;for(var w="",E;(E=qT.exec(c))!==null;)w+="-"+E[1];var A=OF(c)+w;return{name:A,styles:c,next:na}}var WF=function(t){return t()},WM=iy["useInsertionEffect"]?iy["useInsertionEffect"]:!1,GM=WM||WF,HT=WM||q.useLayoutEffect,GF=!1,qM=q.createContext(typeof HTMLElement<"u"?PF({key:"css"}):null);qM.Provider;var ww=function(t){return q.forwardRef(function(n,o){var c=q.useContext(qM);return t(n,c,o)})},If=q.createContext({}),Sw={}.hasOwnProperty,b1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qF=function(t,n){var o={};for(var c in n)Sw.call(n,c)&&(o[c]=n[c]);return o[b1]=t,o},HF=function(t){var n=t.cache,o=t.serialized,c=t.isStringTag;return xw(n,o,c),GM(function(){return bw(n,o,c)}),null},ZF=ww(function(e,t,n){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var c=e[b1],h=[o],p="";typeof e.className=="string"?p=jM(t.registered,h,e.className):e.className!=null&&(p=e.className+" ");var a=kf(h,void 0,q.useContext(If));p+=t.key+"-"+a.name;var b={};for(var w in e)Sw.call(e,w)&&w!=="css"&&w!==b1&&!GF&&(b[w]=e[w]);return b.className=p,n&&(b.ref=n),q.createElement(q.Fragment,null,q.createElement(HF,{cache:t,serialized:a,isStringTag:typeof c=="string"}),q.createElement(c,b))}),KF=ZF,ZT=function(t,n){var o=arguments;if(n==null||!Sw.call(n,"css"))return q.createElement.apply(void 0,o);var c=o.length,h=new Array(c);h[0]=KF,h[1]=qF(t,n);for(var p=2;p<c;p++)h[p]=o[p];return q.createElement.apply(null,h)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(ZT||(ZT={}));var XF=ww(function(e,t){var n=e.styles,o=kf([n],void 0,q.useContext(If)),c=q.useRef();return HT(function(){var h=t.key+"-global",p=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,b=document.querySelector('style[data-emotion="'+h+" "+o.name+'"]');return t.sheet.tags.length&&(p.before=t.sheet.tags[0]),b!==null&&(a=!0,b.setAttribute("data-emotion",h),p.hydrate([b])),c.current=[p,a],function(){p.flush()}},[t]),HT(function(){var h=c.current,p=h[0],a=h[1];if(a){h[1]=!1;return}if(o.next!==void 0&&bw(t,o.next,!0),p.tags.length){var b=p.tags[p.tags.length-1].nextElementSibling;p.before=b,p.flush()}t.insert("",o,p,!1)},[t,o.name]),null});function Cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kf(t)}function Mf(){var e=Cw.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var YF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JF=BM(function(e){return YF.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),QF=!1,e6=JF,t6=function(t){return t!=="theme"},KT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?e6:t6},XT=function(t,n,o){var c;if(n){var h=n.shouldForwardProp;c=t.__emotion_forwardProp&&h?function(p){return t.__emotion_forwardProp(p)&&h(p)}:h}return typeof c!="function"&&o&&(c=t.__emotion_forwardProp),c},n6=function(t){var n=t.cache,o=t.serialized,c=t.isStringTag;return xw(n,o,c),GM(function(){return bw(n,o,c)}),null},r6=function e(t,n){var o=t.__emotion_real===t,c=o&&t.__emotion_base||t,h,p;n!==void 0&&(h=n.label,p=n.target);var a=XT(t,n,o),b=a||KT(c),w=!b("as");return function(){var E=arguments,A=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&A.push("label:"+h+";"),E[0]==null||E[0].raw===void 0)A.push.apply(A,E);else{var I=E[0];A.push(I[0]);for(var L=E.length,F=1;F<L;F++)A.push(E[F],I[F])}var j=ww(function(K,B,V){var $=w&&K.as||c,J="",ie=[],de=K;if(K.theme==null){de={};for(var ye in K)de[ye]=K[ye];de.theme=q.useContext(If)}typeof K.className=="string"?J=jM(B.registered,ie,K.className):K.className!=null&&(J=K.className+" ");var me=kf(A.concat(ie),B.registered,de);J+=B.key+"-"+me.name,p!==void 0&&(J+=" "+p);var ke=w&&a===void 0?KT($):b,G={};for(var Te in K)w&&Te==="as"||ke(Te)&&(G[Te]=K[Te]);return G.className=J,V&&(G.ref=V),q.createElement(q.Fragment,null,q.createElement(n6,{cache:B,serialized:me,isStringTag:typeof $=="string"}),q.createElement($,G))});return j.displayName=h!==void 0?h:"Styled("+(typeof c=="string"?c:c.displayName||c.name||"Component")+")",j.defaultProps=t.defaultProps,j.__emotion_real=j,j.__emotion_base=c,j.__emotion_styles=A,j.__emotion_forwardProp=a,Object.defineProperty(j,"toString",{value:function(){return p===void 0&&QF?"NO_COMPONENT_SELECTOR":"."+p}}),j.withComponent=function(K,B){var V=e(K,My({},n,B,{shouldForwardProp:XT(j,B,!0)}));return V.apply(void 0,A)},j}},i6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],w1=r6.bind(null);i6.forEach(function(e){w1[e]=w1(e)});function o6(e){return e==null||Object.keys(e).length===0}function HM(e){const{styles:t,defaultTheme:n={}}=e,o=typeof t=="function"?c=>t(o6(c)?n:c):t;return oe.jsx(XF,{styles:o})}/**
 * @mui/styled-engine v7.0.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ZM(e,t){return w1(e,t)}function s6(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const YT=[];function JT(e){return YT[0]=e,kf(YT)}var KM={exports:{}},Yn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=Symbol.for("react.transitional.element"),Ew=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),I0=Symbol.for("react.consumer"),M0=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),D0=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),B0=Symbol.for("react.lazy"),a6=Symbol.for("react.view_transition"),l6=Symbol.for("react.client.reference");function ds(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tw:switch(e=e.type,e){case P0:case k0:case A0:case L0:case D0:case a6:return e;default:switch(e=e&&e.$$typeof,e){case M0:case R0:case B0:case z0:return e;case I0:return e;default:return t}}case Ew:return t}}}Yn.ContextConsumer=I0;Yn.ContextProvider=M0;Yn.Element=Tw;Yn.ForwardRef=R0;Yn.Fragment=P0;Yn.Lazy=B0;Yn.Memo=z0;Yn.Portal=Ew;Yn.Profiler=k0;Yn.StrictMode=A0;Yn.Suspense=L0;Yn.SuspenseList=D0;Yn.isContextConsumer=function(e){return ds(e)===I0};Yn.isContextProvider=function(e){return ds(e)===M0};Yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tw};Yn.isForwardRef=function(e){return ds(e)===R0};Yn.isFragment=function(e){return ds(e)===P0};Yn.isLazy=function(e){return ds(e)===B0};Yn.isMemo=function(e){return ds(e)===z0};Yn.isPortal=function(e){return ds(e)===Ew};Yn.isProfiler=function(e){return ds(e)===k0};Yn.isStrictMode=function(e){return ds(e)===A0};Yn.isSuspense=function(e){return ds(e)===L0};Yn.isSuspenseList=function(e){return ds(e)===D0};Yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P0||e===k0||e===A0||e===L0||e===D0||typeof e=="object"&&e!==null&&(e.$$typeof===B0||e.$$typeof===z0||e.$$typeof===M0||e.$$typeof===I0||e.$$typeof===R0||e.$$typeof===l6||e.getModuleId!==void 0)};Yn.typeOf=ds;KM.exports=Yn;var XM=KM.exports;function ia(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function YM(e){if(q.isValidElement(e)||XM.isValidElementType(e)||!ia(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=YM(e[n])}),t}function Vi(e,t,n={clone:!0}){const o=n.clone?{...e}:e;return ia(e)&&ia(t)&&Object.keys(t).forEach(c=>{q.isValidElement(t[c])||XM.isValidElementType(t[c])?o[c]=t[c]:ia(t[c])&&Object.prototype.hasOwnProperty.call(e,c)&&ia(e[c])?o[c]=Vi(e[c],t[c],n):n.clone?o[c]=ia(t[c])?YM(t[c]):t[c]:o[c]=t[c]}),o}const c6=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,o)=>n.val-o.val),t.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function u6(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...c}=e,h=c6(t),p=Object.keys(h);function a(I){return`@media (min-width:${typeof t[I]=="number"?t[I]:I}${n})`}function b(I){return`@media (max-width:${(typeof t[I]=="number"?t[I]:I)-o/100}${n})`}function w(I,L){const F=p.indexOf(L);return`@media (min-width:${typeof t[I]=="number"?t[I]:I}${n}) and (max-width:${(F!==-1&&typeof t[p[F]]=="number"?t[p[F]]:L)-o/100}${n})`}function E(I){return p.indexOf(I)+1<p.length?w(I,p[p.indexOf(I)+1]):a(I)}function A(I){const L=p.indexOf(I);return L===0?a(p[1]):L===p.length-1?b(p[L]):w(I,p[p.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:p,values:h,up:a,down:b,between:w,only:E,not:A,unit:n,...c}}function h6(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(o=>o.startsWith("@container")).sort((o,c)=>{var p,a;const h=/min-width:\s*([0-9.]+)/;return+(((p=o.match(h))==null?void 0:p[1])||0)-+(((a=c.match(h))==null?void 0:a[1])||0)});return n.length?n.reduce((o,c)=>{const h=t[c];return delete o[c],o[c]=h,o},{...t}):t}function d6(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function p6(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,c]=n,h=Number.isNaN(+o)?o||0:+o;return e.containerQueries(c).up(h)}function f6(e){const t=(h,p)=>h.replace("@media",p?`@container ${p}`:"@container");function n(h,p){h.up=(...a)=>t(e.breakpoints.up(...a),p),h.down=(...a)=>t(e.breakpoints.down(...a),p),h.between=(...a)=>t(e.breakpoints.between(...a),p),h.only=(...a)=>t(e.breakpoints.only(...a),p),h.not=(...a)=>{const b=t(e.breakpoints.not(...a),p);return b.includes("not all and")?b.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):b}}const o={},c=h=>(n(o,h),o);return n(c),{...e,containerQueries:c}}const m6={borderRadius:4},g6=m6;function Mp(e,t){return t?Vi(e,t,{clone:!1}):e}const O0={xs:0,sm:600,md:900,lg:1200,xl:1536},QT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${O0[e]}px)`},y6={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:O0[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Wa(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const h=o.breakpoints||QT;return t.reduce((p,a,b)=>(p[h.up(h.keys[b])]=n(t[b]),p),{})}if(typeof t=="object"){const h=o.breakpoints||QT;return Object.keys(t).reduce((p,a)=>{if(d6(h.keys,a)){const b=p6(o.containerQueries?o:y6,a);b&&(p[b]=n(t[a],a))}else if(Object.keys(h.values||O0).includes(a)){const b=h.up(a);p[b]=n(t[a],a)}else{const b=a;p[b]=t[b]}return p},{})}return n(t)}function v6(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((o,c)=>{const h=e.up(c);return o[h]={},o},{}))||{}}function _6(e,t){return e.reduce((n,o)=>{const c=n[o];return(!c||Object.keys(c).length===0)&&delete n[o],n},t)}function St(e){if(typeof e!="string")throw new Error(Ua(7));return e.charAt(0).toUpperCase()+e.slice(1)}function F0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const o=`vars.${t}`.split(".").reduce((c,h)=>c&&c[h]?c[h]:null,e);if(o!=null)return o}return t.split(".").reduce((o,c)=>o&&o[c]!=null?o[c]:null,e)}function Ly(e,t,n,o=n){let c;return typeof e=="function"?c=e(n):Array.isArray(e)?c=e[n]||o:c=F0(e,n)||o,t&&(c=t(c,o,e)),c}function $r(e){const{prop:t,cssProperty:n=e.prop,themeKey:o,transform:c}=e,h=p=>{if(p[t]==null)return null;const a=p[t],b=p.theme,w=F0(b,o)||{};return Wa(p,a,A=>{let I=Ly(w,c,A);return A===I&&typeof A=="string"&&(I=Ly(w,c,`${t}${A==="default"?"":St(A)}`,A)),n===!1?I:{[n]:I}})};return h.propTypes={},h.filterProps=[t],h}function x6(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const b6={m:"margin",p:"padding"},w6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},S6=x6(e=>{if(e.length>2)if(eE[e])e=eE[e];else return[e];const[t,n]=e.split(""),o=b6[t],c=w6[n]||"";return Array.isArray(c)?c.map(h=>o+h):[o+c]}),Pw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Aw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Pw,...Aw];function Rf(e,t,n,o){const c=F0(e,t,!0)??n;return typeof c=="number"||typeof c=="string"?h=>typeof h=="string"?h:typeof c=="string"?c.startsWith("var(")&&h===0?0:c.startsWith("var(")&&h===1?c:`calc(${h} * ${c})`:c*h:Array.isArray(c)?h=>{if(typeof h=="string")return h;const p=Math.abs(h),a=c[p];return h>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof c=="function"?c:()=>{}}function kw(e){return Rf(e,"spacing",8)}function Lf(e,t){return typeof t=="string"||t==null?t:e(t)}function C6(e,t){return n=>e.reduce((o,c)=>(o[c]=Lf(t,n),o),{})}function T6(e,t,n,o){if(!t.includes(n))return null;const c=S6(n),h=C6(c,o),p=e[n];return Wa(e,p,h)}function JM(e,t){const n=kw(e.theme);return Object.keys(e).map(o=>T6(e,t,o,n)).reduce(Mp,{})}function Er(e){return JM(e,Pw)}Er.propTypes={};Er.filterProps=Pw;function Pr(e){return JM(e,Aw)}Pr.propTypes={};Pr.filterProps=Aw;function QM(e=8,t=kw({spacing:e})){if(e.mui)return e;const n=(...o)=>(o.length===0?[1]:o).map(h=>{const p=t(h);return typeof p=="number"?`${p}px`:p}).join(" ");return n.mui=!0,n}function N0(...e){const t=e.reduce((o,c)=>(c.filterProps.forEach(h=>{o[h]=c}),o),{}),n=o=>Object.keys(o).reduce((c,h)=>t[h]?Mp(c,t[h](o)):c,{});return n.propTypes={},n.filterProps=e.reduce((o,c)=>o.concat(c.filterProps),[]),n}function is(e){return typeof e!="number"?e:`${e}px solid`}function ps(e,t){return $r({prop:e,themeKey:"borders",transform:t})}const E6=ps("border",is),P6=ps("borderTop",is),A6=ps("borderRight",is),k6=ps("borderBottom",is),I6=ps("borderLeft",is),M6=ps("borderColor"),R6=ps("borderTopColor"),L6=ps("borderRightColor"),D6=ps("borderBottomColor"),z6=ps("borderLeftColor"),B6=ps("outline",is),O6=ps("outlineColor"),$0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Rf(e.theme,"shape.borderRadius",4),n=o=>({borderRadius:Lf(t,o)});return Wa(e,e.borderRadius,n)}return null};$0.propTypes={};$0.filterProps=["borderRadius"];N0(E6,P6,A6,k6,I6,M6,R6,L6,D6,z6,$0,B6,O6);const V0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Rf(e.theme,"spacing",8),n=o=>({gap:Lf(t,o)});return Wa(e,e.gap,n)}return null};V0.propTypes={};V0.filterProps=["gap"];const j0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Rf(e.theme,"spacing",8),n=o=>({columnGap:Lf(t,o)});return Wa(e,e.columnGap,n)}return null};j0.propTypes={};j0.filterProps=["columnGap"];const U0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Rf(e.theme,"spacing",8),n=o=>({rowGap:Lf(t,o)});return Wa(e,e.rowGap,n)}return null};U0.propTypes={};U0.filterProps=["rowGap"];const F6=$r({prop:"gridColumn"}),N6=$r({prop:"gridRow"}),$6=$r({prop:"gridAutoFlow"}),V6=$r({prop:"gridAutoColumns"}),j6=$r({prop:"gridAutoRows"}),U6=$r({prop:"gridTemplateColumns"}),W6=$r({prop:"gridTemplateRows"}),G6=$r({prop:"gridTemplateAreas"}),q6=$r({prop:"gridArea"});N0(V0,j0,U0,F6,N6,$6,V6,j6,U6,W6,G6,q6);function ch(e,t){return t==="grey"?t:e}const H6=$r({prop:"color",themeKey:"palette",transform:ch}),Z6=$r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ch}),K6=$r({prop:"backgroundColor",themeKey:"palette",transform:ch});N0(H6,Z6,K6);function Ro(e){return e<=1&&e!==0?`${e*100}%`:e}const X6=$r({prop:"width",transform:Ro}),Iw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var c,h,p,a,b;const o=((p=(h=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:h.values)==null?void 0:p[n])||O0[n];return o?((b=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:b.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ro(n)}};return Wa(e,e.maxWidth,t)}return null};Iw.filterProps=["maxWidth"];const Y6=$r({prop:"minWidth",transform:Ro}),J6=$r({prop:"height",transform:Ro}),Q6=$r({prop:"maxHeight",transform:Ro}),eN=$r({prop:"minHeight",transform:Ro});$r({prop:"size",cssProperty:"width",transform:Ro});$r({prop:"size",cssProperty:"height",transform:Ro});const tN=$r({prop:"boxSizing"});N0(X6,Iw,Y6,J6,Q6,eN,tN);const nN={border:{themeKey:"borders",transform:is},borderTop:{themeKey:"borders",transform:is},borderRight:{themeKey:"borders",transform:is},borderBottom:{themeKey:"borders",transform:is},borderLeft:{themeKey:"borders",transform:is},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:is},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$0},color:{themeKey:"palette",transform:ch},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ch},backgroundColor:{themeKey:"palette",transform:ch},p:{style:Pr},pt:{style:Pr},pr:{style:Pr},pb:{style:Pr},pl:{style:Pr},px:{style:Pr},py:{style:Pr},padding:{style:Pr},paddingTop:{style:Pr},paddingRight:{style:Pr},paddingBottom:{style:Pr},paddingLeft:{style:Pr},paddingX:{style:Pr},paddingY:{style:Pr},paddingInline:{style:Pr},paddingInlineStart:{style:Pr},paddingInlineEnd:{style:Pr},paddingBlock:{style:Pr},paddingBlockStart:{style:Pr},paddingBlockEnd:{style:Pr},m:{style:Er},mt:{style:Er},mr:{style:Er},mb:{style:Er},ml:{style:Er},mx:{style:Er},my:{style:Er},margin:{style:Er},marginTop:{style:Er},marginRight:{style:Er},marginBottom:{style:Er},marginLeft:{style:Er},marginX:{style:Er},marginY:{style:Er},marginInline:{style:Er},marginInlineStart:{style:Er},marginInlineEnd:{style:Er},marginBlock:{style:Er},marginBlockStart:{style:Er},marginBlockEnd:{style:Er},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:V0},rowGap:{style:U0},columnGap:{style:j0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ro},maxWidth:{style:Iw},minWidth:{transform:Ro},height:{transform:Ro},maxHeight:{transform:Ro},minHeight:{transform:Ro},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Df=nN;function rN(...e){const t=e.reduce((o,c)=>o.concat(Object.keys(c)),[]),n=new Set(t);return e.every(o=>n.size===Object.keys(o).length)}function iN(e,t){return typeof e=="function"?e(t):e}function oN(){function e(n,o,c,h){const p={[n]:o,theme:c},a=h[n];if(!a)return{[n]:o};const{cssProperty:b=n,themeKey:w,transform:E,style:A}=a;if(o==null)return null;if(w==="typography"&&o==="inherit")return{[n]:o};const I=F0(c,w)||{};return A?A(p):Wa(p,o,F=>{let j=Ly(I,E,F);return F===j&&typeof F=="string"&&(j=Ly(I,E,`${n}${F==="default"?"":St(F)}`,F)),b===!1?j:{[b]:j}})}function t(n){const{sx:o,theme:c={}}=n||{};if(!o)return null;const h=c.unstable_sxConfig??Df;function p(a){let b=a;if(typeof a=="function")b=a(c);else if(typeof a!="object")return a;if(!b)return null;const w=v6(c.breakpoints),E=Object.keys(w);let A=w;return Object.keys(b).forEach(I=>{const L=iN(b[I],c);if(L!=null)if(typeof L=="object")if(h[I])A=Mp(A,e(I,L,c,h));else{const F=Wa({theme:c},L,j=>({[I]:j}));rN(F,L)?A[I]=t({sx:L,theme:c}):A=Mp(A,F)}else A=Mp(A,e(I,L,c,h))}),h6(c,_6(E,A))}return Array.isArray(o)?o.map(p):p(o)}return t}const eR=oN();eR.filterProps=["sx"];const Oc=eR;function sN(e,t){var o;const n=this;if(n.vars){if(!((o=n.colorSchemes)!=null&&o[e])||typeof n.getColorSchemeSelector!="function")return{};let c=n.getColorSchemeSelector(e);return c==="&"?t:((c.includes("data-")||c.includes("."))&&(c=`*:where(${c.replace(/\s*&$/,"")}) &`),{[c]:t})}return n.palette.mode===e?t:{}}function zf(e={},...t){const{breakpoints:n={},palette:o={},spacing:c,shape:h={},...p}=e,a=u6(n),b=QM(c);let w=Vi({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:b,shape:{...g6,...h}},p);return w=f6(w),w.applyStyles=sN,w=t.reduce((E,A)=>Vi(E,A),w),w.unstable_sxConfig={...Df,...p==null?void 0:p.unstable_sxConfig},w.unstable_sx=function(A){return Oc({sx:A,theme:this})},w}function aN(e){return Object.keys(e).length===0}function tR(e=null){const t=q.useContext(If);return!t||aN(t)?e:t}const lN=zf();function Bf(e=lN){return tR(e)}function cN({styles:e,themeId:t,defaultTheme:n={}}){const o=Bf(n),c=typeof e=="function"?e(t&&o[t]||o):e;return oe.jsx(HM,{styles:c})}const uN=e=>{var o;const t={systemProps:{},otherProps:{}},n=((o=e==null?void 0:e.theme)==null?void 0:o.unstable_sxConfig)??Df;return Object.keys(e).forEach(c=>{n[c]?t.systemProps[c]=e[c]:t.otherProps[c]=e[c]}),t};function Mw(e){const{sx:t,...n}=e,{systemProps:o,otherProps:c}=uN(n);let h;return Array.isArray(t)?h=[o,...t]:typeof t=="function"?h=(...p)=>{const a=t(...p);return ia(a)?{...o,...a}:o}:h={...o,...t},{...c,sx:h}}const tE=e=>e,hN=()=>{let e=tE;return{configure(t){e=t},generate(t){return e(t)},reset(){e=tE}}},dN=hN(),nR=dN;function rR(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(n=rR(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Ft(){for(var e,t,n=0,o="",c=arguments.length;n<c;n++)(e=arguments[n])&&(t=rR(e))&&(o&&(o+=" "),o+=t);return o}function pN(e={}){const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:c}=e,h=ZM("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Oc);return q.forwardRef(function(b,w){const E=Bf(n),{className:A,component:I="div",...L}=Mw(b);return oe.jsx(h,{as:I,ref:w,className:Ft(A,c?c(o):o),theme:t&&E[t]||E,...L})})}const fN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mn(e,t,n="Mui"){const o=fN[t];return o?`${n}-${o}`:`${nR.generate(e)}-${t}`}function hn(e,t,n="Mui"){const o={};return t.forEach(c=>{o[c]=mn(e,c,n)}),o}function iR(e){const{variants:t,...n}=e,o={variants:t,style:JT(n),isProcessed:!0};return o.style===n||t&&t.forEach(c=>{typeof c.style!="function"&&(c.style=JT(c.style))}),o}const mN=zf();function Z_(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function gN(e){return e?(t,n)=>n[e]:null}function yN(e,t,n){e.theme=_N(e.theme)?n:e.theme[t]||e.theme}function Gg(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(o=>Gg(e,o));if(Array.isArray(n==null?void 0:n.variants)){let o;if(n.isProcessed)o=n.style;else{const{variants:c,...h}=n;o=h}return oR(e,n.variants,[o])}return n!=null&&n.isProcessed?n.style:n}function oR(e,t,n=[]){var c;let o;e:for(let h=0;h<t.length;h+=1){const p=t[h];if(typeof p.props=="function"){if(o??(o={...e,...e.ownerState,ownerState:e.ownerState}),!p.props(o))continue}else for(const a in p.props)if(e[a]!==p.props[a]&&((c=e.ownerState)==null?void 0:c[a])!==p.props[a])continue e;typeof p.style=="function"?(o??(o={...e,...e.ownerState,ownerState:e.ownerState}),n.push(p.style(o))):n.push(p.style)}return n}function sR(e={}){const{themeId:t,defaultTheme:n=mN,rootShouldForwardProp:o=Z_,slotShouldForwardProp:c=Z_}=e;function h(a){yN(a,t,n)}return(a,b={})=>{s6(a,ie=>ie.filter(de=>de!==Oc));const{name:w,slot:E,skipVariantsResolver:A,skipSx:I,overridesResolver:L=gN(bN(E)),...F}=b,j=A!==void 0?A:E&&E!=="Root"&&E!=="root"||!1,K=I||!1;let B=Z_;E==="Root"||E==="root"?B=o:E?B=c:xN(a)&&(B=void 0);const V=ZM(a,{shouldForwardProp:B,label:vN(),...F}),$=ie=>{if(typeof ie=="function"&&ie.__emotion_real!==ie)return function(ye){return Gg(ye,ie)};if(ia(ie)){const de=iR(ie);return de.variants?function(me){return Gg(me,de)}:de.style}return ie},J=(...ie)=>{const de=[],ye=ie.map($),me=[];if(de.push(h),w&&L&&me.push(function(Le){var Ge,Ye;const qe=(Ye=(Ge=Le.theme.components)==null?void 0:Ge[w])==null?void 0:Ye.styleOverrides;if(!qe)return null;const Oe={};for(const De in qe)Oe[De]=Gg(Le,qe[De]);return L(Le,Oe)}),w&&!j&&me.push(function(Le){var Oe,Ge;const Ue=Le.theme,qe=(Ge=(Oe=Ue==null?void 0:Ue.components)==null?void 0:Oe[w])==null?void 0:Ge.variants;return qe?oR(Le,qe):null}),K||me.push(Oc),Array.isArray(ye[0])){const Te=ye.shift(),Le=new Array(de.length).fill(""),Ue=new Array(me.length).fill("");let qe;qe=[...Le,...Te,...Ue],qe.raw=[...Le,...Te.raw,...Ue],de.unshift(qe)}const ke=[...de,...ye,...me],G=V(...ke);return a.muiName&&(G.muiName=a.muiName),G};return V.withConfig&&(J.withConfig=V.withConfig),J}}function vN(e,t){let n;return n}function _N(e){for(const t in e)return!1;return!0}function xN(e){return typeof e=="string"&&e.charCodeAt(0)>96}function bN(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const wN=sR(),aR=wN;function af(e,t){const n={...t};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const c=o;if(c==="components"||c==="slots")n[c]={...e[c],...n[c]};else if(c==="componentsProps"||c==="slotProps"){const h=e[c],p=t[c];if(!p)n[c]=h||{};else if(!h)n[c]=p;else{n[c]={...p};for(const a in h)if(Object.prototype.hasOwnProperty.call(h,a)){const b=a;n[c][b]=af(h[b],p[b])}}}else n[c]===void 0&&(n[c]=e[c])}return n}function SN(e){const{theme:t,name:n,props:o}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?o:af(t.components[n].defaultProps,o)}function lR({props:e,name:t,defaultTheme:n,themeId:o}){let c=Bf(n);return o&&(c=c[o]||c),SN({theme:c,name:t,props:e})}const CN=typeof window<"u"?q.useLayoutEffect:q.useEffect,Ga=CN;function TN(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Rw(e,t=0,n=1){return TN(e,t,n)}function EN(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(o=>o+o)),n?`rgb${n.length===4?"a":""}(${n.map((o,c)=>c<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Fl(e){if(e.type)return e;if(e.charAt(0)==="#")return Fl(EN(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ua(9,e));let o=e.substring(t+1,e.length-1),c;if(n==="color"){if(o=o.split(" "),c=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(c))throw new Error(Ua(10,c))}else o=o.split(",");return o=o.map(h=>parseFloat(h)),{type:n,values:o,colorSpace:c}}const PN=e=>{const t=Fl(e);return t.values.slice(0,3).map((n,o)=>t.type.includes("hsl")&&o!==0?`${n}%`:n).join(" ")},gp=(e,t)=>{try{return PN(e)}catch{return e}};function W0(e){const{type:t,colorSpace:n}=e;let{values:o}=e;return t.includes("rgb")?o=o.map((c,h)=>h<3?parseInt(c,10):c):t.includes("hsl")&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.includes("color")?o=`${n} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function cR(e){e=Fl(e);const{values:t}=e,n=t[0],o=t[1]/100,c=t[2]/100,h=o*Math.min(c,1-c),p=(w,E=(w+n/30)%12)=>c-h*Math.max(Math.min(E-3,9-E,1),-1);let a="rgb";const b=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return e.type==="hsla"&&(a+="a",b.push(t[3])),W0({type:a,values:b})}function S1(e){e=Fl(e);let t=e.type==="hsl"||e.type==="hsla"?Fl(cR(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function AN(e,t){const n=S1(e),o=S1(t);return(Math.max(n,o)+.05)/(Math.min(n,o)+.05)}function yo(e,t){return e=Fl(e),t=Rw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,W0(e)}function mg(e,t,n){try{return yo(e,t)}catch{return e}}function lf(e,t){if(e=Fl(e),t=Rw(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return W0(e)}function Kn(e,t,n){try{return lf(e,t)}catch{return e}}function cf(e,t){if(e=Fl(e),t=Rw(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return W0(e)}function Xn(e,t,n){try{return cf(e,t)}catch{return e}}function uR(e,t=.15){return S1(e)>.5?lf(e,t):cf(e,t)}function gg(e,t,n){try{return uR(e,t)}catch{return e}}function nE(...e){return e.reduce((t,n)=>n==null?t:function(...c){t.apply(this,c),n.apply(this,c)},()=>{})}function hR(e,t=166){let n;function o(...c){const h=()=>{e.apply(this,c)};clearTimeout(n),n=setTimeout(h,t)}return o.clear=()=>{clearTimeout(n)},o}function qg(e,t){var n,o,c;return q.isValidElement(e)&&t.indexOf(e.type.muiName??((c=(o=(n=e.type)==null?void 0:n._payload)==null?void 0:o.value)==null?void 0:c.muiName))!==-1}function wo(e){return e&&e.ownerDocument||document}function qa(e){return wo(e).defaultView||window}function rE(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let iE=0;function kN(e){const[t,n]=q.useState(e),o=e||t;return q.useEffect(()=>{t==null&&(iE+=1,n(`mui-${iE}`))},[t]),o}const IN={...iy},oE=IN.useId;function Of(e){if(oE!==void 0){const t=oE();return e??t}return kN(e)}function sE({controlled:e,default:t,name:n,state:o="value"}){const{current:c}=q.useRef(e!==void 0),[h,p]=q.useState(t),a=c?e:h,b=q.useCallback(w=>{c||p(w)},[]);return[a,b]}function ua(e){const t=q.useRef(e);return Ga(()=>{t.current=e}),q.useRef((...n)=>(0,t.current)(...n)).current}function Ui(...e){const t=q.useRef(void 0),n=q.useCallback(o=>{const c=e.map(h=>{if(h==null)return null;if(typeof h=="function"){const p=h,a=p(o);return typeof a=="function"?a:()=>{p(null)}}return h.current=o,()=>{h.current=null}});return()=>{c.forEach(h=>h==null?void 0:h())}},e);return q.useMemo(()=>e.every(o=>o==null)?null:o=>{t.current&&(t.current(),t.current=void 0),o!=null&&(t.current=n(o))},e)}const aE={};function dR(e,t){const n=q.useRef(aE);return n.current===aE&&(n.current=e(t)),n}const MN=[];function RN(e){q.useEffect(e,MN)}class Lw{constructor(){Hd(this,"currentId",null);Hd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Hd(this,"disposeEffect",()=>this.clear)}static create(){return new Lw}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Dw(){const e=dR(Lw.create).current;return RN(e.disposeEffect),e}function lE(e){try{return e.matches(":focus-visible")}catch{}return!1}function pR(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function gn(e,t,n=void 0){const o={};for(const c in e){const h=e[c];let p="",a=!0;for(let b=0;b<h.length;b+=1){const w=h[b];w&&(p+=(a===!0?"":" ")+t(w),a=!1,n&&n[w]&&(p+=" "+n[w]))}o[c]=p}return o}function LN(e){return typeof e=="string"}function fR(e,t,n){return e===void 0||LN(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Dy(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{n[o]=e[o]}),n}function cE(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function mR(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:o,externalForwardedProps:c,className:h}=e;if(!t){const L=Ft(n==null?void 0:n.className,h,c==null?void 0:c.className,o==null?void 0:o.className),F={...n==null?void 0:n.style,...c==null?void 0:c.style,...o==null?void 0:o.style},j={...n,...c,...o};return L.length>0&&(j.className=L),Object.keys(F).length>0&&(j.style=F),{props:j,internalRef:void 0}}const p=Dy({...c,...o}),a=cE(o),b=cE(c),w=t(p),E=Ft(w==null?void 0:w.className,n==null?void 0:n.className,h,c==null?void 0:c.className,o==null?void 0:o.className),A={...w==null?void 0:w.style,...n==null?void 0:n.style,...c==null?void 0:c.style,...o==null?void 0:o.style},I={...w,...n,...b,...a};return E.length>0&&(I.className=E),Object.keys(A).length>0&&(I.style=A),{props:I,internalRef:w.ref}}function gR(e,t,n){return typeof e=="function"?e(t,n):e}function DN(e){var A;const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:c=!1,...h}=e,p=c?{}:gR(n,o),{props:a,internalRef:b}=mR({...h,externalSlotProps:p}),w=Ui(b,p==null?void 0:p.ref,(A=e.additionalProps)==null?void 0:A.ref);return fR(t,{...a,ref:w},o)}function Mh(e){var t;return parseInt(q.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const zN=q.createContext(null),yR=zN;function zw(){return q.useContext(yR)}const BN=typeof Symbol=="function"&&Symbol.for,ON=BN?Symbol.for("mui.nested"):"__THEME_NESTED__";function FN(e,t){return typeof t=="function"?t(e):{...e,...t}}function NN(e){const{children:t,theme:n}=e,o=zw(),c=q.useMemo(()=>{const h=o===null?{...n}:FN(o,n);return h!=null&&(h[ON]=o!==null),h},[n,o]);return oe.jsx(yR.Provider,{value:c,children:t})}const vR=q.createContext();function $N({value:e,...t}){return oe.jsx(vR.Provider,{value:e??!0,...t})}const VN=()=>q.useContext(vR)??!1,_R=q.createContext(void 0);function jN({value:e,children:t}){return oe.jsx(_R.Provider,{value:e,children:t})}function UN(e){const{theme:t,name:n,props:o}=e;if(!t||!t.components||!t.components[n])return o;const c=t.components[n];return c.defaultProps?af(c.defaultProps,o):!c.styleOverrides&&!c.variants?af(c,o):o}function WN({props:e,name:t}){const n=q.useContext(_R);return UN({props:e,name:t,theme:{components:n}})}const uE={};function hE(e,t,n,o=!1){return q.useMemo(()=>{const c=e&&t[e]||t;if(typeof n=="function"){const h=n(c),p=e?{...t,[e]:h}:h;return o?()=>p:p}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,o])}function xR(e){const{children:t,theme:n,themeId:o}=e,c=tR(uE),h=zw()||uE,p=hE(o,c,n),a=hE(o,h,n,!0),b=(o?p[o]:p).direction==="rtl";return oe.jsx(NN,{theme:a,children:oe.jsx(If.Provider,{value:p,children:oe.jsx($N,{value:b,children:oe.jsx(jN,{value:o?p[o].components:p.components,children:t})})})})}const dE={theme:void 0};function GN(e){let t,n;return function(c){let h=t;return(h===void 0||c.theme!==n)&&(dE.theme=c.theme,h=iR(e(dE)),t=h,n=c.theme),h}}const Bw="mode",Ow="color-scheme",qN="data-color-scheme";function HN(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:o="dark",modeStorageKey:c=Bw,colorSchemeStorageKey:h=Ow,attribute:p=qN,colorSchemeNode:a="document.documentElement",nonce:b}=e||{};let w="",E=p;if(p==="class"&&(E=".%s"),p==="data"&&(E="[data-%s]"),E.startsWith(".")){const I=E.substring(1);w+=`${a}.classList.remove('${I}'.replace('%s', light), '${I}'.replace('%s', dark));
      ${a}.classList.add('${I}'.replace('%s', colorScheme));`}const A=E.match(/\[([^\]]+)\]/);if(A){const[I,L]=A[1].split("=");L||(w+=`${a}.removeAttribute('${I}'.replace('%s', light));
      ${a}.removeAttribute('${I}'.replace('%s', dark));`),w+=`
      ${a}.setAttribute('${I}'.replace('%s', colorScheme), ${L?`${L}.replace('%s', colorScheme)`:'""'});`}else w+=`${a}.setAttribute('${E}', colorScheme);`;return oe.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?b:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${c}') || '${t}';
  const dark = localStorage.getItem('${h}-dark') || '${o}';
  const light = localStorage.getItem('${h}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${w}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ZN(){}const KN=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let o;try{o=t.localStorage.getItem(e)}catch{}return o||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return ZN;const o=c=>{const h=c.newValue;c.key===e&&n(h)};return t.addEventListener("storage",o),()=>{t.removeEventListener("storage",o)}}}),XN=KN;function K_(){}function pE(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function bR(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function YN(e){return bR(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function JN(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:o,supportedColorSchemes:c=[],modeStorageKey:h=Bw,colorSchemeStorageKey:p=Ow,storageWindow:a=typeof window>"u"?void 0:window,storageManager:b=XN,noSsr:w=!1}=e,E=c.join(","),A=c.length>1,I=q.useMemo(()=>b==null?void 0:b({key:h,storageWindow:a}),[b,h,a]),L=q.useMemo(()=>b==null?void 0:b({key:`${p}-light`,storageWindow:a}),[b,p,a]),F=q.useMemo(()=>b==null?void 0:b({key:`${p}-dark`,storageWindow:a}),[b,p,a]),[j,K]=q.useState(()=>{const me=(I==null?void 0:I.get(t))||t,ke=(L==null?void 0:L.get(n))||n,G=(F==null?void 0:F.get(o))||o;return{mode:me,systemMode:pE(me),lightColorScheme:ke,darkColorScheme:G}}),[B,V]=q.useState(w||!A);q.useEffect(()=>{V(!0)},[]);const $=YN(j),J=q.useCallback(me=>{K(ke=>{if(me===ke.mode)return ke;const G=me??t;return I==null||I.set(G),{...ke,mode:G,systemMode:pE(G)}})},[I,t]),ie=q.useCallback(me=>{me?typeof me=="string"?me&&!E.includes(me)?console.error(`\`${me}\` does not exist in \`theme.colorSchemes\`.`):K(ke=>{const G={...ke};return bR(ke,Te=>{Te==="light"&&(L==null||L.set(me),G.lightColorScheme=me),Te==="dark"&&(F==null||F.set(me),G.darkColorScheme=me)}),G}):K(ke=>{const G={...ke},Te=me.light===null?n:me.light,Le=me.dark===null?o:me.dark;return Te&&(E.includes(Te)?(G.lightColorScheme=Te,L==null||L.set(Te)):console.error(`\`${Te}\` does not exist in \`theme.colorSchemes\`.`)),Le&&(E.includes(Le)?(G.darkColorScheme=Le,F==null||F.set(Le)):console.error(`\`${Le}\` does not exist in \`theme.colorSchemes\`.`)),G}):K(ke=>(L==null||L.set(n),F==null||F.set(o),{...ke,lightColorScheme:n,darkColorScheme:o}))},[E,L,F,n,o]),de=q.useCallback(me=>{j.mode==="system"&&K(ke=>{const G=me!=null&&me.matches?"dark":"light";return ke.systemMode===G?ke:{...ke,systemMode:G}})},[j.mode]),ye=q.useRef(de);return ye.current=de,q.useEffect(()=>{if(typeof window.matchMedia!="function"||!A)return;const me=(...G)=>ye.current(...G),ke=window.matchMedia("(prefers-color-scheme: dark)");return ke.addListener(me),me(ke),()=>{ke.removeListener(me)}},[A]),q.useEffect(()=>{if(A){const me=(I==null?void 0:I.subscribe(Te=>{(!Te||["light","dark","system"].includes(Te))&&J(Te||t)}))||K_,ke=(L==null?void 0:L.subscribe(Te=>{(!Te||E.match(Te))&&ie({light:Te})}))||K_,G=(F==null?void 0:F.subscribe(Te=>{(!Te||E.match(Te))&&ie({dark:Te})}))||K_;return()=>{me(),ke(),G()}}},[ie,J,E,t,a,A,I,L,F]),{...j,mode:B?j.mode:void 0,systemMode:B?j.systemMode:void 0,colorScheme:B?$:void 0,setMode:J,setColorScheme:ie}}const QN="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function e$(e){const{themeId:t,theme:n={},modeStorageKey:o=Bw,colorSchemeStorageKey:c=Ow,disableTransitionOnChange:h=!1,defaultColorScheme:p,resolveTheme:a}=e,b={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},w=q.createContext(void 0),E=()=>q.useContext(w)||b,A={},I={};function L(B){var ui,Vr,Ti,ei;const{children:V,theme:$,modeStorageKey:J=o,colorSchemeStorageKey:ie=c,disableTransitionOnChange:de=h,storageManager:ye,storageWindow:me=typeof window>"u"?void 0:window,documentNode:ke=typeof document>"u"?void 0:document,colorSchemeNode:G=typeof document>"u"?void 0:document.documentElement,disableNestedContext:Te=!1,disableStyleSheetGeneration:Le=!1,defaultMode:Ue="system",forceThemeRerender:qe=!1,noSsr:Oe}=B,Ge=q.useRef(!1),Ye=zw(),De=q.useContext(w),Re=!!De&&!Te,et=q.useMemo(()=>$||(typeof n=="function"?n():n),[$]),pt=et[t],ut=pt||et,{colorSchemes:ct=A,components:Dt=I,cssVarPrefix:Gt}=ut,dn=Object.keys(ct).filter(Cn=>!!ct[Cn]).join(","),Yt=q.useMemo(()=>dn.split(","),[dn]),In=typeof p=="string"?p:p.light,Zt=typeof p=="string"?p:p.dark,xt=ct[In]&&ct[Zt]?Ue:((Vr=(ui=ct[ut.defaultColorScheme])==null?void 0:ui.palette)==null?void 0:Vr.mode)||((Ti=ut.palette)==null?void 0:Ti.mode),{mode:qt,setMode:jt,systemMode:$t,lightColorScheme:Pt,darkColorScheme:Ht,colorScheme:ir,setColorScheme:On}=JN({supportedColorSchemes:Yt,defaultLightColorScheme:In,defaultDarkColorScheme:Zt,modeStorageKey:J,colorSchemeStorageKey:ie,defaultMode:xt,storageManager:ye,storageWindow:me,noSsr:Oe});let Sn=qt,Pn=ir;Re&&(Sn=De.mode,Pn=De.colorScheme);let Ie=Pn||ut.defaultColorScheme;ut.vars&&!qe&&(Ie=ut.defaultColorScheme);const Jt=q.useMemo(()=>{var Ze;const Cn=((Ze=ut.generateThemeVars)==null?void 0:Ze.call(ut))||ut.vars,Rt={...ut,components:Dt,colorSchemes:ct,cssVarPrefix:Gt,vars:Cn};if(typeof Rt.generateSpacing=="function"&&(Rt.spacing=Rt.generateSpacing()),Ie){const Fn=ct[Ie];Fn&&typeof Fn=="object"&&Object.keys(Fn).forEach(sn=>{Fn[sn]&&typeof Fn[sn]=="object"?Rt[sn]={...Rt[sn],...Fn[sn]}:Rt[sn]=Fn[sn]})}return a?a(Rt):Rt},[ut,Ie,Dt,ct,Gt]),ft=ut.colorSchemeSelector;Ga(()=>{if(Pn&&G&&ft&&ft!=="media"){const Cn=ft;let Rt=ft;if(Cn==="class"&&(Rt=".%s"),Cn==="data"&&(Rt="[data-%s]"),Cn!=null&&Cn.startsWith("data-")&&!Cn.includes("%s")&&(Rt=`[${Cn}="%s"]`),Rt.startsWith("."))G.classList.remove(...Yt.map(Ze=>Rt.substring(1).replace("%s",Ze))),G.classList.add(Rt.substring(1).replace("%s",Pn));else{const Ze=Rt.replace("%s",Pn).match(/\[([^\]]+)\]/);if(Ze){const[Fn,sn]=Ze[1].split("=");sn||Yt.forEach(At=>{G.removeAttribute(Fn.replace(Pn,At))}),G.setAttribute(Fn,sn?sn.replace(/"|'/g,""):"")}else G.setAttribute(Rt,Pn)}}},[Pn,ft,G,Yt]),q.useEffect(()=>{let Cn;if(de&&Ge.current&&ke){const Rt=ke.createElement("style");Rt.appendChild(ke.createTextNode(QN)),ke.head.appendChild(Rt),window.getComputedStyle(ke.body),Cn=setTimeout(()=>{ke.head.removeChild(Rt)},1)}return()=>{clearTimeout(Cn)}},[Pn,de,ke]),q.useEffect(()=>(Ge.current=!0,()=>{Ge.current=!1}),[]);const nn=q.useMemo(()=>({allColorSchemes:Yt,colorScheme:Pn,darkColorScheme:Ht,lightColorScheme:Pt,mode:Sn,setColorScheme:On,setMode:jt,systemMode:$t}),[Yt,Pn,Ht,Pt,Sn,On,jt,$t,Jt.colorSchemeSelector]);let Mt=!0;(Le||ut.cssVariables===!1||Re&&(Ye==null?void 0:Ye.cssVarPrefix)===Gt)&&(Mt=!1);const wr=oe.jsxs(q.Fragment,{children:[oe.jsx(xR,{themeId:pt?t:void 0,theme:Jt,children:V}),Mt&&oe.jsx(HM,{styles:((ei=Jt.generateStyleSheets)==null?void 0:ei.call(Jt))||[]})]});return Re?wr:oe.jsx(w.Provider,{value:nn,children:wr})}const F=typeof p=="string"?p:p.light,j=typeof p=="string"?p:p.dark;return{CssVarsProvider:L,useColorScheme:E,getInitColorSchemeScript:B=>HN({colorSchemeStorageKey:c,defaultLightColorScheme:F,defaultDarkColorScheme:j,modeStorageKey:o,...B})}}function t$(e=""){function t(...o){if(!o.length)return"";const c=o[0];return typeof c=="string"&&!c.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${c}${t(...o.slice(1))})`:`, ${c}`}return(o,...c)=>`var(--${e?`${e}-`:""}${o}${t(...c)})`}const fE=(e,t,n,o=[])=>{let c=e;t.forEach((h,p)=>{p===t.length-1?Array.isArray(c)?c[Number(h)]=n:c&&typeof c=="object"&&(c[h]=n):c&&typeof c=="object"&&(c[h]||(c[h]=o.includes(h)?[]:{}),c=c[h])})},n$=(e,t,n)=>{function o(c,h=[],p=[]){Object.entries(c).forEach(([a,b])=>{(!n||n&&!n([...h,a]))&&b!=null&&(typeof b=="object"&&Object.keys(b).length>0?o(b,[...h,a],Array.isArray(b)?[...p,a]:p):t([...h,a],b,p))})}o(e)},r$=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(o=>e.includes(o))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function X_(e,t){const{prefix:n,shouldSkipGeneratingVar:o}=t||{},c={},h={},p={};return n$(e,(a,b,w)=>{if((typeof b=="string"||typeof b=="number")&&(!o||!o(a,b))){const E=`--${n?`${n}-`:""}${a.join("-")}`,A=r$(a,b);Object.assign(c,{[E]:A}),fE(h,a,`var(${E})`,w),fE(p,a,`var(${E}, ${A})`,w)}},a=>a[0]==="vars"),{css:c,vars:h,varsWithDefaults:p}}function i$(e,t={}){const{getSelector:n=K,disableCssColorScheme:o,colorSchemeSelector:c}=t,{colorSchemes:h={},components:p,defaultColorScheme:a="light",...b}=e,{vars:w,css:E,varsWithDefaults:A}=X_(b,t);let I=A;const L={},{[a]:F,...j}=h;if(Object.entries(j||{}).forEach(([$,J])=>{const{vars:ie,css:de,varsWithDefaults:ye}=X_(J,t);I=Vi(I,ye),L[$]={css:de,vars:ie}}),F){const{css:$,vars:J,varsWithDefaults:ie}=X_(F,t);I=Vi(I,ie),L[a]={css:$,vars:J}}function K($,J){var de,ye;let ie=c;if(c==="class"&&(ie=".%s"),c==="data"&&(ie="[data-%s]"),c!=null&&c.startsWith("data-")&&!c.includes("%s")&&(ie=`[${c}="%s"]`),$){if(ie==="media")return e.defaultColorScheme===$?":root":{[`@media (prefers-color-scheme: ${((ye=(de=h[$])==null?void 0:de.palette)==null?void 0:ye.mode)||$})`]:{":root":J}};if(ie)return e.defaultColorScheme===$?`:root, ${ie.replace("%s",String($))}`:ie.replace("%s",String($))}return":root"}return{vars:I,generateThemeVars:()=>{let $={...w};return Object.entries(L).forEach(([,{vars:J}])=>{$=Vi($,J)}),$},generateStyleSheets:()=>{var me,ke;const $=[],J=e.defaultColorScheme||"light";function ie(G,Te){Object.keys(Te).length&&$.push(typeof G=="string"?{[G]:{...Te}}:G)}ie(n(void 0,{...E}),E);const{[J]:de,...ye}=L;if(de){const{css:G}=de,Te=(ke=(me=h[J])==null?void 0:me.palette)==null?void 0:ke.mode,Le=!o&&Te?{colorScheme:Te,...G}:{...G};ie(n(J,{...Le}),Le)}return Object.entries(ye).forEach(([G,{css:Te}])=>{var qe,Oe;const Le=(Oe=(qe=h[G])==null?void 0:qe.palette)==null?void 0:Oe.mode,Ue=!o&&Le?{colorScheme:Le,...Te}:{...Te};ie(n(G,{...Ue}),Ue)}),$}}}function o$(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const s$=zf(),a$=aR("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${St(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),l$=e=>lR({props:e,name:"MuiContainer",defaultTheme:s$}),c$=(e,t)=>{const n=b=>mn(t,b),{classes:o,fixed:c,disableGutters:h,maxWidth:p}=e,a={root:["root",p&&`maxWidth${St(String(p))}`,c&&"fixed",h&&"disableGutters"]};return gn(a,n,o)};function u$(e={}){const{createStyledComponent:t=a$,useThemeProps:n=l$,componentName:o="MuiContainer"}=e,c=t(({theme:p,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:p.spacing(2),paddingRight:p.spacing(2),[p.breakpoints.up("sm")]:{paddingLeft:p.spacing(3),paddingRight:p.spacing(3)}}}),({theme:p,ownerState:a})=>a.fixed&&Object.keys(p.breakpoints.values).reduce((b,w)=>{const E=w,A=p.breakpoints.values[E];return A!==0&&(b[p.breakpoints.up(E)]={maxWidth:`${A}${p.breakpoints.unit}`}),b},{}),({theme:p,ownerState:a})=>({...a.maxWidth==="xs"&&{[p.breakpoints.up("xs")]:{maxWidth:Math.max(p.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[p.breakpoints.up(a.maxWidth)]:{maxWidth:`${p.breakpoints.values[a.maxWidth]}${p.breakpoints.unit}`}}}));return q.forwardRef(function(a,b){const w=n(a),{className:E,component:A="div",disableGutters:I=!1,fixed:L=!1,maxWidth:F="lg",classes:j,...K}=w,B={...w,component:A,disableGutters:I,fixed:L,maxWidth:F},V=c$(B,o);return oe.jsx(c,{as:A,ownerState:B,className:Ft(V.root,E),ref:b,...K})})}const h$=(e,t)=>e.filter(n=>t.includes(n)),Rh=(e,t,n)=>{const o=e.keys[0];Array.isArray(t)?t.forEach((c,h)=>{n((p,a)=>{h<=e.keys.length-1&&(h===0?Object.assign(p,a):p[e.up(e.keys[h])]=a)},c)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:h$(e.keys,Object.keys(t))).forEach(h=>{if(e.keys.includes(h)){const p=t[h];p!==void 0&&n((a,b)=>{o===h?Object.assign(a,b):a[e.up(h)]=b},p)}}):(typeof t=="number"||typeof t=="string")&&n((c,h)=>{Object.assign(c,h)},t)};function zy(e){return`--Grid-${e}Spacing`}function G0(e){return`--Grid-parent-${e}Spacing`}const mE="--Grid-columns",uh="--Grid-parent-columns",d$=({theme:e,ownerState:t})=>{const n={};return Rh(e.breakpoints,t.size,(o,c)=>{let h={};c==="grow"&&(h={flexBasis:0,flexGrow:1,maxWidth:"100%"}),c==="auto"&&(h={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof c=="number"&&(h={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${c} / var(${uh}) - (var(${uh}) - ${c}) * (var(${G0("column")}) / var(${uh})))`}),o(n,h)}),n},p$=({theme:e,ownerState:t})=>{const n={};return Rh(e.breakpoints,t.offset,(o,c)=>{let h={};c==="auto"&&(h={marginLeft:"auto"}),typeof c=="number"&&(h={marginLeft:c===0?"0px":`calc(100% * ${c} / var(${uh}) + var(${G0("column")}) * ${c} / var(${uh}))`}),o(n,h)}),n},f$=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={[mE]:12};return Rh(e.breakpoints,t.columns,(o,c)=>{const h=c??12;o(n,{[mE]:h,"> *":{[uh]:h}})}),n},m$=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rh(e.breakpoints,t.rowSpacing,(o,c)=>{var p;const h=typeof c=="string"?c:(p=e.spacing)==null?void 0:p.call(e,c);o(n,{[zy("row")]:h,"> *":{[G0("row")]:h}})}),n},g$=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rh(e.breakpoints,t.columnSpacing,(o,c)=>{var p;const h=typeof c=="string"?c:(p=e.spacing)==null?void 0:p.call(e,c);o(n,{[zy("column")]:h,"> *":{[G0("column")]:h}})}),n},y$=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Rh(e.breakpoints,t.direction,(o,c)=>{o(n,{flexDirection:c})}),n},v$=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${zy("row")}) var(${zy("column")})`}}),_$=e=>{const t=[];return Object.entries(e).forEach(([n,o])=>{o!==!1&&o!==void 0&&t.push(`grid-${n}-${String(o)}`)}),t},x$=(e,t="xs")=>{function n(o){return o===void 0?!1:typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number"&&o>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const o=[];return Object.entries(e).forEach(([c,h])=>{n(h)&&o.push(`spacing-${c}-${String(h)}`)}),o}return[]},b$=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`];function w$(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(n=>{e[n]!==void 0&&delete e[n]})}const S$=zf(),C$=aR("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function T$(e){return lR({props:e,name:"MuiGrid",defaultTheme:S$})}function E$(e={}){const{createStyledComponent:t=C$,useThemeProps:n=T$,useTheme:o=Bf,componentName:c="MuiGrid"}=e,h=(w,E)=>{const{container:A,direction:I,spacing:L,wrap:F,size:j}=w,K={root:["root",A&&"container",F!=="wrap"&&`wrap-xs-${String(F)}`,...b$(I),..._$(j),...A?x$(L,E.breakpoints.keys[0]):[]]};return gn(K,B=>mn(c,B),{})};function p(w,E,A=()=>!0){const I={};return w===null||(Array.isArray(w)?w.forEach((L,F)=>{L!==null&&A(L)&&E.keys[F]&&(I[E.keys[F]]=L)}):typeof w=="object"?Object.keys(w).forEach(L=>{const F=w[L];F!=null&&A(F)&&(I[L]=F)}):I[E.keys[0]]=w),I}const a=t(f$,g$,m$,d$,y$,v$,p$),b=q.forwardRef(function(E,A){const I=o(),L=n(E),F=Mw(L);w$(F,I.breakpoints);const{className:j,children:K,columns:B=12,container:V=!1,component:$="div",direction:J="row",wrap:ie="wrap",size:de={},offset:ye={},spacing:me=0,rowSpacing:ke=me,columnSpacing:G=me,unstable_level:Te=0,...Le}=F,Ue=p(de,I.breakpoints,pt=>pt!==!1),qe=p(ye,I.breakpoints),Oe=E.columns??(Te?void 0:B),Ge=E.spacing??(Te?void 0:me),Ye=E.rowSpacing??E.spacing??(Te?void 0:ke),De=E.columnSpacing??E.spacing??(Te?void 0:G),Re={...F,level:Te,columns:Oe,container:V,direction:J,wrap:ie,spacing:Ge,rowSpacing:Ye,columnSpacing:De,size:Ue,offset:qe},et=h(Re,I);return oe.jsx(a,{ref:A,as:$,ownerState:Re,className:Ft(et.root,j),...Le,children:q.Children.map(K,pt=>{var ut;return q.isValidElement(pt)&&qg(pt,["Grid"])&&V&&pt.props.container?q.cloneElement(pt,{unstable_level:((ut=pt.props)==null?void 0:ut.unstable_level)??Te+1}):pt})})});return b.muiName="Grid",b}const P$={black:"#000",white:"#fff"},uf=P$,A$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},k$=A$,I$={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Iu=I$,M$={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Mu=M$,R$={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rp=R$,L$={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ru=L$,D$={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Lu=D$,z$={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Du=z$;function wR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uf.white,default:uf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const B$=wR();function SR(){return{text:{primary:uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gE=SR();function yE(e,t,n,o){const c=o.light||o,h=o.dark||o*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=cf(e.main,c):t==="dark"&&(e.dark=lf(e.main,h)))}function O$(e="light"){return e==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[700],light:Ru[400],dark:Ru[800]}}function F$(e="light"){return e==="dark"?{main:Iu[200],light:Iu[50],dark:Iu[400]}:{main:Iu[500],light:Iu[300],dark:Iu[700]}}function N$(e="light"){return e==="dark"?{main:Mu[500],light:Mu[300],dark:Mu[700]}:{main:Mu[700],light:Mu[400],dark:Mu[800]}}function $$(e="light"){return e==="dark"?{main:Lu[400],light:Lu[300],dark:Lu[700]}:{main:Lu[700],light:Lu[500],dark:Lu[900]}}function V$(e="light"){return e==="dark"?{main:Du[400],light:Du[300],dark:Du[700]}:{main:Du[800],light:Du[500],dark:Du[900]}}function j$(e="light"){return e==="dark"?{main:rp[400],light:rp[300],dark:rp[700]}:{main:"#ed6c02",light:rp[500],dark:rp[900]}}function Fw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:o=.2,...c}=e,h=e.primary||O$(t),p=e.secondary||F$(t),a=e.error||N$(t),b=e.info||$$(t),w=e.success||V$(t),E=e.warning||j$(t);function A(j){return AN(j,gE.text.primary)>=n?gE.text.primary:B$.text.primary}const I=({color:j,name:K,mainShade:B=500,lightShade:V=300,darkShade:$=700})=>{if(j={...j},!j.main&&j[B]&&(j.main=j[B]),!j.hasOwnProperty("main"))throw new Error(Ua(11,K?` (${K})`:"",B));if(typeof j.main!="string")throw new Error(Ua(12,K?` (${K})`:"",JSON.stringify(j.main)));return yE(j,"light",V,o),yE(j,"dark",$,o),j.contrastText||(j.contrastText=A(j.main)),j};let L;return t==="light"?L=wR():t==="dark"&&(L=SR()),Vi({common:{...uf},mode:t,primary:I({color:h,name:"primary"}),secondary:I({color:p,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:a,name:"error"}),warning:I({color:E,name:"warning"}),info:I({color:b,name:"info"}),success:I({color:w,name:"success"}),grey:k$,contrastThreshold:n,getContrastText:A,augmentColor:I,tonalOffset:o,...L},c)}function U$(e){const t={};return Object.entries(e).forEach(o=>{const[c,h]=o;typeof h=="object"&&(t[c]=`${h.fontStyle?`${h.fontStyle} `:""}${h.fontVariant?`${h.fontVariant} `:""}${h.fontWeight?`${h.fontWeight} `:""}${h.fontStretch?`${h.fontStretch} `:""}${h.fontSize||""}${h.lineHeight?`/${h.lineHeight} `:""}${h.fontFamily||""}`)}),t}function W$(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function G$(e){return Math.round(e*1e5)/1e5}const vE={textTransform:"uppercase"},_E='"Roboto", "Helvetica", "Arial", sans-serif';function CR(e,t){const{fontFamily:n=_E,fontSize:o=14,fontWeightLight:c=300,fontWeightRegular:h=400,fontWeightMedium:p=500,fontWeightBold:a=700,htmlFontSize:b=16,allVariants:w,pxToRem:E,...A}=typeof t=="function"?t(e):t,I=o/14,L=E||(K=>`${K/b*I}rem`),F=(K,B,V,$,J)=>({fontFamily:n,fontWeight:K,fontSize:L(B),lineHeight:V,...n===_E?{letterSpacing:`${G$($/B)}em`}:{},...J,...w}),j={h1:F(c,96,1.167,-1.5),h2:F(c,60,1.2,-.5),h3:F(h,48,1.167,0),h4:F(h,34,1.235,.25),h5:F(h,24,1.334,0),h6:F(p,20,1.6,.15),subtitle1:F(h,16,1.75,.15),subtitle2:F(p,14,1.57,.1),body1:F(h,16,1.5,.15),body2:F(h,14,1.43,.15),button:F(p,14,1.75,.4,vE),caption:F(h,12,1.66,.4),overline:F(h,12,2.66,1,vE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vi({htmlFontSize:b,pxToRem:L,fontFamily:n,fontSize:o,fontWeightLight:c,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:a,...j},A,{clone:!1})}const q$=.2,H$=.14,Z$=.12;function pr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${q$})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${H$})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Z$})`].join(",")}const K$=["none",pr(0,2,1,-1,0,1,1,0,0,1,3,0),pr(0,3,1,-2,0,2,2,0,0,1,5,0),pr(0,3,3,-2,0,3,4,0,0,1,8,0),pr(0,2,4,-1,0,4,5,0,0,1,10,0),pr(0,3,5,-1,0,5,8,0,0,1,14,0),pr(0,3,5,-1,0,6,10,0,0,1,18,0),pr(0,4,5,-2,0,7,10,1,0,2,16,1),pr(0,5,5,-3,0,8,10,1,0,3,14,2),pr(0,5,6,-3,0,9,12,1,0,3,16,2),pr(0,6,6,-3,0,10,14,1,0,4,18,3),pr(0,6,7,-4,0,11,15,1,0,4,20,3),pr(0,7,8,-4,0,12,17,2,0,5,22,4),pr(0,7,8,-4,0,13,19,2,0,5,24,4),pr(0,7,9,-4,0,14,21,2,0,5,26,4),pr(0,8,9,-5,0,15,22,2,0,6,28,5),pr(0,8,10,-5,0,16,24,2,0,6,30,5),pr(0,8,11,-5,0,17,26,2,0,6,32,5),pr(0,9,11,-5,0,18,28,2,0,7,34,6),pr(0,9,12,-6,0,19,29,2,0,7,36,6),pr(0,10,13,-6,0,20,31,3,0,8,38,7),pr(0,10,13,-6,0,21,33,3,0,8,40,7),pr(0,10,14,-6,0,22,35,3,0,8,42,7),pr(0,11,14,-7,0,23,36,3,0,9,44,8),pr(0,11,15,-7,0,24,38,3,0,9,46,8)],X$=K$,Y$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},J$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xE(e){return`${Math.round(e)}ms`}function Q$(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function eV(e){const t={...Y$,...e.easing},n={...J$,...e.duration};return{getAutoHeightDuration:Q$,create:(c=["all"],h={})=>{const{duration:p=n.standard,easing:a=t.easeInOut,delay:b=0,...w}=h;return(Array.isArray(c)?c:[c]).map(E=>`${E} ${typeof p=="string"?p:xE(p)} ${a} ${typeof b=="string"?b:xE(b)}`).join(",")},...e,easing:t,duration:n}}const tV={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},nV=tV;function rV(e){return ia(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function TR(e={}){const t={...e};function n(o){const c=Object.entries(o);for(let h=0;h<c.length;h++){const[p,a]=c[h];!rV(a)||p.startsWith("unstable_")?delete o[p]:ia(a)&&(o[p]={...a},n(o[p]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function C1(e={},...t){const{breakpoints:n,mixins:o={},spacing:c,palette:h={},transitions:p={},typography:a={},shape:b,...w}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Ua(20));const E=Fw(h),A=zf(e);let I=Vi(A,{mixins:W$(A.breakpoints,o),palette:E,shadows:X$.slice(),typography:CR(E,a),transitions:eV(p),zIndex:{...nV}});return I=Vi(I,w),I=t.reduce((L,F)=>Vi(L,F),I),I.unstable_sxConfig={...Df,...w==null?void 0:w.unstable_sxConfig},I.unstable_sx=function(F){return Oc({sx:F,theme:this})},I.toRuntimeSource=TR,I}function T1(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const iV=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=T1(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function ER(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function PR(e){return e==="dark"?iV:[]}function oV(e){const{palette:t={mode:"light"},opacity:n,overlays:o,...c}=e,h=Fw(t);return{palette:h,opacity:{...ER(h.mode),...n},overlays:o||PR(h.mode),...c}}function sV(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const aV=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],lV=aV,cV=e=>(t,n)=>{const o=e.rootSelector||":root",c=e.colorSchemeSelector;let h=c;if(c==="class"&&(h=".%s"),c==="data"&&(h="[data-%s]"),c!=null&&c.startsWith("data-")&&!c.includes("%s")&&(h=`[${c}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const p={};return lV(e.cssVarPrefix).forEach(a=>{p[a]=n[a],delete n[a]}),h==="media"?{[o]:n,"@media (prefers-color-scheme: dark)":{[o]:p}}:h?{[h.replace("%s",t)]:p,[`${o}, ${h.replace("%s",t)}`]:n}:{[o]:{...n,...p}}}if(h&&h!=="media")return`${o}, ${h.replace("%s",String(t))}`}else if(t){if(h==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[o]:n}};if(h)return h.replace("%s",String(t))}return o};function uV(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function $e(e,t,n){!e[t]&&n&&(e[t]=n)}function yp(e){return typeof e!="string"||!e.startsWith("hsl")?e:cR(e)}function Ma(e,t){`${t}Channel`in e||(e[`${t}Channel`]=gp(yp(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function hV(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Ks=e=>{try{return e()}catch{}},dV=(e="mui")=>t$(e);function Y_(e,t,n,o){if(!t)return;t=t===!0?{}:t;const c=o==="dark"?"dark":"light";if(!n){e[o]=oV({...t,palette:{mode:c,...t==null?void 0:t.palette}});return}const{palette:h,...p}=C1({...n,palette:{mode:c,...t==null?void 0:t.palette}});return e[o]={...t,palette:h,opacity:{...ER(c),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||PR(c)},p}function pV(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:o,disableCssColorScheme:c=!1,cssVarPrefix:h="mui",shouldSkipGeneratingVar:p=sV,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:b=":root",...w}=e,E=Object.keys(n)[0],A=o||(n.light&&E!=="light"?"light":E),I=dV(h),{[A]:L,light:F,dark:j,...K}=n,B={...K};let V=L;if((A==="dark"&&!("dark"in n)||A==="light"&&!("light"in n))&&(V=!0),!V)throw new Error(Ua(21,A));const $=Y_(B,V,w,A);F&&!B.light&&Y_(B,F,void 0,"light"),j&&!B.dark&&Y_(B,j,void 0,"dark");let J={defaultColorScheme:A,...$,cssVarPrefix:h,colorSchemeSelector:a,rootSelector:b,getCssVar:I,colorSchemes:B,font:{...U$($.typography),...$.font},spacing:hV(w.spacing)};Object.keys(J.colorSchemes).forEach(ke=>{const G=J.colorSchemes[ke].palette,Te=Le=>{const Ue=Le.split("-"),qe=Ue[1],Oe=Ue[2];return I(Le,G[qe][Oe])};if(G.mode==="light"&&($e(G.common,"background","#fff"),$e(G.common,"onBackground","#000")),G.mode==="dark"&&($e(G.common,"background","#000"),$e(G.common,"onBackground","#fff")),uV(G,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),G.mode==="light"){$e(G.Alert,"errorColor",Kn(G.error.light,.6)),$e(G.Alert,"infoColor",Kn(G.info.light,.6)),$e(G.Alert,"successColor",Kn(G.success.light,.6)),$e(G.Alert,"warningColor",Kn(G.warning.light,.6)),$e(G.Alert,"errorFilledBg",Te("palette-error-main")),$e(G.Alert,"infoFilledBg",Te("palette-info-main")),$e(G.Alert,"successFilledBg",Te("palette-success-main")),$e(G.Alert,"warningFilledBg",Te("palette-warning-main")),$e(G.Alert,"errorFilledColor",Ks(()=>G.getContrastText(G.error.main))),$e(G.Alert,"infoFilledColor",Ks(()=>G.getContrastText(G.info.main))),$e(G.Alert,"successFilledColor",Ks(()=>G.getContrastText(G.success.main))),$e(G.Alert,"warningFilledColor",Ks(()=>G.getContrastText(G.warning.main))),$e(G.Alert,"errorStandardBg",Xn(G.error.light,.9)),$e(G.Alert,"infoStandardBg",Xn(G.info.light,.9)),$e(G.Alert,"successStandardBg",Xn(G.success.light,.9)),$e(G.Alert,"warningStandardBg",Xn(G.warning.light,.9)),$e(G.Alert,"errorIconColor",Te("palette-error-main")),$e(G.Alert,"infoIconColor",Te("palette-info-main")),$e(G.Alert,"successIconColor",Te("palette-success-main")),$e(G.Alert,"warningIconColor",Te("palette-warning-main")),$e(G.AppBar,"defaultBg",Te("palette-grey-100")),$e(G.Avatar,"defaultBg",Te("palette-grey-400")),$e(G.Button,"inheritContainedBg",Te("palette-grey-300")),$e(G.Button,"inheritContainedHoverBg",Te("palette-grey-A100")),$e(G.Chip,"defaultBorder",Te("palette-grey-400")),$e(G.Chip,"defaultAvatarColor",Te("palette-grey-700")),$e(G.Chip,"defaultIconColor",Te("palette-grey-700")),$e(G.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$e(G.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$e(G.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$e(G.LinearProgress,"primaryBg",Xn(G.primary.main,.62)),$e(G.LinearProgress,"secondaryBg",Xn(G.secondary.main,.62)),$e(G.LinearProgress,"errorBg",Xn(G.error.main,.62)),$e(G.LinearProgress,"infoBg",Xn(G.info.main,.62)),$e(G.LinearProgress,"successBg",Xn(G.success.main,.62)),$e(G.LinearProgress,"warningBg",Xn(G.warning.main,.62)),$e(G.Skeleton,"bg",`rgba(${Te("palette-text-primaryChannel")} / 0.11)`),$e(G.Slider,"primaryTrack",Xn(G.primary.main,.62)),$e(G.Slider,"secondaryTrack",Xn(G.secondary.main,.62)),$e(G.Slider,"errorTrack",Xn(G.error.main,.62)),$e(G.Slider,"infoTrack",Xn(G.info.main,.62)),$e(G.Slider,"successTrack",Xn(G.success.main,.62)),$e(G.Slider,"warningTrack",Xn(G.warning.main,.62));const Le=gg(G.background.default,.8);$e(G.SnackbarContent,"bg",Le),$e(G.SnackbarContent,"color",Ks(()=>G.getContrastText(Le))),$e(G.SpeedDialAction,"fabHoverBg",gg(G.background.paper,.15)),$e(G.StepConnector,"border",Te("palette-grey-400")),$e(G.StepContent,"border",Te("palette-grey-400")),$e(G.Switch,"defaultColor",Te("palette-common-white")),$e(G.Switch,"defaultDisabledColor",Te("palette-grey-100")),$e(G.Switch,"primaryDisabledColor",Xn(G.primary.main,.62)),$e(G.Switch,"secondaryDisabledColor",Xn(G.secondary.main,.62)),$e(G.Switch,"errorDisabledColor",Xn(G.error.main,.62)),$e(G.Switch,"infoDisabledColor",Xn(G.info.main,.62)),$e(G.Switch,"successDisabledColor",Xn(G.success.main,.62)),$e(G.Switch,"warningDisabledColor",Xn(G.warning.main,.62)),$e(G.TableCell,"border",Xn(mg(G.divider,1),.88)),$e(G.Tooltip,"bg",mg(G.grey[700],.92))}if(G.mode==="dark"){$e(G.Alert,"errorColor",Xn(G.error.light,.6)),$e(G.Alert,"infoColor",Xn(G.info.light,.6)),$e(G.Alert,"successColor",Xn(G.success.light,.6)),$e(G.Alert,"warningColor",Xn(G.warning.light,.6)),$e(G.Alert,"errorFilledBg",Te("palette-error-dark")),$e(G.Alert,"infoFilledBg",Te("palette-info-dark")),$e(G.Alert,"successFilledBg",Te("palette-success-dark")),$e(G.Alert,"warningFilledBg",Te("palette-warning-dark")),$e(G.Alert,"errorFilledColor",Ks(()=>G.getContrastText(G.error.dark))),$e(G.Alert,"infoFilledColor",Ks(()=>G.getContrastText(G.info.dark))),$e(G.Alert,"successFilledColor",Ks(()=>G.getContrastText(G.success.dark))),$e(G.Alert,"warningFilledColor",Ks(()=>G.getContrastText(G.warning.dark))),$e(G.Alert,"errorStandardBg",Kn(G.error.light,.9)),$e(G.Alert,"infoStandardBg",Kn(G.info.light,.9)),$e(G.Alert,"successStandardBg",Kn(G.success.light,.9)),$e(G.Alert,"warningStandardBg",Kn(G.warning.light,.9)),$e(G.Alert,"errorIconColor",Te("palette-error-main")),$e(G.Alert,"infoIconColor",Te("palette-info-main")),$e(G.Alert,"successIconColor",Te("palette-success-main")),$e(G.Alert,"warningIconColor",Te("palette-warning-main")),$e(G.AppBar,"defaultBg",Te("palette-grey-900")),$e(G.AppBar,"darkBg",Te("palette-background-paper")),$e(G.AppBar,"darkColor",Te("palette-text-primary")),$e(G.Avatar,"defaultBg",Te("palette-grey-600")),$e(G.Button,"inheritContainedBg",Te("palette-grey-800")),$e(G.Button,"inheritContainedHoverBg",Te("palette-grey-700")),$e(G.Chip,"defaultBorder",Te("palette-grey-700")),$e(G.Chip,"defaultAvatarColor",Te("palette-grey-300")),$e(G.Chip,"defaultIconColor",Te("palette-grey-300")),$e(G.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$e(G.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$e(G.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$e(G.LinearProgress,"primaryBg",Kn(G.primary.main,.5)),$e(G.LinearProgress,"secondaryBg",Kn(G.secondary.main,.5)),$e(G.LinearProgress,"errorBg",Kn(G.error.main,.5)),$e(G.LinearProgress,"infoBg",Kn(G.info.main,.5)),$e(G.LinearProgress,"successBg",Kn(G.success.main,.5)),$e(G.LinearProgress,"warningBg",Kn(G.warning.main,.5)),$e(G.Skeleton,"bg",`rgba(${Te("palette-text-primaryChannel")} / 0.13)`),$e(G.Slider,"primaryTrack",Kn(G.primary.main,.5)),$e(G.Slider,"secondaryTrack",Kn(G.secondary.main,.5)),$e(G.Slider,"errorTrack",Kn(G.error.main,.5)),$e(G.Slider,"infoTrack",Kn(G.info.main,.5)),$e(G.Slider,"successTrack",Kn(G.success.main,.5)),$e(G.Slider,"warningTrack",Kn(G.warning.main,.5));const Le=gg(G.background.default,.98);$e(G.SnackbarContent,"bg",Le),$e(G.SnackbarContent,"color",Ks(()=>G.getContrastText(Le))),$e(G.SpeedDialAction,"fabHoverBg",gg(G.background.paper,.15)),$e(G.StepConnector,"border",Te("palette-grey-600")),$e(G.StepContent,"border",Te("palette-grey-600")),$e(G.Switch,"defaultColor",Te("palette-grey-300")),$e(G.Switch,"defaultDisabledColor",Te("palette-grey-600")),$e(G.Switch,"primaryDisabledColor",Kn(G.primary.main,.55)),$e(G.Switch,"secondaryDisabledColor",Kn(G.secondary.main,.55)),$e(G.Switch,"errorDisabledColor",Kn(G.error.main,.55)),$e(G.Switch,"infoDisabledColor",Kn(G.info.main,.55)),$e(G.Switch,"successDisabledColor",Kn(G.success.main,.55)),$e(G.Switch,"warningDisabledColor",Kn(G.warning.main,.55)),$e(G.TableCell,"border",Kn(mg(G.divider,1),.68)),$e(G.Tooltip,"bg",mg(G.grey[700],.92))}Ma(G.background,"default"),Ma(G.background,"paper"),Ma(G.common,"background"),Ma(G.common,"onBackground"),Ma(G,"divider"),Object.keys(G).forEach(Le=>{const Ue=G[Le];Le!=="tonalOffset"&&Ue&&typeof Ue=="object"&&(Ue.main&&$e(G[Le],"mainChannel",gp(yp(Ue.main))),Ue.light&&$e(G[Le],"lightChannel",gp(yp(Ue.light))),Ue.dark&&$e(G[Le],"darkChannel",gp(yp(Ue.dark))),Ue.contrastText&&$e(G[Le],"contrastTextChannel",gp(yp(Ue.contrastText))),Le==="text"&&(Ma(G[Le],"primary"),Ma(G[Le],"secondary")),Le==="action"&&(Ue.active&&Ma(G[Le],"active"),Ue.selected&&Ma(G[Le],"selected")))})}),J=t.reduce((ke,G)=>Vi(ke,G),J);const ie={prefix:h,disableCssColorScheme:c,shouldSkipGeneratingVar:p,getSelector:cV(J)},{vars:de,generateThemeVars:ye,generateStyleSheets:me}=i$(J,ie);return J.vars=de,Object.entries(J.colorSchemes[J.defaultColorScheme]).forEach(([ke,G])=>{J[ke]=G}),J.generateThemeVars=ye,J.generateStyleSheets=me,J.generateSpacing=function(){return QM(w.spacing,kw(this))},J.getColorSchemeSelector=o$(a),J.spacing=J.generateSpacing(),J.shouldSkipGeneratingVar=p,J.unstable_sxConfig={...Df,...w==null?void 0:w.unstable_sxConfig},J.unstable_sx=function(G){return Oc({sx:G,theme:this})},J.toRuntimeSource=TR,J}function bE(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Fw({...n===!0?{}:n.palette,mode:t})})}function q0(e={},...t){const{palette:n,cssVariables:o=!1,colorSchemes:c=n?void 0:{light:!0},defaultColorScheme:h=n==null?void 0:n.mode,...p}=e,a=h||"light",b=c==null?void 0:c[a],w={...c,...n?{[a]:{...typeof b!="boolean"&&b,palette:n}}:void 0};if(o===!1){if(!("colorSchemes"in e))return C1(e,...t);let E=n;"palette"in e||w[a]&&(w[a]!==!0?E=w[a].palette:a==="dark"&&(E={mode:"dark"}));const A=C1({...e,palette:E},...t);return A.defaultColorScheme=a,A.colorSchemes=w,A.palette.mode==="light"&&(A.colorSchemes.light={...w.light!==!0&&w.light,palette:A.palette},bE(A,"dark",w.dark)),A.palette.mode==="dark"&&(A.colorSchemes.dark={...w.dark!==!0&&w.dark,palette:A.palette},bE(A,"light",w.light)),A}return!n&&!("light"in w)&&a==="light"&&(w.light=!0),pV({...p,colorSchemes:w,defaultColorScheme:a,...typeof o!="boolean"&&o},...t)}const fV=q0(),Nw=fV;function Lh(){const e=Bf(Nw);return e[la]||e}function AR(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const mV=e=>AR(e)&&e!=="classes",fs=mV,gV=sR({themeId:la,defaultTheme:Nw,rootShouldForwardProp:fs}),ot=gV;function J_({theme:e,...t}){const n=la in e?e[la]:void 0;return oe.jsx(xR,{...t,themeId:n?la:void 0,theme:n||e})}const yg={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:yV,useColorScheme:WY,getInitColorSchemeScript:GY}=e$({themeId:la,theme:()=>q0({cssVariables:!0}),colorSchemeStorageKey:yg.colorSchemeStorageKey,modeStorageKey:yg.modeStorageKey,defaultColorScheme:{light:yg.defaultLightColorScheme,dark:yg.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:CR(e.palette,e.typography)};return t.unstable_sx=function(o){return Oc({sx:o,theme:this})},t}}),vV=yV;function _V({theme:e,...t}){if(typeof e=="function")return oe.jsx(J_,{theme:e,...t});const n=la in e?e[la]:e;return"colorSchemes"in n?oe.jsx(vV,{theme:e,...t}):"vars"in n?oe.jsx(J_,{theme:e,...t}):oe.jsx(J_,{theme:{...e,vars:null},...t})}function xV(e){return oe.jsx(cN,{...e,defaultTheme:Nw,themeId:la})}function $w(e){return function(n){return oe.jsx(xV,{styles:typeof e=="function"?o=>e({theme:o,...n}):e})}}function bV(){return Mw}const wV=GN,Bn=wV;function yn(e){return WN(e)}function SV(e){return mn("MuiSvgIcon",e)}hn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const CV=e=>{const{color:t,fontSize:n,classes:o}=e,c={root:["root",t!=="inherit"&&`color${St(t)}`,`fontSize${St(n)}`]};return gn(c,SV,o)},TV=ot("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${St(n.color)}`],t[`fontSize${St(n.fontSize)}`]]}})(Bn(({theme:e})=>{var t,n,o,c,h,p,a,b,w,E,A,I,L,F;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(c=(t=e.transitions)==null?void 0:t.create)==null?void 0:c.call(t,"fill",{duration:(o=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:o.shorter}),variants:[{props:j=>!j.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((p=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:p.call(h,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((b=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:b.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((E=(w=e.typography)==null?void 0:w.pxToRem)==null?void 0:E.call(w,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,j])=>j&&j.main).map(([j])=>{var K,B;return{props:{color:j},style:{color:(B=(K=(e.vars??e).palette)==null?void 0:K[j])==null?void 0:B.main}}}),{props:{color:"action"},style:{color:(I=(A=(e.vars??e).palette)==null?void 0:A.action)==null?void 0:I.active}},{props:{color:"disabled"},style:{color:(F=(L=(e.vars??e).palette)==null?void 0:L.action)==null?void 0:F.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),kR=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiSvgIcon"}),{children:c,className:h,color:p="inherit",component:a="svg",fontSize:b="medium",htmlColor:w,inheritViewBox:E=!1,titleAccess:A,viewBox:I="0 0 24 24",...L}=o,F=q.isValidElement(c)&&c.type==="svg",j={...o,color:p,component:a,fontSize:b,instanceFontSize:t.fontSize,inheritViewBox:E,viewBox:I,hasSvgAsChild:F},K={};E||(K.viewBox=I);const B=CV(j);return oe.jsxs(TV,{as:a,className:Ft(B.root,h),focusable:"false",color:w,"aria-hidden":A?void 0:!0,role:A?"img":void 0,ref:n,...K,...L,...F&&c.props,ownerState:j,children:[F?c.props.children:c,A?oe.jsx("title",{children:A}):null]})});kR.muiName="SvgIcon";const wE=kR;function ms(e,t){function n(o,c){return oe.jsx(wE,{"data-testid":void 0,ref:c,...o,children:e})}return n.muiName=wE.muiName,q.memo(q.forwardRef(n))}function EV(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function PV(e,t){if(!e)return t;function n(p,a){const b={};return Object.keys(a).forEach(w=>{EV(w,a[w])&&typeof p[w]=="function"&&(b[w]=(...E)=>{p[w](...E),a[w](...E)})}),b}if(typeof e=="function"||typeof t=="function")return p=>{const a=typeof t=="function"?t(p):t,b=typeof e=="function"?e({...p,...a}):e,w=Ft(p==null?void 0:p.className,a==null?void 0:a.className,b==null?void 0:b.className),E=n(b,a);return{...a,...b,...E,...!!w&&{className:w},...(a==null?void 0:a.style)&&(b==null?void 0:b.style)&&{style:{...a.style,...b.style}},...(a==null?void 0:a.sx)&&(b==null?void 0:b.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(b.sx)?b.sx:[b.sx]]}}};const o=t,c=n(e,o),h=Ft(o==null?void 0:o.className,e==null?void 0:e.className);return{...t,...e,...c,...!!h&&{className:h},...(o==null?void 0:o.style)&&(e==null?void 0:e.style)&&{style:{...o.style,...e.style}},...(o==null?void 0:o.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function IR(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},E1(e,t)}function MR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E1(e,t)}const SE={disabled:!1},By=Ls.createContext(null);var AV=function(t){return t.scrollTop},vp="unmounted",yc="exited",vc="entering",Ou="entered",P1="exiting",Ka=function(e){MR(t,e);function t(o,c){var h;h=e.call(this,o,c)||this;var p=c,a=p&&!p.isMounting?o.enter:o.appear,b;return h.appearStatus=null,o.in?a?(b=yc,h.appearStatus=vc):b=Ou:o.unmountOnExit||o.mountOnEnter?b=vp:b=yc,h.state={status:b},h.nextCallback=null,h}t.getDerivedStateFromProps=function(c,h){var p=c.in;return p&&h.status===vp?{status:yc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(c){var h=null;if(c!==this.props){var p=this.state.status;this.props.in?p!==vc&&p!==Ou&&(h=vc):(p===vc||p===Ou)&&(h=P1)}this.updateStatus(!1,h)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var c=this.props.timeout,h,p,a;return h=p=a=c,c!=null&&typeof c!="number"&&(h=c.exit,p=c.enter,a=c.appear!==void 0?c.appear:p),{exit:h,enter:p,appear:a}},n.updateStatus=function(c,h){if(c===void 0&&(c=!1),h!==null)if(this.cancelNextCallback(),h===vc){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:pg.findDOMNode(this);p&&AV(p)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yc&&this.setState({status:vp})},n.performEnter=function(c){var h=this,p=this.props.enter,a=this.context?this.context.isMounting:c,b=this.props.nodeRef?[a]:[pg.findDOMNode(this),a],w=b[0],E=b[1],A=this.getTimeouts(),I=a?A.appear:A.enter;if(!c&&!p||SE.disabled){this.safeSetState({status:Ou},function(){h.props.onEntered(w)});return}this.props.onEnter(w,E),this.safeSetState({status:vc},function(){h.props.onEntering(w,E),h.onTransitionEnd(I,function(){h.safeSetState({status:Ou},function(){h.props.onEntered(w,E)})})})},n.performExit=function(){var c=this,h=this.props.exit,p=this.getTimeouts(),a=this.props.nodeRef?void 0:pg.findDOMNode(this);if(!h||SE.disabled){this.safeSetState({status:yc},function(){c.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:P1},function(){c.props.onExiting(a),c.onTransitionEnd(p.exit,function(){c.safeSetState({status:yc},function(){c.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(c,h){h=this.setNextCallback(h),this.setState(c,h)},n.setNextCallback=function(c){var h=this,p=!0;return this.nextCallback=function(a){p&&(p=!1,h.nextCallback=null,c(a))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},n.onTransitionEnd=function(c,h){this.setNextCallback(h);var p=this.props.nodeRef?this.props.nodeRef.current:pg.findDOMNode(this),a=c==null&&!this.props.addEndListener;if(!p||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],w=b[0],E=b[1];this.props.addEndListener(w,E)}c!=null&&setTimeout(this.nextCallback,c)},n.render=function(){var c=this.state.status;if(c===vp)return null;var h=this.props,p=h.children;h.in,h.mountOnEnter,h.unmountOnExit,h.appear,h.enter,h.exit,h.timeout,h.addEndListener,h.onEnter,h.onEntering,h.onEntered,h.onExit,h.onExiting,h.onExited,h.nodeRef;var a=IR(h,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ls.createElement(By.Provider,{value:null},typeof p=="function"?p(c,a):Ls.cloneElement(Ls.Children.only(p),a))},t}(Ls.Component);Ka.contextType=By;Ka.propTypes={};function zu(){}Ka.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zu,onEntering:zu,onEntered:zu,onExit:zu,onExiting:zu,onExited:zu};Ka.UNMOUNTED=vp;Ka.EXITED=yc;Ka.ENTERING=vc;Ka.ENTERED=Ou;Ka.EXITING=P1;const RR=Ka;function kV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vw(e,t){var n=function(h){return t&&q.isValidElement(h)?t(h):h},o=Object.create(null);return e&&q.Children.map(e,function(c){return c}).forEach(function(c){o[c.key]=n(c)}),o}function IV(e,t){e=e||{},t=t||{};function n(E){return E in t?t[E]:e[E]}var o=Object.create(null),c=[];for(var h in e)h in t?c.length&&(o[h]=c,c=[]):c.push(h);var p,a={};for(var b in t){if(o[b])for(p=0;p<o[b].length;p++){var w=o[b][p];a[o[b][p]]=n(w)}a[b]=n(b)}for(p=0;p<c.length;p++)a[c[p]]=n(c[p]);return a}function Cc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function MV(e,t){return Vw(e.children,function(n){return q.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Cc(n,"appear",e),enter:Cc(n,"enter",e),exit:Cc(n,"exit",e)})})}function RV(e,t,n){var o=Vw(e.children),c=IV(t,o);return Object.keys(c).forEach(function(h){var p=c[h];if(q.isValidElement(p)){var a=h in t,b=h in o,w=t[h],E=q.isValidElement(w)&&!w.props.in;b&&(!a||E)?c[h]=q.cloneElement(p,{onExited:n.bind(null,p),in:!0,exit:Cc(p,"exit",e),enter:Cc(p,"enter",e)}):!b&&a&&!E?c[h]=q.cloneElement(p,{in:!1}):b&&a&&q.isValidElement(w)&&(c[h]=q.cloneElement(p,{onExited:n.bind(null,p),in:w.props.in,exit:Cc(p,"exit",e),enter:Cc(p,"enter",e)}))}}),c}var LV=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},DV={component:"div",childFactory:function(t){return t}},jw=function(e){MR(t,e);function t(o,c){var h;h=e.call(this,o,c)||this;var p=h.handleExited.bind(kV(h));return h.state={contextValue:{isMounting:!0},handleExited:p,firstRender:!0},h}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(c,h){var p=h.children,a=h.handleExited,b=h.firstRender;return{children:b?MV(c,a):RV(c,p,a),firstRender:!1}},n.handleExited=function(c,h){var p=Vw(this.props.children);c.key in p||(c.props.onExited&&c.props.onExited(h),this.mounted&&this.setState(function(a){var b=My({},a.children);return delete b[c.key],{children:b}}))},n.render=function(){var c=this.props,h=c.component,p=c.childFactory,a=IR(c,["component","childFactory"]),b=this.state.contextValue,w=LV(this.state.children).map(p);return delete a.appear,delete a.enter,delete a.exit,h===null?Ls.createElement(By.Provider,{value:b},w):Ls.createElement(By.Provider,{value:b},Ls.createElement(h,a,w))},t}(Ls.Component);jw.propTypes={};jw.defaultProps=DV;const zV=jw,LR=e=>e.scrollTop;function Oy(e,t){const{timeout:n,easing:o,style:c={}}=e;return{duration:c.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:c.transitionTimingFunction??(typeof o=="object"?o[t.mode]:o),delay:c.transitionDelay}}function BV(e){return mn("MuiPaper",e)}hn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const OV=e=>{const{square:t,elevation:n,variant:o,classes:c}=e,h={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${n}`]};return gn(h,BV,c)},FV=ot("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Bn(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),NV=q.forwardRef(function(t,n){var L;const o=yn({props:t,name:"MuiPaper"}),c=Lh(),{className:h,component:p="div",elevation:a=1,square:b=!1,variant:w="elevation",...E}=o,A={...o,component:p,elevation:a,square:b,variant:w},I=OV(A);return oe.jsx(FV,{as:p,ownerState:A,className:Ft(I.root,h),ref:n,...E,style:{...w==="elevation"&&{"--Paper-shadow":(c.vars||c).shadows[a],...c.vars&&{"--Paper-overlay":(L=c.vars.overlays)==null?void 0:L[a]},...!c.vars&&c.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${yo("#fff",T1(a))}, ${yo("#fff",T1(a))})`}},...E.style}})}),ro=NV;function zn(e,t){const{className:n,elementType:o,ownerState:c,externalForwardedProps:h,internalForwardedProps:p,shouldForwardComponentProp:a=!1,...b}=t,{component:w,slots:E={[e]:void 0},slotProps:A={[e]:void 0},...I}=h,L=E[e]||o,F=gR(A[e],c),{props:{component:j,...K},internalRef:B}=mR({className:n,...b,externalForwardedProps:e==="root"?I:void 0,externalSlotProps:F}),V=Ui(B,F==null?void 0:F.ref,t.ref),$=e==="root"?j||w:j,J=fR(L,{...e==="root"&&!w&&!E[e]&&p,...e!=="root"&&!E[e]&&p,...K,...$&&!a&&{as:$},...$&&a&&{component:$},ref:V},c);return[L,J]}class Fy{constructor(){Hd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Fy}static use(){const t=dR(Fy.create).current,[n,o]=q.useState(!1);return t.shouldMount=n,t.setShouldMount=o,q.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=VV(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function $V(){return Fy.use()}function VV(){let e,t;const n=new Promise((o,c)=>{e=o,t=c});return n.resolve=e,n.reject=t,n}function jV(e){const{className:t,classes:n,pulsate:o=!1,rippleX:c,rippleY:h,rippleSize:p,in:a,onExited:b,timeout:w}=e,[E,A]=q.useState(!1),I=Ft(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),L={width:p,height:p,top:-(p/2)+h,left:-(p/2)+c},F=Ft(n.child,E&&n.childLeaving,o&&n.childPulsate);return!a&&!E&&A(!0),q.useEffect(()=>{if(!a&&b!=null){const j=setTimeout(b,w);return()=>{clearTimeout(j)}}},[b,a,w]),oe.jsx("span",{className:I,style:L,children:oe.jsx("span",{className:F})})}const UV=hn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ts=UV,A1=550,WV=80,GV=Mf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,qV=Mf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,HV=Mf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,ZV=ot("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),KV=ot(jV,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ts.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${GV};
    animation-duration: ${A1}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ts.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ts.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ts.childLeaving} {
    opacity: 0;
    animation-name: ${qV};
    animation-duration: ${A1}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ts.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${HV};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,XV=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiTouchRipple"}),{center:c=!1,classes:h={},className:p,...a}=o,[b,w]=q.useState([]),E=q.useRef(0),A=q.useRef(null);q.useEffect(()=>{A.current&&(A.current(),A.current=null)},[b]);const I=q.useRef(!1),L=Dw(),F=q.useRef(null),j=q.useRef(null),K=q.useCallback(J=>{const{pulsate:ie,rippleX:de,rippleY:ye,rippleSize:me,cb:ke}=J;w(G=>[...G,oe.jsx(KV,{classes:{ripple:Ft(h.ripple,ts.ripple),rippleVisible:Ft(h.rippleVisible,ts.rippleVisible),ripplePulsate:Ft(h.ripplePulsate,ts.ripplePulsate),child:Ft(h.child,ts.child),childLeaving:Ft(h.childLeaving,ts.childLeaving),childPulsate:Ft(h.childPulsate,ts.childPulsate)},timeout:A1,pulsate:ie,rippleX:de,rippleY:ye,rippleSize:me},E.current)]),E.current+=1,A.current=ke},[h]),B=q.useCallback((J={},ie={},de=()=>{})=>{const{pulsate:ye=!1,center:me=c||ie.pulsate,fakeElement:ke=!1}=ie;if((J==null?void 0:J.type)==="mousedown"&&I.current){I.current=!1;return}(J==null?void 0:J.type)==="touchstart"&&(I.current=!0);const G=ke?null:j.current,Te=G?G.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Le,Ue,qe;if(me||J===void 0||J.clientX===0&&J.clientY===0||!J.clientX&&!J.touches)Le=Math.round(Te.width/2),Ue=Math.round(Te.height/2);else{const{clientX:Oe,clientY:Ge}=J.touches&&J.touches.length>0?J.touches[0]:J;Le=Math.round(Oe-Te.left),Ue=Math.round(Ge-Te.top)}if(me)qe=Math.sqrt((2*Te.width**2+Te.height**2)/3),qe%2===0&&(qe+=1);else{const Oe=Math.max(Math.abs((G?G.clientWidth:0)-Le),Le)*2+2,Ge=Math.max(Math.abs((G?G.clientHeight:0)-Ue),Ue)*2+2;qe=Math.sqrt(Oe**2+Ge**2)}J!=null&&J.touches?F.current===null&&(F.current=()=>{K({pulsate:ye,rippleX:Le,rippleY:Ue,rippleSize:qe,cb:de})},L.start(WV,()=>{F.current&&(F.current(),F.current=null)})):K({pulsate:ye,rippleX:Le,rippleY:Ue,rippleSize:qe,cb:de})},[c,K,L]),V=q.useCallback(()=>{B({},{pulsate:!0})},[B]),$=q.useCallback((J,ie)=>{if(L.clear(),(J==null?void 0:J.type)==="touchend"&&F.current){F.current(),F.current=null,L.start(0,()=>{$(J,ie)});return}F.current=null,w(de=>de.length>0?de.slice(1):de),A.current=ie},[L]);return q.useImperativeHandle(n,()=>({pulsate:V,start:B,stop:$}),[V,B,$]),oe.jsx(ZV,{className:Ft(ts.root,h.root,p),ref:j,...a,children:oe.jsx(zV,{component:null,exit:!0,children:b})})}),YV=XV;function JV(e){return mn("MuiButtonBase",e)}const QV=hn("MuiButtonBase",["root","disabled","focusVisible"]),e8=QV,t8=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:o,classes:c}=e,p=gn({root:["root",t&&"disabled",n&&"focusVisible"]},JV,c);return n&&o&&(p.root+=` ${o}`),p},n8=ot("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${e8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),r8=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiButtonBase"}),{action:c,centerRipple:h=!1,children:p,className:a,component:b="button",disabled:w=!1,disableRipple:E=!1,disableTouchRipple:A=!1,focusRipple:I=!1,focusVisibleClassName:L,LinkComponent:F="a",onBlur:j,onClick:K,onContextMenu:B,onDragLeave:V,onFocus:$,onFocusVisible:J,onKeyDown:ie,onKeyUp:de,onMouseDown:ye,onMouseLeave:me,onMouseUp:ke,onTouchEnd:G,onTouchMove:Te,onTouchStart:Le,tabIndex:Ue=0,TouchRippleProps:qe,touchRippleRef:Oe,type:Ge,...Ye}=o,De=q.useRef(null),Re=$V(),et=Ui(Re.ref,Oe),[pt,ut]=q.useState(!1);w&&pt&&ut(!1),q.useImperativeHandle(c,()=>({focusVisible:()=>{ut(!0),De.current.focus()}}),[]);const ct=Re.shouldMount&&!E&&!w;q.useEffect(()=>{pt&&I&&!E&&Re.pulsate()},[E,I,pt,Re]);const Dt=Ra(Re,"start",ye,A),Gt=Ra(Re,"stop",B,A),dn=Ra(Re,"stop",V,A),Yt=Ra(Re,"stop",ke,A),In=Ra(Re,"stop",ft=>{pt&&ft.preventDefault(),me&&me(ft)},A),Zt=Ra(Re,"start",Le,A),xt=Ra(Re,"stop",G,A),qt=Ra(Re,"stop",Te,A),jt=Ra(Re,"stop",ft=>{lE(ft.target)||ut(!1),j&&j(ft)},!1),$t=ua(ft=>{De.current||(De.current=ft.currentTarget),lE(ft.target)&&(ut(!0),J&&J(ft)),$&&$(ft)}),Pt=()=>{const ft=De.current;return b&&b!=="button"&&!(ft.tagName==="A"&&ft.href)},Ht=ua(ft=>{I&&!ft.repeat&&pt&&ft.key===" "&&Re.stop(ft,()=>{Re.start(ft)}),ft.target===ft.currentTarget&&Pt()&&ft.key===" "&&ft.preventDefault(),ie&&ie(ft),ft.target===ft.currentTarget&&Pt()&&ft.key==="Enter"&&!w&&(ft.preventDefault(),K&&K(ft))}),ir=ua(ft=>{I&&ft.key===" "&&pt&&!ft.defaultPrevented&&Re.stop(ft,()=>{Re.pulsate(ft)}),de&&de(ft),K&&ft.target===ft.currentTarget&&Pt()&&ft.key===" "&&!ft.defaultPrevented&&K(ft)});let On=b;On==="button"&&(Ye.href||Ye.to)&&(On=F);const Sn={};On==="button"?(Sn.type=Ge===void 0?"button":Ge,Sn.disabled=w):(!Ye.href&&!Ye.to&&(Sn.role="button"),w&&(Sn["aria-disabled"]=w));const Pn=Ui(n,De),Ie={...o,centerRipple:h,component:b,disabled:w,disableRipple:E,disableTouchRipple:A,focusRipple:I,tabIndex:Ue,focusVisible:pt},Jt=t8(Ie);return oe.jsxs(n8,{as:On,className:Ft(Jt.root,a),ownerState:Ie,onBlur:jt,onClick:K,onContextMenu:Gt,onFocus:$t,onKeyDown:Ht,onKeyUp:ir,onMouseDown:Dt,onMouseLeave:In,onMouseUp:Yt,onDragLeave:dn,onTouchEnd:xt,onTouchMove:qt,onTouchStart:Zt,ref:Pn,tabIndex:w?-1:Ue,type:Ge,...Sn,...Ye,children:[p,ct?oe.jsx(YV,{ref:et,center:h,...qe}):null]})});function Ra(e,t,n,o=!1){return ua(c=>(n&&n(c),o||e[t](c),!0))}const Uw=r8;function i8(e){return typeof e.main=="string"}function o8(e,t=[]){if(!i8(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Bo(e=[]){return([,t])=>t&&o8(t,e)}function s8(e){return mn("MuiAlert",e)}const a8=hn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),CE=a8;function l8(e){return mn("MuiCircularProgress",e)}hn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const yl=44,k1=Mf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,I1=Mf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,c8=typeof k1!="string"?Cw`
        animation: ${k1} 1.4s linear infinite;
      `:null,u8=typeof I1!="string"?Cw`
        animation: ${I1} 1.4s ease-in-out infinite;
      `:null,h8=e=>{const{classes:t,variant:n,color:o,disableShrink:c}=e,h={root:["root",n,`color${St(o)}`],svg:["svg"],circle:["circle",`circle${St(n)}`,c&&"circleDisableShrink"]};return gn(h,l8,t)},d8=ot("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${St(n.color)}`]]}})(Bn(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:c8||{animation:`${k1} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),p8=ot("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),f8=ot("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${St(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Bn(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:u8||{animation:`${I1} 1.4s ease-in-out infinite`}}]}))),m8=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiCircularProgress"}),{className:c,color:h="primary",disableShrink:p=!1,size:a=40,style:b,thickness:w=3.6,value:E=0,variant:A="indeterminate",...I}=o,L={...o,color:h,disableShrink:p,size:a,thickness:w,value:E,variant:A},F=h8(L),j={},K={},B={};if(A==="determinate"){const V=2*Math.PI*((yl-w)/2);j.strokeDasharray=V.toFixed(3),B["aria-valuenow"]=Math.round(E),j.strokeDashoffset=`${((100-E)/100*V).toFixed(3)}px`,K.transform="rotate(-90deg)"}return oe.jsx(d8,{className:Ft(F.root,c),style:{width:a,height:a,...K,...b},ownerState:L,ref:n,role:"progressbar",...B,...I,children:oe.jsx(p8,{className:F.svg,ownerState:L,viewBox:`${yl/2} ${yl/2} ${yl} ${yl}`,children:oe.jsx(f8,{className:F.circle,style:j,ownerState:L,cx:yl,cy:yl,r:(yl-w)/2,fill:"none",strokeWidth:w})})})}),Ww=m8;function g8(e){return mn("MuiIconButton",e)}const y8=hn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),TE=y8,v8=e=>{const{classes:t,disabled:n,color:o,edge:c,size:h,loading:p}=e,a={root:["root",p&&"loading",n&&"disabled",o!=="default"&&`color${St(o)}`,c&&`edge${St(c)}`,`size${St(h)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gn(a,g8,t)},_8=ot(Uw,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${St(n.color)}`],n.edge&&t[`edge${St(n.edge)}`],t[`size${St(n.size)}`]]}})(Bn(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:yo(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Bn(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:yo((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${TE.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${TE.loading}`]:{color:"transparent"}}))),x8=ot("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),b8=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiIconButton"}),{edge:c=!1,children:h,className:p,color:a="default",disabled:b=!1,disableFocusRipple:w=!1,size:E="medium",id:A,loading:I=null,loadingIndicator:L,...F}=o,j=Of(A),K=L??oe.jsx(Ww,{"aria-labelledby":j,color:"inherit",size:16}),B={...o,edge:c,color:a,disabled:b,disableFocusRipple:w,loading:I,loadingIndicator:K,size:E},V=v8(B);return oe.jsxs(_8,{id:I?j:A,className:Ft(V.root,p),centerRipple:!0,focusRipple:!w,disabled:b||I,ref:n,...F,ownerState:B,children:[typeof I=="boolean"&&oe.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:oe.jsx(x8,{className:V.loadingIndicator,ownerState:B,children:I&&K})}),h]})}),M1=b8,w8=ms(oe.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),S8=ms(oe.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),C8=ms(oe.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),T8=ms(oe.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),E8=ms(oe.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),P8=e=>{const{variant:t,color:n,severity:o,classes:c}=e,h={root:["root",`color${St(n||o)}`,`${t}${St(n||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return gn(h,s8,c)},A8=ot(ro,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${St(n.color||n.severity)}`]]}})(Bn(({theme:e})=>{const t=e.palette.mode==="light"?lf:cf,n=e.palette.mode==="light"?cf:lf;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Bo(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:n(e.palette[o].light,.9),[`& .${CE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(Bo(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:t(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${CE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(Bo(["dark"])).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)}}}))]}})),k8=ot("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),I8=ot("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),M8=ot("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),EE={success:oe.jsx(w8,{fontSize:"inherit"}),warning:oe.jsx(S8,{fontSize:"inherit"}),error:oe.jsx(C8,{fontSize:"inherit"}),info:oe.jsx(T8,{fontSize:"inherit"})},R8=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiAlert"}),{action:c,children:h,className:p,closeText:a="Close",color:b,components:w={},componentsProps:E={},icon:A,iconMapping:I=EE,onClose:L,role:F="alert",severity:j="success",slotProps:K={},slots:B={},variant:V="standard",...$}=o,J={...o,color:b,severity:j,variant:V,colorSeverity:b||j},ie=P8(J),de={slots:{closeButton:w.CloseButton,closeIcon:w.CloseIcon,...B},slotProps:{...E,...K}},[ye,me]=zn("root",{ref:n,shouldForwardComponentProp:!0,className:Ft(ie.root,p),elementType:A8,externalForwardedProps:{...de,...$},ownerState:J,additionalProps:{role:F,elevation:0}}),[ke,G]=zn("icon",{className:ie.icon,elementType:k8,externalForwardedProps:de,ownerState:J}),[Te,Le]=zn("message",{className:ie.message,elementType:I8,externalForwardedProps:de,ownerState:J}),[Ue,qe]=zn("action",{className:ie.action,elementType:M8,externalForwardedProps:de,ownerState:J}),[Oe,Ge]=zn("closeButton",{elementType:M1,externalForwardedProps:de,ownerState:J}),[Ye,De]=zn("closeIcon",{elementType:E8,externalForwardedProps:de,ownerState:J});return oe.jsxs(ye,{...me,children:[A!==!1?oe.jsx(ke,{...G,children:A||I[j]||EE[j]}):null,oe.jsx(Te,{...Le,children:h}),c!=null?oe.jsx(Ue,{...qe,children:c}):null,c==null&&L?oe.jsx(Ue,{...qe,children:oe.jsx(Oe,{size:"small","aria-label":a,title:a,color:"inherit",onClick:L,...Ge,children:oe.jsx(Ye,{fontSize:"small",...De})})}):null]})}),PE=R8;function L8(e){return mn("MuiTypography",e)}hn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const D8={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},z8=bV(),B8=e=>{const{align:t,gutterBottom:n,noWrap:o,paragraph:c,variant:h,classes:p}=e,a={root:["root",h,e.align!=="inherit"&&`align${St(t)}`,n&&"gutterBottom",o&&"noWrap",c&&"paragraph"]};return gn(a,L8,p)},O8=ot("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${St(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Bn(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,o])=>n!=="inherit"&&o&&typeof o=="object").map(([n,o])=>({props:{variant:n},style:o})),...Object.entries(e.palette).filter(Bo()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${St(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),AE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},F8=q.forwardRef(function(t,n){const{color:o,...c}=yn({props:t,name:"MuiTypography"}),h=!D8[o],p=z8({...c,...h&&{color:o}}),{align:a="inherit",className:b,component:w,gutterBottom:E=!1,noWrap:A=!1,paragraph:I=!1,variant:L="body1",variantMapping:F=AE,...j}=p,K={...p,align:a,color:o,className:b,component:w,gutterBottom:E,noWrap:A,paragraph:I,variant:L,variantMapping:F},B=w||(I?"p":F[L]||AE[L])||"span",V=B8(K);return oe.jsx(O8,{as:B,ref:n,className:Ft(V.root,b),...j,ownerState:K,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...j.style}})}),Yr=F8;function N8(e){return mn("MuiAppBar",e)}hn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const $8=e=>{const{color:t,position:n,classes:o}=e,c={root:["root",`color${St(t)}`,`position${St(n)}`]};return gn(c,N8,o)},kE=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,V8=ot(ro,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${St(n.position)}`],t[`color${St(n.color)}`]]}})(Bn(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Bo(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?kE(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?kE(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),j8=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiAppBar"}),{className:c,color:h="primary",enableColorOnDark:p=!1,position:a="fixed",...b}=o,w={...o,color:h,position:a,enableColorOnDark:p},E=$8(w);return oe.jsx(V8,{square:!0,component:"header",ownerState:w,elevation:4,className:Ft(E.root,c,a==="fixed"&&"mui-fixed"),ref:n,...b})}),DR=j8;function U8(e){return typeof e=="function"?e():e}const W8=q.forwardRef(function(t,n){const{children:o,container:c,disablePortal:h=!1}=t,[p,a]=q.useState(null),b=Ui(q.isValidElement(o)?Mh(o):null,n);if(Ga(()=>{h||a(U8(c)||document.body)},[c,h]),Ga(()=>{if(p&&!h)return rE(n,p),()=>{rE(n,null)}},[n,p,h]),h){if(q.isValidElement(o)){const w={ref:b};return q.cloneElement(o,w)}return o}return p&&hw.createPortal(o,p)}),G8=W8;function vg(e){return parseInt(e,10)||0}const q8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function H8(e){for(const t in e)return!1;return!0}function IE(e){return H8(e)||e.outerHeightStyle===0&&!e.overflowing}const Z8=q.forwardRef(function(t,n){const{onChange:o,maxRows:c,minRows:h=1,style:p,value:a,...b}=t,{current:w}=q.useRef(a!=null),E=q.useRef(null),A=Ui(n,E),I=q.useRef(null),L=q.useRef(null),F=q.useCallback(()=>{const $=E.current,J=L.current;if(!$||!J)return;const de=qa($).getComputedStyle($);if(de.width==="0px")return{outerHeightStyle:0,overflowing:!1};J.style.width=de.width,J.value=$.value||t.placeholder||"x",J.value.slice(-1)===`
`&&(J.value+=" ");const ye=de.boxSizing,me=vg(de.paddingBottom)+vg(de.paddingTop),ke=vg(de.borderBottomWidth)+vg(de.borderTopWidth),G=J.scrollHeight;J.value="x";const Te=J.scrollHeight;let Le=G;h&&(Le=Math.max(Number(h)*Te,Le)),c&&(Le=Math.min(Number(c)*Te,Le)),Le=Math.max(Le,Te);const Ue=Le+(ye==="border-box"?me+ke:0),qe=Math.abs(Le-G)<=1;return{outerHeightStyle:Ue,overflowing:qe}},[c,h,t.placeholder]),j=ua(()=>{const $=E.current,J=F();if(!$||!J||IE(J))return!1;const ie=J.outerHeightStyle;return I.current!=null&&I.current!==ie}),K=q.useCallback(()=>{const $=E.current,J=F();if(!$||!J||IE(J))return;const ie=J.outerHeightStyle;I.current!==ie&&(I.current=ie,$.style.height=`${ie}px`),$.style.overflow=J.overflowing?"hidden":""},[F]),B=q.useRef(-1);Ga(()=>{const $=hR(K),J=E==null?void 0:E.current;if(!J)return;const ie=qa(J);ie.addEventListener("resize",$);let de;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(()=>{j()&&(de.unobserve(J),cancelAnimationFrame(B.current),K(),B.current=requestAnimationFrame(()=>{de.observe(J)}))}),de.observe(J)),()=>{$.clear(),cancelAnimationFrame(B.current),ie.removeEventListener("resize",$),de&&de.disconnect()}},[F,K,j]),Ga(()=>{K()});const V=$=>{w||K(),o&&o($)};return oe.jsxs(q.Fragment,{children:[oe.jsx("textarea",{value:a,onChange:V,ref:A,rows:h,style:p,...b}),oe.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:L,tabIndex:-1,style:{...q8.shadow,...p,paddingTop:0,paddingBottom:0}})]})}),K8=Z8;function R1(e){return typeof e=="string"}function Dh({props:e,states:t,muiFormControl:n}){return t.reduce((o,c)=>(o[c]=e[c],n&&typeof e[c]>"u"&&(o[c]=n[c]),o),{})}const X8=q.createContext(void 0),Gw=X8;function zh(){return q.useContext(Gw)}function ME(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Ny(e,t=!1){return e&&(ME(e.value)&&e.value!==""||t&&ME(e.defaultValue)&&e.defaultValue!=="")}function Y8(e){return e.startAdornment}function J8(e){return mn("MuiInputBase",e)}const Q8=hn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Sh=Q8;var RE;const H0=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${St(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Z0=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ej=e=>{const{classes:t,color:n,disabled:o,error:c,endAdornment:h,focused:p,formControl:a,fullWidth:b,hiddenLabel:w,multiline:E,readOnly:A,size:I,startAdornment:L,type:F}=e,j={root:["root",`color${St(n)}`,o&&"disabled",c&&"error",b&&"fullWidth",p&&"focused",a&&"formControl",I&&I!=="medium"&&`size${St(I)}`,E&&"multiline",L&&"adornedStart",h&&"adornedEnd",w&&"hiddenLabel",A&&"readOnly"],input:["input",o&&"disabled",F==="search"&&"inputTypeSearch",E&&"inputMultiline",I==="small"&&"inputSizeSmall",w&&"inputHiddenLabel",L&&"inputAdornedStart",h&&"inputAdornedEnd",A&&"readOnly"]};return gn(j,J8,t)},K0=ot("div",{name:"MuiInputBase",slot:"Root",overridesResolver:H0})(Bn(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Sh.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),X0=ot("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Z0})(Bn(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},c=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Sh.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${Sh.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:h})=>!h.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:h})=>h.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),LE=$w({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),tj=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:h,autoFocus:p,className:a,color:b,components:w={},componentsProps:E={},defaultValue:A,disabled:I,disableInjectingGlobalStyles:L,endAdornment:F,error:j,fullWidth:K=!1,id:B,inputComponent:V="input",inputProps:$={},inputRef:J,margin:ie,maxRows:de,minRows:ye,multiline:me=!1,name:ke,onBlur:G,onChange:Te,onClick:Le,onFocus:Ue,onKeyDown:qe,onKeyUp:Oe,placeholder:Ge,readOnly:Ye,renderSuffix:De,rows:Re,size:et,slotProps:pt={},slots:ut={},startAdornment:ct,type:Dt="text",value:Gt,...dn}=o,Yt=$.value!=null?$.value:Gt,{current:In}=q.useRef(Yt!=null),Zt=q.useRef(),xt=q.useCallback(Rt=>{},[]),qt=Ui(Zt,J,$.ref,xt),[jt,$t]=q.useState(!1),Pt=zh(),Ht=Dh({props:o,muiFormControl:Pt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ht.focused=Pt?Pt.focused:jt,q.useEffect(()=>{!Pt&&I&&jt&&($t(!1),G&&G())},[Pt,I,jt,G]);const ir=Pt&&Pt.onFilled,On=Pt&&Pt.onEmpty,Sn=q.useCallback(Rt=>{Ny(Rt)?ir&&ir():On&&On()},[ir,On]);Ga(()=>{In&&Sn({value:Yt})},[Yt,Sn,In]);const Pn=Rt=>{Ue&&Ue(Rt),$.onFocus&&$.onFocus(Rt),Pt&&Pt.onFocus?Pt.onFocus(Rt):$t(!0)},Ie=Rt=>{G&&G(Rt),$.onBlur&&$.onBlur(Rt),Pt&&Pt.onBlur?Pt.onBlur(Rt):$t(!1)},Jt=(Rt,...Ze)=>{if(!In){const Fn=Rt.target||Zt.current;if(Fn==null)throw new Error(Ua(1));Sn({value:Fn.value})}$.onChange&&$.onChange(Rt,...Ze),Te&&Te(Rt,...Ze)};q.useEffect(()=>{Sn(Zt.current)},[]);const ft=Rt=>{Zt.current&&Rt.currentTarget===Rt.target&&Zt.current.focus(),Le&&Le(Rt)};let nn=V,Mt=$;me&&nn==="input"&&(Re?Mt={type:void 0,minRows:Re,maxRows:Re,...Mt}:Mt={type:void 0,maxRows:de,minRows:ye,...Mt},nn=K8);const wr=Rt=>{Sn(Rt.animationName==="mui-auto-fill-cancel"?Zt.current:{value:"x"})};q.useEffect(()=>{Pt&&Pt.setAdornedStart(!!ct)},[Pt,ct]);const ui={...o,color:Ht.color||"primary",disabled:Ht.disabled,endAdornment:F,error:Ht.error,focused:Ht.focused,formControl:Pt,fullWidth:K,hiddenLabel:Ht.hiddenLabel,multiline:me,size:Ht.size,startAdornment:ct,type:Dt},Vr=ej(ui),Ti=ut.root||w.Root||K0,ei=pt.root||E.root||{},Cn=ut.input||w.Input||X0;return Mt={...Mt,...pt.input??E.input},oe.jsxs(q.Fragment,{children:[!L&&typeof LE=="function"&&(RE||(RE=oe.jsx(LE,{}))),oe.jsxs(Ti,{...ei,ref:n,onClick:ft,...dn,...!R1(Ti)&&{ownerState:{...ui,...ei.ownerState}},className:Ft(Vr.root,ei.className,a,Ye&&"MuiInputBase-readOnly"),children:[ct,oe.jsx(Gw.Provider,{value:null,children:oe.jsx(Cn,{"aria-invalid":Ht.error,"aria-describedby":c,autoComplete:h,autoFocus:p,defaultValue:A,disabled:Ht.disabled,id:B,onAnimationStart:wr,name:ke,placeholder:Ge,readOnly:Ye,required:Ht.required,rows:Re,value:Yt,onKeyDown:qe,onKeyUp:Oe,type:Dt,...Mt,...!R1(Cn)&&{as:nn,ownerState:{...ui,...Mt.ownerState}},ref:qt,className:Ft(Vr.input,Mt.className,Ye&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:Jt,onFocus:Pn})}),F,De?De({...Ht,startAdornment:ct}):null]})]})}),qw=tj;function nj(e){return mn("MuiInput",e)}const rj={...Sh,...hn("MuiInput",["root","underline","input"])},ip=rj;function ij(e){return mn("MuiOutlinedInput",e)}const oj={...Sh,...hn("MuiOutlinedInput",["root","notchedOutline","input"])},Xs=oj;function sj(e){return mn("MuiFilledInput",e)}const aj={...Sh,...hn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},dc=aj,lj=ms(oe.jsx("path",{d:"M7 10l5 5 5-5z"})),cj={entering:{opacity:1},entered:{opacity:1}},uj=q.forwardRef(function(t,n){const o=Lh(),c={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:h,appear:p=!0,children:a,easing:b,in:w,onEnter:E,onEntered:A,onEntering:I,onExit:L,onExited:F,onExiting:j,style:K,timeout:B=c,TransitionComponent:V=RR,...$}=t,J=q.useRef(null),ie=Ui(J,Mh(a),n),de=qe=>Oe=>{if(qe){const Ge=J.current;Oe===void 0?qe(Ge):qe(Ge,Oe)}},ye=de(I),me=de((qe,Oe)=>{LR(qe);const Ge=Oy({style:K,timeout:B,easing:b},{mode:"enter"});qe.style.webkitTransition=o.transitions.create("opacity",Ge),qe.style.transition=o.transitions.create("opacity",Ge),E&&E(qe,Oe)}),ke=de(A),G=de(j),Te=de(qe=>{const Oe=Oy({style:K,timeout:B,easing:b},{mode:"exit"});qe.style.webkitTransition=o.transitions.create("opacity",Oe),qe.style.transition=o.transitions.create("opacity",Oe),L&&L(qe)}),Le=de(F),Ue=qe=>{h&&h(J.current,qe)};return oe.jsx(V,{appear:p,in:w,nodeRef:J,onEnter:me,onEntered:ke,onEntering:ye,onExit:Te,onExited:Le,onExiting:G,addEndListener:Ue,timeout:B,...$,children:(qe,{ownerState:Oe,...Ge})=>q.cloneElement(a,{style:{opacity:0,visibility:qe==="exited"&&!w?"hidden":void 0,...cj[qe],...K,...a.props.style},ref:ie,...Ge})})}),L1=uj;function hj(e){return mn("MuiBackdrop",e)}hn("MuiBackdrop",["root","invisible"]);const dj=e=>{const{classes:t,invisible:n}=e;return gn({root:["root",n&&"invisible"]},hj,t)},pj=ot("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),fj=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiBackdrop"}),{children:c,className:h,component:p="div",invisible:a=!1,open:b,components:w={},componentsProps:E={},slotProps:A={},slots:I={},TransitionComponent:L,transitionDuration:F,...j}=o,K={...o,component:p,invisible:a},B=dj(K),V={transition:L,root:w.Root,...I},$={...E,...A},J={slots:V,slotProps:$},[ie,de]=zn("root",{elementType:pj,externalForwardedProps:J,className:Ft(B.root,h),ownerState:K}),[ye,me]=zn("transition",{elementType:L1,externalForwardedProps:J,ownerState:K});return oe.jsx(ye,{in:b,timeout:F,...j,...me,children:oe.jsx(ie,{"aria-hidden":!0,...de,classes:B,ref:n,children:c})})}),zR=fj,mj=hn("MuiBox",["root"]),gj=mj,yj=q0(),vj=pN({themeId:la,defaultTheme:yj,defaultClassName:gj.root,generateClassName:nR.generate}),mo=vj;function _j(e){return mn("MuiButton",e)}const xj=hn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),pc=xj,bj=q.createContext({}),wj=bj,Sj=q.createContext(void 0),Cj=Sj,Tj=e=>{const{color:t,disableElevation:n,fullWidth:o,size:c,variant:h,loading:p,loadingPosition:a,classes:b}=e,w={root:["root",p&&"loading",h,`${h}${St(t)}`,`size${St(c)}`,`${h}Size${St(c)}`,`color${St(t)}`,n&&"disableElevation",o&&"fullWidth",p&&`loadingPosition${St(a)}`],startIcon:["icon","startIcon",`iconSize${St(c)}`],endIcon:["icon","endIcon",`iconSize${St(c)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},E=gn(w,_j,b);return{...b,...E}},BR=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Ej=ot(Uw,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${St(n.color)}`],t[`size${St(n.size)}`],t[`${n.variant}Size${St(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Bn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${pc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${pc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${pc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${pc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Bo()).map(([o])=>({props:{color:o},style:{"--variant-textColor":(e.vars||e).palette[o].main,"--variant-outlinedColor":(e.vars||e).palette[o].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[o].mainChannel} / 0.5)`:yo(e.palette[o].main,.5),"--variant-containedColor":(e.vars||e).palette[o].contrastText,"--variant-containedBg":(e.vars||e).palette[o].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[o].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:yo(e.palette[o].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[o].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:yo(e.palette[o].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:yo(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:yo(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${pc.loading}`]:{color:"transparent"}}}]}})),Pj=ot("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${St(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...BR]})),Aj=ot("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${St(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...BR]})),kj=ot("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),DE=ot("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Ij=q.forwardRef(function(t,n){const o=q.useContext(wj),c=q.useContext(Cj),h=af(o,t),p=yn({props:h,name:"MuiButton"}),{children:a,color:b="primary",component:w="button",className:E,disabled:A=!1,disableElevation:I=!1,disableFocusRipple:L=!1,endIcon:F,focusVisibleClassName:j,fullWidth:K=!1,id:B,loading:V=null,loadingIndicator:$,loadingPosition:J="center",size:ie="medium",startIcon:de,type:ye,variant:me="text",...ke}=p,G=Of(B),Te=$??oe.jsx(Ww,{"aria-labelledby":G,color:"inherit",size:16}),Le={...p,color:b,component:w,disabled:A,disableElevation:I,disableFocusRipple:L,fullWidth:K,loading:V,loadingIndicator:Te,loadingPosition:J,size:ie,type:ye,variant:me},Ue=Tj(Le),qe=(de||V&&J==="start")&&oe.jsx(Pj,{className:Ue.startIcon,ownerState:Le,children:de||oe.jsx(DE,{className:Ue.loadingIconPlaceholder,ownerState:Le})}),Oe=(F||V&&J==="end")&&oe.jsx(Aj,{className:Ue.endIcon,ownerState:Le,children:F||oe.jsx(DE,{className:Ue.loadingIconPlaceholder,ownerState:Le})}),Ge=c||"",Ye=typeof V=="boolean"?oe.jsx("span",{className:Ue.loadingWrapper,style:{display:"contents"},children:V&&oe.jsx(kj,{className:Ue.loadingIndicator,ownerState:Le,children:Te})}):null;return oe.jsxs(Ej,{ownerState:Le,className:Ft(o.className,Ue.root,E,Ge),component:w,disabled:A||V,focusRipple:!L,focusVisibleClassName:Ft(Ue.focusVisible,j),ref:n,type:ye,id:V?G:B,...ke,classes:Ue,children:[qe,J!=="end"&&Ye,a,J==="end"&&Ye,Oe]})}),Y0=Ij;function zE(e){return e.substring(2).toLowerCase()}function Mj(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Rj(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:c,touchEvent:h="onTouchEnd"}=e,p=q.useRef(!1),a=q.useRef(null),b=q.useRef(!1),w=q.useRef(!1);q.useEffect(()=>(setTimeout(()=>{b.current=!0},0),()=>{b.current=!1}),[]);const E=Ui(Mh(t),a),A=ua(F=>{const j=w.current;w.current=!1;const K=wo(a.current);if(!b.current||!a.current||"clientX"in F&&Mj(F,K))return;if(p.current){p.current=!1;return}let B;F.composedPath?B=F.composedPath().includes(a.current):B=!K.documentElement.contains(F.target)||a.current.contains(F.target),!B&&(n||!j)&&c(F)}),I=F=>j=>{w.current=!0;const K=t.props[F];K&&K(j)},L={ref:E};return h!==!1&&(L[h]=I(h)),q.useEffect(()=>{if(h!==!1){const F=zE(h),j=wo(a.current),K=()=>{p.current=!0};return j.addEventListener(F,A),j.addEventListener("touchmove",K),()=>{j.removeEventListener(F,A),j.removeEventListener("touchmove",K)}}},[A,h]),o!==!1&&(L[o]=I(o)),q.useEffect(()=>{if(o!==!1){const F=zE(o),j=wo(a.current);return j.addEventListener(F,A),()=>{j.removeEventListener(F,A)}}},[A,o]),q.cloneElement(t,L)}const Lj=u$({createStyledComponent:ot("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${St(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>yn({props:e,name:"MuiContainer"})}),Hw=Lj,D1=typeof $w({})=="function",Dj=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),zj=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),OR=(e,t=!1)=>{var h,p;const n={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([a,b])=>{var E,A;const w=e.getColorSchemeSelector(a);w.startsWith("@")?n[w]={":root":{colorScheme:(E=b.palette)==null?void 0:E.mode}}:n[w.replace(/\s*&/,"")]={colorScheme:(A=b.palette)==null?void 0:A.mode}});let o={html:Dj(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...zj(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const c=(p=(h=e.components)==null?void 0:h.MuiCssBaseline)==null?void 0:p.styleOverrides;return c&&(o=[o,c]),o},Hg="mui-ecs",Bj=e=>{const t=OR(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${Hg})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,c])=>{var p,a;const h=e.getColorSchemeSelector(o);h.startsWith("@")?n[h]={[`:root:not(:has(.${Hg}))`]:{colorScheme:(p=c.palette)==null?void 0:p.mode}}:n[h.replace(/\s*&/,"")]={[`&:not(:has(.${Hg}))`]:{colorScheme:(a=c.palette)==null?void 0:a.mode}}}),t},Oj=$w(D1?({theme:e,enableColorScheme:t})=>OR(e,t):({theme:e})=>Bj(e));function Fj(e){const t=yn({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return oe.jsxs(q.Fragment,{children:[D1&&oe.jsx(Oj,{enableColorScheme:o}),!D1&&!o&&oe.jsx("span",{className:Hg,style:{display:"none"}}),n]})}function Nj(e){const t=wo(e);return t.body===e?qa(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Rp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function BE(e){return parseInt(qa(e).getComputedStyle(e).paddingRight,10)||0}function $j(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||o}function OE(e,t,n,o,c){const h=[t,n,...o];[].forEach.call(e.children,p=>{const a=!h.includes(p),b=!$j(p);a&&b&&Rp(p,c)})}function Q_(e,t){let n=-1;return e.some((o,c)=>t(o)?(n=c,!0):!1),n}function Vj(e,t){const n=[],o=e.container;if(!t.disableScrollLock){if(Nj(o)){const p=pR(qa(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${BE(o)+p}px`;const a=wo(o).querySelectorAll(".mui-fixed");[].forEach.call(a,b=>{n.push({value:b.style.paddingRight,property:"padding-right",el:b}),b.style.paddingRight=`${BE(b)+p}px`})}let h;if(o.parentNode instanceof DocumentFragment)h=wo(o).body;else{const p=o.parentElement,a=qa(o);h=(p==null?void 0:p.nodeName)==="HTML"&&a.getComputedStyle(p).overflowY==="scroll"?p:o}n.push({value:h.style.overflow,property:"overflow",el:h},{value:h.style.overflowX,property:"overflow-x",el:h},{value:h.style.overflowY,property:"overflow-y",el:h}),h.style.overflow="hidden"}return()=>{n.forEach(({value:h,el:p,property:a})=>{h?p.style.setProperty(a,h):p.style.removeProperty(a)})}}function jj(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Uj{constructor(){this.modals=[],this.containers=[]}add(t,n){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&Rp(t.modalRef,!1);const c=jj(n);OE(n,t.mount,t.modalRef,c,!0);const h=Q_(this.containers,p=>p.container===n);return h!==-1?(this.containers[h].modals.push(t),o):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:c}),o)}mount(t,n){const o=Q_(this.containers,h=>h.modals.includes(t)),c=this.containers[o];c.restore||(c.restore=Vj(c,n))}remove(t,n=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const c=Q_(this.containers,p=>p.modals.includes(t)),h=this.containers[c];if(h.modals.splice(h.modals.indexOf(t),1),this.modals.splice(o,1),h.modals.length===0)h.restore&&h.restore(),t.modalRef&&Rp(t.modalRef,n),OE(h.container,t.mount,t.modalRef,h.hiddenSiblings,!1),this.containers.splice(c,1);else{const p=h.modals[h.modals.length-1];p.modalRef&&Rp(p.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Wj=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Gj(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function qj(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Hj(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||qj(e))}function Zj(e){const t=[],n=[];return Array.from(e.querySelectorAll(Wj)).forEach((o,c)=>{const h=Gj(o);h===-1||!Hj(o)||(h===0?t.push(o):n.push({documentOrder:c,tabIndex:h,node:o}))}),n.sort((o,c)=>o.tabIndex===c.tabIndex?o.documentOrder-c.documentOrder:o.tabIndex-c.tabIndex).map(o=>o.node).concat(t)}function Kj(){return!0}function Xj(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:c=!1,getTabbable:h=Zj,isEnabled:p=Kj,open:a}=e,b=q.useRef(!1),w=q.useRef(null),E=q.useRef(null),A=q.useRef(null),I=q.useRef(null),L=q.useRef(!1),F=q.useRef(null),j=Ui(Mh(t),F),K=q.useRef(null);q.useEffect(()=>{!a||!F.current||(L.current=!n)},[n,a]),q.useEffect(()=>{if(!a||!F.current)return;const $=wo(F.current);return F.current.contains($.activeElement)||(F.current.hasAttribute("tabIndex")||F.current.setAttribute("tabIndex","-1"),L.current&&F.current.focus()),()=>{c||(A.current&&A.current.focus&&(b.current=!0,A.current.focus()),A.current=null)}},[a]),q.useEffect(()=>{if(!a||!F.current)return;const $=wo(F.current),J=ye=>{K.current=ye,!(o||!p()||ye.key!=="Tab")&&$.activeElement===F.current&&ye.shiftKey&&(b.current=!0,E.current&&E.current.focus())},ie=()=>{var ke,G;const ye=F.current;if(ye===null)return;if(!$.hasFocus()||!p()||b.current){b.current=!1;return}if(ye.contains($.activeElement)||o&&$.activeElement!==w.current&&$.activeElement!==E.current)return;if($.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!L.current)return;let me=[];if(($.activeElement===w.current||$.activeElement===E.current)&&(me=h(F.current)),me.length>0){const Te=!!((ke=K.current)!=null&&ke.shiftKey&&((G=K.current)==null?void 0:G.key)==="Tab"),Le=me[0],Ue=me[me.length-1];typeof Le!="string"&&typeof Ue!="string"&&(Te?Ue.focus():Le.focus())}else ye.focus()};$.addEventListener("focusin",ie),$.addEventListener("keydown",J,!0);const de=setInterval(()=>{$.activeElement&&$.activeElement.tagName==="BODY"&&ie()},50);return()=>{clearInterval(de),$.removeEventListener("focusin",ie),$.removeEventListener("keydown",J,!0)}},[n,o,c,p,a,h]);const B=$=>{A.current===null&&(A.current=$.relatedTarget),L.current=!0,I.current=$.target;const J=t.props.onFocus;J&&J($)},V=$=>{A.current===null&&(A.current=$.relatedTarget),L.current=!0};return oe.jsxs(q.Fragment,{children:[oe.jsx("div",{tabIndex:a?0:-1,onFocus:V,ref:w,"data-testid":"sentinelStart"}),q.cloneElement(t,{ref:j,onFocus:B}),oe.jsx("div",{tabIndex:a?0:-1,onFocus:V,ref:E,"data-testid":"sentinelEnd"})]})}function Yj(e){return typeof e=="function"?e():e}function Jj(e){return e?e.props.hasOwnProperty("in"):!1}const FE=()=>{},_g=new Uj;function Qj(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,closeAfterTransition:c=!1,onTransitionEnter:h,onTransitionExited:p,children:a,onClose:b,open:w,rootRef:E}=e,A=q.useRef({}),I=q.useRef(null),L=q.useRef(null),F=Ui(L,E),[j,K]=q.useState(!w),B=Jj(a);let V=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(V=!1);const $=()=>wo(I.current),J=()=>(A.current.modalRef=L.current,A.current.mount=I.current,A.current),ie=()=>{_g.mount(J(),{disableScrollLock:o}),L.current&&(L.current.scrollTop=0)},de=ua(()=>{const Oe=Yj(t)||$().body;_g.add(J(),Oe),L.current&&ie()}),ye=()=>_g.isTopModal(J()),me=ua(Oe=>{I.current=Oe,Oe&&(w&&ye()?ie():L.current&&Rp(L.current,V))}),ke=q.useCallback(()=>{_g.remove(J(),V)},[V]);q.useEffect(()=>()=>{ke()},[ke]),q.useEffect(()=>{w?de():(!B||!c)&&ke()},[w,ke,B,c,de]);const G=Oe=>Ge=>{var Ye;(Ye=Oe.onKeyDown)==null||Ye.call(Oe,Ge),!(Ge.key!=="Escape"||Ge.which===229||!ye())&&(n||(Ge.stopPropagation(),b&&b(Ge,"escapeKeyDown")))},Te=Oe=>Ge=>{var Ye;(Ye=Oe.onClick)==null||Ye.call(Oe,Ge),Ge.target===Ge.currentTarget&&b&&b(Ge,"backdropClick")};return{getRootProps:(Oe={})=>{const Ge=Dy(e);delete Ge.onTransitionEnter,delete Ge.onTransitionExited;const Ye={...Ge,...Oe};return{role:"presentation",...Ye,onKeyDown:G(Ye),ref:F}},getBackdropProps:(Oe={})=>{const Ge=Oe;return{"aria-hidden":!0,...Ge,onClick:Te(Ge),open:w}},getTransitionProps:()=>{const Oe=()=>{K(!1),h&&h()},Ge=()=>{K(!0),p&&p(),c&&ke()};return{onEnter:nE(Oe,(a==null?void 0:a.props.onEnter)??FE),onExited:nE(Ge,(a==null?void 0:a.props.onExited)??FE)}},rootRef:F,portalRef:me,isTopModal:ye,exited:j,hasTransition:B}}function eU(e){return mn("MuiModal",e)}hn("MuiModal",["root","hidden","backdrop"]);const tU=e=>{const{open:t,exited:n,classes:o}=e;return gn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},eU,o)},nU=ot("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Bn(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),rU=ot(zR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),iU=q.forwardRef(function(t,n){const o=yn({name:"MuiModal",props:t}),{BackdropComponent:c=rU,BackdropProps:h,classes:p,className:a,closeAfterTransition:b=!1,children:w,container:E,component:A,components:I={},componentsProps:L={},disableAutoFocus:F=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:K=!1,disablePortal:B=!1,disableRestoreFocus:V=!1,disableScrollLock:$=!1,hideBackdrop:J=!1,keepMounted:ie=!1,onClose:de,onTransitionEnter:ye,onTransitionExited:me,open:ke,slotProps:G={},slots:Te={},theme:Le,...Ue}=o,qe={...o,closeAfterTransition:b,disableAutoFocus:F,disableEnforceFocus:j,disableEscapeKeyDown:K,disablePortal:B,disableRestoreFocus:V,disableScrollLock:$,hideBackdrop:J,keepMounted:ie},{getRootProps:Oe,getBackdropProps:Ge,getTransitionProps:Ye,portalRef:De,isTopModal:Re,exited:et,hasTransition:pt}=Qj({...qe,rootRef:n}),ut={...qe,exited:et},ct=tU(ut),Dt={};if(w.props.tabIndex===void 0&&(Dt.tabIndex="-1"),pt){const{onEnter:xt,onExited:qt}=Ye();Dt.onEnter=xt,Dt.onExited=qt}const Gt={slots:{root:I.Root,backdrop:I.Backdrop,...Te},slotProps:{...L,...G}},[dn,Yt]=zn("root",{ref:n,elementType:nU,externalForwardedProps:{...Gt,...Ue,component:A},getSlotProps:Oe,ownerState:ut,className:Ft(a,ct==null?void 0:ct.root,!ut.open&&ut.exited&&(ct==null?void 0:ct.hidden))}),[In,Zt]=zn("backdrop",{ref:h==null?void 0:h.ref,elementType:c,externalForwardedProps:Gt,shouldForwardComponentProp:!0,additionalProps:h,getSlotProps:xt=>Ge({...xt,onClick:qt=>{xt!=null&&xt.onClick&&xt.onClick(qt)}}),className:Ft(h==null?void 0:h.className,ct==null?void 0:ct.backdrop),ownerState:ut});return!ie&&!ke&&(!pt||et)?null:oe.jsx(G8,{ref:De,container:E,disablePortal:B,children:oe.jsxs(dn,{...Yt,children:[!J&&c?oe.jsx(In,{...Zt}):null,oe.jsx(Xj,{disableEnforceFocus:j,disableAutoFocus:F,disableRestoreFocus:V,isEnabled:Re,open:ke,children:q.cloneElement(w,Dt)})]})})}),FR=iU;function oU(e){return mn("MuiDialog",e)}const sU=hn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ex=sU,aU=q.createContext({}),NR=aU,lU=ot(zR,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),cU=e=>{const{classes:t,scroll:n,maxWidth:o,fullWidth:c,fullScreen:h}=e,p={root:["root"],container:["container",`scroll${St(n)}`],paper:["paper",`paperScroll${St(n)}`,`paperWidth${St(String(o))}`,c&&"paperFullWidth",h&&"paperFullScreen"]};return gn(p,oU,t)},uU=ot(FR,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),hU=ot("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${St(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),dU=ot(ro,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${St(n.scroll)}`],t[`paperWidth${St(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Bn(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ex.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${ex.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ex.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),pU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiDialog"}),c=Lh(),h={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":a,"aria-modal":b=!0,BackdropComponent:w,BackdropProps:E,children:A,className:I,disableEscapeKeyDown:L=!1,fullScreen:F=!1,fullWidth:j=!1,maxWidth:K="sm",onClick:B,onClose:V,open:$,PaperComponent:J=ro,PaperProps:ie={},scroll:de="paper",slots:ye={},slotProps:me={},TransitionComponent:ke=L1,transitionDuration:G=h,TransitionProps:Te,...Le}=o,Ue={...o,disableEscapeKeyDown:L,fullScreen:F,fullWidth:j,maxWidth:K,scroll:de},qe=cU(Ue),Oe=q.useRef(),Ge=$t=>{Oe.current=$t.target===$t.currentTarget},Ye=$t=>{B&&B($t),Oe.current&&(Oe.current=null,V&&V($t,"backdropClick"))},De=Of(a),Re=q.useMemo(()=>({titleId:De}),[De]),et={transition:ke,...ye},pt={transition:Te,paper:ie,backdrop:E,...me},ut={slots:et,slotProps:pt},[ct,Dt]=zn("root",{elementType:uU,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:Ue,className:Ft(qe.root,I),ref:n}),[Gt,dn]=zn("backdrop",{elementType:lU,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:Ue}),[Yt,In]=zn("paper",{elementType:dU,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:Ue,className:Ft(qe.paper,ie.className)}),[Zt,xt]=zn("container",{elementType:hU,externalForwardedProps:ut,ownerState:Ue,className:Ft(qe.container)}),[qt,jt]=zn("transition",{elementType:L1,externalForwardedProps:ut,ownerState:Ue,additionalProps:{appear:!0,in:$,timeout:G,role:"presentation"}});return oe.jsx(ct,{closeAfterTransition:!0,slots:{backdrop:Gt},slotProps:{backdrop:{transitionDuration:G,as:w,...dn}},disableEscapeKeyDown:L,onClose:V,open:$,onClick:Ye,...Dt,...Le,children:oe.jsx(qt,{...jt,children:oe.jsx(Zt,{onMouseDown:Ge,...xt,children:oe.jsx(Yt,{as:J,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":De,"aria-modal":b,...In,children:oe.jsx(NR.Provider,{value:Re,children:A})})})})})}),fU=pU;function mU(e){return mn("MuiDialogActions",e)}hn("MuiDialogActions",["root","spacing"]);const gU=e=>{const{classes:t,disableSpacing:n}=e;return gn({root:["root",!n&&"spacing"]},mU,t)},yU=ot("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),vU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiDialogActions"}),{className:c,disableSpacing:h=!1,...p}=o,a={...o,disableSpacing:h},b=gU(a);return oe.jsx(yU,{className:Ft(b.root,c),ownerState:a,ref:n,...p})}),NE=vU;function _U(e){return mn("MuiDialogContent",e)}hn("MuiDialogContent",["root","dividers"]);function xU(e){return mn("MuiDialogTitle",e)}const bU=hn("MuiDialogTitle",["root"]),wU=bU,SU=e=>{const{classes:t,dividers:n}=e;return gn({root:["root",n&&"dividers"]},_U,t)},CU=ot("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Bn(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${wU.root} + &`]:{paddingTop:0}}}]}))),TU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiDialogContent"}),{className:c,dividers:h=!1,...p}=o,a={...o,dividers:h},b=SU(a);return oe.jsx(CU,{className:Ft(b.root,c),ownerState:a,ref:n,...p})}),$E=TU,EU=e=>{const{classes:t}=e;return gn({root:["root"]},xU,t)},PU=ot(Yr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),AU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiDialogTitle"}),{className:c,id:h,...p}=o,a=o,b=EU(a),{titleId:w=h}=q.useContext(NR);return oe.jsx(PU,{component:"h2",className:Ft(b.root,c),ownerState:a,ref:n,variant:"h6",id:h??w,...p})}),VE=AU,kU=hn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jE=kU,IU=e=>{const{classes:t,disableUnderline:n,startAdornment:o,endAdornment:c,size:h,hiddenLabel:p,multiline:a}=e,b={root:["root",!n&&"underline",o&&"adornedStart",c&&"adornedEnd",h==="small"&&`size${St(h)}`,p&&"hiddenLabel",a&&"multiline"],input:["input"]},w=gn(b,sj,t);return{...t,...w}},MU=ot(K0,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...H0(e,t),!n.disableUnderline&&t.underline]}})(Bn(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${dc.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${dc.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:h},variants:[{props:({ownerState:p})=>!p.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dc.disabled}, .${dc.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${dc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Bo()).map(([p])=>{var a;return{props:{disableUnderline:!1,color:p},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[p])==null?void 0:a.main}`}}}}),{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:12}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:12}},{props:({ownerState:p})=>p.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:p,size:a})=>p.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:p})=>p.multiline&&p.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:p})=>p.multiline&&p.hiddenLabel&&p.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),RU=ot(X0,{name:"MuiFilledInput",slot:"Input",overridesResolver:Z0})(Bn(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),$R=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiFilledInput"}),{disableUnderline:c=!1,components:h={},componentsProps:p,fullWidth:a=!1,hiddenLabel:b,inputComponent:w="input",multiline:E=!1,slotProps:A,slots:I={},type:L="text",...F}=o,j={...o,disableUnderline:c,fullWidth:a,inputComponent:w,multiline:E,type:L},K=IU(o),B={root:{ownerState:j},input:{ownerState:j}},V=A??p?Vi(B,A??p):B,$=I.root??h.Root??MU,J=I.input??h.Input??RU;return oe.jsx(qw,{slots:{root:$,input:J},slotProps:V,fullWidth:a,inputComponent:w,multiline:E,ref:n,type:L,...F,classes:K})});$R.muiName="Input";const VR=$R;function LU(e){return mn("MuiFormControl",e)}hn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const DU=e=>{const{classes:t,margin:n,fullWidth:o}=e,c={root:["root",n!=="none"&&`margin${St(n)}`,o&&"fullWidth"]};return gn(c,LU,t)},zU=ot("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${St(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),BU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiFormControl"}),{children:c,className:h,color:p="primary",component:a="div",disabled:b=!1,error:w=!1,focused:E,fullWidth:A=!1,hiddenLabel:I=!1,margin:L="none",required:F=!1,size:j="medium",variant:K="outlined",...B}=o,V={...o,color:p,component:a,disabled:b,error:w,fullWidth:A,hiddenLabel:I,margin:L,required:F,size:j,variant:K},$=DU(V),[J,ie]=q.useState(()=>{let Oe=!1;return c&&q.Children.forEach(c,Ge=>{if(!qg(Ge,["Input","Select"]))return;const Ye=qg(Ge,["Select"])?Ge.props.input:Ge;Ye&&Y8(Ye.props)&&(Oe=!0)}),Oe}),[de,ye]=q.useState(()=>{let Oe=!1;return c&&q.Children.forEach(c,Ge=>{qg(Ge,["Input","Select"])&&(Ny(Ge.props,!0)||Ny(Ge.props.inputProps,!0))&&(Oe=!0)}),Oe}),[me,ke]=q.useState(!1);b&&me&&ke(!1);const G=E!==void 0&&!b?E:me;let Te;q.useRef(!1);const Le=q.useCallback(()=>{ye(!0)},[]),Ue=q.useCallback(()=>{ye(!1)},[]),qe=q.useMemo(()=>({adornedStart:J,setAdornedStart:ie,color:p,disabled:b,error:w,filled:de,focused:G,fullWidth:A,hiddenLabel:I,size:j,onBlur:()=>{ke(!1)},onFocus:()=>{ke(!0)},onEmpty:Ue,onFilled:Le,registerEffect:Te,required:F,variant:K}),[J,p,b,w,de,G,A,I,Te,Ue,Le,F,j,K]);return oe.jsx(Gw.Provider,{value:qe,children:oe.jsx(zU,{as:a,ownerState:V,className:Ft($.root,h),ref:n,...B,children:c})})}),OU=BU;function FU(e){return mn("MuiFormHelperText",e)}const NU=hn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),UE=NU;var WE;const $U=e=>{const{classes:t,contained:n,size:o,disabled:c,error:h,filled:p,focused:a,required:b}=e,w={root:["root",c&&"disabled",h&&"error",o&&`size${St(o)}`,n&&"contained",a&&"focused",p&&"filled",b&&"required"]};return gn(w,FU,t)},VU=ot("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${St(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Bn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${UE.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${UE.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),jU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiFormHelperText"}),{children:c,className:h,component:p="p",disabled:a,error:b,filled:w,focused:E,margin:A,required:I,variant:L,...F}=o,j=zh(),K=Dh({props:o,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),B={...o,component:p,contained:K.variant==="filled"||K.variant==="outlined",variant:K.variant,size:K.size,disabled:K.disabled,error:K.error,filled:K.filled,focused:K.focused,required:K.required};delete B.ownerState;const V=$U(B);return oe.jsx(VU,{as:p,className:Ft(V.root,h),ref:n,...F,ownerState:B,children:c===" "?WE||(WE=oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):c})}),UU=jU;function WU(e){return mn("MuiFormLabel",e)}const GU=hn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Lp=GU,qU=e=>{const{classes:t,color:n,focused:o,disabled:c,error:h,filled:p,required:a}=e,b={root:["root",`color${St(n)}`,c&&"disabled",h&&"error",p&&"filled",o&&"focused",a&&"required"],asterisk:["asterisk",h&&"error"]};return gn(b,WU,t)},HU=ot("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Bn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Bo()).map(([t])=>({props:{color:t},style:{[`&.${Lp.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Lp.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Lp.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),ZU=ot("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Bn(({theme:e})=>({[`&.${Lp.error}`]:{color:(e.vars||e).palette.error.main}}))),KU=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiFormLabel"}),{children:c,className:h,color:p,component:a="label",disabled:b,error:w,filled:E,focused:A,required:I,...L}=o,F=zh(),j=Dh({props:o,muiFormControl:F,states:["color","required","focused","disabled","error","filled"]}),K={...o,color:j.color||"primary",component:a,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required},B=qU(K);return oe.jsxs(HU,{as:a,ownerState:K,className:Ft(B.root,h),ref:n,...L,children:[c,j.required&&oe.jsxs(ZU,{ownerState:K,"aria-hidden":!0,className:B.asterisk,children:["","*"]})]})}),XU=KU,YU=E$({createStyledComponent:ot("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>yn({props:e,name:"MuiGrid"}),useTheme:Lh}),as=YU;function z1(e){return`scale(${e}, ${e**2})`}const JU={entering:{opacity:1,transform:z1(1)},entered:{opacity:1,transform:"none"}},tx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),B1=q.forwardRef(function(t,n){const{addEndListener:o,appear:c=!0,children:h,easing:p,in:a,onEnter:b,onEntered:w,onEntering:E,onExit:A,onExited:I,onExiting:L,style:F,timeout:j="auto",TransitionComponent:K=RR,...B}=t,V=Dw(),$=q.useRef(),J=Lh(),ie=q.useRef(null),de=Ui(ie,Mh(h),n),ye=Oe=>Ge=>{if(Oe){const Ye=ie.current;Ge===void 0?Oe(Ye):Oe(Ye,Ge)}},me=ye(E),ke=ye((Oe,Ge)=>{LR(Oe);const{duration:Ye,delay:De,easing:Re}=Oy({style:F,timeout:j,easing:p},{mode:"enter"});let et;j==="auto"?(et=J.transitions.getAutoHeightDuration(Oe.clientHeight),$.current=et):et=Ye,Oe.style.transition=[J.transitions.create("opacity",{duration:et,delay:De}),J.transitions.create("transform",{duration:tx?et:et*.666,delay:De,easing:Re})].join(","),b&&b(Oe,Ge)}),G=ye(w),Te=ye(L),Le=ye(Oe=>{const{duration:Ge,delay:Ye,easing:De}=Oy({style:F,timeout:j,easing:p},{mode:"exit"});let Re;j==="auto"?(Re=J.transitions.getAutoHeightDuration(Oe.clientHeight),$.current=Re):Re=Ge,Oe.style.transition=[J.transitions.create("opacity",{duration:Re,delay:Ye}),J.transitions.create("transform",{duration:tx?Re:Re*.666,delay:tx?Ye:Ye||Re*.333,easing:De})].join(","),Oe.style.opacity=0,Oe.style.transform=z1(.75),A&&A(Oe)}),Ue=ye(I),qe=Oe=>{j==="auto"&&V.start($.current||0,Oe),o&&o(ie.current,Oe)};return oe.jsx(K,{appear:c,in:a,nodeRef:ie,onEnter:ke,onEntered:G,onEntering:me,onExit:Le,onExited:Ue,onExiting:Te,addEndListener:qe,timeout:j==="auto"?null:j,...B,children:(Oe,{ownerState:Ge,...Ye})=>q.cloneElement(h,{style:{opacity:0,transform:z1(.75),visibility:Oe==="exited"&&!a?"hidden":void 0,...JU[Oe],...F,...h.props.style},ref:de,...Ye})})});B1&&(B1.muiSupportAuto=!0);const jR=B1,QU=e=>{const{classes:t,disableUnderline:n}=e,c=gn({root:["root",!n&&"underline"],input:["input"]},nj,t);return{...t,...c}},e9=ot(K0,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...H0(e,t),!n.disableUnderline&&t.underline]}})(Bn(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:o})=>o.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ip.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ip.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ip.disabled}, .${ip.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ip.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Bo()).map(([o])=>({props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[o].main}`}}}))]}})),t9=ot(X0,{name:"MuiInput",slot:"Input",overridesResolver:Z0})({}),UR=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiInput"}),{disableUnderline:c=!1,components:h={},componentsProps:p,fullWidth:a=!1,inputComponent:b="input",multiline:w=!1,slotProps:E,slots:A={},type:I="text",...L}=o,F=QU(o),K={root:{ownerState:{disableUnderline:c}}},B=E??p?Vi(E??p,K):K,V=A.root??h.Root??e9,$=A.input??h.Input??t9;return oe.jsx(qw,{slots:{root:V,input:$},slotProps:B,fullWidth:a,inputComponent:b,multiline:w,ref:n,type:I,...L,classes:F})});UR.muiName="Input";const WR=UR;function n9(e){return mn("MuiInputLabel",e)}hn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const r9=e=>{const{classes:t,formControl:n,size:o,shrink:c,disableAnimation:h,variant:p,required:a}=e,b={root:["root",n&&"formControl",!h&&"animated",c&&"shrink",o&&o!=="medium"&&`size${St(o)}`,p],asterisk:[a&&"asterisk"]},w=gn(b,n9,t);return{...t,...w}},i9=ot(XU,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Lp.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Bn(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:o})=>t==="filled"&&n.shrink&&o==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),o9=q.forwardRef(function(t,n){const o=yn({name:"MuiInputLabel",props:t}),{disableAnimation:c=!1,margin:h,shrink:p,variant:a,className:b,...w}=o,E=zh();let A=p;typeof A>"u"&&E&&(A=E.filled||E.focused||E.adornedStart);const I=Dh({props:o,muiFormControl:E,states:["size","variant","required","focused"]}),L={...o,disableAnimation:c,formControl:E,shrink:A,size:I.size,variant:I.variant,required:I.required,focused:I.focused},F=r9(L);return oe.jsx(i9,{"data-shrink":A,ref:n,className:Ft(F.root,b),...w,ownerState:L,classes:F})}),s9=o9,a9=q.createContext({}),O1=a9;function l9(e){return mn("MuiList",e)}hn("MuiList",["root","padding","dense","subheader"]);const c9=e=>{const{classes:t,disablePadding:n,dense:o,subheader:c}=e;return gn({root:["root",!n&&"padding",o&&"dense",c&&"subheader"]},l9,t)},u9=ot("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),h9=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiList"}),{children:c,className:h,component:p="ul",dense:a=!1,disablePadding:b=!1,subheader:w,...E}=o,A=q.useMemo(()=>({dense:a}),[a]),I={...o,component:p,dense:a,disablePadding:b},L=c9(I);return oe.jsx(O1.Provider,{value:A,children:oe.jsxs(u9,{as:p,className:Ft(L.root,h),ref:n,ownerState:I,...E,children:[w,c]})})}),d9=h9,p9=hn("MuiListItemIcon",["root","alignItemsFlexStart"]),GE=p9,f9=hn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),qE=f9;function nx(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function HE(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function GR(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function op(e,t,n,o,c,h){let p=!1,a=c(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(p)return!1;p=!0}const b=o?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!GR(a,h)||b)a=c(e,a,n);else return a.focus(),!0}return!1}const m9=q.forwardRef(function(t,n){const{actions:o,autoFocus:c=!1,autoFocusItem:h=!1,children:p,className:a,disabledItemsFocusable:b=!1,disableListWrap:w=!1,onKeyDown:E,variant:A="selectedMenu",...I}=t,L=q.useRef(null),F=q.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ga(()=>{c&&L.current.focus()},[c]),q.useImperativeHandle(o,()=>({adjustStyleForScrollbar:($,{direction:J})=>{const ie=!L.current.style.width;if($.clientHeight<L.current.clientHeight&&ie){const de=`${pR(qa($))}px`;L.current.style[J==="rtl"?"paddingLeft":"paddingRight"]=de,L.current.style.width=`calc(100% + ${de})`}return L.current}}),[]);const j=$=>{const J=L.current,ie=$.key;if($.ctrlKey||$.metaKey||$.altKey){E&&E($);return}const ye=wo(J).activeElement;if(ie==="ArrowDown")$.preventDefault(),op(J,ye,w,b,nx);else if(ie==="ArrowUp")$.preventDefault(),op(J,ye,w,b,HE);else if(ie==="Home")$.preventDefault(),op(J,null,w,b,nx);else if(ie==="End")$.preventDefault(),op(J,null,w,b,HE);else if(ie.length===1){const me=F.current,ke=ie.toLowerCase(),G=performance.now();me.keys.length>0&&(G-me.lastTime>500?(me.keys=[],me.repeating=!0,me.previousKeyMatched=!0):me.repeating&&ke!==me.keys[0]&&(me.repeating=!1)),me.lastTime=G,me.keys.push(ke);const Te=ye&&!me.repeating&&GR(ye,me);me.previousKeyMatched&&(Te||op(J,ye,!1,b,nx,me))?$.preventDefault():me.previousKeyMatched=!1}E&&E($)},K=Ui(L,n);let B=-1;q.Children.forEach(p,($,J)=>{if(!q.isValidElement($)){B===J&&(B+=1,B>=p.length&&(B=-1));return}$.props.disabled||(A==="selectedMenu"&&$.props.selected||B===-1)&&(B=J),B===J&&($.props.disabled||$.props.muiSkipListHighlight||$.type.muiSkipListHighlight)&&(B+=1,B>=p.length&&(B=-1))});const V=q.Children.map(p,($,J)=>{if(J===B){const ie={};return h&&(ie.autoFocus=!0),$.props.tabIndex===void 0&&A==="selectedMenu"&&(ie.tabIndex=0),q.cloneElement($,ie)}return $});return oe.jsx(d9,{role:"menu",ref:K,className:a,onKeyDown:j,tabIndex:c?0:-1,...I,children:V})}),g9=m9;function y9(e){return mn("MuiPopover",e)}hn("MuiPopover",["root","paper"]);function ZE(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function KE(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function XE(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function xg(e){return typeof e=="function"?e():e}const v9=e=>{const{classes:t}=e;return gn({root:["root"],paper:["paper"]},y9,t)},_9=ot(FR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qR=ot(ro,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),x9=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiPopover"}),{action:c,anchorEl:h,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:b="anchorEl",children:w,className:E,container:A,elevation:I=8,marginThreshold:L=16,open:F,PaperProps:j={},slots:K={},slotProps:B={},transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:$,transitionDuration:J="auto",TransitionProps:ie={},disableScrollLock:de=!1,...ye}=o,me=q.useRef(),ke={...o,anchorOrigin:p,anchorReference:b,elevation:I,marginThreshold:L,transformOrigin:V,TransitionComponent:$,transitionDuration:J,TransitionProps:ie},G=v9(ke),Te=q.useCallback(()=>{if(b==="anchorPosition")return a;const xt=xg(h),jt=(xt&&xt.nodeType===1?xt:wo(me.current).body).getBoundingClientRect();return{top:jt.top+ZE(jt,p.vertical),left:jt.left+KE(jt,p.horizontal)}},[h,p.horizontal,p.vertical,a,b]),Le=q.useCallback(xt=>({vertical:ZE(xt,V.vertical),horizontal:KE(xt,V.horizontal)}),[V.horizontal,V.vertical]),Ue=q.useCallback(xt=>{const qt={width:xt.offsetWidth,height:xt.offsetHeight},jt=Le(qt);if(b==="none")return{top:null,left:null,transformOrigin:XE(jt)};const $t=Te();let Pt=$t.top-jt.vertical,Ht=$t.left-jt.horizontal;const ir=Pt+qt.height,On=Ht+qt.width,Sn=qa(xg(h)),Pn=Sn.innerHeight-L,Ie=Sn.innerWidth-L;if(L!==null&&Pt<L){const Jt=Pt-L;Pt-=Jt,jt.vertical+=Jt}else if(L!==null&&ir>Pn){const Jt=ir-Pn;Pt-=Jt,jt.vertical+=Jt}if(L!==null&&Ht<L){const Jt=Ht-L;Ht-=Jt,jt.horizontal+=Jt}else if(On>Ie){const Jt=On-Ie;Ht-=Jt,jt.horizontal+=Jt}return{top:`${Math.round(Pt)}px`,left:`${Math.round(Ht)}px`,transformOrigin:XE(jt)}},[h,b,Te,Le,L]),[qe,Oe]=q.useState(F),Ge=q.useCallback(()=>{const xt=me.current;if(!xt)return;const qt=Ue(xt);qt.top!==null&&xt.style.setProperty("top",qt.top),qt.left!==null&&(xt.style.left=qt.left),xt.style.transformOrigin=qt.transformOrigin,Oe(!0)},[Ue]);q.useEffect(()=>(de&&window.addEventListener("scroll",Ge),()=>window.removeEventListener("scroll",Ge)),[h,de,Ge]);const Ye=()=>{Ge()},De=()=>{Oe(!1)};q.useEffect(()=>{F&&Ge()}),q.useImperativeHandle(c,()=>F?{updatePosition:()=>{Ge()}}:null,[F,Ge]),q.useEffect(()=>{if(!F)return;const xt=hR(()=>{Ge()}),qt=qa(xg(h));return qt.addEventListener("resize",xt),()=>{xt.clear(),qt.removeEventListener("resize",xt)}},[h,F,Ge]);let Re=J;const et={slots:{transition:$,...K},slotProps:{transition:ie,paper:j,...B}},[pt,ut]=zn("transition",{elementType:jR,externalForwardedProps:et,ownerState:ke,getSlotProps:xt=>({...xt,onEntering:(qt,jt)=>{var $t;($t=xt.onEntering)==null||$t.call(xt,qt,jt),Ye()},onExited:qt=>{var jt;(jt=xt.onExited)==null||jt.call(xt,qt),De()}}),additionalProps:{appear:!0,in:F}});J==="auto"&&!pt.muiSupportAuto&&(Re=void 0);const ct=A||(h?wo(xg(h)).body:void 0),[Dt,{slots:Gt,slotProps:dn,...Yt}]=zn("root",{ref:n,elementType:_9,externalForwardedProps:{...et,...ye},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:K.backdrop},slotProps:{backdrop:PV(typeof B.backdrop=="function"?B.backdrop(ke):B.backdrop,{invisible:!0})},container:ct,open:F},ownerState:ke,className:Ft(G.root,E)}),[In,Zt]=zn("paper",{ref:me,className:G.paper,elementType:qR,externalForwardedProps:et,shouldForwardComponentProp:!0,additionalProps:{elevation:I,style:qe?void 0:{opacity:0}},ownerState:ke});return oe.jsx(Dt,{...Yt,...!R1(Dt)&&{slots:Gt,slotProps:dn,disableScrollLock:de},children:oe.jsx(pt,{...ut,timeout:Re,children:oe.jsx(In,{...Zt,children:w})})})}),b9=x9;function w9(e){return mn("MuiMenu",e)}hn("MuiMenu",["root","paper","list"]);const S9={vertical:"top",horizontal:"right"},C9={vertical:"top",horizontal:"left"},T9=e=>{const{classes:t}=e;return gn({root:["root"],paper:["paper"],list:["list"]},w9,t)},E9=ot(b9,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),P9=ot(qR,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),A9=ot(g9,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),k9=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiMenu"}),{autoFocus:c=!0,children:h,className:p,disableAutoFocusItem:a=!1,MenuListProps:b={},onClose:w,open:E,PaperProps:A={},PopoverClasses:I,transitionDuration:L="auto",TransitionProps:{onEntering:F,...j}={},variant:K="selectedMenu",slots:B={},slotProps:V={},...$}=o,J=VN(),ie={...o,autoFocus:c,disableAutoFocusItem:a,MenuListProps:b,onEntering:F,PaperProps:A,transitionDuration:L,TransitionProps:j,variant:K},de=T9(ie),ye=c&&!a&&E,me=q.useRef(null),ke=(Re,et)=>{me.current&&me.current.adjustStyleForScrollbar(Re,{direction:J?"rtl":"ltr"}),F&&F(Re,et)},G=Re=>{Re.key==="Tab"&&(Re.preventDefault(),w&&w(Re,"tabKeyDown"))};let Te=-1;q.Children.map(h,(Re,et)=>{q.isValidElement(Re)&&(Re.props.disabled||(K==="selectedMenu"&&Re.props.selected||Te===-1)&&(Te=et))});const Le={slots:B,slotProps:{list:b,transition:j,paper:A,...V}},Ue=DN({elementType:B.root,externalSlotProps:V.root,ownerState:ie,className:[de.root,p]}),[qe,Oe]=zn("paper",{className:de.paper,elementType:P9,externalForwardedProps:Le,shouldForwardComponentProp:!0,ownerState:ie}),[Ge,Ye]=zn("list",{className:Ft(de.list,b.className),elementType:A9,shouldForwardComponentProp:!0,externalForwardedProps:Le,getSlotProps:Re=>({...Re,onKeyDown:et=>{var pt;G(et),(pt=Re.onKeyDown)==null||pt.call(Re,et)}}),ownerState:ie}),De=typeof Le.slotProps.transition=="function"?Le.slotProps.transition(ie):Le.slotProps.transition;return oe.jsx(E9,{onClose:w,anchorOrigin:{vertical:"bottom",horizontal:J?"right":"left"},transformOrigin:J?S9:C9,slots:{root:B.root,paper:qe,backdrop:B.backdrop,...B.transition&&{transition:B.transition}},slotProps:{root:Ue,paper:Oe,backdrop:typeof V.backdrop=="function"?V.backdrop(ie):V.backdrop,transition:{...De,onEntering:(...Re)=>{var et;ke(...Re),(et=De==null?void 0:De.onEntering)==null||et.call(De,...Re)}}},open:E,ref:n,transitionDuration:L,ownerState:ie,...$,classes:I,children:oe.jsx(Ge,{actions:me,autoFocus:c&&(Te===-1||a),autoFocusItem:ye,variant:K,...Ye,children:h})})}),I9=k9;function M9(e){return mn("MuiMenuItem",e)}const R9=hn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sp=R9,L9=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},D9=e=>{const{disabled:t,dense:n,divider:o,disableGutters:c,selected:h,classes:p}=e,b=gn({root:["root",n&&"dense",t&&"disabled",!c&&"gutters",o&&"divider",h&&"selected"]},M9,p);return{...p,...b}},z9=ot(Uw,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:L9})(Bn(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sp.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:yo(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${sp.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:yo(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${sp.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:yo(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:yo(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${sp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${sp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${jE.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${jE.inset}`]:{marginLeft:52},[`& .${qE.root}`]:{marginTop:0,marginBottom:0},[`& .${qE.inset}`]:{paddingLeft:36},[`& .${GE.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${GE.root} svg`]:{fontSize:"1.25rem"}}}]}))),B9=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiMenuItem"}),{autoFocus:c=!1,component:h="li",dense:p=!1,divider:a=!1,disableGutters:b=!1,focusVisibleClassName:w,role:E="menuitem",tabIndex:A,className:I,...L}=o,F=q.useContext(O1),j=q.useMemo(()=>({dense:p||F.dense||!1,disableGutters:b}),[F.dense,p,b]),K=q.useRef(null);Ga(()=>{c&&K.current&&K.current.focus()},[c]);const B={...o,dense:j.dense,divider:a,disableGutters:b},V=D9(o),$=Ui(K,n);let J;return o.disabled||(J=A!==void 0?A:-1),oe.jsx(O1.Provider,{value:j,children:oe.jsx(z9,{ref:$,role:E,tabIndex:J,component:h,focusVisibleClassName:Ft(V.focusVisible,w),className:Ft(V.root,I),...L,ownerState:B,classes:V})})}),ap=B9;function O9(e){return mn("MuiNativeSelect",e)}const F9=hn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zw=F9,N9=e=>{const{classes:t,variant:n,disabled:o,multiple:c,open:h,error:p}=e,a={select:["select",n,o&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${St(n)}`,h&&"iconOpen",o&&"disabled"]};return gn(a,O9,t)},HR=ot("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Zw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),$9=ot(HR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fs,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Zw.multiple}`]:t.multiple}]}})({}),ZR=ot("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Zw.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),V9=ot(ZR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${St(n.variant)}`],n.open&&t.iconOpen]}})({}),j9=q.forwardRef(function(t,n){const{className:o,disabled:c,error:h,IconComponent:p,inputRef:a,variant:b="standard",...w}=t,E={...t,disabled:c,variant:b,error:h},A=N9(E);return oe.jsxs(q.Fragment,{children:[oe.jsx($9,{ownerState:E,className:Ft(A.select,o),disabled:c,ref:a||n,...w}),t.multiple?null:oe.jsx(V9,{as:p,ownerState:E,className:A.icon})]})}),U9=j9;var YE;const W9=ot("fieldset",{shouldForwardProp:fs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),G9=ot("legend",{shouldForwardProp:fs})(Bn(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function q9(e){const{children:t,classes:n,className:o,label:c,notched:h,...p}=e,a=c!=null&&c!=="",b={...e,notched:h,withLabel:a};return oe.jsx(W9,{"aria-hidden":!0,className:o,ownerState:b,...p,children:oe.jsx(G9,{ownerState:b,children:a?oe.jsx("span",{children:c}):YE||(YE=oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const H9=e=>{const{classes:t}=e,o=gn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ij,t);return{...t,...o}},Z9=ot(K0,{shouldForwardProp:e=>fs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:H0})(Bn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Xs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Xs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Xs.focused} .${Xs.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Bo()).map(([n])=>({props:{color:n},style:{[`&.${Xs.focused} .${Xs.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Xs.error} .${Xs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Xs.disabled} .${Xs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:o})=>n.multiline&&o==="small",style:{padding:"8.5px 14px"}}]}})),K9=ot(q9,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(Bn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),X9=ot(X0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Z0})(Bn(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),KR=q.forwardRef(function(t,n){var o;const c=yn({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:p=!1,inputComponent:a="input",label:b,multiline:w=!1,notched:E,slots:A={},type:I="text",...L}=c,F=H9(c),j=zh(),K=Dh({props:c,muiFormControl:j,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),B={...c,color:K.color||"primary",disabled:K.disabled,error:K.error,focused:K.focused,formControl:j,fullWidth:p,hiddenLabel:K.hiddenLabel,multiline:w,size:K.size,type:I},V=A.root??h.Root??Z9,$=A.input??h.Input??X9;return oe.jsx(qw,{slots:{root:V,input:$},renderSuffix:J=>oe.jsx(K9,{ownerState:B,className:F.notchedOutline,label:b!=null&&b!==""&&K.required?o||(o=oe.jsxs(q.Fragment,{children:[b,"","*"]})):b,notched:typeof E<"u"?E:!!(J.startAdornment||J.filled||J.focused)}),fullWidth:p,inputComponent:a,multiline:w,ref:n,type:I,...L,classes:{...F,notchedOutline:null}})});KR.muiName="Input";const XR=KR;function YR(e){return mn("MuiSelect",e)}const lp=hn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var JE;const Y9=ot(HR,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${lp.select}`]:t.select},{[`&.${lp.select}`]:t[n.variant]},{[`&.${lp.error}`]:t.error},{[`&.${lp.multiple}`]:t.multiple}]}})({[`&.${lp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),J9=ot(ZR,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${St(n.variant)}`],n.open&&t.iconOpen]}})({}),Q9=ot("input",{shouldForwardProp:e=>AR(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function QE(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function e7(e){return e==null||typeof e=="string"&&!e.trim()}const t7=e=>{const{classes:t,variant:n,disabled:o,multiple:c,open:h,error:p}=e,a={select:["select",n,o&&"disabled",c&&"multiple",p&&"error"],icon:["icon",`icon${St(n)}`,h&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return gn(a,YR,t)},n7=q.forwardRef(function(t,n){var sn;const{"aria-describedby":o,"aria-label":c,autoFocus:h,autoWidth:p,children:a,className:b,defaultOpen:w,defaultValue:E,disabled:A,displayEmpty:I,error:L=!1,IconComponent:F,inputRef:j,labelId:K,MenuProps:B={},multiple:V,name:$,onBlur:J,onChange:ie,onClose:de,onFocus:ye,onOpen:me,open:ke,readOnly:G,renderValue:Te,required:Le,SelectDisplayProps:Ue={},tabIndex:qe,type:Oe,value:Ge,variant:Ye="standard",...De}=t,[Re,et]=sE({controlled:Ge,default:E,name:"Select"}),[pt,ut]=sE({controlled:ke,default:w,name:"Select"}),ct=q.useRef(null),Dt=q.useRef(null),[Gt,dn]=q.useState(null),{current:Yt}=q.useRef(ke!=null),[In,Zt]=q.useState(),xt=Ui(n,j),qt=q.useCallback(At=>{Dt.current=At,At&&dn(At)},[]),jt=Gt==null?void 0:Gt.parentNode;q.useImperativeHandle(xt,()=>({focus:()=>{Dt.current.focus()},node:ct.current,value:Re}),[Re]),q.useEffect(()=>{w&&pt&&Gt&&!Yt&&(Zt(p?null:jt.clientWidth),Dt.current.focus())},[Gt,p]),q.useEffect(()=>{h&&Dt.current.focus()},[h]),q.useEffect(()=>{if(!K)return;const At=wo(Dt.current).getElementById(K);if(At){const pn=()=>{getSelection().isCollapsed&&Dt.current.focus()};return At.addEventListener("click",pn),()=>{At.removeEventListener("click",pn)}}},[K]);const $t=(At,pn)=>{At?me&&me(pn):de&&de(pn),Yt||(Zt(p?null:jt.clientWidth),ut(At))},Pt=At=>{At.button===0&&(At.preventDefault(),Dt.current.focus(),$t(!0,At))},Ht=At=>{$t(!1,At)},ir=q.Children.toArray(a),On=At=>{const pn=ir.find(He=>He.props.value===At.target.value);pn!==void 0&&(et(pn.props.value),ie&&ie(At,pn))},Sn=At=>pn=>{let He;if(pn.currentTarget.hasAttribute("tabindex")){if(V){He=Array.isArray(Re)?Re.slice():[];const Ot=Re.indexOf(At.props.value);Ot===-1?He.push(At.props.value):He.splice(Ot,1)}else He=At.props.value;if(At.props.onClick&&At.props.onClick(pn),Re!==He&&(et(He),ie)){const Ot=pn.nativeEvent||pn,zt=new Ot.constructor(Ot.type,Ot);Object.defineProperty(zt,"target",{writable:!0,value:{value:He,name:$}}),ie(zt,At)}V||$t(!1,pn)}},Pn=At=>{G||[" ","ArrowUp","ArrowDown","Enter"].includes(At.key)&&(At.preventDefault(),$t(!0,At))},Ie=Gt!==null&&pt,Jt=At=>{!Ie&&J&&(Object.defineProperty(At,"target",{writable:!0,value:{value:Re,name:$}}),J(At))};delete De["aria-invalid"];let ft,nn;const Mt=[];let wr=!1;(Ny({value:Re})||I)&&(Te?ft=Te(Re):wr=!0);const ui=ir.map(At=>{if(!q.isValidElement(At))return null;let pn;if(V){if(!Array.isArray(Re))throw new Error(Ua(2));pn=Re.some(He=>QE(He,At.props.value)),pn&&wr&&Mt.push(At.props.children)}else pn=QE(Re,At.props.value),pn&&wr&&(nn=At.props.children);return q.cloneElement(At,{"aria-selected":pn?"true":"false",onClick:Sn(At),onKeyUp:He=>{He.key===" "&&He.preventDefault(),At.props.onKeyUp&&At.props.onKeyUp(He)},role:"option",selected:pn,value:void 0,"data-value":At.props.value})});wr&&(V?Mt.length===0?ft=null:ft=Mt.reduce((At,pn,He)=>(At.push(pn),He<Mt.length-1&&At.push(", "),At),[]):ft=nn);let Vr=In;!p&&Yt&&Gt&&(Vr=jt.clientWidth);let Ti;typeof qe<"u"?Ti=qe:Ti=A?null:0;const ei=Ue.id||($?`mui-component-select-${$}`:void 0),Cn={...t,variant:Ye,value:Re,open:Ie,error:L},Rt=t7(Cn),Ze={...B.PaperProps,...(sn=B.slotProps)==null?void 0:sn.paper},Fn=Of();return oe.jsxs(q.Fragment,{children:[oe.jsx(Y9,{as:"div",ref:qt,tabIndex:Ti,role:"combobox","aria-controls":Ie?Fn:void 0,"aria-disabled":A?"true":void 0,"aria-expanded":Ie?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[K,ei].filter(Boolean).join(" ")||void 0,"aria-describedby":o,"aria-required":Le?"true":void 0,"aria-invalid":L?"true":void 0,onKeyDown:Pn,onMouseDown:A||G?null:Pt,onBlur:Jt,onFocus:ye,...Ue,ownerState:Cn,className:Ft(Ue.className,Rt.select,b),id:ei,children:e7(ft)?JE||(JE=oe.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ft}),oe.jsx(Q9,{"aria-invalid":L,value:Array.isArray(Re)?Re.join(","):Re,name:$,ref:ct,"aria-hidden":!0,onChange:On,tabIndex:-1,disabled:A,className:Rt.nativeInput,autoFocus:h,required:Le,...De,ownerState:Cn}),oe.jsx(J9,{as:F,className:Rt.icon,ownerState:Cn}),oe.jsx(I9,{id:`menu-${$||""}`,anchorEl:jt,open:Ie,onClose:Ht,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...B,slotProps:{...B.slotProps,list:{"aria-labelledby":K,role:"listbox","aria-multiselectable":V?"true":void 0,disableListWrap:!0,id:Fn,...B.MenuListProps},paper:{...Ze,style:{minWidth:Vr,...Ze!=null?Ze.style:null}}},children:ui})]})}),r7=n7,i7=e=>{const{classes:t}=e,o=gn({root:["root"]},YR,t);return{...t,...o}},Kw={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>fs(e)&&e!=="variant",slot:"Root"},o7=ot(WR,Kw)(""),s7=ot(XR,Kw)(""),a7=ot(VR,Kw)(""),JR=q.forwardRef(function(t,n){const o=yn({name:"MuiSelect",props:t}),{autoWidth:c=!1,children:h,classes:p={},className:a,defaultOpen:b=!1,displayEmpty:w=!1,IconComponent:E=lj,id:A,input:I,inputProps:L,label:F,labelId:j,MenuProps:K,multiple:B=!1,native:V=!1,onClose:$,onOpen:J,open:ie,renderValue:de,SelectDisplayProps:ye,variant:me="outlined",...ke}=o,G=V?U9:r7,Te=zh(),Le=Dh({props:o,muiFormControl:Te,states:["variant","error"]}),Ue=Le.variant||me,qe={...o,variant:Ue,classes:p},Oe=i7(qe),{root:Ge,...Ye}=Oe,De=I||{standard:oe.jsx(o7,{ownerState:qe}),outlined:oe.jsx(s7,{label:F,ownerState:qe}),filled:oe.jsx(a7,{ownerState:qe})}[Ue],Re=Ui(n,Mh(De));return oe.jsx(q.Fragment,{children:q.cloneElement(De,{inputComponent:G,inputProps:{children:h,error:Le.error,IconComponent:E,variant:Ue,type:void 0,multiple:B,...V?{id:A}:{autoWidth:c,defaultOpen:b,displayEmpty:w,labelId:j,MenuProps:K,onClose:$,onOpen:J,open:ie,renderValue:de,SelectDisplayProps:{id:A,...ye}},...L,classes:L?Vi(Ye,L.classes):Ye,...I?I.props.inputProps:{}},...(B&&V||w)&&Ue==="outlined"?{notched:!0}:{},ref:Re,className:Ft(De.props.className,a,Oe.root),...!I&&{variant:Ue},...ke})})});JR.muiName="Select";const l7=JR;function c7(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:c,resumeHideDuration:h}=e,p=Dw();q.useEffect(()=>{if(!c)return;function B(V){V.defaultPrevented||V.key==="Escape"&&(o==null||o(V,"escapeKeyDown"))}return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[c,o]);const a=ua((B,V)=>{o==null||o(B,V)}),b=ua(B=>{!o||B==null||p.start(B,()=>{a(null,"timeout")})});q.useEffect(()=>(c&&b(t),p.clear),[c,t,b,p]);const w=B=>{o==null||o(B,"clickaway")},E=p.clear,A=q.useCallback(()=>{t!=null&&b(h??t*.5)},[t,h,b]),I=B=>V=>{const $=B.onBlur;$==null||$(V),A()},L=B=>V=>{const $=B.onFocus;$==null||$(V),E()},F=B=>V=>{const $=B.onMouseEnter;$==null||$(V),E()},j=B=>V=>{const $=B.onMouseLeave;$==null||$(V),A()};return q.useEffect(()=>{if(!n&&c)return window.addEventListener("focus",A),window.addEventListener("blur",E),()=>{window.removeEventListener("focus",A),window.removeEventListener("blur",E)}},[n,c,A,E]),{getRootProps:(B={})=>{const V={...Dy(e),...Dy(B)};return{role:"presentation",...B,...V,onBlur:I(V),onFocus:L(V),onMouseEnter:F(V),onMouseLeave:j(V)}},onClickAway:w}}function u7(e){return mn("MuiSnackbarContent",e)}hn("MuiSnackbarContent",["root","message","action"]);const h7=e=>{const{classes:t}=e;return gn({root:["root"],action:["action"],message:["message"]},u7,t)},d7=ot(ro,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(Bn(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=uR(e.palette.background.default,t);return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),p7=ot("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),f7=ot("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),m7=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiSnackbarContent"}),{action:c,className:h,message:p,role:a="alert",...b}=o,w=o,E=h7(w);return oe.jsxs(d7,{role:a,square:!0,elevation:6,className:Ft(E.root,h),ownerState:w,ref:n,...b,children:[oe.jsx(p7,{className:E.message,ownerState:w,children:p}),c?oe.jsx(f7,{className:E.action,ownerState:w,children:c}):null]})}),g7=m7;function y7(e){return mn("MuiSnackbar",e)}hn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const v7=e=>{const{classes:t,anchorOrigin:n}=e,o={root:["root",`anchorOrigin${St(n.vertical)}${St(n.horizontal)}`]};return gn(o,y7,t)},_7=ot("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${St(n.anchorOrigin.vertical)}${St(n.anchorOrigin.horizontal)}`]]}})(Bn(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),x7=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiSnackbar"}),c=Lh(),h={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:a,horizontal:b}={vertical:"bottom",horizontal:"left"},autoHideDuration:w=null,children:E,className:A,ClickAwayListenerProps:I,ContentProps:L,disableWindowBlurListener:F=!1,message:j,onBlur:K,onClose:B,onFocus:V,onMouseEnter:$,onMouseLeave:J,open:ie,resumeHideDuration:de,slots:ye={},slotProps:me={},TransitionComponent:ke,transitionDuration:G=h,TransitionProps:{onEnter:Te,onExited:Le,...Ue}={},...qe}=o,Oe={...o,anchorOrigin:{vertical:a,horizontal:b},autoHideDuration:w,disableWindowBlurListener:F,TransitionComponent:ke,transitionDuration:G},Ge=v7(Oe),{getRootProps:Ye,onClickAway:De}=c7({...Oe}),[Re,et]=q.useState(!0),pt=$t=>{et(!0),Le&&Le($t)},ut=($t,Pt)=>{et(!1),Te&&Te($t,Pt)},ct={slots:{transition:ke,...ye},slotProps:{content:L,clickAwayListener:I,transition:Ue,...me}},[Dt,Gt]=zn("root",{ref:n,className:[Ge.root,A],elementType:_7,getSlotProps:Ye,externalForwardedProps:{...ct,...qe},ownerState:Oe}),[dn,{ownerState:Yt,...In}]=zn("clickAwayListener",{elementType:Rj,externalForwardedProps:ct,getSlotProps:$t=>({onClickAway:(...Pt)=>{var Ht;(Ht=$t.onClickAway)==null||Ht.call($t,...Pt),De(...Pt)}}),ownerState:Oe}),[Zt,xt]=zn("content",{elementType:g7,shouldForwardComponentProp:!0,externalForwardedProps:ct,additionalProps:{message:j,action:p},ownerState:Oe}),[qt,jt]=zn("transition",{elementType:jR,externalForwardedProps:ct,getSlotProps:$t=>({onEnter:(...Pt)=>{var Ht;(Ht=$t.onEnter)==null||Ht.call($t,...Pt),ut(...Pt)},onExited:(...Pt)=>{var Ht;(Ht=$t.onExited)==null||Ht.call($t,...Pt),pt(...Pt)}}),additionalProps:{appear:!0,in:ie,timeout:G,direction:a==="top"?"down":"up"},ownerState:Oe});return!ie&&Re?null:oe.jsx(dn,{...In,...ye.clickAwayListener&&{ownerState:Yt},children:oe.jsx(Dt,{...Gt,children:oe.jsx(qt,{...jt,children:E||oe.jsx(Zt,{...xt})})})})}),eP=x7;function b7(e){return mn("MuiToolbar",e)}hn("MuiToolbar",["root","gutters","regular","dense"]);const w7=e=>{const{classes:t,disableGutters:n,variant:o}=e;return gn({root:["root",!n&&"gutters",o]},b7,t)},S7=ot("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Bn(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),C7=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiToolbar"}),{className:c,component:h="div",disableGutters:p=!1,variant:a="regular",...b}=o,w={...o,component:h,disableGutters:p,variant:a},E=w7(w);return oe.jsx(S7,{as:h,className:Ft(E.root,c),ref:n,ownerState:w,...b})}),T7=C7;function E7(e){return mn("MuiTextField",e)}hn("MuiTextField",["root"]);const P7={standard:WR,filled:VR,outlined:XR},A7=e=>{const{classes:t}=e;return gn({root:["root"]},E7,t)},k7=ot(OU,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),I7=q.forwardRef(function(t,n){const o=yn({props:t,name:"MuiTextField"}),{autoComplete:c,autoFocus:h=!1,children:p,className:a,color:b="primary",defaultValue:w,disabled:E=!1,error:A=!1,FormHelperTextProps:I,fullWidth:L=!1,helperText:F,id:j,InputLabelProps:K,inputProps:B,InputProps:V,inputRef:$,label:J,maxRows:ie,minRows:de,multiline:ye=!1,name:me,onBlur:ke,onChange:G,onFocus:Te,placeholder:Le,required:Ue=!1,rows:qe,select:Oe=!1,SelectProps:Ge,slots:Ye={},slotProps:De={},type:Re,value:et,variant:pt="outlined",...ut}=o,ct={...o,autoFocus:h,color:b,disabled:E,error:A,fullWidth:L,multiline:ye,required:Ue,select:Oe,variant:pt},Dt=A7(ct),Gt=Of(j),dn=F&&Gt?`${Gt}-helper-text`:void 0,Yt=J&&Gt?`${Gt}-label`:void 0,In=P7[pt],Zt={slots:Ye,slotProps:{input:V,inputLabel:K,htmlInput:B,formHelperText:I,select:Ge,...De}},xt={},qt=Zt.slotProps.inputLabel;pt==="outlined"&&(qt&&typeof qt.shrink<"u"&&(xt.notched=qt.shrink),xt.label=J),Oe&&((!Ge||!Ge.native)&&(xt.id=void 0),xt["aria-describedby"]=void 0);const[jt,$t]=zn("root",{elementType:k7,shouldForwardComponentProp:!0,externalForwardedProps:{...Zt,...ut},ownerState:ct,className:Ft(Dt.root,a),ref:n,additionalProps:{disabled:E,error:A,fullWidth:L,required:Ue,color:b,variant:pt}}),[Pt,Ht]=zn("input",{elementType:In,externalForwardedProps:Zt,additionalProps:xt,ownerState:ct}),[ir,On]=zn("inputLabel",{elementType:s9,externalForwardedProps:Zt,ownerState:ct}),[Sn,Pn]=zn("htmlInput",{elementType:"input",externalForwardedProps:Zt,ownerState:ct}),[Ie,Jt]=zn("formHelperText",{elementType:UU,externalForwardedProps:Zt,ownerState:ct}),[ft,nn]=zn("select",{elementType:l7,externalForwardedProps:Zt,ownerState:ct}),Mt=oe.jsx(Pt,{"aria-describedby":dn,autoComplete:c,autoFocus:h,defaultValue:w,fullWidth:L,multiline:ye,name:me,rows:qe,maxRows:ie,minRows:de,type:Re,value:et,id:Gt,inputRef:$,onBlur:ke,onChange:G,onFocus:Te,placeholder:Le,inputProps:Pn,slots:{input:Ye.htmlInput?Sn:void 0},...Ht});return oe.jsxs(jt,{...$t,children:[J!=null&&J!==""&&oe.jsx(ir,{htmlFor:Gt,id:Yt,...On,children:J}),Oe?oe.jsx(ft,{"aria-describedby":dn,id:Gt,labelId:Yt,value:et,input:Mt,...nn,children:p}):Mt,F&&oe.jsx(Ie,{id:dn,...Jt,children:F})]})}),M7=I7,Xw=q.createContext({});function Yw(e){const t=q.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jw=typeof window<"u",QR=Jw?q.useLayoutEffect:q.useEffect,J0=q.createContext(null),Qw=q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class R7 extends q.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,c=o instanceof HTMLElement&&o.offsetWidth||0,h=this.props.sizeRef.current;h.height=n.offsetHeight||0,h.width=n.offsetWidth||0,h.top=n.offsetTop,h.left=n.offsetLeft,h.right=c-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function L7({children:e,isPresent:t,anchorX:n}){const o=q.useId(),c=q.useRef(null),h=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=q.useContext(Qw);return q.useInsertionEffect(()=>{const{width:a,height:b,top:w,left:E,right:A}=h.current;if(t||!c.current||!a||!b)return;const I=n==="left"?`left: ${E}`:`right: ${A}`;c.current.dataset.motionPopId=o;const L=document.createElement("style");return p&&(L.nonce=p),document.head.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${w}px !important;
          }
        `),()=>{document.head.removeChild(L)}},[t]),oe.jsx(R7,{isPresent:t,childRef:c,sizeRef:h,children:q.cloneElement(e,{ref:c})})}const D7=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:h,mode:p,anchorX:a})=>{const b=Yw(z7),w=q.useId(),E=q.useCallback(I=>{b.set(I,!0);for(const L of b.values())if(!L)return;o&&o()},[b,o]),A=q.useMemo(()=>({id:w,initial:t,isPresent:n,custom:c,onExitComplete:E,register:I=>(b.set(I,!1),()=>b.delete(I))}),h?[Math.random(),E]:[n,E]);return q.useMemo(()=>{b.forEach((I,L)=>b.set(L,!1))},[n]),q.useEffect(()=>{!n&&!b.size&&o&&o()},[n]),p==="popLayout"&&(e=oe.jsx(L7,{isPresent:n,anchorX:a,children:e})),oe.jsx(J0.Provider,{value:A,children:e})};function z7(){return new Map}function e5(e=!0){const t=q.useContext(J0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:c}=t,h=q.useId();q.useEffect(()=>{if(e)return c(h)},[e]);const p=q.useCallback(()=>e&&o&&o(h),[h,o,e]);return!n&&o?[!1,p]:[!0]}const bg=e=>e.key||"";function tP(e){const t=[];return q.Children.forEach(e,n=>{q.isValidElement(n)&&t.push(n)}),t}const B7=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:h="sync",propagate:p=!1,anchorX:a="left"})=>{const[b,w]=e5(p),E=q.useMemo(()=>tP(e),[e]),A=p&&!b?[]:E.map(bg),I=q.useRef(!0),L=q.useRef(E),F=Yw(()=>new Map),[j,K]=q.useState(E),[B,V]=q.useState(E);QR(()=>{I.current=!1,L.current=E;for(let ie=0;ie<B.length;ie++){const de=bg(B[ie]);A.includes(de)?F.delete(de):F.get(de)!==!0&&F.set(de,!1)}},[B,A.length,A.join("-")]);const $=[];if(E!==j){let ie=[...E];for(let de=0;de<B.length;de++){const ye=B[de],me=bg(ye);A.includes(me)||(ie.splice(de,0,ye),$.push(ye))}return h==="wait"&&$.length&&(ie=$),V(tP(ie)),K(E),null}const{forceRender:J}=q.useContext(Xw);return oe.jsx(oe.Fragment,{children:B.map(ie=>{const de=bg(ie),ye=p&&!b?!1:E===B||A.includes(de),me=()=>{if(F.has(de))F.set(de,!0);else return;let ke=!0;F.forEach(G=>{G||(ke=!1)}),ke&&(J==null||J(),V(L.current),p&&(w==null||w()),o&&o())};return oe.jsx(D7,{isPresent:ye,initial:!I.current||n?void 0:!1,custom:t,presenceAffectsLayout:c,mode:h,onExitComplete:ye?void 0:me,anchorX:a,children:ie},de)})})};function eS(e,t){e.indexOf(t)===-1&&e.push(t)}function tS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let t5=()=>{};const F1={skipAnimations:!1,useManualTiming:!1};function nS(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,hf=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class rS{constructor(){this.subscriptions=[]}add(t){return eS(this.subscriptions,t),()=>tS(this.subscriptions,t)}notify(t,n,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,n,o);else for(let h=0;h<c;h++){const p=this.subscriptions[h];p&&p(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ha=e=>e*1e3,da=e=>e/1e3;function n5(e,t){return t?e*(1e3/t):0}const O7=nS(()=>window.ScrollTimeline!==void 0);class F7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let o=0;o<this.animations.length;o++)this.animations[o][t]=n}attachTimeline(t,n){const o=this.animations.map(c=>{if(O7()&&c.attachTimeline)return c.attachTimeline(t);if(typeof n=="function")return n(c)});return()=>{o.forEach((c,h)=>{c&&c(),this.animations[h].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N7 extends F7{then(t,n){return this.finished.finally(t).then(()=>{})}}const nP={value:null,addProjectionMetrics:null},iS=e=>Array.isArray(e)&&typeof e[0]=="number",$7={};function V7(e,t){const n=nS(e);return()=>$7[t]??n()}const df=V7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r5=(e,t,n=10)=>{let o="";const c=Math.max(Math.round(t/n),2);for(let h=0;h<c;h++)o+=e(h/(c-1))+", ";return`linear(${o.substring(0,o.length-2)})`},_p=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,N1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_p([0,.65,.55,1]),circOut:_p([.55,0,1,.45]),backIn:_p([.31,.01,.66,-.59]),backOut:_p([.33,1.53,.69,.99])};function i5(e,t){if(e)return typeof e=="function"&&df()?r5(e,t):iS(e)?_p(e):Array.isArray(e)?e.map(n=>i5(n,t)||N1.easeOut):N1[e]}function j7(e,t,n,{delay:o=0,duration:c=300,repeat:h=0,repeatType:p="loop",ease:a="easeInOut",times:b}={},w=void 0){const E={[t]:n};b&&(E.offset=b);const A=i5(a,c);return Array.isArray(A)&&(E.easing=A),e.animate(E,{delay:o,duration:c,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:h+1,direction:p==="reverse"?"alternate":"normal",pseudoElement:w})}function oS(e){return typeof e=="function"&&"applyToOptions"in e}function sS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $y=2e4;function aS(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<$y;)t+=n,o=e.next(t);return t>=$y?1/0:t}function U7(e,t=100,n){const o=n({...e,keyframes:[0,t]}),c=Math.min(aS(o),$y);return{type:"keyframes",ease:h=>o.next(c*h).value/t,duration:da(c)}}function o5(e){return!!(typeof e=="function"&&df()||!e||typeof e=="string"&&(e in N1||df())||iS(e)||Array.isArray(e)&&e.every(o5))}function rP(e,t){e.timeline=t,e.onfinish=null}const wg=["read","resolveKeyframes","update","preRender","render","postRender"];function W7(e,t){let n=new Set,o=new Set,c=!1,h=!1;const p=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},b=0;function w(A){p.has(A)&&(E.schedule(A),e()),b++,A(a)}const E={schedule:(A,I=!1,L=!1)=>{const j=L&&c?n:o;return I&&p.add(A),j.has(A)||j.add(A),A},cancel:A=>{o.delete(A),p.delete(A)},process:A=>{if(a=A,c){h=!0;return}c=!0,[n,o]=[o,n],n.forEach(w),t&&nP.value&&nP.value.frameloop[t].push(b),b=0,n.clear(),c=!1,h&&(h=!1,E.process(A))}};return E}const G7=40;function s5(e,t){let n=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},h=()=>n=!0,p=wg.reduce((B,V)=>(B[V]=W7(h,t?V:void 0),B),{}),{read:a,resolveKeyframes:b,update:w,preRender:E,render:A,postRender:I}=p,L=()=>{const B=performance.now();n=!1,c.delta=o?1e3/60:Math.max(Math.min(B-c.timestamp,G7),1),c.timestamp=B,c.isProcessing=!0,a.process(c),b.process(c),w.process(c),E.process(c),A.process(c),I.process(c),c.isProcessing=!1,n&&t&&(o=!1,e(L))},F=()=>{n=!0,o=!0,c.isProcessing||e(L)};return{schedule:wg.reduce((B,V)=>{const $=p[V];return B[V]=(J,ie=!1,de=!1)=>(n||F(),$.schedule(J,ie,de)),B},{}),cancel:B=>{for(let V=0;V<wg.length;V++)p[wg[V]].cancel(B)},state:c,steps:p}}const{schedule:lS,cancel:qY}=s5(queueMicrotask,!1),{schedule:rr,cancel:Nl,state:xi,steps:rx}=s5(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let Zg;function q7(){Zg=void 0}const pa={now:()=>(Zg===void 0&&pa.set(xi.isProcessing||F1.useManualTiming?xi.timestamp:performance.now()),Zg),set:e=>{Zg=e,queueMicrotask(q7)}},As={x:!1,y:!1};function a5(){return As.x||As.y}function H7(e){return e==="x"||e==="y"?As[e]?null:(As[e]=!0,()=>{As[e]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function Z7(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;t&&(o=t.current);const c=(n==null?void 0:n[e])??o.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function l5(e,t){const n=Z7(e),o=new AbortController,c={passive:!0,...t,signal:o.signal};return[n,c,()=>o.abort()]}function iP(e){return!(e.pointerType==="touch"||a5())}function K7(e,t,n={}){const[o,c,h]=l5(e,n),p=a=>{if(!iP(a))return;const{target:b}=a,w=t(b,a);if(typeof w!="function"||!b)return;const E=A=>{iP(A)&&(w(A),b.removeEventListener("pointerleave",E))};b.addEventListener("pointerleave",E,c)};return o.forEach(a=>{a.addEventListener("pointerenter",p,c)}),h}const c5=(e,t)=>t?e===t?!0:c5(e,t.parentElement):!1,cS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,X7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y7(e){return X7.has(e.tagName)||e.tabIndex!==-1}const xp=new WeakSet;function oP(e){return t=>{t.key==="Enter"&&e(t)}}function ix(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const J7=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=oP(()=>{if(xp.has(n))return;ix(n,"down");const c=oP(()=>{ix(n,"up")}),h=()=>ix(n,"cancel");n.addEventListener("keyup",c,t),n.addEventListener("blur",h,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function sP(e){return cS(e)&&!a5()}function Q7(e,t,n={}){const[o,c,h]=l5(e,n),p=a=>{const b=a.currentTarget;if(!sP(a)||xp.has(b))return;xp.add(b);const w=t(b,a),E=(L,F)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",I),!(!sP(L)||!xp.has(b))&&(xp.delete(b),typeof w=="function"&&w(L,{success:F}))},A=L=>{E(L,b===window||b===document||n.useGlobalTarget||c5(b,L.target))},I=L=>{E(L,!1)};window.addEventListener("pointerup",A,c),window.addEventListener("pointercancel",I,c)};return o.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",p,c),a instanceof HTMLElement&&(a.addEventListener("focus",w=>J7(w,c)),!Y7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),h}const aP=30,eW=e=>!isNaN(parseFloat(e));class tW{constructor(t,n={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,c=!0)=>{const h=pa.now();this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),c&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rS);const o=this.events[t].add(n);return t==="change"?()=>{o(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aP);return n5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pf(e,t){return new tW(e,t)}const u5=q.createContext({strict:!1}),lP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ch={};for(const e in lP)Ch[e]={isEnabled:t=>lP[e].some(n=>!!t[n])};function nW(e){for(const t in e)Ch[t]={...Ch[t],...e[t]}}const rW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rW.has(e)}let h5=e=>!Vy(e);function iW(e){e&&(h5=t=>t.startsWith("on")?!Vy(t):e(t))}try{iW(require("@emotion/is-prop-valid").default)}catch{}function oW(e,t,n){const o={};for(const c in e)c==="values"&&typeof e.values=="object"||(h5(c)||n===!0&&Vy(c)||!t&&!Vy(c)||e.draggable&&c.startsWith("onDrag"))&&(o[c]=e[c]);return o}function sW(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...o)=>e(...o);return new Proxy(n,{get:(o,c)=>c==="create"?e:(t.has(c)||t.set(c,e(c)),t.get(c))})}const Q0=q.createContext({});function ev(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ff(e){return typeof e=="string"||Array.isArray(e)}const uS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hS=["initial",...uS];function tv(e){return ev(e.animate)||hS.some(t=>ff(e[t]))}function d5(e){return!!(tv(e)||e.variants)}function aW(e,t){if(tv(e)){const{initial:n,animate:o}=e;return{initial:n===!1||ff(n)?n:void 0,animate:ff(o)?o:void 0}}return e.inherit!==!1?t:{}}function lW(e){const{initial:t,animate:n}=aW(e,q.useContext(Q0));return q.useMemo(()=>({initial:t,animate:n}),[cP(t),cP(n)])}function cP(e){return Array.isArray(e)?e.join(" "):e}const cW=Symbol.for("motionComponentSymbol");function Yu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uW(e,t,n){return q.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Yu(n)&&(n.current=o))},[t])}const dS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hW="framerAppearId",p5="data-"+dS(hW),f5=q.createContext({});function dW(e,t,n,o,c){var j,K;const{visualElement:h}=q.useContext(Q0),p=q.useContext(u5),a=q.useContext(J0),b=q.useContext(Qw).reducedMotion,w=q.useRef(null);o=o||p.renderer,!w.current&&o&&(w.current=o(e,{visualState:t,parent:h,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:b}));const E=w.current,A=q.useContext(f5);E&&!E.projection&&c&&(E.type==="html"||E.type==="svg")&&pW(w.current,n,c,A);const I=q.useRef(!1);q.useInsertionEffect(()=>{E&&I.current&&E.update(n,a)});const L=n[p5],F=q.useRef(!!L&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,L))&&((K=window.MotionHasOptimisedAnimation)==null?void 0:K.call(window,L)));return QR(()=>{E&&(I.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),lS.render(E.render),F.current&&E.animationState&&E.animationState.animateChanges())}),q.useEffect(()=>{E&&(!F.current&&E.animationState&&E.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,L)}),F.current=!1))}),E}function pW(e,t,n,o){const{layoutId:c,layout:h,drag:p,dragConstraints:a,layoutScroll:b,layoutRoot:w,layoutCrossfade:E}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:m5(e.parent)),e.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!p||a&&Yu(a),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:E,layoutScroll:b,layoutRoot:w})}function m5(e){if(e)return e.options.allowProjection!==!1?e.projection:m5(e.parent)}function fW({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:c}){e&&nW(e);function h(a,b){let w;const E={...q.useContext(Qw),...a,layoutId:mW(a)},{isStatic:A}=E,I=lW(a),L=o(a,A);if(!A&&Jw){gW();const F=yW(E);w=F.MeasureLayout,I.visualElement=dW(c,L,E,t,F.ProjectionNode)}return oe.jsxs(Q0.Provider,{value:I,children:[w&&I.visualElement?oe.jsx(w,{visualElement:I.visualElement,...E}):null,n(c,a,uW(L,I.visualElement,b),L,A,I.visualElement)]})}h.displayName=`motion.${typeof c=="string"?c:`create(${c.displayName??c.name??""})`}`;const p=q.forwardRef(h);return p[cW]=c,p}function mW({layoutId:e}){const t=q.useContext(Xw).id;return t&&e!==void 0?t+"-"+e:e}function gW(e,t){q.useContext(u5).strict}function yW(e){const{drag:t,layout:n}=Ch;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const g5=e=>t=>typeof t=="string"&&t.startsWith(e),pS=g5("--"),vW=g5("var(--"),fS=e=>vW(e)?_W.test(e.split("/*")[0].trim()):!1,_W=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mf={};function xW(e){for(const t in e)mf[t]=e[t],pS(t)&&(mf[t].isCSSVariable=!0)}const Bh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Bh);function y5(e,{layout:t,layoutId:n}){return Uc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mf[e]||e==="opacity")}const $i=e=>!!(e&&e.getVelocity),v5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ha=(e,t,n)=>n>t?t:n<e?e:n,Oh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gf={...Oh,transform:e=>Ha(0,1,e)},Sg={...Oh,default:1},Ff=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vl=Ff("deg"),fa=Ff("%"),Vt=Ff("px"),bW=Ff("vh"),wW=Ff("vw"),uP={...fa,parse:e=>fa.parse(e)/100,transform:e=>fa.transform(e*100)},SW={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt},CW={rotate:vl,rotateX:vl,rotateY:vl,rotateZ:vl,scale:Sg,scaleX:Sg,scaleY:Sg,scaleZ:Sg,skew:vl,skewX:vl,skewY:vl,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:gf,originX:uP,originY:uP,originZ:Vt},hP={...Oh,transform:Math.round},mS={...SW,...CW,zIndex:hP,size:Vt,fillOpacity:gf,strokeOpacity:gf,numOctaves:hP},TW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EW=Bh.length;function PW(e,t,n){let o="",c=!0;for(let h=0;h<EW;h++){const p=Bh[h],a=e[p];if(a===void 0)continue;let b=!0;if(typeof a=="number"?b=a===(p.startsWith("scale")?1:0):b=parseFloat(a)===0,!b||n){const w=v5(a,mS[p]);if(!b){c=!1;const E=TW[p]||p;o+=`${E}(${w}) `}n&&(t[p]=w)}}return o=o.trim(),n?o=n(t,c?"":o):c&&(o="none"),o}function gS(e,t,n){const{style:o,vars:c,transformOrigin:h}=e;let p=!1,a=!1;for(const b in t){const w=t[b];if(Uc.has(b)){p=!0;continue}else if(pS(b)){c[b]=w;continue}else{const E=v5(w,mS[b]);b.startsWith("origin")?(a=!0,h[b]=E):o[b]=E}}if(t.transform||(p||n?o.transform=PW(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:b="50%",originY:w="50%",originZ:E=0}=h;o.transformOrigin=`${b} ${w} ${E}`}}const yS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _5(e,t,n){for(const o in t)!$i(t[o])&&!y5(o,n)&&(e[o]=t[o])}function AW({transformTemplate:e},t){return q.useMemo(()=>{const n=yS();return gS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function kW(e,t){const n=e.style||{},o={};return _5(o,n,e),Object.assign(o,AW(e,t)),o}function IW(e,t){const n={},o=kW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const MW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vS(e){return typeof e!="string"||e.includes("-")?!1:!!(MW.indexOf(e)>-1||/[A-Z]/u.test(e))}const RW={offset:"stroke-dashoffset",array:"stroke-dasharray"},LW={offset:"strokeDashoffset",array:"strokeDasharray"};function DW(e,t,n=1,o=0,c=!0){e.pathLength=1;const h=c?RW:LW;e[h.offset]=Vt.transform(-o);const p=Vt.transform(t),a=Vt.transform(n);e[h.array]=`${p} ${a}`}function dP(e,t,n){return typeof e=="string"?e:Vt.transform(t+n*e)}function zW(e,t,n){const o=dP(t,e.x,e.width),c=dP(n,e.y,e.height);return`${o} ${c}`}function _S(e,{attrX:t,attrY:n,attrScale:o,originX:c,originY:h,pathLength:p,pathSpacing:a=1,pathOffset:b=0,...w},E,A){if(gS(e,w,A),E){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:I,style:L,dimensions:F}=e;I.transform&&(F&&(L.transform=I.transform),delete I.transform),F&&(c!==void 0||h!==void 0||L.transform)&&(L.transformOrigin=zW(F,c!==void 0?c:.5,h!==void 0?h:.5)),t!==void 0&&(I.x=t),n!==void 0&&(I.y=n),o!==void 0&&(I.scale=o),p!==void 0&&DW(I,p,a,b,!1)}const x5=()=>({...yS(),attrs:{}}),xS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BW(e,t,n,o){const c=q.useMemo(()=>{const h=x5();return _S(h,t,xS(o),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};_5(h,e.style,e),c.style={...h,...c.style}}return c}function OW(e=!1){return(n,o,c,{latestValues:h},p)=>{const b=(vS(n)?BW:IW)(o,h,p,n),w=oW(o,typeof n=="string",e),E=n!==q.Fragment?{...w,...b,ref:c}:{},{children:A}=o,I=q.useMemo(()=>$i(A)?A.get():A,[A]);return q.createElement(n,{...E,children:I})}}function pP(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function bS(e,t,n,o){if(typeof t=="function"){const[c,h]=pP(o);t=t(n!==void 0?n:e.custom,c,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[c,h]=pP(o);t=t(n!==void 0?n:e.custom,c,h)}return t}const $1=e=>Array.isArray(e),FW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),NW=e=>$1(e)?e[e.length-1]||0:e;function Kg(e){const t=$i(e)?e.get():e;return FW(t)?t.toValue():t}function $W({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},o,c,h){const p={latestValues:VW(o,c,h,e),renderState:t()};return n&&(p.onMount=a=>n({props:o,current:a,...p}),p.onUpdate=a=>n(a)),p}const b5=e=>(t,n)=>{const o=q.useContext(Q0),c=q.useContext(J0),h=()=>$W(e,t,o,c);return n?h():Yw(h)};function VW(e,t,n,o){const c={},h=o(e,{});for(const I in h)c[I]=Kg(h[I]);let{initial:p,animate:a}=e;const b=tv(e),w=d5(e);t&&w&&!b&&e.inherit!==!1&&(p===void 0&&(p=t.initial),a===void 0&&(a=t.animate));let E=n?n.initial===!1:!1;E=E||p===!1;const A=E?a:p;if(A&&typeof A!="boolean"&&!ev(A)){const I=Array.isArray(A)?A:[A];for(let L=0;L<I.length;L++){const F=bS(e,I[L]);if(F){const{transitionEnd:j,transition:K,...B}=F;for(const V in B){let $=B[V];if(Array.isArray($)){const J=E?$.length-1:0;$=$[J]}$!==null&&(c[V]=$)}for(const V in j)c[V]=j[V]}}}return c}function wS(e,t,n){var h;const{style:o}=e,c={};for(const p in o)($i(o[p])||t.style&&$i(t.style[p])||y5(p,e)||((h=n==null?void 0:n.getValue(p))==null?void 0:h.liveStyle)!==void 0)&&(c[p]=o[p]);return c}const jW={useVisualState:b5({scrapeMotionValuesFromProps:wS,createRenderState:yS})};function w5(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function S5(e,{style:t,vars:n},o,c){Object.assign(e.style,t,c&&c.getProjectionStyles(o));for(const h in n)e.style.setProperty(h,n[h])}const C5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T5(e,t,n,o){S5(e,t,void 0,o);for(const c in t.attrs)e.setAttribute(C5.has(c)?c:dS(c),t.attrs[c])}function E5(e,t,n){const o=wS(e,t,n);for(const c in e)if($i(e[c])||$i(t[c])){const h=Bh.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[h]=e[c]}return o}const fP=["x","y","width","height","cx","cy","r"],UW={useVisualState:b5({scrapeMotionValuesFromProps:E5,createRenderState:x5,onUpdate:({props:e,prevProps:t,current:n,renderState:o,latestValues:c})=>{if(!n)return;let h=!!e.drag;if(!h){for(const a in c)if(Uc.has(a)){h=!0;break}}if(!h)return;let p=!t;if(t)for(let a=0;a<fP.length;a++){const b=fP[a];e[b]!==t[b]&&(p=!0)}p&&rr.read(()=>{w5(n,o),rr.render(()=>{_S(o,c,xS(n.tagName),e.transformTemplate),T5(n,o)})})}})};function WW(e,t){return function(o,{forwardMotionProps:c}={forwardMotionProps:!1}){const p={...vS(o)?UW:jW,preloadedFeatures:e,useRender:OW(c),createVisualElement:t,Component:o};return fW(p)}}function yf(e,t,n){const o=e.getProps();return bS(o,t,n!==void 0?n:o.custom,e)}const P5=new Set(["width","height","top","left","right","bottom",...Bh]);function GW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pf(n))}function qW(e,t){const n=yf(e,t);let{transitionEnd:o={},transition:c={},...h}=n||{};h={...h,...o};for(const p in h){const a=NW(h[p]);GW(e,p,a)}}function HW(e){return!!($i(e)&&e.add)}function V1(e,t){const n=e.getValue("willChange");if(HW(n))return n.add(t);if(!n&&F1.WillChange){const o=new F1.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function A5(e){return e.props[p5]}const k5=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZW=1e-7,KW=12;function XW(e,t,n,o,c){let h,p,a=0;do p=t+(n-t)/2,h=k5(p,o,c)-e,h>0?n=p:t=p;while(Math.abs(h)>ZW&&++a<KW);return p}function Nf(e,t,n,o){if(e===t&&n===o)return cs;const c=h=>XW(h,0,1,e,n);return h=>h===0||h===1?h:k5(c(h),t,o)}const I5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,M5=e=>t=>1-e(1-t),R5=Nf(.33,1.53,.69,.99),SS=M5(R5),L5=I5(SS),D5=e=>(e*=2)<1?.5*SS(e):.5*(2-Math.pow(2,-10*(e-1))),CS=e=>1-Math.sin(Math.acos(e)),z5=M5(CS),B5=I5(CS),O5=e=>/^0[^.\s]+$/u.test(e);function YW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||O5(e):!0}const Dp=e=>Math.round(e*1e5)/1e5,TS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JW(e){return e==null}const QW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ES=(e,t)=>n=>!!(typeof n=="string"&&QW.test(n)&&n.startsWith(e)||t&&!JW(n)&&Object.prototype.hasOwnProperty.call(n,t)),F5=(e,t,n)=>o=>{if(typeof o!="string")return o;const[c,h,p,a]=o.match(TS);return{[e]:parseFloat(c),[t]:parseFloat(h),[n]:parseFloat(p),alpha:a!==void 0?parseFloat(a):1}},eG=e=>Ha(0,255,e),ox={...Oh,transform:e=>Math.round(eG(e))},Tc={test:ES("rgb","red"),parse:F5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+ox.transform(e)+", "+ox.transform(t)+", "+ox.transform(n)+", "+Dp(gf.transform(o))+")"};function tG(e){let t="",n="",o="",c="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),c=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),c=e.substring(4,5),t+=t,n+=n,o+=o,c+=c),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const j1={test:ES("#"),parse:tG,transform:Tc.transform},Ju={test:ES("hsl","hue"),parse:F5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+fa.transform(Dp(t))+", "+fa.transform(Dp(n))+", "+Dp(gf.transform(o))+")"},Oi={test:e=>Tc.test(e)||j1.test(e)||Ju.test(e),parse:e=>Tc.test(e)?Tc.parse(e):Ju.test(e)?Ju.parse(e):j1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Tc.transform(e):Ju.transform(e)},nG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rG(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(TS))==null?void 0:t.length)||0)+(((n=e.match(nG))==null?void 0:n.length)||0)>0}const N5="number",$5="color",iG="var",oG="var(",mP="${}",sG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vf(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},c=[];let h=0;const a=t.replace(sG,b=>(Oi.test(b)?(o.color.push(h),c.push($5),n.push(Oi.parse(b))):b.startsWith(oG)?(o.var.push(h),c.push(iG),n.push(b)):(o.number.push(h),c.push(N5),n.push(parseFloat(b))),++h,mP)).split(mP);return{values:n,split:a,indexes:o,types:c}}function V5(e){return vf(e).values}function j5(e){const{split:t,types:n}=vf(e),o=t.length;return c=>{let h="";for(let p=0;p<o;p++)if(h+=t[p],c[p]!==void 0){const a=n[p];a===N5?h+=Dp(c[p]):a===$5?h+=Oi.transform(c[p]):h+=c[p]}return h}}const aG=e=>typeof e=="number"?0:e;function lG(e){const t=V5(e);return j5(e)(t.map(aG))}const $l={test:rG,parse:V5,createTransformer:j5,getAnimatableNone:lG},cG=new Set(["brightness","contrast","saturate","opacity"]);function uG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(TS)||[];if(!o)return e;const c=n.replace(o,"");let h=cG.has(t)?1:0;return o!==n&&(h*=100),t+"("+h+c+")"}const hG=/\b([a-z-]*)\(.*?\)/gu,U1={...$l,getAnimatableNone:e=>{const t=e.match(hG);return t?t.map(uG).join(" "):e}},dG={...mS,color:Oi,backgroundColor:Oi,outlineColor:Oi,fill:Oi,stroke:Oi,borderColor:Oi,borderTopColor:Oi,borderRightColor:Oi,borderBottomColor:Oi,borderLeftColor:Oi,filter:U1,WebkitFilter:U1},U5=e=>dG[e];function W5(e,t){let n=U5(e);return n!==U1&&(n=$l),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pG=new Set(["auto","none","0"]);function fG(e,t,n){let o=0,c;for(;o<e.length&&!c;){const h=e[o];typeof h=="string"&&!pG.has(h)&&vf(h).values.length&&(c=e[o]),o++}if(c&&n)for(const h of t)e[h]=W5(n,c)}const Ec=e=>e*180/Math.PI,W1=e=>{const t=Ec(Math.atan2(e[1],e[0]));return G1(t)},mG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:W1,rotateZ:W1,skewX:e=>Ec(Math.atan(e[1])),skewY:e=>Ec(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},G1=e=>(e=e%360,e<0&&(e+=360),e),gP=W1,yP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yP,scaleY:vP,scale:e=>(yP(e)+vP(e))/2,rotateX:e=>G1(Ec(Math.atan2(e[6],e[5]))),rotateY:e=>G1(Ec(Math.atan2(-e[2],e[0]))),rotateZ:gP,rotate:gP,skewX:e=>Ec(Math.atan(e[4])),skewY:e=>Ec(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _P(e){return e.includes("scale")?1:0}function q1(e,t){if(!e||e==="none")return _P(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(n)o=gG,c=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=mG,c=a}if(!c)return _P(t);const h=o[t],p=c[1].split(",").map(vG);return typeof h=="function"?h(p):p[h]}const yG=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return q1(n,t)};function vG(e){return parseFloat(e.trim())}const xP=e=>e===Oh||e===Vt,_G=new Set(["x","y","z"]),xG=Bh.filter(e=>!_G.has(e));function bG(e){const t=[];return xG.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const Th={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>q1(t,"x"),y:(e,{transform:t})=>q1(t,"y")};Th.translateX=Th.x;Th.translateY=Th.y;const Ic=new Set;let H1=!1,Z1=!1;function G5(){if(Z1){const e=Array.from(Ic).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const c=bG(o);c.length&&(n.set(o,c),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const c=n.get(o);c&&c.forEach(([h,p])=>{var a;(a=o.getValue(h))==null||a.set(p)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Z1=!1,H1=!1,Ic.forEach(e=>e.complete()),Ic.clear()}function q5(){Ic.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Z1=!0)})}function wG(){q5(),G5()}class PS{constructor(t,n,o,c,h,p=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=c,this.element=h,this.isAsync=p}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ic.add(this),H1||(H1=!0,rr.read(q5),rr.resolveKeyframes(G5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:c}=this;for(let h=0;h<t.length;h++)if(t[h]===null)if(h===0){const p=c==null?void 0:c.get(),a=t[t.length-1];if(p!==void 0)t[0]=p;else if(o&&n){const b=o.readValue(n,a);b!=null&&(t[0]=b)}t[0]===void 0&&(t[0]=a),c&&p===void 0&&c.set(t[0])}else t[h]=t[h-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ic.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ic.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const H5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),SG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CG(e){const t=SG.exec(e);if(!t)return[,];const[,n,o,c]=t;return[`--${n??o}`,c]}function Z5(e,t,n=1){const[o,c]=CG(e);if(!o)return;const h=window.getComputedStyle(t).getPropertyValue(o);if(h){const p=h.trim();return H5(p)?parseFloat(p):p}return fS(c)?Z5(c,t,n+1):c}const K5=e=>t=>t.test(e),TG={test:e=>e==="auto",parse:e=>e},X5=[Oh,Vt,fa,vl,wW,bW,TG],bP=e=>X5.find(K5(e));class Y5 extends PS{constructor(t,n,o,c,h){super(t,n,o,c,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let w=t[b];if(typeof w=="string"&&(w=w.trim(),fS(w))){const E=Z5(w,n.current);E!==void 0&&(t[b]=E),b===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!P5.has(o)||t.length!==2)return;const[c,h]=t,p=bP(c),a=bP(h);if(p!==a)if(xP(p)&&xP(a))for(let b=0;b<t.length;b++){const w=t[b];typeof w=="string"&&(t[b]=parseFloat(w))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let c=0;c<t.length;c++)YW(t[c])&&o.push(c);o.length&&fG(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Th[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const c=n[n.length-1];c!==void 0&&t.getValue(o,c).jump(c,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const c=t.getValue(n);c&&c.jump(this.measuredOrigin,!1);const h=o.length-1,p=o[h];o[h]=Th[n](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([b,w])=>{t.getValue(b).set(w)}),this.resolveNoneKeyframes()}}const wP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($l.test(e)||e==="0")&&!e.startsWith("url("));function EG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function PG(e,t,n,o){const c=e[0];if(c===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],p=wP(c,t),a=wP(h,t);return!p||!a?!1:EG(e)||(n==="spring"||oS(n))&&o}const AG=e=>e!==null;function nv(e,{repeat:t,repeatType:n="loop"},o){const c=e.filter(AG),h=t&&n!=="loop"&&t%2===1?0:c.length-1;return!h||o===void 0?c[h]:o}const kG=40;class J5{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:p="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pa.now(),this.options={autoplay:t,delay:n,type:o,repeat:c,repeatDelay:h,repeatType:p,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wG(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pa.now(),this.hasAttemptedResolve=!0;const{name:o,type:c,velocity:h,delay:p,onComplete:a,onUpdate:b,isGenerator:w}=this.options;if(!w&&!PG(t,o,c,h))if(p)this.options.duration=0;else{b&&b(nv(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const E=this.initPlayback(t,n);E!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...E},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _r=(e,t,n)=>e+(t-e)*n;function sx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IG({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let c=0,h=0,p=0;if(!t)c=h=p=n;else{const a=n<.5?n*(1+t):n+t-n*t,b=2*n-a;c=sx(b,a,e+1/3),h=sx(b,a,e),p=sx(b,a,e-1/3)}return{red:Math.round(c*255),green:Math.round(h*255),blue:Math.round(p*255),alpha:o}}function jy(e,t){return n=>n>0?t:e}const ax=(e,t,n)=>{const o=e*e,c=n*(t*t-o)+o;return c<0?0:Math.sqrt(c)},MG=[j1,Tc,Ju],RG=e=>MG.find(t=>t.test(e));function SP(e){const t=RG(e);if(!t)return!1;let n=t.parse(e);return t===Ju&&(n=IG(n)),n}const CP=(e,t)=>{const n=SP(e),o=SP(t);if(!n||!o)return jy(e,t);const c={...n};return h=>(c.red=ax(n.red,o.red,h),c.green=ax(n.green,o.green,h),c.blue=ax(n.blue,o.blue,h),c.alpha=_r(n.alpha,o.alpha,h),Tc.transform(c))},LG=(e,t)=>n=>t(e(n)),$f=(...e)=>e.reduce(LG),K1=new Set(["none","hidden"]);function DG(e,t){return K1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zG(e,t){return n=>_r(e,t,n)}function AS(e){return typeof e=="number"?zG:typeof e=="string"?fS(e)?jy:Oi.test(e)?CP:FG:Array.isArray(e)?Q5:typeof e=="object"?Oi.test(e)?CP:BG:jy}function Q5(e,t){const n=[...e],o=n.length,c=e.map((h,p)=>AS(h)(h,t[p]));return h=>{for(let p=0;p<o;p++)n[p]=c[p](h);return n}}function BG(e,t){const n={...e,...t},o={};for(const c in n)e[c]!==void 0&&t[c]!==void 0&&(o[c]=AS(e[c])(e[c],t[c]));return c=>{for(const h in o)n[h]=o[h](c);return n}}function OG(e,t){const n=[],o={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const h=t.types[c],p=e.indexes[h][o[h]],a=e.values[p]??0;n[c]=a,o[h]++}return n}const FG=(e,t)=>{const n=$l.createTransformer(t),o=vf(e),c=vf(t);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?K1.has(e)&&!c.values.length||K1.has(t)&&!o.values.length?DG(e,t):$f(Q5(OG(o,c),c.values),n):jy(e,t)};function eL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_r(e,t,n):AS(e)(e,t)}const NG=5;function tL(e,t,n){const o=Math.max(t-NG,0);return n5(n-e(o),t-o)}const Ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lx=.001;function $G({duration:e=Ar.duration,bounce:t=Ar.bounce,velocity:n=Ar.velocity,mass:o=Ar.mass}){let c,h,p=1-t;p=Ha(Ar.minDamping,Ar.maxDamping,p),e=Ha(Ar.minDuration,Ar.maxDuration,da(e)),p<1?(c=w=>{const E=w*p,A=E*e,I=E-n,L=X1(w,p),F=Math.exp(-A);return lx-I/L*F},h=w=>{const A=w*p*e,I=A*n+n,L=Math.pow(p,2)*Math.pow(w,2)*e,F=Math.exp(-A),j=X1(Math.pow(w,2),p);return(-c(w)+lx>0?-1:1)*((I-L)*F)/j}):(c=w=>{const E=Math.exp(-w*e),A=(w-n)*e+1;return-lx+E*A},h=w=>{const E=Math.exp(-w*e),A=(n-w)*(e*e);return E*A});const a=5/e,b=jG(c,h,a);if(e=ha(e),isNaN(b))return{stiffness:Ar.stiffness,damping:Ar.damping,duration:e};{const w=Math.pow(b,2)*o;return{stiffness:w,damping:p*2*Math.sqrt(o*w),duration:e}}}const VG=12;function jG(e,t,n){let o=n;for(let c=1;c<VG;c++)o=o-e(o)/t(o);return o}function X1(e,t){return e*Math.sqrt(1-t*t)}const UG=["duration","bounce"],WG=["stiffness","damping","mass"];function TP(e,t){return t.some(n=>e[n]!==void 0)}function GG(e){let t={velocity:Ar.velocity,stiffness:Ar.stiffness,damping:Ar.damping,mass:Ar.mass,isResolvedFromDuration:!1,...e};if(!TP(e,WG)&&TP(e,UG))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),c=o*o,h=2*Ha(.05,1,1-(e.bounce||0))*Math.sqrt(c);t={...t,mass:Ar.mass,stiffness:c,damping:h}}else{const n=$G(e);t={...t,...n,mass:Ar.mass},t.isResolvedFromDuration=!0}return t}function Uy(e=Ar.visualDuration,t=Ar.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:c}=n;const h=n.keyframes[0],p=n.keyframes[n.keyframes.length-1],a={done:!1,value:h},{stiffness:b,damping:w,mass:E,duration:A,velocity:I,isResolvedFromDuration:L}=GG({...n,velocity:-da(n.velocity||0)}),F=I||0,j=w/(2*Math.sqrt(b*E)),K=p-h,B=da(Math.sqrt(b/E)),V=Math.abs(K)<5;o||(o=V?Ar.restSpeed.granular:Ar.restSpeed.default),c||(c=V?Ar.restDelta.granular:Ar.restDelta.default);let $;if(j<1){const ie=X1(B,j);$=de=>{const ye=Math.exp(-j*B*de);return p-ye*((F+j*B*K)/ie*Math.sin(ie*de)+K*Math.cos(ie*de))}}else if(j===1)$=ie=>p-Math.exp(-B*ie)*(K+(F+B*K)*ie);else{const ie=B*Math.sqrt(j*j-1);$=de=>{const ye=Math.exp(-j*B*de),me=Math.min(ie*de,300);return p-ye*((F+j*B*K)*Math.sinh(me)+ie*K*Math.cosh(me))/ie}}const J={calculatedDuration:L&&A||null,next:ie=>{const de=$(ie);if(L)a.done=ie>=A;else{let ye=0;j<1&&(ye=ie===0?ha(F):tL($,ie,de));const me=Math.abs(ye)<=o,ke=Math.abs(p-de)<=c;a.done=me&&ke}return a.value=a.done?p:de,a},toString:()=>{const ie=Math.min(aS(J),$y),de=r5(ye=>J.next(ie*ye).value,ie,30);return ie+"ms "+de},toTransition:()=>{}};return J}Uy.applyToOptions=e=>{const t=U7(e,100,Uy);return e.ease=df()?t.ease:"easeOut",e.duration=ha(t.duration),e.type="keyframes",e};function EP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:h=500,modifyTarget:p,min:a,max:b,restDelta:w=.5,restSpeed:E}){const A=e[0],I={done:!1,value:A},L=me=>a!==void 0&&me<a||b!==void 0&&me>b,F=me=>a===void 0?b:b===void 0||Math.abs(a-me)<Math.abs(b-me)?a:b;let j=n*t;const K=A+j,B=p===void 0?K:p(K);B!==K&&(j=B-A);const V=me=>-j*Math.exp(-me/o),$=me=>B+V(me),J=me=>{const ke=V(me),G=$(me);I.done=Math.abs(ke)<=w,I.value=I.done?B:G};let ie,de;const ye=me=>{L(I.value)&&(ie=me,de=Uy({keyframes:[I.value,F(I.value)],velocity:tL($,me,I.value),damping:c,stiffness:h,restDelta:w,restSpeed:E}))};return ye(0),{calculatedDuration:null,next:me=>{let ke=!1;return!de&&ie===void 0&&(ke=!0,J(me),ye(me)),ie!==void 0&&me>=ie?de.next(me-ie):(!ke&&J(me),I)}}}const qG=Nf(.42,0,1,1),HG=Nf(0,0,.58,1),nL=Nf(.42,0,.58,1),ZG=e=>Array.isArray(e)&&typeof e[0]!="number",KG={linear:cs,easeIn:qG,easeInOut:nL,easeOut:HG,circIn:CS,circInOut:B5,circOut:z5,backIn:SS,backInOut:L5,backOut:R5,anticipate:D5},PP=e=>{if(iS(e)){t5(e.length===4);const[t,n,o,c]=e;return Nf(t,n,o,c)}else if(typeof e=="string")return KG[e];return e};function XG(e,t,n){const o=[],c=n||eL,h=e.length-1;for(let p=0;p<h;p++){let a=c(e[p],e[p+1]);if(t){const b=Array.isArray(t)?t[p]||cs:t;a=$f(b,a)}o.push(a)}return o}function YG(e,t,{clamp:n=!0,ease:o,mixer:c}={}){const h=e.length;if(t5(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const p=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=XG(t,o,c),b=a.length,w=E=>{if(p&&E<e[0])return t[0];let A=0;if(b>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const I=hf(e[A],e[A+1],E);return a[A](I)};return n?E=>w(Ha(e[0],e[h-1],E)):w}function JG(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const c=hf(0,t,o);e.push(_r(n,1,c))}}function QG(e){const t=[0];return JG(t,e.length-1),t}function eq(e,t){return e.map(n=>n*t)}function tq(e,t){return e.map(()=>t||nL).splice(0,e.length-1)}function Wy({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const c=ZG(o)?o.map(PP):PP(o),h={done:!1,value:t[0]},p=eq(n&&n.length===t.length?n:QG(t),e),a=YG(p,t,{ease:Array.isArray(c)?c:tq(t,c)});return{calculatedDuration:e,next:b=>(h.value=a(b),h.done=b>=e,h)}}const nq=e=>{const t=({timestamp:n})=>e(n);return{start:()=>rr.update(t,!0),stop:()=>Nl(t),now:()=>xi.isProcessing?xi.timestamp:pa.now()}},rq={decay:EP,inertia:EP,tween:Wy,keyframes:Wy,spring:Uy},iq=e=>e/100;class kS extends J5{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:b}=this.options;b&&b()};const{name:n,motionValue:o,element:c,keyframes:h}=this.options,p=(c==null?void 0:c.KeyframeResolver)||PS,a=(b,w)=>this.onKeyframesResolved(b,w);this.resolver=new p(h,a,n,o,c),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:h,velocity:p=0}=this.options,a=oS(n)?n:rq[n]||Wy;let b,w;a!==Wy&&typeof t[0]!="number"&&(b=$f(iq,eL(t[0],t[1])),t=[0,100]);const E=a({...this.options,keyframes:t});h==="mirror"&&(w=a({...this.options,keyframes:[...t].reverse(),velocity:-p})),E.calculatedDuration===null&&(E.calculatedDuration=aS(E));const{calculatedDuration:A}=E,I=A+c,L=I*(o+1)-c;return{generator:E,mirroredGenerator:w,mapPercentToKeyframes:b,calculatedDuration:A,resolvedDuration:I,totalDuration:L}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:o}=this;if(!o){const{keyframes:me}=this.options;return{done:!0,value:me[me.length-1]}}const{finalKeyframe:c,generator:h,mirroredGenerator:p,mapPercentToKeyframes:a,keyframes:b,calculatedDuration:w,totalDuration:E,resolvedDuration:A}=o;if(this.startTime===null)return h.next(0);const{delay:I,repeat:L,repeatType:F,repeatDelay:j,onUpdate:K}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-E/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const B=this.currentTime-I*(this.speed>=0?1:-1),V=this.speed>=0?B<0:B>E;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let $=this.currentTime,J=h;if(L){const me=Math.min(this.currentTime,E)/A;let ke=Math.floor(me),G=me%1;!G&&me>=1&&(G=1),G===1&&ke--,ke=Math.min(ke,L+1),!!(ke%2)&&(F==="reverse"?(G=1-G,j&&(G-=j/A)):F==="mirror"&&(J=p)),$=Ha(0,1,G)*A}const ie=V?{done:!1,value:b[0]}:J.next($);a&&(ie.value=a(ie.value));let{done:de}=ie;!V&&w!==null&&(de=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const ye=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return ye&&c!==void 0&&(ie.value=nv(b,this.options,c)),K&&K(ie.value),ye&&this.finish(),ie}get duration(){const{resolved:t}=this;return t?da(t.calculatedDuration):0}get time(){return da(this.currentTime)}set time(t){t=ha(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=da(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=nq,onPlay:n,startTime:o}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),n&&n();const c=this.driver.now();this.holdTime!==null?this.startTime=c-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=c):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const oq=new Set(["opacity","clipPath","filter","transform"]),sq=nS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gy=10,aq=2e4;function lq(e){return oS(e.type)||e.type==="spring"||!o5(e.ease)}function cq(e,t){const n=new kS({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const c=[];let h=0;for(;!o.done&&h<aq;)o=n.sample(h),c.push(o.value),h+=Gy;return{times:void 0,keyframes:c,duration:h-Gy,ease:"linear"}}const rL={anticipate:D5,backInOut:L5,circInOut:B5};function uq(e){return e in rL}class AP extends J5{constructor(t){super(t);const{name:n,motionValue:o,element:c,keyframes:h}=this.options;this.resolver=new Y5(h,(p,a)=>this.onKeyframesResolved(p,a),n,o,c),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:o=300,times:c,ease:h,type:p,motionValue:a,name:b,startTime:w}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof h=="string"&&df()&&uq(h)&&(h=rL[h]),lq(this.options)){const{onComplete:A,onUpdate:I,motionValue:L,element:F,...j}=this.options,K=cq(t,j);t=K.keyframes,t.length===1&&(t[1]=t[0]),o=K.duration,c=K.times,h=K.ease,p="keyframes"}const E=j7(a.owner.current,b,t,{...this.options,duration:o,times:c,ease:h});return E.startTime=w??this.calcStartTime(),this.pendingTimeline?(rP(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:A}=this.options;a.set(nv(t,this.options,n)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:o,times:c,type:p,ease:h,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return da(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return da(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.currentTime=ha(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:o}=n;o.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return cs;const{animation:o}=n;rP(o,t)}return cs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:o,duration:c,type:h,ease:p,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:w,onUpdate:E,onComplete:A,element:I,...L}=this.options,F=new kS({...L,keyframes:o,duration:c,type:h,ease:p,times:a,isGenerator:!0}),j=ha(this.time);w.setWithVelocity(F.sample(j-Gy).value,F.sample(j).value,Gy)}const{onStop:b}=this.options;b&&b(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:o,repeatDelay:c,repeatType:h,damping:p,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:b,transformTemplate:w}=n.owner.getProps();return sq()&&o&&oq.has(o)&&(o!=="transform"||!w)&&!b&&!c&&h!=="mirror"&&p!==0&&a!=="inertia"}}const hq={type:"spring",stiffness:500,damping:25,restSpeed:10},dq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pq={type:"keyframes",duration:.8},fq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mq=(e,{keyframes:t})=>t.length>2?pq:Uc.has(e)?e.startsWith("scale")?dq(t[1]):hq:fq;function gq({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:c,repeat:h,repeatType:p,repeatDelay:a,from:b,elapsed:w,...E}){return!!Object.keys(E).length}const IS=(e,t,n,o={},c,h)=>p=>{const a=sS(o,e)||{},b=a.delay||o.delay||0;let{elapsed:w=0}=o;w=w-ha(b);let E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-w,onUpdate:I=>{t.set(I),a.onUpdate&&a.onUpdate(I)},onComplete:()=>{p(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:h?void 0:c};gq(a)||(E={...E,...mq(e,E)}),E.duration&&(E.duration=ha(E.duration)),E.repeatDelay&&(E.repeatDelay=ha(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(A=!0)),E.allowFlatten=!a.type&&!a.ease,A&&!h&&t.get()!==void 0){const I=nv(E.keyframes,a);if(I!==void 0)return rr.update(()=>{E.onUpdate(I),E.onComplete()}),new N7([])}return!h&&AP.supports(E)?new AP(E):new kS(E)};function yq({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function iL(e,t,{delay:n=0,transitionOverride:o,type:c}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:p,...a}=t;o&&(h=o);const b=[],w=c&&e.animationState&&e.animationState.getState()[c];for(const E in a){const A=e.getValue(E,e.latestValues[E]??null),I=a[E];if(I===void 0||w&&yq(w,E))continue;const L={delay:n,...sS(h||{},E)};let F=!1;if(window.MotionHandoffAnimation){const K=A5(e);if(K){const B=window.MotionHandoffAnimation(K,E,rr);B!==null&&(L.startTime=B,F=!0)}}V1(e,E),A.start(IS(E,A,I,e.shouldReduceMotion&&P5.has(E)?{type:!1}:L,e,F));const j=A.animation;j&&b.push(j)}return p&&Promise.all(b).then(()=>{rr.update(()=>{p&&qW(e,p)})}),b}function Y1(e,t,n={}){var b;const o=yf(e,t,n.type==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(c=n.transitionOverride);const h=o?()=>Promise.all(iL(e,o,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:E=0,staggerChildren:A,staggerDirection:I}=c;return vq(e,t,E+w,A,I,n)}:()=>Promise.resolve(),{when:a}=c;if(a){const[w,E]=a==="beforeChildren"?[h,p]:[p,h];return w().then(()=>E())}else return Promise.all([h(),p(n.delay)])}function vq(e,t,n=0,o=0,c=1,h){const p=[],a=(e.variantChildren.size-1)*o,b=c===1?(w=0)=>w*o:(w=0)=>a-w*o;return Array.from(e.variantChildren).sort(_q).forEach((w,E)=>{w.notify("AnimationStart",t),p.push(Y1(w,t,{...h,delay:n+b(E)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(p)}function _q(e,t){return e.sortNodePosition(t)}function xq(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const c=t.map(h=>Y1(e,h,n));o=Promise.all(c)}else if(typeof t=="string")o=Y1(e,t,n);else{const c=typeof t=="function"?yf(e,t,n.custom):t;o=Promise.all(iL(e,c,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function oL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const bq=hS.length;function sL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?sL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<bq;n++){const o=hS[n],c=e.props[o];(ff(c)||c===!1)&&(t[o]=c)}return t}const wq=[...uS].reverse(),Sq=uS.length;function Cq(e){return t=>Promise.all(t.map(({animation:n,options:o})=>xq(e,n,o)))}function Tq(e){let t=Cq(e),n=kP(),o=!0;const c=b=>(w,E)=>{var I;const A=yf(e,E,b==="exit"?(I=e.presenceContext)==null?void 0:I.custom:void 0);if(A){const{transition:L,transitionEnd:F,...j}=A;w={...w,...j,...F}}return w};function h(b){t=b(e)}function p(b){const{props:w}=e,E=sL(e.parent)||{},A=[],I=new Set;let L={},F=1/0;for(let K=0;K<Sq;K++){const B=wq[K],V=n[B],$=w[B]!==void 0?w[B]:E[B],J=ff($),ie=B===b?V.isActive:null;ie===!1&&(F=K);let de=$===E[B]&&$!==w[B]&&J;if(de&&o&&e.manuallyAnimateOnMount&&(de=!1),V.protectedKeys={...L},!V.isActive&&ie===null||!$&&!V.prevProp||ev($)||typeof $=="boolean")continue;const ye=Eq(V.prevProp,$);let me=ye||B===b&&V.isActive&&!de&&J||K>F&&J,ke=!1;const G=Array.isArray($)?$:[$];let Te=G.reduce(c(B),{});ie===!1&&(Te={});const{prevResolvedValues:Le={}}=V,Ue={...Le,...Te},qe=Ye=>{me=!0,I.has(Ye)&&(ke=!0,I.delete(Ye)),V.needsAnimating[Ye]=!0;const De=e.getValue(Ye);De&&(De.liveStyle=!1)};for(const Ye in Ue){const De=Te[Ye],Re=Le[Ye];if(L.hasOwnProperty(Ye))continue;let et=!1;$1(De)&&$1(Re)?et=!oL(De,Re):et=De!==Re,et?De!=null?qe(Ye):I.add(Ye):De!==void 0&&I.has(Ye)?qe(Ye):V.protectedKeys[Ye]=!0}V.prevProp=$,V.prevResolvedValues=Te,V.isActive&&(L={...L,...Te}),o&&e.blockInitialAnimation&&(me=!1),me&&(!(de&&ye)||ke)&&A.push(...G.map(Ye=>({animation:Ye,options:{type:B}})))}if(I.size){const K={};if(typeof w.initial!="boolean"){const B=yf(e,Array.isArray(w.initial)?w.initial[0]:w.initial);B&&B.transition&&(K.transition=B.transition)}I.forEach(B=>{const V=e.getBaseTarget(B),$=e.getValue(B);$&&($.liveStyle=!0),K[B]=V??null}),A.push({animation:K})}let j=!!A.length;return o&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(j=!1),o=!1,j?t(A):Promise.resolve()}function a(b,w){var A;if(n[b].isActive===w)return Promise.resolve();(A=e.variantChildren)==null||A.forEach(I=>{var L;return(L=I.animationState)==null?void 0:L.setActive(b,w)}),n[b].isActive=w;const E=p(b);for(const I in n)n[I].protectedKeys={};return E}return{animateChanges:p,setActive:a,setAnimateFunction:h,getState:()=>n,reset:()=>{n=kP(),o=!0}}}function Eq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oL(t,e):!1}function fc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kP(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class Wl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Pq extends Wl{constructor(t){super(t),t.animationState||(t.animationState=Tq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ev(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Aq=0;class kq extends Wl{constructor(){super(...arguments),this.id=Aq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const c=this.node.animationState.setActive("exit",!t);n&&!t&&c.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Iq={animation:{Feature:Pq},exit:{Feature:kq}};function _f(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Vf(e){return{point:{x:e.pageX,y:e.pageY}}}const Mq=e=>t=>cS(t)&&e(t,Vf(t));function zp(e,t,n,o){return _f(e,t,Mq(n),o)}function aL({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function Rq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lq(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}const lL=1e-4,Dq=1-lL,zq=1+lL,cL=.01,Bq=0-cL,Oq=0+cL;function to(e){return e.max-e.min}function Fq(e,t,n){return Math.abs(e-t)<=n}function IP(e,t,n,o=.5){e.origin=o,e.originPoint=_r(t.min,t.max,e.origin),e.scale=to(n)/to(t),e.translate=_r(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Dq&&e.scale<=zq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Bq&&e.translate<=Oq||isNaN(e.translate))&&(e.translate=0)}function Bp(e,t,n,o){IP(e.x,t.x,n.x,o?o.originX:void 0),IP(e.y,t.y,n.y,o?o.originY:void 0)}function MP(e,t,n){e.min=n.min+t.min,e.max=e.min+to(t)}function Nq(e,t,n){MP(e.x,t.x,n.x),MP(e.y,t.y,n.y)}function RP(e,t,n){e.min=t.min-n.min,e.max=e.min+to(t)}function Op(e,t,n){RP(e.x,t.x,n.x),RP(e.y,t.y,n.y)}const LP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qu=()=>({x:LP(),y:LP()}),DP=()=>({min:0,max:0}),Fr=()=>({x:DP(),y:DP()});function Qo(e){return[e("x"),e("y")]}function cx(e){return e===void 0||e===1}function J1({scale:e,scaleX:t,scaleY:n}){return!cx(e)||!cx(t)||!cx(n)}function _c(e){return J1(e)||uL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uL(e){return zP(e.x)||zP(e.y)}function zP(e){return e&&e!=="0%"}function qy(e,t,n){const o=e-n,c=t*o;return n+c}function BP(e,t,n,o,c){return c!==void 0&&(e=qy(e,c,o)),qy(e,n,o)+t}function Q1(e,t=0,n=1,o,c){e.min=BP(e.min,t,n,o,c),e.max=BP(e.max,t,n,o,c)}function hL(e,{x:t,y:n}){Q1(e.x,t.translate,t.scale,t.originPoint),Q1(e.y,n.translate,n.scale,n.originPoint)}const OP=.999999999999,FP=1.0000000000001;function $q(e,t,n,o=!1){const c=n.length;if(!c)return;t.x=t.y=1;let h,p;for(let a=0;a<c;a++){h=n[a],p=h.projectionDelta;const{visualElement:b}=h.options;b&&b.props.style&&b.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&th(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,hL(e,p)),o&&_c(h.latestValues)&&th(e,h.latestValues))}t.x<FP&&t.x>OP&&(t.x=1),t.y<FP&&t.y>OP&&(t.y=1)}function eh(e,t){e.min=e.min+t,e.max=e.max+t}function NP(e,t,n,o,c=.5){const h=_r(e.min,e.max,c);Q1(e,t,n,h,o)}function th(e,t){NP(e.x,t.x,t.scaleX,t.scale,t.originX),NP(e.y,t.y,t.scaleY,t.scale,t.originY)}function dL(e,t){return aL(Lq(e.getBoundingClientRect(),t))}function Vq(e,t,n){const o=dL(e,n),{scroll:c}=t;return c&&(eh(o.x,c.offset.x),eh(o.y,c.offset.y)),o}const pL=({current:e})=>e?e.ownerDocument.defaultView:null,$P=(e,t)=>Math.abs(e-t);function jq(e,t){const n=$P(e.x,t.x),o=$P(e.y,t.y);return Math.sqrt(n**2+o**2)}class fL{constructor(t,n,{transformPagePoint:o,contextWindow:c,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hx(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,L=jq(A.offset,{x:0,y:0})>=3;if(!I&&!L)return;const{point:F}=A,{timestamp:j}=xi;this.history.push({...F,timestamp:j});const{onStart:K,onMove:B}=this.handlers;I||(K&&K(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=ux(I,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:L,onSessionEnd:F,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=hx(A.type==="pointercancel"?this.lastMoveEventInfo:ux(I,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,K),F&&F(A,K)},!cS(t))return;this.dragSnapToOrigin=h,this.handlers=n,this.transformPagePoint=o,this.contextWindow=c||window;const p=Vf(t),a=ux(p,this.transformPagePoint),{point:b}=a,{timestamp:w}=xi;this.history=[{...b,timestamp:w}];const{onSessionStart:E}=n;E&&E(t,hx(a,this.history)),this.removeListeners=$f(zp(this.contextWindow,"pointermove",this.handlePointerMove),zp(this.contextWindow,"pointerup",this.handlePointerUp),zp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nl(this.updatePoint)}}function ux(e,t){return t?{point:t(e.point)}:e}function VP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hx({point:e},t){return{point:e,delta:VP(e,mL(t)),offset:VP(e,Uq(t)),velocity:Wq(t,.1)}}function Uq(e){return e[0]}function mL(e){return e[e.length-1]}function Wq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const c=mL(e);for(;n>=0&&(o=e[n],!(c.timestamp-o.timestamp>ha(t)));)n--;if(!o)return{x:0,y:0};const h=da(c.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const p={x:(c.x-o.x)/h,y:(c.y-o.y)/h};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function Gq(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?_r(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?_r(n,e,o.max):Math.min(e,n)),e}function jP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qq(e,{top:t,left:n,bottom:o,right:c}){return{x:jP(e.x,n,c),y:jP(e.y,t,o)}}function UP(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function Hq(e,t){return{x:UP(e.x,t.x),y:UP(e.y,t.y)}}function Zq(e,t){let n=.5;const o=to(e),c=to(t);return c>o?n=hf(t.min,t.max-o,e.min):o>c&&(n=hf(e.min,e.max-c,t.min)),Ha(0,1,n)}function Kq(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eb=.35;function Xq(e=eb){return e===!1?e=0:e===!0&&(e=eb),{x:WP(e,"left","right"),y:WP(e,"top","bottom")}}function WP(e,t,n){return{min:GP(e,t),max:GP(e,n)}}function GP(e,t){return typeof e=="number"?e:e[t]||0}const Yq=new WeakMap;class Jq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(E).point)},h=(E,A)=>{const{drag:I,dragPropagation:L,onDragStart:F}=this.getProps();if(I&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=H7(I),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(K=>{let B=this.getAxisMotionValue(K).get()||0;if(fa.test(B)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[K];$&&(B=to($)*(parseFloat(B)/100))}}this.originPoint[K]=B}),F&&rr.postRender(()=>F(E,A)),V1(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},p=(E,A)=>{const{dragPropagation:I,dragDirectionLock:L,onDirectionLock:F,onDrag:j}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:K}=A;if(L&&this.currentDirection===null){this.currentDirection=Qq(K),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",A.point,K),this.updateAxis("y",A.point,K),this.visualElement.render(),j&&j(E,A)},a=(E,A)=>this.stop(E,A),b=()=>Qo(E=>{var A;return this.getAnimationState(E)==="paused"&&((A=this.getAxisMotionValue(E).animation)==null?void 0:A.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new fL(t,{onSessionStart:c,onStart:h,onMove:p,onSessionEnd:a,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:pL(this.visualElement)})}stop(t,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:c}=n;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&rr.postRender(()=>h(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:c}=this.getProps();if(!o||!Cg(t,c,this.currentDirection))return;const h=this.getAxisMotionValue(t);let p=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(p=Gq(p,this.constraints[t],this.elastic[t])),h.set(p)}resolveConstraints(){var h;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,c=this.constraints;t&&Yu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=qq(o.layoutBox,t):this.constraints=!1,this.elastic=Xq(n),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Qo(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=Kq(o.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yu(t))return!1;const o=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const h=Vq(o,c.root,this.visualElement.getTransformPagePoint());let p=Hq(c.layout.layoutBox,h);if(n){const a=n(Rq(p));this.hasMutatedConstraints=!!a,a&&(p=aL(a))}return p}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:c,dragTransition:h,dragSnapToOrigin:p,onDragTransitionEnd:a}=this.getProps(),b=this.constraints||{},w=Qo(E=>{if(!Cg(E,n,this.currentDirection))return;let A=b&&b[E]||{};p&&(A={min:0,max:0});const I=c?200:1e6,L=c?40:1e7,F={type:"inertia",velocity:o?t[E]:0,bounceStiffness:I,bounceDamping:L,timeConstant:750,restDelta:1,restSpeed:10,...h,...A};return this.startAxisValueAnimation(E,F)});return Promise.all(w).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return V1(this.visualElement,t),o.start(IS(t,o,0,n,this.visualElement,!1))}stopAnimation(){Qo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qo(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),c=o[n];return c||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Qo(n=>{const{drag:o}=this.getProps();if(!Cg(n,o,this.currentDirection))return;const{projection:c}=this.visualElement,h=this.getAxisMotionValue(n);if(c&&c.layout){const{min:p,max:a}=c.layout.layoutBox[n];h.set(t[n]-_r(p,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Yu(n)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};Qo(p=>{const a=this.getAxisMotionValue(p);if(a&&this.constraints!==!1){const b=a.get();c[p]=Zq({min:b,max:b},this.constraints[p])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Qo(p=>{if(!Cg(p,t,null))return;const a=this.getAxisMotionValue(p),{min:b,max:w}=this.constraints[p];a.set(_r(b,w,c[p]))})}addListeners(){if(!this.visualElement.current)return;Yq.set(this.visualElement,this);const t=this.visualElement.current,n=zp(t,"pointerdown",b=>{const{drag:w,dragListener:E=!0}=this.getProps();w&&E&&this.start(b)}),o=()=>{const{dragConstraints:b}=this.getProps();Yu(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,h=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),rr.read(o);const p=_f(window,"resize",()=>this.scalePositionWithinConstraints()),a=c.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w})=>{this.isDragging&&w&&(Qo(E=>{const A=this.getAxisMotionValue(E);A&&(this.originPoint[E]+=b[E].translate,A.set(A.get()+b[E].translate))}),this.visualElement.render())});return()=>{p(),n(),h(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:h=!1,dragElastic:p=eb,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:c,dragConstraints:h,dragElastic:p,dragMomentum:a}}}function Cg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Qq(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class eH extends Wl{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new Jq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const qP=e=>(t,n)=>{e&&rr.postRender(()=>e(t,n))};class tH extends Wl{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new fL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:qP(t),onStart:qP(n),onMove:o,onEnd:(h,p)=>{delete this.session,c&&rr.postRender(()=>c(h,p))}}}mount(){this.removePointerDownListener=zp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vt.test(e))e=parseFloat(e);else return e;const n=HP(e,t.target.x),o=HP(e,t.target.y);return`${n}% ${o}%`}},nH={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,c=$l.parse(e);if(c.length>5)return o;const h=$l.createTransformer(e),p=typeof c[0]!="number"?1:0,a=n.x.scale*t.x,b=n.y.scale*t.y;c[0+p]/=a,c[1+p]/=b;const w=_r(a,b,.5);return typeof c[2+p]=="number"&&(c[2+p]/=w),typeof c[3+p]=="number"&&(c[3+p]/=w),h(c)}};class rH extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:c}=this.props,{projection:h}=t;xW(iH),h&&(n.group&&n.group.add(h),o&&o.register&&c&&o.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Xg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:c,isPresent:h}=this.props,p=o.projection;return p&&(p.isPresent=h,c||t.layoutDependency!==n||n===void 0||t.isPresent!==h?p.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?p.promote():p.relegate()||rr.postRender(()=>{const a=p.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:c}=t;c&&(c.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gL(e){const[t,n]=e5(),o=q.useContext(Xw);return oe.jsx(rH,{...e,layoutGroup:o,switchLayoutGroup:q.useContext(f5),isPresent:t,safeToRemove:n})}const iH={borderRadius:{...cp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cp,borderTopRightRadius:cp,borderBottomLeftRadius:cp,borderBottomRightRadius:cp,boxShadow:nH};function oH(e,t,n){const o=$i(e)?e:pf(e);return o.start(IS("",o,t,n)),o.animation}function sH(e){return e instanceof SVGElement&&e.tagName!=="svg"}const aH=(e,t)=>e.depth-t.depth;class lH{constructor(){this.children=[],this.isDirty=!1}add(t){eS(this.children,t),this.isDirty=!0}remove(t){tS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aH),this.isDirty=!1,this.children.forEach(t)}}function cH(e,t){const n=pa.now(),o=({timestamp:c})=>{const h=c-n;h>=t&&(Nl(o),e(h-t))};return rr.read(o,!0),()=>Nl(o)}const yL=["TopLeft","TopRight","BottomLeft","BottomRight"],uH=yL.length,ZP=e=>typeof e=="string"?parseFloat(e):e,KP=e=>typeof e=="number"||Vt.test(e);function hH(e,t,n,o,c,h){c?(e.opacity=_r(0,n.opacity??1,dH(o)),e.opacityExit=_r(t.opacity??1,0,pH(o))):h&&(e.opacity=_r(t.opacity??1,n.opacity??1,o));for(let p=0;p<uH;p++){const a=`border${yL[p]}Radius`;let b=XP(t,a),w=XP(n,a);if(b===void 0&&w===void 0)continue;b||(b=0),w||(w=0),b===0||w===0||KP(b)===KP(w)?(e[a]=Math.max(_r(ZP(b),ZP(w),o),0),(fa.test(w)||fa.test(b))&&(e[a]+="%")):e[a]=w}(t.rotate||n.rotate)&&(e.rotate=_r(t.rotate||0,n.rotate||0,o))}function XP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dH=vL(0,.5,z5),pH=vL(.5,.95,cs);function vL(e,t,n){return o=>o<e?0:o>t?1:n(hf(e,t,o))}function YP(e,t){e.min=t.min,e.max=t.max}function Yo(e,t){YP(e.x,t.x),YP(e.y,t.y)}function JP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function QP(e,t,n,o,c){return e-=t,e=qy(e,1/n,o),c!==void 0&&(e=qy(e,1/c,o)),e}function fH(e,t=0,n=1,o=.5,c,h=e,p=e){if(fa.test(t)&&(t=parseFloat(t),t=_r(p.min,p.max,t/100)-p.min),typeof t!="number")return;let a=_r(h.min,h.max,o);e===h&&(a-=t),e.min=QP(e.min,t,n,a,c),e.max=QP(e.max,t,n,a,c)}function eA(e,t,[n,o,c],h,p){fH(e,t[n],t[o],t[c],t.scale,h,p)}const mH=["x","scaleX","originX"],gH=["y","scaleY","originY"];function tA(e,t,n,o){eA(e.x,t,mH,n?n.x:void 0,o?o.x:void 0),eA(e.y,t,gH,n?n.y:void 0,o?o.y:void 0)}function nA(e){return e.translate===0&&e.scale===1}function _L(e){return nA(e.x)&&nA(e.y)}function rA(e,t){return e.min===t.min&&e.max===t.max}function yH(e,t){return rA(e.x,t.x)&&rA(e.y,t.y)}function iA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xL(e,t){return iA(e.x,t.x)&&iA(e.y,t.y)}function oA(e){return to(e.x)/to(e.y)}function sA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vH{constructor(){this.members=[]}add(t){eS(this.members,t),t.scheduleRender()}remove(t){if(tS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(c=>t===c);if(n===0)return!1;let o;for(let c=n;c>=0;c--){const h=this.members[c];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:c}=t.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _H(e,t,n){let o="";const c=e.x.translate/t.x,h=e.y.translate/t.y,p=(n==null?void 0:n.z)||0;if((c||h||p)&&(o=`translate3d(${c}px, ${h}px, ${p}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:w,rotate:E,rotateX:A,rotateY:I,skewX:L,skewY:F}=n;w&&(o=`perspective(${w}px) ${o}`),E&&(o+=`rotate(${E}deg) `),A&&(o+=`rotateX(${A}deg) `),I&&(o+=`rotateY(${I}deg) `),L&&(o+=`skewX(${L}deg) `),F&&(o+=`skewY(${F}deg) `)}const a=e.x.scale*t.x,b=e.y.scale*t.y;return(a!==1||b!==1)&&(o+=`scale(${a}, ${b})`),o||"none"}const dx=["","X","Y","Z"],xH={visibility:"hidden"},aA=1e3;let bH=0;function px(e,t,n,o){const{latestValues:c}=t;c[e]&&(n[e]=c[e],t.setStaticValue(e,0),o&&(o[e]=0))}function bL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=A5(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:c,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",rr,!(c||h))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&bL(o)}function wL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(p={},a=t==null?void 0:t()){this.id=bH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CH),this.nodes.forEach(kH),this.nodes.forEach(IH),this.nodes.forEach(TH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new lH)}addEventListener(p,a){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new rS),this.eventHandlers.get(p).add(a)}notifyListeners(p,...a){const b=this.eventHandlers.get(p);b&&b.notify(...a)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sH(p),this.instance=p;const{layoutId:b,layout:w,visualElement:E}=this.options;if(E&&!E.current&&E.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(w||b)&&(this.isLayoutDirty=!0),e){let A;const I=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=cH(I,250),Xg.hasAnimatedSinceResize&&(Xg.hasAnimatedSinceResize=!1,this.nodes.forEach(cA))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&E&&(b||w)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:I,hasRelativeLayoutChanged:L,layout:F})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||E.getDefaultTransition()||zH,{onLayoutAnimationStart:K,onLayoutAnimationComplete:B}=E.getProps(),V=!this.targetLayout||!xL(this.targetLayout,F),$=!I&&L;if(this.options.layoutRoot||this.resumeFrom||$||I&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,$);const J={...sS(j,"layout"),onPlay:K,onComplete:B};(E.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else I||cA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=F})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MH),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:a,layout:b}=this.options;if(a===void 0&&!b)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lA);return}this.isUpdating||this.nodes.forEach(PH),this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(wH),this.nodes.forEach(SH),this.clearAllSnapshots();const a=pa.now();xi.delta=Ha(0,1e3/60,a-xi.timestamp),xi.timestamp=a,xi.isProcessing=!0,rx.update.process(xi),rx.preRender.process(xi),rx.render.process(xi),xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EH),this.sharedNodes.forEach(RH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!to(this.snapshot.measuredBox.x)&&!to(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(a=!1),a){const b=o(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:b,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!c)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_L(this.projectionDelta),b=this.getTransformTemplate(),w=b?b(this.latestValues,""):void 0,E=w!==this.prevTransformTemplateValue;p&&(a||_c(this.latestValues)||E)&&(c(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const a=this.measurePageBox();let b=this.removeElementScroll(a);return p&&(b=this.removeTransform(b)),BH(b),{animationId:this.root.animationId,measuredBox:a,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var w;const{visualElement:p}=this.options;if(!p)return Fr();const a=p.measureViewportBox();if(!(((w=this.scroll)==null?void 0:w.wasRoot)||this.path.some(OH))){const{scroll:E}=this.root;E&&(eh(a.x,E.offset.x),eh(a.y,E.offset.y))}return a}removeElementScroll(p){var b;const a=Fr();if(Yo(a,p),(b=this.scroll)!=null&&b.wasRoot)return a;for(let w=0;w<this.path.length;w++){const E=this.path[w],{scroll:A,options:I}=E;E!==this.root&&A&&I.layoutScroll&&(A.wasRoot&&Yo(a,p),eh(a.x,A.offset.x),eh(a.y,A.offset.y))}return a}applyTransform(p,a=!1){const b=Fr();Yo(b,p);for(let w=0;w<this.path.length;w++){const E=this.path[w];!a&&E.options.layoutScroll&&E.scroll&&E!==E.root&&th(b,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),_c(E.latestValues)&&th(b,E.latestValues)}return _c(this.latestValues)&&th(b,this.latestValues),b}removeTransform(p){const a=Fr();Yo(a,p);for(let b=0;b<this.path.length;b++){const w=this.path[b];if(!w.instance||!_c(w.latestValues))continue;J1(w.latestValues)&&w.updateSnapshot();const E=Fr(),A=w.measurePageBox();Yo(E,A),tA(a,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,E)}return _c(this.latestValues)&&tA(a,this.latestValues),a}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var I;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==a;if(!(p||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!(!this.layout||!(E||A))){if(this.resolvedRelativeTargetAt=xi.timestamp,!this.targetDelta&&!this.relativeTarget){const L=this.getClosestProjectingParent();L&&L.layout&&this.animationProgress!==1?(this.relativeParent=L,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Op(this.relativeTargetOrigin,this.layout.layoutBox,L.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),hL(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const L=this.getClosestProjectingParent();L&&!!L.resumingFrom==!!this.resumingFrom&&!L.options.layoutScroll&&L.target&&this.animationProgress!==1?(this.relativeParent=L,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Op(this.relativeTargetOrigin,this.target,L.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||J1(this.parent.latestValues)||uL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var F;const p=this.getLead(),a=!!this.resumingFrom||this!==p;let b=!0;if((this.isProjectionDirty||(F=this.parent)!=null&&F.isProjectionDirty)&&(b=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===xi.timestamp&&(b=!1),b)return;const{layout:w,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||E))return;Yo(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,I=this.treeScale.y;$q(this.layoutCorrected,this.treeScale,this.path,a),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Fr());const{target:L}=p;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JP(this.prevProjectionDelta.x,this.projectionDelta.x),JP(this.prevProjectionDelta.y,this.projectionDelta.y)),Bp(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==I||!sA(this.projectionDelta.x,this.prevProjectionDelta.x)||!sA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),p){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qu(),this.projectionDelta=Qu(),this.projectionDeltaWithTransform=Qu()}setAnimationOrigin(p,a=!1){const b=this.snapshot,w=b?b.latestValues:{},E={...this.latestValues},A=Qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const I=Fr(),L=b?b.source:void 0,F=this.layout?this.layout.source:void 0,j=L!==F,K=this.getStack(),B=!K||K.members.length<=1,V=!!(j&&!B&&this.options.crossfade===!0&&!this.path.some(DH));this.animationProgress=0;let $;this.mixTargetDelta=J=>{const ie=J/1e3;uA(A.x,p.x,ie),uA(A.y,p.y,ie),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Op(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LH(this.relativeTarget,this.relativeTargetOrigin,I,ie),$&&yH(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Fr()),Yo($,this.relativeTarget)),j&&(this.animationValues=E,hH(E,w,this.latestValues,ie,V,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{Xg.hasAnimatedSinceResize=!0,this.currentAnimation=oH(0,aA,{...p,onUpdate:a=>{this.mixTargetDelta(a),p.onUpdate&&p.onUpdate(a)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:a,target:b,layout:w,latestValues:E}=p;if(!(!a||!b||!w)){if(this!==p&&this.layout&&w&&SL(this.options.animationType,this.layout.layoutBox,w.layoutBox)){b=this.target||Fr();const A=to(this.layout.layoutBox.x);b.x.min=p.target.x.min,b.x.max=b.x.min+A;const I=to(this.layout.layoutBox.y);b.y.min=p.target.y.min,b.y.max=b.y.min+I}Yo(a,b),th(a,E),Bp(this.projectionDeltaWithTransform,this.layoutCorrected,a,E)}}registerSharedNode(p,a){this.sharedNodes.has(p)||this.sharedNodes.set(p,new vH),this.sharedNodes.get(p).add(a);const w=a.options.initialPromotionConfig;a.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(a):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var a;const{layoutId:p}=this.options;return p?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:p}=this.options;return p?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:a,preserveFollowOpacity:b}={}){const w=this.getStack();w&&w.promote(this,b),p&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let a=!1;const{latestValues:b}=p;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(a=!0),!a)return;const w={};b.z&&px("z",p,w,this.animationValues);for(let E=0;E<dx.length;E++)px(`rotate${dx[E]}`,p,w,this.animationValues),px(`skew${dx[E]}`,p,w,this.animationValues);p.render();for(const E in w)p.setStaticValue(E,w[E]),this.animationValues&&(this.animationValues[E]=w[E]);p.scheduleRender()}getProjectionStyles(p){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xH;const a={visibility:""},b=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Kg(p==null?void 0:p.pointerEvents)||"",a.transform=b?b(this.latestValues,""):"none",a;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=Kg(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!_c(this.latestValues)&&(L.transform=b?b({},""):"none",this.hasProjected=!1),L}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),a.transform=_H(this.projectionDeltaWithTransform,this.treeScale,E),b&&(a.transform=b(E,a.transform));const{x:A,y:I}=this.projectionDelta;a.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,w.animationValues?a.opacity=w===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:a.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const L in mf){if(E[L]===void 0)continue;const{correct:F,applyTo:j,isCSSVariable:K}=mf[L],B=a.transform==="none"?E[L]:F(E[L],w);if(j){const V=j.length;for(let $=0;$<V;$++)a[j[$]]=B}else K?this.options.visualElement.renderState.vars[L]=B:a[L]=B}return this.options.layoutId&&(a.pointerEvents=w===this?Kg(p==null?void 0:p.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var a;return(a=p.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(lA),this.root.sharedNodes.clear()}}}function wH(e){e.updateLayout()}function SH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:c}=e.layout,{animationType:h}=e.options,p=t.source!==e.layout.source;h==="size"?Qo(A=>{const I=p?t.measuredBox[A]:t.layoutBox[A],L=to(I);I.min=o[A].min,I.max=I.min+L}):SL(h,t.layoutBox,o)&&Qo(A=>{const I=p?t.measuredBox[A]:t.layoutBox[A],L=to(o[A]);I.max=I.min+L,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+L)});const a=Qu();Bp(a,o,t.layoutBox);const b=Qu();p?Bp(b,e.applyTransform(c,!0),t.measuredBox):Bp(b,o,t.layoutBox);const w=!_L(a);let E=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:I,layout:L}=A;if(I&&L){const F=Fr();Op(F,t.layoutBox,I.layoutBox);const j=Fr();Op(j,o,L.layoutBox),xL(F,j)||(E=!0),A.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=F,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:b,layoutDelta:a,hasLayoutChanged:w,hasRelativeLayoutChanged:E})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function CH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function EH(e){e.clearSnapshot()}function lA(e){e.clearMeasurements()}function PH(e){e.isLayoutDirty=!1}function AH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kH(e){e.resolveTargetDelta()}function IH(e){e.calcProjection()}function MH(e){e.resetSkewAndRotation()}function RH(e){e.removeLeadSnapshot()}function uA(e,t,n){e.translate=_r(t.translate,0,n),e.scale=_r(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hA(e,t,n,o){e.min=_r(t.min,n.min,o),e.max=_r(t.max,n.max,o)}function LH(e,t,n,o){hA(e.x,t.x,n.x,o),hA(e.y,t.y,n.y,o)}function DH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zH={duration:.45,ease:[.4,0,.1,1]},dA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pA=dA("applewebkit/")&&!dA("chrome/")?Math.round:cs;function fA(e){e.min=pA(e.min),e.max=pA(e.max)}function BH(e){fA(e.x),fA(e.y)}function SL(e,t,n){return e==="position"||e==="preserve-aspect"&&!Fq(oA(t),oA(n),.2)}function OH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const FH=wL({attachResizeListener:(e,t)=>_f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fx={current:void 0},CL=wL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fx.current){const e=new FH({});e.mount(window),e.setOptions({layoutScroll:!0}),fx.current=e}return fx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NH={pan:{Feature:tH},drag:{Feature:eH,ProjectionNode:CL,MeasureLayout:gL}};function mA(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const c="onHover"+n,h=o[c];h&&rr.postRender(()=>h(t,Vf(t)))}class $H extends Wl{mount(){const{current:t}=this.node;t&&(this.unmount=K7(t,(n,o)=>(mA(this.node,o,"Start"),c=>mA(this.node,c,"End"))))}unmount(){}}class VH extends Wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$f(_f(this.node.current,"focus",()=>this.onFocus()),_f(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gA(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const c="onTap"+(n==="End"?"":n),h=o[c];h&&rr.postRender(()=>h(t,Vf(t)))}class jH extends Wl{mount(){const{current:t}=this.node;t&&(this.unmount=Q7(t,(n,o)=>(gA(this.node,o,"Start"),(c,{success:h})=>gA(this.node,c,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tb=new WeakMap,mx=new WeakMap,UH=e=>{const t=tb.get(e.target);t&&t(e)},WH=e=>{e.forEach(UH)};function GH({root:e,...t}){const n=e||document;mx.has(n)||mx.set(n,{});const o=mx.get(n),c=JSON.stringify(t);return o[c]||(o[c]=new IntersectionObserver(WH,{root:e,...t})),o[c]}function qH(e,t,n){const o=GH(t);return tb.set(e,n),o.observe(e),()=>{tb.delete(e),o.unobserve(e)}}const HH={some:0,all:1};class ZH extends Wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:c="some",once:h}=t,p={root:n?n.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:HH[c]},a=b=>{const{isIntersecting:w}=b;if(this.isInView===w||(this.isInView=w,h&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),I=w?E:A;I&&I(b)};return qH(this.node.current,p,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(KH(t,n))&&this.startObserver()}unmount(){}}function KH({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const XH={inView:{Feature:ZH},tap:{Feature:jH},focus:{Feature:VH},hover:{Feature:$H}},YH={layout:{ProjectionNode:CL,MeasureLayout:gL}},nb={current:null},TL={current:!1};function JH(){if(TL.current=!0,!!Jw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nb.current=e.matches;e.addListener(t),t()}else nb.current=!1}const QH=[...X5,Oi,$l],eZ=e=>QH.find(K5(e)),tZ=new WeakMap;function nZ(e,t,n){for(const o in t){const c=t[o],h=n[o];if($i(c))e.addValue(o,c);else if($i(h))e.addValue(o,pf(c,{owner:e}));else if(h!==c)if(e.hasValue(o)){const p=e.getValue(o);p.liveStyle===!0?p.jump(c):p.hasAnimated||p.set(c)}else{const p=e.getStaticValue(o);e.addValue(o,pf(p!==void 0?p:c,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const yA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rZ{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:h,visualState:p},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const L=pa.now();this.renderScheduledAt<L&&(this.renderScheduledAt=L,rr.render(this.render,!1,!0))};const{latestValues:b,renderState:w,onUpdate:E}=p;this.onUpdate=E,this.latestValues=b,this.baseTarget={...b},this.initialValues=n.initial?{...b}:{},this.renderState=w,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=c,this.options=a,this.blockInitialAnimation=!!h,this.isControllingVariants=tv(n),this.isVariantNode=d5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...I}=this.scrapeMotionValuesFromProps(n,{},this);for(const L in I){const F=I[L];b[L]!==void 0&&$i(F)&&F.set(b[L],!1)}}mount(t){this.current=t,tZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),TL.current||JH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nl(this.notifyUpdate),Nl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=Uc.has(t);o&&this.onBindTransform&&this.onBindTransform();const c=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&rr.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),h=n.on("renderRequest",this.scheduleRender);let p;window.MotionCheckAppearSync&&(p=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{c(),h(),p&&p(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ch){const n=Ch[t];if(!n)continue;const{isEnabled:o,Feature:c}=n;if(!this.features[t]&&c&&o(this.props)&&(this.features[t]=new c(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<yA.length;o++){const c=yA[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const h="on"+c,p=t[h];p&&(this.propEventSubscriptions[c]=this.on(c,p))}this.prevMotionValues=nZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=pf(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(H5(o)||O5(o))?o=parseFloat(o):!eZ(o)&&$l.test(n)&&(o=W5(t,n)),this.setBaseTarget(t,$i(o)?o.get():o)),$i(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var h;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const p=bS(this.props,n,(h=this.presenceContext)==null?void 0:h.custom);p&&(o=p[t])}if(n&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!$i(c)?c:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class EL extends rZ{constructor(){super(...arguments),this.KeyframeResolver=Y5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$i(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iZ(e){return window.getComputedStyle(e)}class oZ extends EL{constructor(){super(...arguments),this.type="html",this.renderInstance=S5}readValueFromInstance(t,n){if(Uc.has(n))return yG(t,n);{const o=iZ(t),c=(pS(n)?o.getPropertyValue(n):o[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dL(t,n)}build(t,n,o){gS(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return wS(t,n,o)}}class sZ extends EL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&w5(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Uc.has(n)){const o=U5(n);return o&&o.default||0}return n=C5.has(n)?n:dS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return E5(t,n,o)}onBindTransform(){this.current&&!this.renderState.dimensions&&rr.postRender(this.updateDimensions)}build(t,n,o){_S(t,n,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,o,c){T5(t,n,o,c)}mount(t){this.isSVGTag=xS(t.tagName),super.mount(t)}}const aZ=(e,t)=>vS(e)?new sZ(t):new oZ(t,{allowProjection:e!==q.Fragment}),lZ=WW({...Iq,...XH,...NH,...YH},aZ),rv=sW(lZ),cZ=ms(oe.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),uZ=ms(oe.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),hZ=ms(oe.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),dZ=q0({palette:{mode:"dark",primary:{main:"#2ea043",light:"#3fb950",dark:"#238636"},background:{default:"#0d1117",paper:"#161b22"},text:{primary:"#c9d1d9",secondary:"#8b949e"}},typography:{fontFamily:'"Inter", sans-serif',h1:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h2:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h3:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h4:{fontFamily:'"Roboto", sans-serif',fontWeight:500},h5:{fontFamily:'"Roboto", sans-serif',fontWeight:500},h6:{fontFamily:'"Roboto", sans-serif',fontWeight:500}},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"none",border:"1px solid #30363d",transition:"border-color 0.2s ease-in-out","&:hover":{borderColor:"#8b949e"}}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:6,transition:"all 0.2s","&:hover":{transform:"translateY(-1px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{backgroundColor:"#0d1117",borderRadius:6,border:"1px solid #30363d",transition:"border-color 0.2s","&:hover":{borderColor:"#8b949e"},"&.Mui-focused":{borderColor:"#2ea043"}}}}}}}),pZ=ms(oe.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}));var PL={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(E3,function(){var n,o,c;function h(a,b){if(!n)n=b;else if(!o)o=b;else{var w="var sharedChunk = {}; ("+n+")(sharedChunk); ("+o+")(sharedChunk);",E={};n(E),c=b(E),typeof window<"u"&&(c.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}h(["exports"],function(a){function b(s,r,l,d){return new(l||(l=Promise))(function(m,v){function x(M){try{P(d.next(M))}catch(D){v(D)}}function S(M){try{P(d.throw(M))}catch(D){v(D)}}function P(M){var D;M.done?m(M.value):(D=M.value,D instanceof l?D:new l(function(N){N(D)})).then(x,S)}P((d=d.apply(s,r||[])).next())})}function w(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}typeof SuppressedError=="function"&&SuppressedError;var E=A;function A(s,r){this.x=s,this.y=r}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,r){return this.clone()._rotateAround(s,r)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var r=s.x-this.x,l=s.y-this.y;return r*r+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,r){return Math.atan2(this.x*r-this.y*s,this.x*s+this.y*r)},_matMult:function(s){var r=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=r,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var r=Math.cos(s),l=Math.sin(s),d=l*this.x+r*this.y;return this.x=r*this.x-l*this.y,this.y=d,this},_rotateAround:function(s,r){var l=Math.cos(s),d=Math.sin(s),m=r.y+d*(this.x-r.x)+l*(this.y-r.y);return this.x=r.x+l*(this.x-r.x)-d*(this.y-r.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},A.convert=function(s){return s instanceof A?s:Array.isArray(s)?new A(s[0],s[1]):s};var I=w(E),L=F;function F(s,r,l,d){this.cx=3*s,this.bx=3*(l-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(d-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=r,this.p2x=l,this.p2y=d}F.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,r){if(r===void 0&&(r=1e-6),s<0)return 0;if(s>1)return 1;for(var l=s,d=0;d<8;d++){var m=this.sampleCurveX(l)-s;if(Math.abs(m)<r)return l;var v=this.sampleCurveDerivativeX(l);if(Math.abs(v)<1e-6)break;l-=m/v}var x=0,S=1;for(l=s,d=0;d<20&&(m=this.sampleCurveX(l),!(Math.abs(m-s)<r));d++)s>m?x=l:S=l,l=.5*(S-x)+x;return l},solve:function(s,r){return this.sampleCurveY(this.solveCurveX(s,r))}};var j=w(L);let K,B;function V(){return K==null&&(K=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),K}function $(){if(B==null&&(B=!1,V())){const r=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(r){for(let d=0;d<5*5;d++){const m=4*d;r.fillStyle=`rgb(${m},${m+1},${m+2})`,r.fillRect(d%5,Math.floor(d/5),1,1)}const l=r.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&l[d]!==d){B=!0;break}}}return B||!1}function J(s,r,l,d){const m=new j(s,r,l,d);return function(v){return m.solve(v)}}const ie=J(.25,.1,.25,1);function de(s,r,l){return Math.min(l,Math.max(r,s))}function ye(s,r,l){const d=l-r,m=((s-r)%d+d)%d+r;return m===r?l:m}function me(s,...r){for(const l of r)for(const d in l)s[d]=l[d];return s}let ke=1;function G(s,r,l){const d={};for(const m in s)d[m]=r.call(l||this,s[m],m,s);return d}function Te(s,r,l){const d={};for(const m in s)r.call(l||this,s[m],m,s)&&(d[m]=s[m]);return d}function Le(s){return Array.isArray(s)?s.map(Le):typeof s=="object"&&s?G(s,Le):s}const Ue={};function qe(s){Ue[s]||(typeof console<"u"&&console.warn(s),Ue[s]=!0)}function Oe(s,r,l){return(l.y-s.y)*(r.x-s.x)>(r.y-s.y)*(l.x-s.x)}function Ge(s){let r=0;for(let l,d,m=0,v=s.length,x=v-1;m<v;x=m++)l=s[m],d=s[x],r+=(d.x-l.x)*(l.y+d.y);return r}function Ye(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let De=null;function Re(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}const et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function pt(s,r,l,d,m){return b(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(s,{timestamp:0});try{const x=v==null?void 0:v.format;if(!x||!x.startsWith("BGR")&&!x.startsWith("RGB"))throw new Error(`Unrecognized format ${x}`);const S=x.startsWith("BGR"),P=new Uint8ClampedArray(d*m*4);if(yield v.copyTo(P,function(M,D,N,W,X){const Y=4*Math.max(-D,0),te=(Math.max(0,N)-N)*W*4+Y,ce=4*W,pe=Math.max(0,D),we=Math.max(0,N);return{rect:{x:pe,y:we,width:Math.min(M.width,D+W)-pe,height:Math.min(M.height,N+X)-we},layout:[{offset:te,stride:ce}]}}(s,r,l,d,m)),S)for(let M=0;M<P.length;M+=4){const D=P[M];P[M]=P[M+2],P[M+2]=D}return P}finally{v.close()}})}let ut,ct,Dt,Gt;const dn={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(s){const r=requestAnimationFrame(s);return{cancel:()=>cancelAnimationFrame(r)}},getImageData(s,r=0){return this.getImageCanvasContext(s).getImageData(-r,-r,s.width+2*r,s.height+2*r)},getImageCanvasContext(s){const r=window.document.createElement("canvas"),l=r.getContext("2d",{willReadFrequently:!0});if(!l)throw new Error("failed to create canvas 2d context");return r.width=s.width,r.height=s.height,l.drawImage(s,0,0,s.width,s.height),l},resolveURL:s=>(Dt||(Dt=document.createElement("a")),Dt.href=s,Dt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Gt==null&&(Gt=matchMedia("(prefers-reduced-motion: reduce)")),Gt.matches)}},Yt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class In extends Error{constructor(r,l,d,m){super(`AJAXError: ${l} (${r}): ${d}`),this.status=r,this.statusText=l,this.url=d,this.body=m}}const Zt=Ye()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,xt=s=>Yt.REGISTERED_PROTOCOLS[s.substring(0,s.indexOf("://"))];function qt(s,r){const l=new AbortController,d=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,cache:s.cache,referrer:Zt(),signal:l.signal});let m=!1,v=!1;return s.type==="json"&&d.headers.set("Accept","application/json"),v||fetch(d).then(x=>x.ok?(S=>{(s.type==="arrayBuffer"||s.type==="image"?S.arrayBuffer():s.type==="json"?S.json():S.text()).then(P=>{v||(m=!0,r(null,P,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(P=>{v||r(new Error(P.message))})})(x):x.blob().then(S=>r(new In(x.status,x.statusText,s.url,S)))).catch(x=>{x.code!==20&&r(new Error(x.message))}),{cancel:()=>{v=!0,m||l.abort()}}}const jt=function(s,r){if(/:\/\//.test(s.url)&&!/^https?:|^file:/.test(s.url)){if(Ye()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r);if(!Ye())return(xt(s.url)||qt)(s,r)}if(!(/^file:/.test(l=s.url)||/^file:/.test(Zt())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return qt(s,r);if(Ye()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r,void 0,!0)}var l;return function(d,m){const v=new XMLHttpRequest;v.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(v.responseType="arraybuffer");for(const x in d.headers)v.setRequestHeader(x,d.headers[x]);return d.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=d.credentials==="include",v.onerror=()=>{m(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let x=v.response;if(d.type==="json")try{x=JSON.parse(v.response)}catch(S){return m(S)}m(null,x,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else{const x=new Blob([v.response],{type:v.getResponseHeader("Content-Type")});m(new In(v.status,v.statusText,d.url,x))}},v.send(d.body),{cancel:()=>v.abort()}}(s,r)},$t=function(s,r){return jt(me(s,{type:"arrayBuffer"}),r)};function Pt(s){if(!s||s.indexOf("://")<=0||s.indexOf("data:image/")===0||s.indexOf("blob:")===0)return!0;const r=new URL(s),l=window.location;return r.protocol===l.protocol&&r.host===l.host}function Ht(s,r,l){l[s]&&l[s].indexOf(r)!==-1||(l[s]=l[s]||[],l[s].push(r))}function ir(s,r,l){if(l&&l[s]){const d=l[s].indexOf(r);d!==-1&&l[s].splice(d,1)}}class On{constructor(r,l={}){me(this,l),this.type=r}}class Sn extends On{constructor(r,l={}){super("error",me({error:r},l))}}class Pn{on(r,l){return this._listeners=this._listeners||{},Ht(r,l,this._listeners),this}off(r,l){return ir(r,l,this._listeners),ir(r,l,this._oneTimeListeners),this}once(r,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Ht(r,l,this._oneTimeListeners),this):new Promise(d=>this.once(r,d))}fire(r,l){typeof r=="string"&&(r=new On(r,l||{}));const d=r.type;if(this.listens(d)){r.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const S of m)S.call(this,r);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const S of v)ir(d,S,this._oneTimeListeners),S.call(this,r);const x=this._eventedParent;x&&(me(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(r))}else r instanceof Sn&&console.error(r.error);return this}listens(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)}setEventedParent(r,l){return this._eventedParent=r,this._eventedParentData=l,this}}var Ie={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Jt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ft(s,r){const l={};for(const d in s)d!=="ref"&&(l[d]=s[d]);return Jt.forEach(d=>{d in r&&(l[d]=r[d])}),l}function nn(s,r){if(Array.isArray(s)){if(!Array.isArray(r)||s.length!==r.length)return!1;for(let l=0;l<s.length;l++)if(!nn(s[l],r[l]))return!1;return!0}if(typeof s=="object"&&s!==null&&r!==null){if(typeof r!="object"||Object.keys(s).length!==Object.keys(r).length)return!1;for(const l in s)if(!nn(s[l],r[l]))return!1;return!0}return s===r}const Mt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function wr(s,r,l){l.push({command:Mt.addSource,args:[s,r[s]]})}function ui(s,r,l){r.push({command:Mt.removeSource,args:[s]}),l[s]=!0}function Vr(s,r,l,d){ui(s,l,d),wr(s,r,l)}function Ti(s,r,l){let d;for(d in s[l])if(Object.prototype.hasOwnProperty.call(s[l],d)&&d!=="data"&&!nn(s[l][d],r[l][d]))return!1;for(d in r[l])if(Object.prototype.hasOwnProperty.call(r[l],d)&&d!=="data"&&!nn(s[l][d],r[l][d]))return!1;return!0}function ei(s,r,l,d,m,v){let x;for(x in r=r||{},s=s||{})Object.prototype.hasOwnProperty.call(s,x)&&(nn(s[x],r[x])||l.push({command:v,args:[d,x,r[x],m]}));for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&!Object.prototype.hasOwnProperty.call(s,x)&&(nn(s[x],r[x])||l.push({command:v,args:[d,x,r[x],m]}))}function Cn(s){return s.id}function Rt(s,r){return s[r.id]=r,s}class Ze{constructor(r,l,d,m){this.message=(r?`${r}: `:"")+d,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function Fn(s,...r){for(const l of r)for(const d in l)s[d]=l[d];return s}class sn extends Error{constructor(r,l){super(l),this.message=l,this.key=r}}class At{constructor(r,l=[]){this.parent=r,this.bindings={};for(const[d,m]of l)this.bindings[d]=m}concat(r){return new At(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}const pn={kind:"null"},He={kind:"number"},Ot={kind:"string"},zt={kind:"boolean"},hi={kind:"color"},jo={kind:"object"},Ut={kind:"value"},gs={kind:"collator"},se={kind:"formatted"},U={kind:"padding"},H={kind:"resolvedImage"},Q={kind:"variableAnchorOffsetCollection"};function le(s,r){return{kind:"array",itemType:s,N:r}}function ue(s){if(s.kind==="array"){const r=ue(s.itemType);return typeof s.N=="number"?`array<${r}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${r}>`}return s.kind}const Se=[pn,He,Ot,zt,hi,se,jo,le(Ut),U,H,Q];function ve(s,r){if(r.kind==="error")return null;if(s.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!ve(s.itemType,r.itemType))&&(typeof s.N!="number"||s.N===r.N))return null}else{if(s.kind===r.kind)return null;if(s.kind==="value"){for(const l of Se)if(!ve(l,r))return null}}return`Expected ${ue(s)} but found ${ue(r)} instead.`}function fe(s,r){return r.some(l=>l.kind===s.kind)}function be(s,r){return r.some(l=>l==="null"?s===null:l==="array"?Array.isArray(s):l==="object"?s&&!Array.isArray(s)&&typeof s=="object":l===typeof s)}function Be(s,r){return s.kind==="array"&&r.kind==="array"?s.itemType.kind===r.itemType.kind&&typeof s.N=="number":s.kind===r.kind}const Fe=.96422,je=.82521,Ct=4/29,Bt=6/29,mt=3*Bt*Bt,Et=Bt*Bt*Bt,Nt=Math.PI/180,wn=180/Math.PI;function Mn(s){return(s%=360)<0&&(s+=360),s}function un([s,r,l,d]){let m,v;const x=ti((.2225045*(s=cn(s))+.7168786*(r=cn(r))+.0606169*(l=cn(l)))/1);s===r&&r===l?m=v=x:(m=ti((.4360747*s+.3850649*r+.1430804*l)/Fe),v=ti((.0139322*s+.0971045*r+.7141733*l)/je));const S=116*x-16;return[S<0?0:S,500*(m-x),200*(x-v),d]}function cn(s){return s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function ti(s){return s>Et?Math.pow(s,1/3):s/mt+Ct}function Nn([s,r,l,d]){let m=(s+16)/116,v=isNaN(r)?m:m+r/500,x=isNaN(l)?m:m-l/200;return m=1*qr(m),v=Fe*qr(v),x=je*qr(x),[Sr(3.1338561*v-1.6168667*m-.4906146*x),Sr(-.9787684*v+1.9161415*m+.033454*x),Sr(.0719453*v-.2289914*m+1.4052427*x),d]}function Sr(s){return(s=s<=.00304?12.92*s:1.055*Math.pow(s,1/2.4)-.055)<0?0:s>1?1:s}function qr(s){return s>Bt?s*s*s:mt*(s-Ct)}function so(s){return parseInt(s.padEnd(2,s),16)/255}function Uf(s,r){return Xa(r?s/100:s,0,1)}function Xa(s,r,l){return Math.min(Math.max(r,s),l)}function Ya(s){return!s.some(Number.isNaN)}const dv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class An{constructor(r,l,d,m=1,v=!0){this.r=r,this.g=l,this.b=d,this.a=m,v||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[r,l,d,m]))}static parse(r){if(r instanceof An)return r;if(typeof r!="string")return;const l=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=dv[d];if(m){const[x,S,P]=m;return[x/255,S/255,P/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const x=d.length<6?1:2;let S=1;return[so(d.slice(S,S+=x)),so(d.slice(S,S+=x)),so(d.slice(S,S+=x)),so(d.slice(S,S+x)||"ff")]}if(d.startsWith("rgb")){const x=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[S,P,M,D,N,W,X,Y,te,ce,pe,we]=x,ge=[D||" ",X||" ",ce].join("");if(ge==="  "||ge==="  /"||ge===",,"||ge===",,,"){const Ce=[M,W,te].join(""),Pe=Ce==="%%%"?100:Ce===""?255:0;if(Pe){const Ve=[Xa(+P/Pe,0,1),Xa(+N/Pe,0,1),Xa(+Y/Pe,0,1),pe?Uf(+pe,we):1];if(Ya(Ve))return Ve}}return}}const v=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[x,S,P,M,D,N,W,X,Y]=v,te=[P||" ",D||" ",W].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){const ce=[+S,Xa(+M,0,100),Xa(+N,0,100),X?Uf(+X,Y):1];if(Ya(ce))return function([pe,we,ge,Ce]){function Pe(Ve){const lt=(Ve+pe/30)%12,yt=we*Math.min(ge,1-ge);return ge-yt*Math.max(-1,Math.min(lt-3,9-lt,1))}return pe=Mn(pe),we/=100,ge/=100,[Pe(0),Pe(8),Pe(4),Ce]}(ce)}}}(r);return l?new An(...l,!1):void 0}get rgb(){const{r,g:l,b:d,a:m}=this,v=m||1/0;return this.overwriteGetter("rgb",[r/v,l/v,d/v,m])}get hcl(){return this.overwriteGetter("hcl",function(r){const[l,d,m,v]=un(r),x=Math.sqrt(d*d+m*m);return[Math.round(1e4*x)?Mn(Math.atan2(m,d)*wn):NaN,x,l,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",un(this.rgb))}overwriteGetter(r,l){return Object.defineProperty(this,r,{value:l}),l}toString(){const[r,l,d,m]=this.rgb;return`rgba(${[r,l,d].map(v=>Math.round(255*v)).join(",")},${m})`}}An.black=new An(0,0,0,1),An.white=new An(1,1,1,1),An.transparent=new An(0,0,0,0),An.red=new An(1,0,0,1);class Vh{constructor(r,l,d){this.sensitivity=r?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,l){return this.collator.compare(r,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Wc{constructor(r,l,d,m,v){this.text=r,this.image=l,this.scale=d,this.fontStack=m,this.textColor=v}}class ni{constructor(r){this.sections=r}static fromString(r){return new ni([new Wc(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof ni?r:ni.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}}class Wi{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof Wi)return r;if(typeof r=="number")return new Wi([r,r,r,r]);if(Array.isArray(r)&&!(r.length<1||r.length>4)){for(const l of r)if(typeof l!="number")return;switch(r.length){case 1:r=[r[0],r[0],r[0],r[0]];break;case 2:r=[r[0],r[1],r[0],r[1]];break;case 3:r=[r[0],r[1],r[2],r[1]]}return new Wi(r)}}toString(){return JSON.stringify(this.values)}}const pv=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ao{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof ao)return r;if(Array.isArray(r)&&!(r.length<1)&&r.length%2==0){for(let l=0;l<r.length;l+=2){const d=r[l],m=r[l+1];if(typeof d!="string"||!pv.has(d)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new ao(r)}}toString(){return JSON.stringify(this.values)}}class Hr{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new Hr({name:r,available:!1}):null}}function Gc(s,r,l,d){return typeof s=="number"&&s>=0&&s<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof l=="number"&&l>=0&&l<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[s,r,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[s,r,l,d]:[s,r,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ja(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof An||s instanceof Vh||s instanceof ni||s instanceof Wi||s instanceof ao||s instanceof Hr)return!0;if(Array.isArray(s)){for(const r of s)if(!Ja(r))return!1;return!0}if(typeof s=="object"){for(const r in s)if(!Ja(s[r]))return!1;return!0}return!1}function Jn(s){if(s===null)return pn;if(typeof s=="string")return Ot;if(typeof s=="boolean")return zt;if(typeof s=="number")return He;if(s instanceof An)return hi;if(s instanceof Vh)return gs;if(s instanceof ni)return se;if(s instanceof Wi)return U;if(s instanceof ao)return Q;if(s instanceof Hr)return H;if(Array.isArray(s)){const r=s.length;let l;for(const d of s){const m=Jn(d);if(l){if(l===m)continue;l=Ut;break}l=m}return le(l||Ut,r)}return jo}function vn(s){const r=typeof s;return s===null?"":r==="string"||r==="number"||r==="boolean"?String(s):s instanceof An||s instanceof ni||s instanceof Wi||s instanceof ao||s instanceof Hr?s.toString():JSON.stringify(s)}class ma{constructor(r,l){this.type=r,this.value=l}static parse(r,l){if(r.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!Ja(r[1]))return l.error("invalid value");const d=r[1];let m=Jn(d);const v=l.expectedType;return m.kind!=="array"||m.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(m=v),new ma(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class or{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}}const qc={string:Ot,number:He,boolean:zt,object:jo};class lo{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");let d,m=1;const v=r[0];if(v==="array"){let S,P;if(r.length>2){const M=r[1];if(typeof M!="string"||!(M in qc)||M==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);S=qc[M],m++}else S=Ut;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return l.error('The length argument to "array" must be a positive integer literal',2);P=r[2],m++}d=le(S,P)}else{if(!qc[v])throw new Error(`Types doesn't contain name = ${v}`);d=qc[v]}const x=[];for(;m<r.length;m++){const S=l.parse(r[m],m,Ut);if(!S)return null;x.push(S)}return new lo(d,x)}evaluate(r){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(r);if(!ve(this.type,Jn(d)))return d;if(l===this.args.length-1)throw new or(`Expected value to be of type ${ue(this.type)}, but found ${ue(Jn(d))} instead.`)}throw new Error}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const jh={"to-boolean":zt,"to-color":hi,"to-number":He,"to-string":Ot};class Ns{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[0];if(!jh[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&r.length!==2)return l.error("Expected one argument.");const m=jh[d],v=[];for(let x=1;x<r.length;x++){const S=l.parse(r[x],x,Ut);if(!S)return null;v.push(S)}return new Ns(m,v)}evaluate(r){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(r);case"color":{let l,d;for(const m of this.args){if(l=m.evaluate(r),d=null,l instanceof An)return l;if(typeof l=="string"){const v=r.parseColor(l);if(v)return v}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Gc(l[0],l[1],l[2],l[3]),!d))return new An(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new or(d||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(const d of this.args){l=d.evaluate(r);const m=Wi.parse(l);if(m)return m}throw new or(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(const d of this.args){l=d.evaluate(r);const m=ao.parse(l);if(m)return m}throw new or(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(const d of this.args){if(l=d.evaluate(r),l===null)return 0;const m=Number(l);if(!isNaN(m))return m}throw new or(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return ni.fromString(vn(this.args[0].evaluate(r)));case"resolvedImage":return Hr.fromString(vn(this.args[0].evaluate(r)));default:return vn(this.args[0].evaluate(r))}}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Wf=["Unknown","Point","LineString","Polygon"];class Uh{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Wf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let l=this._parseColorCache[r];return l||(l=this._parseColorCache[r]=An.parse(r)),l}}class Hc{constructor(r,l,d=[],m,v=new At,x=[]){this.registry=r,this.path=d,this.key=d.map(S=>`[${S}]`).join(""),this.scope=v,this.errors=x,this.expectedType=m,this._isConstant=l}parse(r,l,d,m,v={}){return l?this.concat(l,d,m)._parse(r,v):this._parse(r,v)}_parse(r,l){function d(m,v,x){return x==="assert"?new lo(v,[m]):x==="coerce"?new Ns(v,[m]):m}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=r[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[m];if(v){let x=v.parse(r,this);if(!x)return null;if(this.expectedType){const S=this.expectedType,P=x.type;if(S.kind!=="string"&&S.kind!=="number"&&S.kind!=="boolean"&&S.kind!=="object"&&S.kind!=="array"||P.kind!=="value")if(S.kind!=="color"&&S.kind!=="formatted"&&S.kind!=="resolvedImage"||P.kind!=="value"&&P.kind!=="string")if(S.kind!=="padding"||P.kind!=="value"&&P.kind!=="number"&&P.kind!=="array")if(S.kind!=="variableAnchorOffsetCollection"||P.kind!=="value"&&P.kind!=="array"){if(this.checkSubtype(S,P))return null}else x=d(x,S,l.typeAnnotation||"coerce");else x=d(x,S,l.typeAnnotation||"coerce");else x=d(x,S,l.typeAnnotation||"coerce");else x=d(x,S,l.typeAnnotation||"assert")}if(!(x instanceof ma)&&x.type.kind!=="resolvedImage"&&this._isConstant(x)){const S=new Uh;try{x=new ma(x.type,x.evaluate(S))}catch(P){return this.error(P.message),null}}return x}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,l,d){const m=typeof r=="number"?this.path.concat(r):this.path,v=d?this.scope.concat(d):this.scope;return new Hc(this.registry,this._isConstant,m,l||null,v,this.errors)}error(r,...l){const d=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new sn(d,r))}checkSubtype(r,l){const d=ve(r,l);return d&&this.error(d),d}}class Zc{constructor(r,l,d){this.type=gs,this.locale=d,this.caseSensitive=r,this.diacriticSensitive=l}static parse(r,l){if(r.length!==2)return l.error("Expected one argument.");const d=r[1];if(typeof d!="object"||Array.isArray(d))return l.error("Collator options argument must be an object.");const m=l.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,zt);if(!m)return null;const v=l.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,zt);if(!v)return null;let x=null;return d.locale&&(x=l.parse(d.locale,1,Ot),!x)?null:new Zc(m,v,x)}evaluate(r){return new Vh(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}}const $s=8192;function Wh(s,r){s[0]=Math.min(s[0],r[0]),s[1]=Math.min(s[1],r[1]),s[2]=Math.max(s[2],r[0]),s[3]=Math.max(s[3],r[1])}function Gl(s,r){return!(s[0]<=r[0]||s[2]>=r[2]||s[1]<=r[1]||s[3]>=r[3])}function Gf(s,r){const l=(180+s[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,m=Math.pow(2,r.z);return[Math.round(l*m*$s),Math.round(d*m*$s)]}function fv(s,r,l){const d=s[0]-r[0],m=s[1]-r[1],v=s[0]-l[0],x=s[1]-l[1];return d*x-v*m==0&&d*v<=0&&m*x<=0}function Gh(s,r){let l=!1;for(let x=0,S=r.length;x<S;x++){const P=r[x];for(let M=0,D=P.length;M<D-1;M++){if(fv(s,P[M],P[M+1]))return!1;(m=P[M])[1]>(d=s)[1]!=(v=P[M+1])[1]>d[1]&&d[0]<(v[0]-m[0])*(d[1]-m[1])/(v[1]-m[1])+m[0]&&(l=!l)}}var d,m,v;return l}function qh(s,r){for(let l=0;l<r.length;l++)if(Gh(s,r[l]))return!0;return!1}function qf(s,r,l,d){const m=d[0]-l[0],v=d[1]-l[1],x=(s[0]-l[0])*v-m*(s[1]-l[1]),S=(r[0]-l[0])*v-m*(r[1]-l[1]);return x>0&&S<0||x<0&&S>0}function mv(s,r,l){for(const M of l)for(let D=0;D<M.length-1;++D)if((S=[(x=M[D+1])[0]-(v=M[D])[0],x[1]-v[1]])[0]*(P=[(m=r)[0]-(d=s)[0],m[1]-d[1]])[1]-S[1]*P[0]!=0&&qf(d,m,v,x)&&qf(v,x,d,m))return!0;var d,m,v,x,S,P;return!1}function Hf(s,r){for(let l=0;l<s.length;++l)if(!Gh(s[l],r))return!1;for(let l=0;l<s.length-1;++l)if(mv(s[l],s[l+1],r))return!1;return!0}function Zf(s,r){for(let l=0;l<r.length;l++)if(Hf(s,r[l]))return!0;return!1}function Kc(s,r,l){const d=[];for(let m=0;m<s.length;m++){const v=[];for(let x=0;x<s[m].length;x++){const S=Gf(s[m][x],l);Wh(r,S),v.push(S)}d.push(v)}return d}function Kf(s,r,l){const d=[];for(let m=0;m<s.length;m++){const v=Kc(s[m],r,l);d.push(v)}return d}function Xf(s,r,l,d){if(s[0]<l[0]||s[0]>l[2]){const m=.5*d;let v=s[0]-l[0]>m?-d:l[0]-s[0]>m?d:0;v===0&&(v=s[0]-l[2]>m?-d:l[2]-s[0]>m?d:0),s[0]+=v}Wh(r,s)}function Hh(s,r,l,d){const m=Math.pow(2,d.z)*$s,v=[d.x*$s,d.y*$s],x=[];for(const S of s)for(const P of S){const M=[P.x+v[0],P.y+v[1]];Xf(M,r,l,m),x.push(M)}return x}function Zh(s,r,l,d){const m=Math.pow(2,d.z)*$s,v=[d.x*$s,d.y*$s],x=[];for(const P of s){const M=[];for(const D of P){const N=[D.x+v[0],D.y+v[1]];Wh(r,N),M.push(N)}x.push(M)}if(r[2]-r[0]<=m/2){(S=r)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const P of x)for(const M of P)Xf(M,r,l,m)}var S;return x}class ga{constructor(r,l){this.type=zt,this.geojson=r,this.geometries=l}static parse(r,l){if(r.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(Ja(r[1])){const d=r[1];if(d.type==="FeatureCollection")for(let m=0;m<d.features.length;++m){const v=d.features[m].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new ga(d,d.features[m].geometry)}else if(d.type==="Feature"){const m=d.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new ga(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new ga(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(l,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=l.canonicalID();if(d.type==="Polygon"){const S=Kc(d.coordinates,v,x),P=Hh(l.geometry(),m,v,x);if(!Gl(m,v))return!1;for(const M of P)if(!Gh(M,S))return!1}if(d.type==="MultiPolygon"){const S=Kf(d.coordinates,v,x),P=Hh(l.geometry(),m,v,x);if(!Gl(m,v))return!1;for(const M of P)if(!qh(M,S))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(l,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=l.canonicalID();if(d.type==="Polygon"){const S=Kc(d.coordinates,v,x),P=Zh(l.geometry(),m,v,x);if(!Gl(m,v))return!1;for(const M of P)if(!Hf(M,S))return!1}if(d.type==="MultiPolygon"){const S=Kf(d.coordinates,v,x),P=Zh(l.geometry(),m,v,x);if(!Gl(m,v))return!1;for(const M of P)if(!Zf(M,S))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Xc{constructor(r,l){this.type=l.type,this.name=r,this.boundExpression=l}static parse(r,l){if(r.length!==2||typeof r[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const d=r[1];return l.scope.has(d)?new Xc(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}}class co{constructor(r,l,d,m){this.name=r,this.type=l,this._evaluate=d,this.args=m}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}static parse(r,l){const d=r[0],m=co.definitions[d];if(!m)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(m)?m[0]:m.type,x=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,S=x.filter(([M])=>!Array.isArray(M)||M.length===r.length-1);let P=null;for(const[M,D]of S){P=new Hc(l.registry,Yc,l.path,null,l.scope);const N=[];let W=!1;for(let X=1;X<r.length;X++){const Y=r[X],te=Array.isArray(M)?M[X-1]:M.type,ce=P.parse(Y,1+N.length,te);if(!ce){W=!0;break}N.push(ce)}if(!W)if(Array.isArray(M)&&M.length!==N.length)P.error(`Expected ${M.length} arguments, but found ${N.length} instead.`);else{for(let X=0;X<N.length;X++){const Y=Array.isArray(M)?M[X]:M.type,te=N[X];P.concat(X+1).checkSubtype(Y,te.type)}if(P.errors.length===0)return new co(d,v,D,N)}}if(S.length===1)l.errors.push(...P.errors);else{const M=(S.length?S:x).map(([N])=>{return W=N,Array.isArray(W)?`(${W.map(ue).join(", ")})`:`(${ue(W.type)}...)`;var W}).join(" | "),D=[];for(let N=1;N<r.length;N++){const W=l.parse(r[N],1+D.length);if(!W)return null;D.push(ue(W.type))}l.error(`Expected arguments of type ${M}, but found (${D.join(", ")}) instead.`)}return null}static register(r,l){co.definitions=l;for(const d in l)r[d]=co}}function Yc(s){if(s instanceof Xc)return Yc(s.boundExpression);if(s instanceof co&&s.name==="error"||s instanceof Zc||s instanceof ga)return!1;const r=s instanceof Ns||s instanceof lo;let l=!0;return s.eachChild(d=>{l=r?l&&Yc(d):l&&d instanceof ma}),!!l&&Jc(s)&&Qc(s,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Jc(s){if(s instanceof co&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof ga)return!1;let r=!0;return s.eachChild(l=>{r&&!Jc(l)&&(r=!1)}),r}function ql(s){if(s instanceof co&&s.name==="feature-state")return!1;let r=!0;return s.eachChild(l=>{r&&!ql(l)&&(r=!1)}),r}function Qc(s,r){if(s instanceof co&&r.indexOf(s.name)>=0)return!1;let l=!0;return s.eachChild(d=>{l&&!Qc(d,r)&&(l=!1)}),l}function Qa(s,r){const l=s.length-1;let d,m,v=0,x=l,S=0;for(;v<=x;)if(S=Math.floor((v+x)/2),d=s[S],m=s[S+1],d<=r){if(S===l||r<m)return S;v=S+1}else{if(!(d>r))throw new or("Input is not a number.");x=S-1}return 0}class Vs{constructor(r,l,d){this.type=r,this.input=l,this.labels=[],this.outputs=[];for(const[m,v]of d)this.labels.push(m),this.outputs.push(v)}static parse(r,l){if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(r[1],1,He);if(!d)return null;const m=[];let v=null;l.expectedType&&l.expectedType.kind!=="value"&&(v=l.expectedType);for(let x=1;x<r.length;x+=2){const S=x===1?-1/0:r[x],P=r[x+1],M=x,D=x+1;if(typeof S!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(m.length&&m[m.length-1][0]>=S)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const N=l.parse(P,D,v);if(!N)return null;v=v||N.type,m.push([S,N])}return new Vs(v,d,m)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=l[0])return d[0].evaluate(r);const v=l.length;return m>=l[v-1]?d[v-1].evaluate(r):d[Qa(l,m)].evaluate(r)}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function an(s,r,l){return s+l*(r-s)}function eu(s,r,l){return s.map((d,m)=>an(d,r[m],l))}const Gi={number:an,color:function(s,r,l,d="rgb"){switch(d){case"rgb":{const[m,v,x,S]=eu(s.rgb,r.rgb,l);return new An(m,v,x,S,!1)}case"hcl":{const[m,v,x,S]=s.hcl,[P,M,D,N]=r.hcl;let W,X;if(isNaN(m)||isNaN(P))isNaN(m)?isNaN(P)?W=NaN:(W=P,x!==1&&x!==0||(X=M)):(W=m,D!==1&&D!==0||(X=v));else{let we=P-m;P>m&&we>180?we-=360:P<m&&m-P>180&&(we+=360),W=m+l*we}const[Y,te,ce,pe]=function([we,ge,Ce,Pe]){return we=isNaN(we)?0:we*Nt,Nn([Ce,Math.cos(we)*ge,Math.sin(we)*ge,Pe])}([W,X??an(v,M,l),an(x,D,l),an(S,N,l)]);return new An(Y,te,ce,pe,!1)}case"lab":{const[m,v,x,S]=Nn(eu(s.lab,r.lab,l));return new An(m,v,x,S,!1)}}},array:eu,padding:function(s,r,l){return new Wi(eu(s.values,r.values,l))},variableAnchorOffsetCollection:function(s,r,l){const d=s.values,m=r.values;if(d.length!==m.length)throw new or(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${r.toString()}`);const v=[];for(let x=0;x<d.length;x+=2){if(d[x]!==m[x])throw new or(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${d[x]}, to[${x}]: ${m[x]}`);v.push(d[x]);const[S,P]=d[x+1],[M,D]=m[x+1];v.push([an(S,M,l),an(P,D,l)])}return new ao(v)}};class qi{constructor(r,l,d,m,v){this.type=r,this.operator=l,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[x,S]of v)this.labels.push(x),this.outputs.push(S)}static interpolationFactor(r,l,d,m){let v=0;if(r.name==="exponential")v=Kh(l,r.base,d,m);else if(r.name==="linear")v=Kh(l,1,d,m);else if(r.name==="cubic-bezier"){const x=r.controlPoints;v=new j(x[0],x[1],x[2],x[3]).solve(Kh(l,1,d,m))}return v}static parse(r,l){let[d,m,v,...x]=r;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const M=m[1];if(typeof M!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:M}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const M=m.slice(1);if(M.length!==4||M.some(D=>typeof D!="number"||D<0||D>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:M}}}if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(v=l.parse(v,2,He),!v)return null;const S=[];let P=null;d==="interpolate-hcl"||d==="interpolate-lab"?P=hi:l.expectedType&&l.expectedType.kind!=="value"&&(P=l.expectedType);for(let M=0;M<x.length;M+=2){const D=x[M],N=x[M+1],W=M+3,X=M+4;if(typeof D!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(S.length&&S[S.length-1][0]>=D)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const Y=l.parse(N,X,P);if(!Y)return null;P=P||Y.type,S.push([D,Y])}return Be(P,He)||Be(P,hi)||Be(P,U)||Be(P,Q)||Be(P,le(He))?new qi(P,d,m,v,S):l.error(`Type ${ue(P)} is not interpolatable.`)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=l[0])return d[0].evaluate(r);const v=l.length;if(m>=l[v-1])return d[v-1].evaluate(r);const x=Qa(l,m),S=qi.interpolationFactor(this.interpolation,m,l[x],l[x+1]),P=d[x].evaluate(r),M=d[x+1].evaluate(r);switch(this.operator){case"interpolate":return Gi[this.type.kind](P,M,S);case"interpolate-hcl":return Gi.color(P,M,S,"hcl");case"interpolate-lab":return Gi.color(P,M,S,"lab")}}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function Kh(s,r,l,d){const m=d-l,v=s-l;return m===0?0:r===1?v/m:(Math.pow(r,v)-1)/(Math.pow(r,m)-1)}class tu{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expectected at least one argument.");let d=null;const m=l.expectedType;m&&m.kind!=="value"&&(d=m);const v=[];for(const S of r.slice(1)){const P=l.parse(S,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!P)return null;d=d||P.type,v.push(P)}if(!d)throw new Error("No output type");const x=m&&v.some(S=>ve(m,S.type));return new tu(x?Ut:d,v)}evaluate(r){let l,d=null,m=0;for(const v of this.args)if(m++,d=v.evaluate(r),d&&d instanceof Hr&&!d.available&&(l||(l=d.name),d=null,m===this.args.length&&(d=l)),d!==null)break;return d}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}class nu{constructor(r,l){this.type=l.type,this.bindings=[].concat(r),this.result=l}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const l of this.bindings)r(l[1]);r(this.result)}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const d=[];for(let v=1;v<r.length-1;v+=2){const x=r[v];if(typeof x!="string")return l.error(`Expected string, but found ${typeof x} instead.`,v);if(/[^a-zA-Z0-9_]/.test(x))return l.error("Variable names must contain only alphanumeric characters or '_'.",v);const S=l.parse(r[v+1],v+1);if(!S)return null;d.push([x,S])}const m=l.parse(r[r.length-1],r.length-1,l.expectedType,d);return m?new nu(d,m):null}outputDefined(){return this.result.outputDefined()}}class Xh{constructor(r,l,d){this.type=r,this.index=l,this.input=d}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,He),m=l.parse(r[2],2,le(l.expectedType||Ut));return d&&m?new Xh(m.type.itemType,d,m):null}evaluate(r){const l=this.index.evaluate(r),d=this.input.evaluate(r);if(l<0)throw new or(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new or(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new or(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}}class Yh{constructor(r,l){this.type=zt,this.needle=r,this.haystack=l}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Ut),m=l.parse(r[2],2,Ut);return d&&m?fe(d.type,[zt,Ot,He,pn,Ut])?new Yh(d,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(d.type)} instead`):null}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!d)return!1;if(!be(l,["boolean","string","number","null"]))throw new or(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Jn(l))} instead.`);if(!be(d,["string","array"]))throw new or(`Expected second argument to be of type array or string, but found ${ue(Jn(d))} instead.`);return d.indexOf(l)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}}class ru{constructor(r,l,d){this.type=He,this.needle=r,this.haystack=l,this.fromIndex=d}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Ut),m=l.parse(r[2],2,Ut);if(!d||!m)return null;if(!fe(d.type,[zt,Ot,He,pn,Ut]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(d.type)} instead`);if(r.length===4){const v=l.parse(r[3],3,He);return v?new ru(d,m,v):null}return new ru(d,m)}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!be(l,["boolean","string","number","null"]))throw new or(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Jn(l))} instead.`);if(!be(d,["string","array"]))throw new or(`Expected second argument to be of type array or string, but found ${ue(Jn(d))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(r);return d.indexOf(l,m)}return d.indexOf(l)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}}class Jh{constructor(r,l,d,m,v,x){this.inputType=r,this.type=l,this.input=d,this.cases=m,this.outputs=v,this.otherwise=x}static parse(r,l){if(r.length<5)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return l.error("Expected an even number of arguments.");let d,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);const v={},x=[];for(let M=2;M<r.length-1;M+=2){let D=r[M];const N=r[M+1];Array.isArray(D)||(D=[D]);const W=l.concat(M);if(D.length===0)return W.error("Expected at least one branch label.");for(const Y of D){if(typeof Y!="number"&&typeof Y!="string")return W.error("Branch labels must be numbers or strings.");if(typeof Y=="number"&&Math.abs(Y)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Y=="number"&&Math.floor(Y)!==Y)return W.error("Numeric branch labels must be integer values.");if(d){if(W.checkSubtype(d,Jn(Y)))return null}else d=Jn(Y);if(v[String(Y)]!==void 0)return W.error("Branch labels must be unique.");v[String(Y)]=x.length}const X=l.parse(N,M,m);if(!X)return null;m=m||X.type,x.push(X)}const S=l.parse(r[1],1,Ut);if(!S)return null;const P=l.parse(r[r.length-1],r.length-1,m);return P?S.type.kind!=="value"&&l.concat(1).checkSubtype(d,S.type)?null:new Jh(d,m,S,v,x,P):null}evaluate(r){const l=this.input.evaluate(r);return(Jn(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}}class Qh{constructor(r,l,d){this.type=r,this.branches=l,this.otherwise=d}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&l.expectedType.kind!=="value"&&(d=l.expectedType);const m=[];for(let x=1;x<r.length-1;x+=2){const S=l.parse(r[x],x,zt);if(!S)return null;const P=l.parse(r[x+1],x+1,d);if(!P)return null;m.push([S,P]),d=d||P.type}const v=l.parse(r[r.length-1],r.length-1,d);if(!v)return null;if(!d)throw new Error("Can't infer output type");return new Qh(d,m,v)}evaluate(r){for(const[l,d]of this.branches)if(l.evaluate(r))return d.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[l,d]of this.branches)r(l),r(d);r(this.otherwise)}outputDefined(){return this.branches.every(([r,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class iu{constructor(r,l,d,m){this.type=r,this.input=l,this.beginIndex=d,this.endIndex=m}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,Ut),m=l.parse(r[2],2,He);if(!d||!m)return null;if(!fe(d.type,[le(Ut),Ot,Ut]))return l.error(`Expected first argument to be of type array or string, but found ${ue(d.type)} instead`);if(r.length===4){const v=l.parse(r[3],3,He);return v?new iu(d.type,d,m,v):null}return new iu(d.type,d,m)}evaluate(r){const l=this.input.evaluate(r),d=this.beginIndex.evaluate(r);if(!be(l,["string","array"]))throw new or(`Expected first argument to be of type array or string, but found ${ue(Jn(l))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(r);return l.slice(d,m)}return l.slice(d)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}}function Yf(s,r){return s==="=="||s==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function Jf(s,r,l,d){return d.compare(r,l)===0}function el(s,r,l){const d=s!=="=="&&s!=="!=";return class AL{constructor(v,x,S){this.type=zt,this.lhs=v,this.rhs=x,this.collator=S,this.hasUntypedArgument=v.type.kind==="value"||x.type.kind==="value"}static parse(v,x){if(v.length!==3&&v.length!==4)return x.error("Expected two or three arguments.");const S=v[0];let P=x.parse(v[1],1,Ut);if(!P)return null;if(!Yf(S,P.type))return x.concat(1).error(`"${S}" comparisons are not supported for type '${ue(P.type)}'.`);let M=x.parse(v[2],2,Ut);if(!M)return null;if(!Yf(S,M.type))return x.concat(2).error(`"${S}" comparisons are not supported for type '${ue(M.type)}'.`);if(P.type.kind!==M.type.kind&&P.type.kind!=="value"&&M.type.kind!=="value")return x.error(`Cannot compare types '${ue(P.type)}' and '${ue(M.type)}'.`);d&&(P.type.kind==="value"&&M.type.kind!=="value"?P=new lo(M.type,[P]):P.type.kind!=="value"&&M.type.kind==="value"&&(M=new lo(P.type,[M])));let D=null;if(v.length===4){if(P.type.kind!=="string"&&M.type.kind!=="string"&&P.type.kind!=="value"&&M.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(D=x.parse(v[3],3,gs),!D)return null}return new AL(P,M,D)}evaluate(v){const x=this.lhs.evaluate(v),S=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const P=Jn(x),M=Jn(S);if(P.kind!==M.kind||P.kind!=="string"&&P.kind!=="number")throw new or(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${P.kind}, ${M.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const P=Jn(x),M=Jn(S);if(P.kind!=="string"||M.kind!=="string")return r(v,x,S)}return this.collator?l(v,x,S,this.collator.evaluate(v)):r(v,x,S)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const gv=el("==",function(s,r,l){return r===l},Jf),yv=el("!=",function(s,r,l){return r!==l},function(s,r,l,d){return!Jf(0,r,l,d)}),vv=el("<",function(s,r,l){return r<l},function(s,r,l,d){return d.compare(r,l)<0}),_v=el(">",function(s,r,l){return r>l},function(s,r,l,d){return d.compare(r,l)>0}),xv=el("<=",function(s,r,l){return r<=l},function(s,r,l,d){return d.compare(r,l)<=0}),bv=el(">=",function(s,r,l){return r>=l},function(s,r,l,d){return d.compare(r,l)>=0});class ed{constructor(r,l,d,m,v){this.type=Ot,this.number=r,this.locale=l,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=v}static parse(r,l){if(r.length!==3)return l.error("Expected two arguments.");const d=l.parse(r[1],1,He);if(!d)return null;const m=r[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let v=null;if(m.locale&&(v=l.parse(m.locale,1,Ot),!v))return null;let x=null;if(m.currency&&(x=l.parse(m.currency,1,Ot),!x))return null;let S=null;if(m["min-fraction-digits"]&&(S=l.parse(m["min-fraction-digits"],1,He),!S))return null;let P=null;return m["max-fraction-digits"]&&(P=l.parse(m["max-fraction-digits"],1,He),!P)?null:new ed(d,v,x,S,P)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}}class ou{constructor(r){this.type=se,this.sections=r}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[1];if(!Array.isArray(d)&&typeof d=="object")return l.error("First argument must be an image or text section.");const m=[];let v=!1;for(let x=1;x<=r.length-1;++x){const S=r[x];if(v&&typeof S=="object"&&!Array.isArray(S)){v=!1;let P=null;if(S["font-scale"]&&(P=l.parse(S["font-scale"],1,He),!P))return null;let M=null;if(S["text-font"]&&(M=l.parse(S["text-font"],1,le(Ot)),!M))return null;let D=null;if(S["text-color"]&&(D=l.parse(S["text-color"],1,hi),!D))return null;const N=m[m.length-1];N.scale=P,N.font=M,N.textColor=D}else{const P=l.parse(r[x],1,Ut);if(!P)return null;const M=P.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,m.push({content:P,scale:null,font:null,textColor:null})}}return new ou(m)}evaluate(r){return new ni(this.sections.map(l=>{const d=l.content.evaluate(r);return Jn(d)===H?new Wc("",d,null,null,null):new Wc(vn(d),null,l.scale?l.scale.evaluate(r):null,l.font?l.font.evaluate(r).join(","):null,l.textColor?l.textColor.evaluate(r):null)}))}eachChild(r){for(const l of this.sections)r(l.content),l.scale&&r(l.scale),l.font&&r(l.font),l.textColor&&r(l.textColor)}outputDefined(){return!1}}class td{constructor(r){this.type=H,this.input=r}static parse(r,l){if(r.length!==2)return l.error("Expected two arguments.");const d=l.parse(r[1],1,Ot);return d?new td(d):l.error("No image name provided.")}evaluate(r){const l=this.input.evaluate(r),d=Hr.fromString(l);return d&&r.availableImages&&(d.available=r.availableImages.indexOf(l)>-1),d}eachChild(r){r(this.input)}outputDefined(){return!1}}class nd{constructor(r){this.type=He,this.input=r}static parse(r,l){if(r.length!==2)return l.error(`Expected 1 argument, but found ${r.length-1} instead.`);const d=l.parse(r[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${ue(d.type)} instead.`):new nd(d):null}evaluate(r){const l=this.input.evaluate(r);if(typeof l=="string"||Array.isArray(l))return l.length;throw new or(`Expected value to be of type string or array, but found ${ue(Jn(l))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}}const tl={"==":gv,"!=":yv,">":_v,"<":vv,">=":bv,"<=":xv,array:lo,at:Xh,boolean:lo,case:Qh,coalesce:tu,collator:Zc,format:ou,image:td,in:Yh,"index-of":ru,interpolate:qi,"interpolate-hcl":qi,"interpolate-lab":qi,length:nd,let:nu,literal:ma,match:Jh,number:lo,"number-format":ed,object:lo,slice:iu,step:Vs,string:lo,"to-boolean":Ns,"to-color":Ns,"to-number":Ns,"to-string":Ns,var:Xc,within:ga};function Qf(s,[r,l,d,m]){r=r.evaluate(s),l=l.evaluate(s),d=d.evaluate(s);const v=m?m.evaluate(s):1,x=Gc(r,l,d,v);if(x)throw new or(x);return new An(r/255,l/255,d/255,v,!1)}function em(s,r){return s in r}function rd(s,r){const l=r[s];return l===void 0?null:l}function ya(s){return{type:s}}function tm(s){return{result:"success",value:s}}function js(s){return{result:"error",value:s}}function nl(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function nm(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function id(s){return!!s.expression&&s.expression.interpolated}function _n(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function Qn(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function wv(s){return s}function ln(s,r){const l=r.type==="color",d=s.stops&&typeof s.stops[0][0]=="object",m=d||!(d||s.property!==void 0),v=s.type||(id(r)?"exponential":"interval");if(l||r.type==="padding"){const D=l?An.parse:Wi.parse;(s=Fn({},s)).stops&&(s.stops=s.stops.map(N=>[N[0],D(N[1])])),s.default=D(s.default?s.default:r.default)}if(s.colorSpace&&(x=s.colorSpace)!=="rgb"&&x!=="hcl"&&x!=="lab")throw new Error(`Unknown color space: "${s.colorSpace}"`);var x;let S,P,M;if(v==="exponential")S=Hl;else if(v==="interval")S=Hn;else if(v==="categorical"){S=er,P=Object.create(null);for(const D of s.stops)P[D[0]]=D[1];M=typeof s.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);S=rm}if(d){const D={},N=[];for(let Y=0;Y<s.stops.length;Y++){const te=s.stops[Y],ce=te[0].zoom;D[ce]===void 0&&(D[ce]={zoom:ce,type:s.type,property:s.property,default:s.default,stops:[]},N.push(ce)),D[ce].stops.push([te[0].value,te[1]])}const W=[];for(const Y of N)W.push([D[Y].zoom,ln(D[Y],r)]);const X={name:"linear"};return{kind:"composite",interpolationType:X,interpolationFactor:qi.interpolationFactor.bind(void 0,X),zoomStops:W.map(Y=>Y[0]),evaluate:({zoom:Y},te)=>Hl({stops:W,base:s.base},r,Y).evaluate(Y,te)}}if(m){const D=v==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:qi.interpolationFactor.bind(void 0,D),zoomStops:s.stops.map(N=>N[0]),evaluate:({zoom:N})=>S(s,r,N,P,M)}}return{kind:"source",evaluate(D,N){const W=N&&N.properties?N.properties[s.property]:void 0;return W===void 0?va(s.default,r.default):S(s,r,W,P,M)}}}function va(s,r,l){return s!==void 0?s:r!==void 0?r:l!==void 0?l:void 0}function er(s,r,l,d,m){return va(typeof l===m?d[l]:void 0,s.default,r.default)}function Hn(s,r,l){if(_n(l)!=="number")return va(s.default,r.default);const d=s.stops.length;if(d===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[d-1][0])return s.stops[d-1][1];const m=Qa(s.stops.map(v=>v[0]),l);return s.stops[m][1]}function Hl(s,r,l){const d=s.base!==void 0?s.base:1;if(_n(l)!=="number")return va(s.default,r.default);const m=s.stops.length;if(m===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[m-1][0])return s.stops[m-1][1];const v=Qa(s.stops.map(D=>D[0]),l),x=function(D,N,W,X){const Y=X-W,te=D-W;return Y===0?0:N===1?te/Y:(Math.pow(N,te)-1)/(Math.pow(N,Y)-1)}(l,d,s.stops[v][0],s.stops[v+1][0]),S=s.stops[v][1],P=s.stops[v+1][1],M=Gi[r.type]||wv;return typeof S.evaluate=="function"?{evaluate(...D){const N=S.evaluate.apply(void 0,D),W=P.evaluate.apply(void 0,D);if(N!==void 0&&W!==void 0)return M(N,W,x,s.colorSpace)}}:M(S,P,x,s.colorSpace)}function rm(s,r,l){switch(r.type){case"color":l=An.parse(l);break;case"formatted":l=ni.fromString(l.toString());break;case"resolvedImage":l=Hr.fromString(l.toString());break;case"padding":l=Wi.parse(l);break;default:_n(l)===r.type||r.type==="enum"&&r.values[l]||(l=void 0)}return va(l,s.default,r.default)}co.register(tl,{error:[{kind:"error"},[Ot],(s,[r])=>{throw new or(r.evaluate(s))}],typeof:[Ot,[Ut],(s,[r])=>ue(Jn(r.evaluate(s)))],"to-rgba":[le(He,4),[hi],(s,[r])=>{const[l,d,m,v]=r.evaluate(s).rgb;return[255*l,255*d,255*m,v]}],rgb:[hi,[He,He,He],Qf],rgba:[hi,[He,He,He,He],Qf],has:{type:zt,overloads:[[[Ot],(s,[r])=>em(r.evaluate(s),s.properties())],[[Ot,jo],(s,[r,l])=>em(r.evaluate(s),l.evaluate(s))]]},get:{type:Ut,overloads:[[[Ot],(s,[r])=>rd(r.evaluate(s),s.properties())],[[Ot,jo],(s,[r,l])=>rd(r.evaluate(s),l.evaluate(s))]]},"feature-state":[Ut,[Ot],(s,[r])=>rd(r.evaluate(s),s.featureState||{})],properties:[jo,[],s=>s.properties()],"geometry-type":[Ot,[],s=>s.geometryType()],id:[Ut,[],s=>s.id()],zoom:[He,[],s=>s.globals.zoom],"heatmap-density":[He,[],s=>s.globals.heatmapDensity||0],"line-progress":[He,[],s=>s.globals.lineProgress||0],accumulated:[Ut,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[He,ya(He),(s,r)=>{let l=0;for(const d of r)l+=d.evaluate(s);return l}],"*":[He,ya(He),(s,r)=>{let l=1;for(const d of r)l*=d.evaluate(s);return l}],"-":{type:He,overloads:[[[He,He],(s,[r,l])=>r.evaluate(s)-l.evaluate(s)],[[He],(s,[r])=>-r.evaluate(s)]]},"/":[He,[He,He],(s,[r,l])=>r.evaluate(s)/l.evaluate(s)],"%":[He,[He,He],(s,[r,l])=>r.evaluate(s)%l.evaluate(s)],ln2:[He,[],()=>Math.LN2],pi:[He,[],()=>Math.PI],e:[He,[],()=>Math.E],"^":[He,[He,He],(s,[r,l])=>Math.pow(r.evaluate(s),l.evaluate(s))],sqrt:[He,[He],(s,[r])=>Math.sqrt(r.evaluate(s))],log10:[He,[He],(s,[r])=>Math.log(r.evaluate(s))/Math.LN10],ln:[He,[He],(s,[r])=>Math.log(r.evaluate(s))],log2:[He,[He],(s,[r])=>Math.log(r.evaluate(s))/Math.LN2],sin:[He,[He],(s,[r])=>Math.sin(r.evaluate(s))],cos:[He,[He],(s,[r])=>Math.cos(r.evaluate(s))],tan:[He,[He],(s,[r])=>Math.tan(r.evaluate(s))],asin:[He,[He],(s,[r])=>Math.asin(r.evaluate(s))],acos:[He,[He],(s,[r])=>Math.acos(r.evaluate(s))],atan:[He,[He],(s,[r])=>Math.atan(r.evaluate(s))],min:[He,ya(He),(s,r)=>Math.min(...r.map(l=>l.evaluate(s)))],max:[He,ya(He),(s,r)=>Math.max(...r.map(l=>l.evaluate(s)))],abs:[He,[He],(s,[r])=>Math.abs(r.evaluate(s))],round:[He,[He],(s,[r])=>{const l=r.evaluate(s);return l<0?-Math.round(-l):Math.round(l)}],floor:[He,[He],(s,[r])=>Math.floor(r.evaluate(s))],ceil:[He,[He],(s,[r])=>Math.ceil(r.evaluate(s))],"filter-==":[zt,[Ot,Ut],(s,[r,l])=>s.properties()[r.value]===l.value],"filter-id-==":[zt,[Ut],(s,[r])=>s.id()===r.value],"filter-type-==":[zt,[Ot],(s,[r])=>s.geometryType()===r.value],"filter-<":[zt,[Ot,Ut],(s,[r,l])=>{const d=s.properties()[r.value],m=l.value;return typeof d==typeof m&&d<m}],"filter-id-<":[zt,[Ut],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l<d}],"filter->":[zt,[Ot,Ut],(s,[r,l])=>{const d=s.properties()[r.value],m=l.value;return typeof d==typeof m&&d>m}],"filter-id->":[zt,[Ut],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l>d}],"filter-<=":[zt,[Ot,Ut],(s,[r,l])=>{const d=s.properties()[r.value],m=l.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[zt,[Ut],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l<=d}],"filter->=":[zt,[Ot,Ut],(s,[r,l])=>{const d=s.properties()[r.value],m=l.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[zt,[Ut],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l>=d}],"filter-has":[zt,[Ut],(s,[r])=>r.value in s.properties()],"filter-has-id":[zt,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[zt,[le(Ot)],(s,[r])=>r.value.indexOf(s.geometryType())>=0],"filter-id-in":[zt,[le(Ut)],(s,[r])=>r.value.indexOf(s.id())>=0],"filter-in-small":[zt,[Ot,le(Ut)],(s,[r,l])=>l.value.indexOf(s.properties()[r.value])>=0],"filter-in-large":[zt,[Ot,le(Ut)],(s,[r,l])=>function(d,m,v,x){for(;v<=x;){const S=v+x>>1;if(m[S]===d)return!0;m[S]>d?x=S-1:v=S+1}return!1}(s.properties()[r.value],l.value,0,l.value.length-1)],all:{type:zt,overloads:[[[zt,zt],(s,[r,l])=>r.evaluate(s)&&l.evaluate(s)],[ya(zt),(s,r)=>{for(const l of r)if(!l.evaluate(s))return!1;return!0}]]},any:{type:zt,overloads:[[[zt,zt],(s,[r,l])=>r.evaluate(s)||l.evaluate(s)],[ya(zt),(s,r)=>{for(const l of r)if(l.evaluate(s))return!0;return!1}]]},"!":[zt,[zt],(s,[r])=>!r.evaluate(s)],"is-supported-script":[zt,[Ot],(s,[r])=>{const l=s.globals&&s.globals.isSupportedScript;return!l||l(r.evaluate(s))}],upcase:[Ot,[Ot],(s,[r])=>r.evaluate(s).toUpperCase()],downcase:[Ot,[Ot],(s,[r])=>r.evaluate(s).toLowerCase()],concat:[Ot,ya(Ut),(s,r)=>r.map(l=>vn(l.evaluate(s))).join("")],"resolved-locale":[Ot,[gs],(s,[r])=>r.evaluate(s).resolvedLocale()]});class od{constructor(r,l){var d;this.expression=r,this._warningHistory={},this._evaluator=new Uh,this._defaultValue=l?(d=l).type==="color"&&Qn(d.default)?new An(0,0,0,0):d.type==="color"?An.parse(d.default)||null:d.type==="padding"?Wi.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?ao.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(r,l,d,m,v,x){return this._evaluator.globals=r,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(r,l,d,m,v,x){this._evaluator.globals=r,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x||null;try{const S=this.expression.evaluate(this._evaluator);if(S==null||typeof S=="number"&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new or(`Expected value to be one of ${Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}}}function su(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in tl}function au(s,r){const l=new Hc(tl,Yc,[],r?function(m){const v={color:hi,string:Ot,number:He,enum:Ot,boolean:zt,formatted:se,padding:U,resolvedImage:H,variableAnchorOffsetCollection:Q};return m.type==="array"?le(v[m.value]||Ut,m.length):v[m.type]}(r):void 0),d=l.parse(s,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?tm(new od(d,r)):js(l.errors)}class sd{constructor(r,l){this.kind=r,this._styleExpression=l,this.isStateDependent=r!=="constant"&&!ql(l.expression)}evaluateWithoutErrorHandling(r,l,d,m,v,x){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,m,v,x)}evaluate(r,l,d,m,v,x){return this._styleExpression.evaluate(r,l,d,m,v,x)}}class lu{constructor(r,l,d,m){this.kind=r,this.zoomStops=d,this._styleExpression=l,this.isStateDependent=r!=="camera"&&!ql(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(r,l,d,m,v,x){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,m,v,x)}evaluate(r,l,d,m,v,x){return this._styleExpression.evaluate(r,l,d,m,v,x)}interpolationFactor(r,l,d){return this.interpolationType?qi.interpolationFactor(this.interpolationType,r,l,d):0}}function ad(s,r){const l=au(s,r);if(l.result==="error")return l;const d=l.value.expression,m=Jc(d);if(!m&&!nl(r))return js([new sn("","data expressions not supported")]);const v=Qc(d,["zoom"]);if(!v&&!nm(r))return js([new sn("","zoom expressions not supported")]);const x=Kl(d);return x||v?x instanceof sn?js([x]):x instanceof qi&&!id(r)?js([new sn("",'"interpolate" expressions cannot be used with this property')]):tm(x?new lu(m?"camera":"composite",l.value,x.labels,x instanceof qi?x.interpolation:void 0):new sd(m?"constant":"source",l.value)):js([new sn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Zl{constructor(r,l){this._parameters=r,this._specification=l,Fn(this,ln(this._parameters,this._specification))}static deserialize(r){return new Zl(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function Kl(s){let r=null;if(s instanceof nu)r=Kl(s.result);else if(s instanceof tu){for(const l of s.args)if(r=Kl(l),r)break}else(s instanceof Vs||s instanceof qi)&&s.input instanceof co&&s.input.name==="zoom"&&(r=s);return r instanceof sn||s.eachChild(l=>{const d=Kl(l);d instanceof sn?r=d:!r&&d?r=new sn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&d&&r!==d&&(r=new sn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}function Xl(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const r of s.slice(1))if(!Xl(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}const Sv={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ld(s){if(s==null)return{filter:()=>!0,needGeometry:!1};Xl(s)||(s=cu(s));const r=au(s,Sv);if(r.result==="error")throw new Error(r.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,d,m)=>r.value.evaluate(l,d,{},m),needGeometry:im(s)}}function Cv(s,r){return s<r?-1:s>r?1:0}function im(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let r=1;r<s.length;r++)if(im(s[r]))return!0;return!1}function cu(s){if(!s)return!0;const r=s[0];return s.length<=1?r!=="any":r==="=="?cd(s[1],s[2],"=="):r==="!="?Yl(cd(s[1],s[2],"==")):r==="<"||r===">"||r==="<="||r===">="?cd(s[1],s[2],r):r==="any"?(l=s.slice(1),["any"].concat(l.map(cu))):r==="all"?["all"].concat(s.slice(1).map(cu)):r==="none"?["all"].concat(s.slice(1).map(cu).map(Yl)):r==="in"?om(s[1],s.slice(2)):r==="!in"?Yl(om(s[1],s.slice(2))):r==="has"?sm(s[1]):r==="!has"?Yl(sm(s[1])):r!=="within"||s;var l}function cd(s,r,l){switch(s){case"$type":return[`filter-type-${l}`,r];case"$id":return[`filter-id-${l}`,r];default:return[`filter-${l}`,s,r]}}function om(s,r){if(r.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(l=>typeof l!=typeof r[0])?["filter-in-large",s,["literal",r.sort(Cv)]]:["filter-in-small",s,["literal",r]]}}function sm(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function Yl(s){return["!",s]}function uu(s){const r=typeof s;if(r==="number"||r==="boolean"||r==="string"||s==null)return JSON.stringify(s);if(Array.isArray(s)){let m="[";for(const v of s)m+=`${uu(v)},`;return`${m}]`}const l=Object.keys(s).sort();let d="{";for(let m=0;m<l.length;m++)d+=`${JSON.stringify(l[m])}:${uu(s[l[m]])},`;return`${d}}`}function hu(s){let r="";for(const l of Jt)r+=`/${uu(s[l])}`;return r}function am(s){const r=s.value;return r?[new Ze(s.key,r,"constants have been deprecated as of v8")]:[]}function sr(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function _a(s){if(Array.isArray(s))return s.map(_a);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const r={};for(const l in s)r[l]=_a(s[l]);return r}return sr(s)}function Ei(s){const r=s.key,l=s.value,d=s.valueSpec||{},m=s.objectElementValidators||{},v=s.style,x=s.styleSpec,S=s.validateSpec;let P=[];const M=_n(l);if(M!=="object")return[new Ze(r,l,`object expected, ${M} found`)];for(const D in l){const N=D.split(".")[0],W=d[N]||d["*"];let X;if(m[N])X=m[N];else if(d[N])X=S;else if(m["*"])X=m["*"];else{if(!d["*"]){P.push(new Ze(r,l[D],`unknown property "${D}"`));continue}X=S}P=P.concat(X({key:(r&&`${r}.`)+D,value:l[D],valueSpec:W,style:v,styleSpec:x,object:l,objectKey:D,validateSpec:S},l))}for(const D in d)m[D]||d[D].required&&d[D].default===void 0&&l[D]===void 0&&P.push(new Ze(r,l,`missing required property "${D}"`));return P}function rl(s){const r=s.value,l=s.valueSpec,d=s.style,m=s.styleSpec,v=s.key,x=s.arrayElementValidator||s.validateSpec;if(_n(r)!=="array")return[new Ze(v,r,`array expected, ${_n(r)} found`)];if(l.length&&r.length!==l.length)return[new Ze(v,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new Ze(v,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let S={type:l.value,values:l.values};m.$version<7&&(S.function=l.function),_n(l.value)==="object"&&(S=l.value);let P=[];for(let M=0;M<r.length;M++)P=P.concat(x({array:r,arrayIndex:M,value:r[M],valueSpec:S,validateSpec:s.validateSpec,style:d,styleSpec:m,key:`${v}[${M}]`}));return P}function Jl(s){const r=s.key,l=s.value,d=s.valueSpec;let m=_n(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new Ze(r,l,`number expected, ${m} found`)]:"minimum"in d&&l<d.minimum?[new Ze(r,l,`${l} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&l>d.maximum?[new Ze(r,l,`${l} is greater than the maximum value ${d.maximum}`)]:[]}function du(s){const r=s.valueSpec,l=sr(s.value.type);let d,m,v,x={};const S=l!=="categorical"&&s.value.property===void 0,P=!S,M=_n(s.value.stops)==="array"&&_n(s.value.stops[0])==="array"&&_n(s.value.stops[0][0])==="object",D=Ei({key:s.key,value:s.value,valueSpec:s.styleSpec.function,validateSpec:s.validateSpec,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(X){if(l==="identity")return[new Ze(X.key,X.value,'identity function may not have a "stops" property')];let Y=[];const te=X.value;return Y=Y.concat(rl({key:X.key,value:te,valueSpec:X.valueSpec,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,arrayElementValidator:N})),_n(te)==="array"&&te.length===0&&Y.push(new Ze(X.key,te,"array must have at least one stop")),Y},default:function(X){return X.validateSpec({key:X.key,value:X.value,valueSpec:r,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec})}}});return l==="identity"&&S&&D.push(new Ze(s.key,s.value,'missing required property "property"')),l==="identity"||s.value.stops||D.push(new Ze(s.key,s.value,'missing required property "stops"')),l==="exponential"&&s.valueSpec.expression&&!id(s.valueSpec)&&D.push(new Ze(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(P&&!nl(s.valueSpec)?D.push(new Ze(s.key,s.value,"property functions not supported")):S&&!nm(s.valueSpec)&&D.push(new Ze(s.key,s.value,"zoom functions not supported"))),l!=="categorical"&&!M||s.value.property!==void 0||D.push(new Ze(s.key,s.value,'"property" property is required')),D;function N(X){let Y=[];const te=X.value,ce=X.key;if(_n(te)!=="array")return[new Ze(ce,te,`array expected, ${_n(te)} found`)];if(te.length!==2)return[new Ze(ce,te,`array length 2 expected, length ${te.length} found`)];if(M){if(_n(te[0])!=="object")return[new Ze(ce,te,`object expected, ${_n(te[0])} found`)];if(te[0].zoom===void 0)return[new Ze(ce,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new Ze(ce,te,"object stop key must have value")];if(v&&v>sr(te[0].zoom))return[new Ze(ce,te[0].zoom,"stop zoom values must appear in ascending order")];sr(te[0].zoom)!==v&&(v=sr(te[0].zoom),m=void 0,x={}),Y=Y.concat(Ei({key:`${ce}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,objectElementValidators:{zoom:Jl,value:W}}))}else Y=Y.concat(W({key:`${ce}[0]`,value:te[0],valueSpec:{},validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec},te));return su(_a(te[1]))?Y.concat([new Ze(`${ce}[1]`,te[1],"expressions are not allowed in function stops.")]):Y.concat(X.validateSpec({key:`${ce}[1]`,value:te[1],valueSpec:r,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec}))}function W(X,Y){const te=_n(X.value),ce=sr(X.value),pe=X.value!==null?X.value:Y;if(d){if(te!==d)return[new Ze(X.key,pe,`${te} stop domain type must match previous stop domain type ${d}`)]}else d=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new Ze(X.key,pe,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&l!=="categorical"){let we=`number expected, ${te} found`;return nl(r)&&l===void 0&&(we+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ze(X.key,pe,we)]}return l!=="categorical"||te!=="number"||isFinite(ce)&&Math.floor(ce)===ce?l!=="categorical"&&te==="number"&&m!==void 0&&ce<m?[new Ze(X.key,pe,"stop domain values must appear in ascending order")]:(m=ce,l==="categorical"&&ce in x?[new Ze(X.key,pe,"stop domain values must be unique")]:(x[ce]=!0,[])):[new Ze(X.key,pe,`integer expected, found ${ce}`)]}}function xa(s){const r=(s.expressionContext==="property"?ad:au)(_a(s.value),s.valueSpec);if(r.result==="error")return r.value.map(d=>new Ze(`${s.key}${d.key}`,s.value,d.message));const l=r.value.expression||r.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!l.outputDefined())return[new Ze(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!ql(l))return[new Ze(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!ql(l))return[new Ze(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!Qc(l,["zoom","feature-state"]))return[new Ze(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!Jc(l))return[new Ze(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ql(s){const r=s.key,l=s.value,d=s.valueSpec,m=[];return Array.isArray(d.values)?d.values.indexOf(sr(l))===-1&&m.push(new Ze(r,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(d.values).indexOf(sr(l))===-1&&m.push(new Ze(r,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function il(s){return Xl(_a(s.value))?xa(Fn({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):lm(s)}function lm(s){const r=s.value,l=s.key;if(_n(r)!=="array")return[new Ze(l,r,`array expected, ${_n(r)} found`)];const d=s.styleSpec;let m,v=[];if(r.length<1)return[new Ze(l,r,"filter array must have at least 1 element")];switch(v=v.concat(Ql({key:`${l}[0]`,value:r[0],valueSpec:d.filter_operator,style:s.style,styleSpec:s.styleSpec})),sr(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&sr(r[1])==="$type"&&v.push(new Ze(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&v.push(new Ze(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(m=_n(r[1]),m!=="string"&&v.push(new Ze(`${l}[1]`,r[1],`string expected, ${m} found`)));for(let x=2;x<r.length;x++)m=_n(r[x]),sr(r[1])==="$type"?v=v.concat(Ql({key:`${l}[${x}]`,value:r[x],valueSpec:d.geometry_type,style:s.style,styleSpec:s.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&v.push(new Ze(`${l}[${x}]`,r[x],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let x=1;x<r.length;x++)v=v.concat(lm({key:`${l}[${x}]`,value:r[x],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":m=_n(r[1]),r.length!==2?v.push(new Ze(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="string"&&v.push(new Ze(`${l}[1]`,r[1],`string expected, ${m} found`));break;case"within":m=_n(r[1]),r.length!==2?v.push(new Ze(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="object"&&v.push(new Ze(`${l}[1]`,r[1],`object expected, ${m} found`))}return v}function cm(s,r){const l=s.key,d=s.validateSpec,m=s.style,v=s.styleSpec,x=s.value,S=s.objectKey,P=v[`${r}_${s.layerType}`];if(!P)return[];const M=S.match(/^(.*)-transition$/);if(r==="paint"&&M&&P[M[1]]&&P[M[1]].transition)return d({key:l,value:x,valueSpec:v.transition,style:m,styleSpec:v});const D=s.valueSpec||P[S];if(!D)return[new Ze(l,x,`unknown property "${S}"`)];let N;if(_n(x)==="string"&&nl(D)&&!D.tokens&&(N=/^{([^}]+)}$/.exec(x)))return[new Ze(l,x,`"${S}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const W=[];return s.layerType==="symbol"&&(S==="text-field"&&m&&!m.glyphs&&W.push(new Ze(l,x,'use of "text-field" requires a style "glyphs" property')),S==="text-font"&&Qn(_a(x))&&sr(x.type)==="identity"&&W.push(new Ze(l,x,'"text-font" does not support identity functions'))),W.concat(d({key:s.key,value:x,valueSpec:D,style:m,styleSpec:v,expressionContext:"property",propertyType:r,propertyKey:S}))}function um(s){return cm(s,"paint")}function hm(s){return cm(s,"layout")}function dm(s){let r=[];const l=s.value,d=s.key,m=s.style,v=s.styleSpec;l.type||l.ref||r.push(new Ze(d,l,'either "type" or "ref" is required'));let x=sr(l.type);const S=sr(l.ref);if(l.id){const P=sr(l.id);for(let M=0;M<s.arrayIndex;M++){const D=m.layers[M];sr(D.id)===P&&r.push(new Ze(d,l.id,`duplicate layer id "${l.id}", previously used at line ${D.id.__line__}`))}}if("ref"in l){let P;["type","source","source-layer","filter","layout"].forEach(M=>{M in l&&r.push(new Ze(d,l[M],`"${M}" is prohibited for ref layers`))}),m.layers.forEach(M=>{sr(M.id)===S&&(P=M)}),P?P.ref?r.push(new Ze(d,l.ref,"ref cannot reference another ref layer")):x=sr(P.type):r.push(new Ze(d,l.ref,`ref layer "${S}" not found`))}else if(x!=="background")if(l.source){const P=m.sources&&m.sources[l.source],M=P&&sr(P.type);P?M==="vector"&&x==="raster"?r.push(new Ze(d,l.source,`layer "${l.id}" requires a raster source`)):M!=="raster-dem"&&x==="hillshade"?r.push(new Ze(d,l.source,`layer "${l.id}" requires a raster-dem source`)):M==="raster"&&x!=="raster"?r.push(new Ze(d,l.source,`layer "${l.id}" requires a vector source`)):M!=="vector"||l["source-layer"]?M==="raster-dem"&&x!=="hillshade"?r.push(new Ze(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!l.paint||!l.paint["line-gradient"]||M==="geojson"&&P.lineMetrics||r.push(new Ze(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new Ze(d,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new Ze(d,l.source,`source "${l.source}" not found`))}else r.push(new Ze(d,l,'missing required property "source"'));return r=r.concat(Ei({key:d,value:l,valueSpec:v.layer,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,objectElementValidators:{"*":()=>[],type:()=>s.validateSpec({key:`${d}.type`,value:l.type,valueSpec:v.layer.type,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,object:l,objectKey:"type"}),filter:il,layout:P=>Ei({layer:l,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":M=>hm(Fn({layerType:x},M))}}),paint:P=>Ei({layer:l,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":M=>um(Fn({layerType:x},M))}})}})),r}function Uo(s){const r=s.value,l=s.key,d=_n(r);return d!=="string"?[new Ze(l,r,`string expected, ${d} found`)]:[]}const ec={promoteId:function({key:s,value:r}){if(_n(r)==="string")return Uo({key:s,value:r});{const l=[];for(const d in r)l.push(...Uo({key:`${s}.${d}`,value:r[d]}));return l}}};function Hi(s){const r=s.value,l=s.key,d=s.styleSpec,m=s.style,v=s.validateSpec;if(!r.type)return[new Ze(l,r,'"type" is required')];const x=sr(r.type);let S;switch(x){case"vector":case"raster":return S=Ei({key:l,value:r,valueSpec:d[`source_${x.replace("-","_")}`],style:s.style,styleSpec:d,objectElementValidators:ec,validateSpec:v}),S;case"raster-dem":return S=function(P){var M;const D=(M=P.sourceName)!==null&&M!==void 0?M:"",N=P.value,W=P.styleSpec,X=W.source_raster_dem,Y=P.style;let te=[];const ce=_n(N);if(N===void 0)return te;if(ce!=="object")return te.push(new Ze("source_raster_dem",N,`object expected, ${ce} found`)),te;const pe=sr(N.encoding)==="custom",we=["redFactor","greenFactor","blueFactor","baseShift"],ge=P.value.encoding?`"${P.value.encoding}"`:"Default";for(const Ce in N)!pe&&we.includes(Ce)?te.push(new Ze(Ce,N[Ce],`In "${D}": "${Ce}" is only valid when "encoding" is set to "custom". ${ge} encoding found`)):X[Ce]?te=te.concat(P.validateSpec({key:Ce,value:N[Ce],valueSpec:X[Ce],validateSpec:P.validateSpec,style:Y,styleSpec:W})):te.push(new Ze(Ce,N[Ce],`unknown property "${Ce}"`));return te}({sourceName:l,value:r,style:s.style,styleSpec:d,validateSpec:v}),S;case"geojson":if(S=Ei({key:l,value:r,valueSpec:d.source_geojson,style:m,styleSpec:d,validateSpec:v,objectElementValidators:ec}),r.cluster)for(const P in r.clusterProperties){const[M,D]=r.clusterProperties[P],N=typeof M=="string"?[M,["accumulated"],["get",P]]:M;S.push(...xa({key:`${l}.${P}.map`,value:D,validateSpec:v,expressionContext:"cluster-map"})),S.push(...xa({key:`${l}.${P}.reduce`,value:N,validateSpec:v,expressionContext:"cluster-reduce"}))}return S;case"video":return Ei({key:l,value:r,valueSpec:d.source_video,style:m,validateSpec:v,styleSpec:d});case"image":return Ei({key:l,value:r,valueSpec:d.source_image,style:m,validateSpec:v,styleSpec:d});case"canvas":return[new Ze(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ql({key:`${l}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,validateSpec:v,styleSpec:d})}}function tc(s){const r=s.value,l=s.styleSpec,d=l.light,m=s.style;let v=[];const x=_n(r);if(r===void 0)return v;if(x!=="object")return v=v.concat([new Ze("light",r,`object expected, ${x} found`)]),v;for(const S in r){const P=S.match(/^(.*)-transition$/);v=v.concat(P&&d[P[1]]&&d[P[1]].transition?s.validateSpec({key:S,value:r[S],valueSpec:l.transition,validateSpec:s.validateSpec,style:m,styleSpec:l}):d[S]?s.validateSpec({key:S,value:r[S],valueSpec:d[S],validateSpec:s.validateSpec,style:m,styleSpec:l}):[new Ze(S,r[S],`unknown property "${S}"`)])}return v}function pm(s){const r=s.value,l=s.styleSpec,d=l.terrain,m=s.style;let v=[];const x=_n(r);if(r===void 0)return v;if(x!=="object")return v=v.concat([new Ze("terrain",r,`object expected, ${x} found`)]),v;for(const S in r)v=v.concat(d[S]?s.validateSpec({key:S,value:r[S],valueSpec:d[S],validateSpec:s.validateSpec,style:m,styleSpec:l}):[new Ze(S,r[S],`unknown property "${S}"`)]);return v}function fm(s){let r=[];const l=s.value,d=s.key;if(Array.isArray(l)){const m=[],v=[];for(const x in l)l[x].id&&m.includes(l[x].id)&&r.push(new Ze(d,l,`all the sprites' ids must be unique, but ${l[x].id} is duplicated`)),m.push(l[x].id),l[x].url&&v.includes(l[x].url)&&r.push(new Ze(d,l,`all the sprites' URLs must be unique, but ${l[x].url} is duplicated`)),v.push(l[x].url),r=r.concat(Ei({key:`${d}[${x}]`,value:l[x],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:s.validateSpec}));return r}return Uo({key:d,value:l})}const mm={"*":()=>[],array:rl,boolean:function(s){const r=s.value,l=s.key,d=_n(r);return d!=="boolean"?[new Ze(l,r,`boolean expected, ${d} found`)]:[]},number:Jl,color:function(s){const r=s.key,l=s.value,d=_n(l);return d!=="string"?[new Ze(r,l,`color expected, ${d} found`)]:An.parse(String(l))?[]:[new Ze(r,l,`color expected, "${l}" found`)]},constants:am,enum:Ql,filter:il,function:du,layer:dm,object:Ei,source:Hi,light:tc,terrain:pm,string:Uo,formatted:function(s){return Uo(s).length===0?[]:xa(s)},resolvedImage:function(s){return Uo(s).length===0?[]:xa(s)},padding:function(s){const r=s.key,l=s.value;if(_n(l)==="array"){if(l.length<1||l.length>4)return[new Ze(r,l,`padding requires 1 to 4 values; ${l.length} values found`)];const d={type:"number"};let m=[];for(let v=0;v<l.length;v++)m=m.concat(s.validateSpec({key:`${r}[${v}]`,value:l[v],validateSpec:s.validateSpec,valueSpec:d}));return m}return Jl({key:r,value:l,valueSpec:{}})},variableAnchorOffsetCollection:function(s){const r=s.key,l=s.value,d=_n(l),m=s.styleSpec;if(d!=="array"||l.length<1||l.length%2!=0)return[new Ze(r,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let x=0;x<l.length;x+=2)v=v.concat(Ql({key:`${r}[${x}]`,value:l[x],valueSpec:m.layout_symbol["text-anchor"]})),v=v.concat(rl({key:`${r}[${x+1}]`,value:l[x+1],valueSpec:{length:2,value:"number"},validateSpec:s.validateSpec,style:s.style,styleSpec:m}));return v},sprite:fm};function ys(s){const r=s.value,l=s.valueSpec,d=s.styleSpec;return s.validateSpec=ys,l.expression&&Qn(sr(r))?du(s):l.expression&&su(_a(r))?xa(s):l.type&&mm[l.type]?mm[l.type](s):Ei(Fn({},s,{valueSpec:l.type?d[l.type]:l}))}function gm(s){const r=s.value,l=s.key,d=Uo(s);return d.length||(r.indexOf("{fontstack}")===-1&&d.push(new Ze(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&d.push(new Ze(l,r,'"glyphs" url must include a "{range}" token'))),d}function uo(s,r=Ie){let l=[];return l=l.concat(ys({key:"",value:s,valueSpec:r.$root,styleSpec:r,style:s,validateSpec:ys,objectElementValidators:{glyphs:gm,"*":()=>[]}})),s.constants&&(l=l.concat(am({key:"constants",value:s.constants,style:s,styleSpec:r,validateSpec:ys}))),pu(l)}function vs(s){return function(r){return s({...r,validateSpec:ys})}}function pu(s){return[].concat(s).sort((r,l)=>r.line-l.line)}function _s(s){return function(...r){return pu(s.apply(this,r))}}uo.source=_s(vs(Hi)),uo.sprite=_s(vs(fm)),uo.glyphs=_s(vs(gm)),uo.light=_s(vs(tc)),uo.terrain=_s(vs(pm)),uo.layer=_s(vs(dm)),uo.filter=_s(vs(il)),uo.paintProperty=_s(vs(um)),uo.layoutProperty=_s(vs(hm));const xs=uo,Tv=xs.light,ud=xs.paintProperty,ym=xs.layoutProperty;function fu(s,r){let l=!1;if(r&&r.length)for(const d of r)s.fire(new Sn(new Error(d.message))),l=!0;return l}class ol{constructor(r,l,d){const m=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;const x=new Int32Array(this.arrayBuffer);r=x[0],this.d=(l=x[1])+2*(d=x[2]);for(let P=0;P<this.d*this.d;P++){const M=x[3+P],D=x[3+P+1];m.push(M===D?null:x.subarray(M,D))}const S=x[3+m.length+1];this.keys=x.subarray(x[3+m.length],S),this.bboxes=x.subarray(S),this.insert=this._insertReadonly}else{this.d=l+2*d;for(let x=0;x<this.d*this.d;x++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=r,this.padding=d,this.scale=l/r,this.uid=0;const v=d/l*r;this.min=-v,this.max=r+v}insert(r,l,d,m,v){this._forEachCell(l,d,m,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(r),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(r,l,d,m,v,x){this.cells[v].push(x)}query(r,l,d,m,v){const x=this.min,S=this.max;if(r<=x&&l<=x&&S<=d&&S<=m&&!v)return Array.prototype.slice.call(this.keys);{const P=[];return this._forEachCell(r,l,d,m,this._queryCell,P,{},v),P}}_queryCell(r,l,d,m,v,x,S,P){const M=this.cells[v];if(M!==null){const D=this.keys,N=this.bboxes;for(let W=0;W<M.length;W++){const X=M[W];if(S[X]===void 0){const Y=4*X;(P?P(N[Y+0],N[Y+1],N[Y+2],N[Y+3]):r<=N[Y+2]&&l<=N[Y+3]&&d>=N[Y+0]&&m>=N[Y+1])?(S[X]=!0,x.push(D[X])):S[X]=!1}}}}_forEachCell(r,l,d,m,v,x,S,P){const M=this._convertToCellCoord(r),D=this._convertToCellCoord(l),N=this._convertToCellCoord(d),W=this._convertToCellCoord(m);for(let X=M;X<=N;X++)for(let Y=D;Y<=W;Y++){const te=this.d*Y+X;if((!P||P(this._convertFromCellCoord(X),this._convertFromCellCoord(Y),this._convertFromCellCoord(X+1),this._convertFromCellCoord(Y+1)))&&v.call(this,r,l,d,m,te,x,S,P))return}}_convertFromCellCoord(r){return(r-this.padding)/this.scale}_convertToCellCoord(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const r=this.cells,l=3+this.cells.length+1+1;let d=0;for(let x=0;x<this.cells.length;x++)d+=this.cells[x].length;const m=new Int32Array(l+d+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let v=l;for(let x=0;x<r.length;x++){const S=r[x];m[3+x]=v,m.set(S,v),v+=S.length}return m[3+r.length]=v,m.set(this.keys,v),v+=this.keys.length,m[3+r.length+1]=v,m.set(this.bboxes,v),v+=this.bboxes.length,m.buffer}static serialize(r,l){const d=r.toArrayBuffer();return l&&l.push(d),{buffer:d}}static deserialize(r){return new ol(r.buffer)}}const bs={};function ht(s,r,l={}){if(bs[s])throw new Error(`${s} is already registered.`);Object.defineProperty(r,"_classRegistryKey",{value:s,writeable:!1}),bs[s]={klass:r,omit:l.omit||[],shallow:l.shallow||[]}}ht("Object",Object),ht("TransferableGridIndex",ol),ht("Color",An),ht("Error",Error),ht("AJAXError",In),ht("ResolvedImage",Hr),ht("StylePropertyFunction",Zl),ht("StyleExpression",od,{omit:["_evaluator"]}),ht("ZoomDependentExpression",lu),ht("ZoomConstantExpression",sd),ht("CompoundExpression",co,{omit:["_evaluate"]});for(const s in tl)tl[s]._classRegistryKey||ht(`Expression_${s}`,tl[s]);function mu(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function Us(s,r){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob)return s;if(mu(s)||Re(s))return r&&r.push(s),s;if(ArrayBuffer.isView(s)){const l=s;return r&&r.push(l.buffer),l}if(s instanceof ImageData)return r&&r.push(s.data.buffer),s;if(Array.isArray(s)){const l=[];for(const d of s)l.push(Us(d,r));return l}if(typeof s=="object"){const l=s.constructor,d=l._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!bs[d])throw new Error(`${d} is not registered.`);const m=l.serialize?l.serialize(s,r):{};if(l.serialize){if(r&&m===r[r.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in s){if(!s.hasOwnProperty(v)||bs[d].omit.indexOf(v)>=0)continue;const x=s[v];m[v]=bs[d].shallow.indexOf(v)>=0?x:Us(x,r)}s instanceof Error&&(m.message=s.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(m.$name=d),m}throw new Error("can't serialize object of type "+typeof s)}function sl(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob||mu(s)||Re(s)||ArrayBuffer.isView(s)||s instanceof ImageData)return s;if(Array.isArray(s))return s.map(sl);if(typeof s=="object"){const r=s.$name||"Object";if(!bs[r])throw new Error(`can't deserialize unregistered class ${r}`);const{klass:l}=bs[r];if(!l)throw new Error(`can't deserialize unregistered class ${r}`);if(l.deserialize)return l.deserialize(s);const d=Object.create(l.prototype);for(const m of Object.keys(s)){if(m==="$name")continue;const v=s[m];d[m]=bs[r].shallow.indexOf(m)>=0?v:sl(v)}return d}throw new Error("can't deserialize object of type "+typeof s)}class vm{constructor(){this.first=!0}update(r,l){const d=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=d,!0))}}const at={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function hd(s){for(const r of s)if(pd(r.charCodeAt(0)))return!0;return!1}function dd(s){for(const r of s)if(!Ev(r.charCodeAt(0)))return!1;return!0}function Ev(s){return!(at.Arabic(s)||at["Arabic Supplement"](s)||at["Arabic Extended-A"](s)||at["Arabic Presentation Forms-A"](s)||at["Arabic Presentation Forms-B"](s))}function pd(s){return!(s!==746&&s!==747&&(s<4352||!(at["Bopomofo Extended"](s)||at.Bopomofo(s)||at["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||at["CJK Compatibility Ideographs"](s)||at["CJK Compatibility"](s)||at["CJK Radicals Supplement"](s)||at["CJK Strokes"](s)||!(!at["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||at["CJK Unified Ideographs Extension A"](s)||at["CJK Unified Ideographs"](s)||at["Enclosed CJK Letters and Months"](s)||at["Hangul Compatibility Jamo"](s)||at["Hangul Jamo Extended-A"](s)||at["Hangul Jamo Extended-B"](s)||at["Hangul Jamo"](s)||at["Hangul Syllables"](s)||at.Hiragana(s)||at["Ideographic Description Characters"](s)||at.Kanbun(s)||at["Kangxi Radicals"](s)||at["Katakana Phonetic Extensions"](s)||at.Katakana(s)&&s!==12540||!(!at["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!at["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||at["Unified Canadian Aboriginal Syllabics"](s)||at["Unified Canadian Aboriginal Syllabics Extended"](s)||at["Vertical Forms"](s)||at["Yijing Hexagram Symbols"](s)||at["Yi Syllables"](s)||at["Yi Radicals"](s))))}function _m(s){return!(pd(s)||function(r){return!!(at["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||at["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||at["Letterlike Symbols"](r)||at["Number Forms"](r)||at["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||at["Control Pictures"](r)&&r!==9251||at["Optical Character Recognition"](r)||at["Enclosed Alphanumerics"](r)||at["Geometric Shapes"](r)||at["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||at["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||at["CJK Symbols and Punctuation"](r)||at.Katakana(r)||at["Private Use Area"](r)||at["CJK Compatibility Forms"](r)||at["Small Form Variants"](r)||at["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(s))}function xm(s){return s>=1424&&s<=2303||at["Arabic Presentation Forms-A"](s)||at["Arabic Presentation Forms-B"](s)}function bm(s,r){return!(!r&&xm(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||at.Khmer(s))}function Pv(s){for(const r of s)if(xm(r.charCodeAt(0)))return!0;return!1}const fd="deferred",md="loading",gd="loaded";let yd=null,Pi="unavailable",Ws=null;const nc=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(Pi="error"),yd&&yd(s)};function vd(){rc.fire(new On("pluginStateChange",{pluginStatus:Pi,pluginURL:Ws}))}const rc=new Pn,_d=function(){return Pi},wm=function(){if(Pi!==fd||!Ws)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Pi=md,vd(),Ws&&$t({url:Ws},s=>{s?nc(s):(Pi=gd,vd())})},Zi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Pi===gd||Zi.applyArabicShaping!=null,isLoading:()=>Pi===md,setState(s){if(!Ye())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Pi=s.pluginStatus,Ws=s.pluginURL},isParsed(){if(!Ye())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Zi.applyArabicShaping!=null&&Zi.processBidirectionalText!=null&&Zi.processStyledBidirectionalText!=null},getPluginURL(){if(!Ye())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Ws}};class Un{constructor(r,l){this.zoom=r,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new vm,this.transition={})}isSupportedScript(r){return function(l,d){for(const m of l)if(!bm(m.charCodeAt(0),d))return!1;return!0}(r,Zi.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,l=r-Math.floor(r),d=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}}}class gu{constructor(r,l){this.property=r,this.value=l,this.expression=function(d,m){if(Qn(d))return new Zl(d,m);if(su(d)){const v=ad(d,m);if(v.result==="error")throw new Error(v.value.map(x=>`${x.key}: ${x.message}`).join(", "));return v.value}{let v=d;return m.type==="color"&&typeof d=="string"?v=An.parse(d):m.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(v=ao.parse(d)):v=Wi.parse(d),{kind:"constant",evaluate:()=>v}}}(l===void 0?r.specification.default:l,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,l,d){return this.property.possiblyEvaluate(this,r,l,d)}}class xd{constructor(r){this.property=r,this.value=new gu(r,void 0)}transitioned(r,l){return new Cm(this.property,this.value,l,me({},r.transition,this.transition),r.now)}untransitioned(){return new Cm(this.property,this.value,null,{},0)}}class Sm{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Le(this._values[r].value.value)}setValue(r,l){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new xd(this._values[r].property)),this._values[r].value=new gu(this._values[r].property,l===null?void 0:Le(l))}getTransition(r){return Le(this._values[r].transition)}setTransition(r,l){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new xd(this._values[r].property)),this._values[r].transition=Le(l)||void 0}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d);const m=this.getTransition(l);m!==void 0&&(r[`${l}-transition`]=m)}return r}transitioned(r,l){const d=new Tm(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(r,l._values[m]);return d}untransitioned(){const r=new Tm(this._properties);for(const l of Object.keys(this._values))r._values[l]=this._values[l].untransitioned();return r}}class Cm{constructor(r,l,d,m,v){this.property=r,this.value=l,this.begin=v+m.delay||0,this.end=this.begin+m.duration||0,r.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(r,l,d){const m=r.now||0,v=this.value.possiblyEvaluate(r,l,d),x=this.prior;if(x){if(m>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(m<this.begin)return x.possiblyEvaluate(r,l,d);{const S=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(r,l,d),v,function(P){if(P<=0)return 0;if(P>=1)return 1;const M=P*P,D=M*P;return 4*(P<.5?D:3*(P-M)+D-.75)}(S))}}return v}}class Tm{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,l,d){const m=new yu(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(r,l,d);return m}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class Av{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}hasValue(r){return this._values[r].value!==void 0}getValue(r){return Le(this._values[r].value)}setValue(r,l){this._values[r]=new gu(this._values[r].property,l===null?void 0:Le(l))}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d)}return r}possiblyEvaluate(r,l,d){const m=new yu(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(r,l,d);return m}}class di{constructor(r,l,d){this.property=r,this.value=l,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,l,d,m){return this.property.evaluate(this.value,this.parameters,r,l,d,m)}}class yu{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class bt{constructor(r){this.specification=r}possiblyEvaluate(r,l){if(r.isDataDriven())throw new Error("Value should not be data driven");return r.expression.evaluate(l)}interpolate(r,l,d){const m=Gi[this.specification.type];return m?m(r,l,d):r}}class kt{constructor(r,l){this.specification=r,this.overrides=l}possiblyEvaluate(r,l,d,m){return new di(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(l,null,{},d,m)}:r.expression,l)}interpolate(r,l,d){if(r.value.kind!=="constant"||l.value.kind!=="constant")return r;if(r.value.value===void 0||l.value.value===void 0)return new di(this,{kind:"constant",value:void 0},r.parameters);const m=Gi[this.specification.type];if(m){const v=m(r.value.value,l.value.value,d);return new di(this,{kind:"constant",value:v},r.parameters)}return r}evaluate(r,l,d,m,v,x){return r.kind==="constant"?r.value:r.evaluate(l,d,m,v,x)}}class ic extends kt{possiblyEvaluate(r,l,d,m){if(r.value===void 0)return new di(this,{kind:"constant",value:void 0},l);if(r.expression.kind==="constant"){const v=r.expression.evaluate(l,null,{},d,m),x=r.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,S=this._calculate(x,x,x,l);return new di(this,{kind:"constant",value:S},l)}if(r.expression.kind==="camera"){const v=this._calculate(r.expression.evaluate({zoom:l.zoom-1}),r.expression.evaluate({zoom:l.zoom}),r.expression.evaluate({zoom:l.zoom+1}),l);return new di(this,{kind:"constant",value:v},l)}return new di(this,r.expression,l)}evaluate(r,l,d,m,v,x){if(r.kind==="source"){const S=r.evaluate(l,d,m,v,x);return this._calculate(S,S,S,l)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(l.zoom)-1},d,m),r.evaluate({zoom:Math.floor(l.zoom)},d,m),r.evaluate({zoom:Math.floor(l.zoom)+1},d,m),l):r.value}_calculate(r,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:l}:{from:d,to:l}}interpolate(r){return r}}class bd{constructor(r){this.specification=r}possiblyEvaluate(r,l,d,m){if(r.value!==void 0){if(r.expression.kind==="constant"){const v=r.expression.evaluate(l,null,{},d,m);return this._calculate(v,v,v,l)}return this._calculate(r.expression.evaluate(new Un(Math.floor(l.zoom-1),l)),r.expression.evaluate(new Un(Math.floor(l.zoom),l)),r.expression.evaluate(new Un(Math.floor(l.zoom+1),l)),l)}}_calculate(r,l,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:l}:{from:d,to:l}}interpolate(r){return r}}class wd{constructor(r){this.specification=r}possiblyEvaluate(r,l,d,m){return!!r.expression.evaluate(l,null,{},d,m)}interpolate(){return!1}}class mr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in r){const d=r[l];d.specification.overridable&&this.overridableProperties.push(l);const m=this.defaultPropertyValues[l]=new gu(d,void 0),v=this.defaultTransitionablePropertyValues[l]=new xd(d);this.defaultTransitioningPropertyValues[l]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}ht("DataDrivenProperty",kt),ht("DataConstantProperty",bt),ht("CrossFadedDataDrivenProperty",ic),ht("CrossFadedProperty",bd),ht("ColorRampProperty",wd);const Sd="-transition";class ho extends Pn{constructor(r,l){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1},r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),l.layout&&(this._unevaluatedLayout=new Av(l.layout)),l.paint)){this._transitionablePaint=new Sm(l.paint);for(const d in r.paint)this.setPaintProperty(d,r.paint[d],{validate:!1});for(const d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new yu(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,l,d={}){l!=null&&this._validate(ym,`layers.${this.id}.layout.${r}`,r,l,d)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,l):this.visibility=l)}getPaintProperty(r){return r.endsWith(Sd)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,l,d={}){if(l!=null&&this._validate(ud,`layers.${this.id}.paint.${r}`,r,l,d))return!1;if(r.endsWith(Sd))return this._transitionablePaint.setTransition(r.slice(0,-11),l||void 0),!1;{const m=this._transitionablePaint._values[r],v=m.property.specification["property-type"]==="cross-faded-data-driven",x=m.value.isDataDriven(),S=m.value;this._transitionablePaint.setValue(r,l),this._handleSpecialPaintPropertyUpdate(r);const P=this._transitionablePaint._values[r].value;return P.isDataDriven()||x||v||this._handleOverridablePaintPropertyUpdate(r,S,P)}}_handleSpecialPaintPropertyUpdate(r){}_handleOverridablePaintPropertyUpdate(r,l,d){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,l){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,l)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),Te(r,(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}_validate(r,l,d,m,v={}){return(!v||v.validate!==!1)&&fu(this,r.call(xs,{key:l,layerType:this.type,objectKey:d,value:m,styleSpec:Ie,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const l=this.paint.get(r);if(l instanceof di&&nl(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}const Em={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ba{constructor(r,l){this._structArray=r,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ar{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,l){return r._trim(),l&&(r.isTransferred=!0,l.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const l=Object.create(this.prototype);return l.arrayBuffer=r.arrayBuffer,l.length=r.length,l.capacity=r.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function tr(s,r=1){let l=0,d=0;return{members:s.map(m=>{const v=Em[m.type].BYTES_PER_ELEMENT,x=l=al(l,Math.max(r,v)),S=m.components||1;return d=Math.max(d,v),l+=v*S,{name:m.name,type:m.type,components:S,offset:x}}),size:al(l,Math.max(d,r)),alignment:r}}function al(s,r){return Math.ceil(s/r)*r}class oc extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.int16[m+0]=l,this.int16[m+1]=d,r}}oc.prototype.bytesPerElement=4,ht("StructArrayLayout2i4",oc);class sc extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const v=3*r;return this.int16[v+0]=l,this.int16[v+1]=d,this.int16[v+2]=m,r}}sc.prototype.bytesPerElement=6,ht("StructArrayLayout3i6",sc);class wa extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,m)}emplace(r,l,d,m,v){const x=4*r;return this.int16[x+0]=l,this.int16[x+1]=d,this.int16[x+2]=m,this.int16[x+3]=v,r}}wa.prototype.bytesPerElement=8,ht("StructArrayLayout4i8",wa);class Cd extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,v,x)}emplace(r,l,d,m,v,x,S){const P=6*r;return this.int16[P+0]=l,this.int16[P+1]=d,this.int16[P+2]=m,this.int16[P+3]=v,this.int16[P+4]=x,this.int16[P+5]=S,r}}Cd.prototype.bytesPerElement=12,ht("StructArrayLayout2i4i12",Cd);class Td extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,v,x)}emplace(r,l,d,m,v,x,S){const P=4*r,M=8*r;return this.int16[P+0]=l,this.int16[P+1]=d,this.uint8[M+4]=m,this.uint8[M+5]=v,this.uint8[M+6]=x,this.uint8[M+7]=S,r}}Td.prototype.bytesPerElement=8,ht("StructArrayLayout2i4ub8",Td);class ll extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.float32[m+0]=l,this.float32[m+1]=d,r}}ll.prototype.bytesPerElement=8,ht("StructArrayLayout2f8",ll);class Ed extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x,S,P,M,D){const N=this.length;return this.resize(N+1),this.emplace(N,r,l,d,m,v,x,S,P,M,D)}emplace(r,l,d,m,v,x,S,P,M,D,N){const W=10*r;return this.uint16[W+0]=l,this.uint16[W+1]=d,this.uint16[W+2]=m,this.uint16[W+3]=v,this.uint16[W+4]=x,this.uint16[W+5]=S,this.uint16[W+6]=P,this.uint16[W+7]=M,this.uint16[W+8]=D,this.uint16[W+9]=N,r}}Ed.prototype.bytesPerElement=20,ht("StructArrayLayout10ui20",Ed);class Pd extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x,S,P,M,D,N,W){const X=this.length;return this.resize(X+1),this.emplace(X,r,l,d,m,v,x,S,P,M,D,N,W)}emplace(r,l,d,m,v,x,S,P,M,D,N,W,X){const Y=12*r;return this.int16[Y+0]=l,this.int16[Y+1]=d,this.int16[Y+2]=m,this.int16[Y+3]=v,this.uint16[Y+4]=x,this.uint16[Y+5]=S,this.uint16[Y+6]=P,this.uint16[Y+7]=M,this.int16[Y+8]=D,this.int16[Y+9]=N,this.int16[Y+10]=W,this.int16[Y+11]=X,r}}Pd.prototype.bytesPerElement=24,ht("StructArrayLayout4i4ui4i24",Pd);class xn extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const v=3*r;return this.float32[v+0]=l,this.float32[v+1]=d,this.float32[v+2]=m,r}}xn.prototype.bytesPerElement=12,ht("StructArrayLayout3f12",xn);class y extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint32[1*r+0]=l,r}}y.prototype.bytesPerElement=4,ht("StructArrayLayout1ul4",y);class i extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x,S,P,M){const D=this.length;return this.resize(D+1),this.emplace(D,r,l,d,m,v,x,S,P,M)}emplace(r,l,d,m,v,x,S,P,M,D){const N=10*r,W=5*r;return this.int16[N+0]=l,this.int16[N+1]=d,this.int16[N+2]=m,this.int16[N+3]=v,this.int16[N+4]=x,this.int16[N+5]=S,this.uint32[W+3]=P,this.uint16[N+8]=M,this.uint16[N+9]=D,r}}i.prototype.bytesPerElement=20,ht("StructArrayLayout6i1ul2ui20",i);class u extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,l,d,m,v,x)}emplace(r,l,d,m,v,x,S){const P=6*r;return this.int16[P+0]=l,this.int16[P+1]=d,this.int16[P+2]=m,this.int16[P+3]=v,this.int16[P+4]=x,this.int16[P+5]=S,r}}u.prototype.bytesPerElement=12,ht("StructArrayLayout2i2i2i12",u);class f extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v){const x=this.length;return this.resize(x+1),this.emplace(x,r,l,d,m,v)}emplace(r,l,d,m,v,x){const S=4*r,P=8*r;return this.float32[S+0]=l,this.float32[S+1]=d,this.float32[S+2]=m,this.int16[P+6]=v,this.int16[P+7]=x,r}}f.prototype.bytesPerElement=16,ht("StructArrayLayout2f1f2i16",f);class g extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,m)}emplace(r,l,d,m,v){const x=12*r,S=3*r;return this.uint8[x+0]=l,this.uint8[x+1]=d,this.float32[S+1]=m,this.float32[S+2]=v,r}}g.prototype.bytesPerElement=12,ht("StructArrayLayout2ub2f12",g);class _ extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const v=3*r;return this.uint16[v+0]=l,this.uint16[v+1]=d,this.uint16[v+2]=m,r}}_.prototype.bytesPerElement=6,ht("StructArrayLayout3ui6",_);class C extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe){const we=this.length;return this.resize(we+1),this.emplace(we,r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe)}emplace(r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe,we){const ge=24*r,Ce=12*r,Pe=48*r;return this.int16[ge+0]=l,this.int16[ge+1]=d,this.uint16[ge+2]=m,this.uint16[ge+3]=v,this.uint32[Ce+2]=x,this.uint32[Ce+3]=S,this.uint32[Ce+4]=P,this.uint16[ge+10]=M,this.uint16[ge+11]=D,this.uint16[ge+12]=N,this.float32[Ce+7]=W,this.float32[Ce+8]=X,this.uint8[Pe+36]=Y,this.uint8[Pe+37]=te,this.uint8[Pe+38]=ce,this.uint32[Ce+10]=pe,this.int16[ge+22]=we,r}}C.prototype.bytesPerElement=48,ht("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",C);class T extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe,we,ge,Ce,Pe,Ve,lt,yt,st,it,Qe,dt){const nt=this.length;return this.resize(nt+1),this.emplace(nt,r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe,we,ge,Ce,Pe,Ve,lt,yt,st,it,Qe,dt)}emplace(r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te,ce,pe,we,ge,Ce,Pe,Ve,lt,yt,st,it,Qe,dt,nt){const Xe=32*r,Tt=16*r;return this.int16[Xe+0]=l,this.int16[Xe+1]=d,this.int16[Xe+2]=m,this.int16[Xe+3]=v,this.int16[Xe+4]=x,this.int16[Xe+5]=S,this.int16[Xe+6]=P,this.int16[Xe+7]=M,this.uint16[Xe+8]=D,this.uint16[Xe+9]=N,this.uint16[Xe+10]=W,this.uint16[Xe+11]=X,this.uint16[Xe+12]=Y,this.uint16[Xe+13]=te,this.uint16[Xe+14]=ce,this.uint16[Xe+15]=pe,this.uint16[Xe+16]=we,this.uint16[Xe+17]=ge,this.uint16[Xe+18]=Ce,this.uint16[Xe+19]=Pe,this.uint16[Xe+20]=Ve,this.uint16[Xe+21]=lt,this.uint16[Xe+22]=yt,this.uint32[Tt+12]=st,this.float32[Tt+13]=it,this.float32[Tt+14]=Qe,this.uint16[Xe+30]=dt,this.uint16[Xe+31]=nt,r}}T.prototype.bytesPerElement=64,ht("StructArrayLayout8i15ui1ul2f2ui64",T);class k extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.float32[1*r+0]=l,r}}k.prototype.bytesPerElement=4,ht("StructArrayLayout1f4",k);class R extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const v=3*r;return this.uint16[6*r+0]=l,this.float32[v+1]=d,this.float32[v+2]=m,r}}R.prototype.bytesPerElement=12,ht("StructArrayLayout1ui2f12",R);class z extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,l,d)}emplace(r,l,d,m){const v=4*r;return this.uint32[2*r+0]=l,this.uint16[v+2]=d,this.uint16[v+3]=m,r}}z.prototype.bytesPerElement=8,ht("StructArrayLayout1ul2ui8",z);class O extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const m=2*r;return this.uint16[m+0]=l,this.uint16[m+1]=d,r}}O.prototype.bytesPerElement=4,ht("StructArrayLayout2ui4",O);class Z extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint16[1*r+0]=l,r}}Z.prototype.bytesPerElement=2,ht("StructArrayLayout1ui2",Z);class re extends ar{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,m)}emplace(r,l,d,m,v){const x=4*r;return this.float32[x+0]=l,this.float32[x+1]=d,this.float32[x+2]=m,this.float32[x+3]=v,r}}re.prototype.bytesPerElement=16,ht("StructArrayLayout4f16",re);class ne extends ba{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new I(this.anchorPointX,this.anchorPointY)}}ne.prototype.size=20;class ae extends i{get(r){return new ne(this,r)}}ht("CollisionBoxArray",ae);class ee extends ba{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(r){this._structArray.uint8[this._pos1+37]=r}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(r){this._structArray.uint8[this._pos1+38]=r}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(r){this._structArray.uint32[this._pos4+10]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ee.prototype.size=48;class _e extends C{get(r){return new ee(this,r)}}ht("PlacedSymbolArray",_e);class Ee extends ba{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(r){this._structArray.uint32[this._pos4+12]=r}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ee.prototype.size=64;class he extends T{get(r){return new Ee(this,r)}}ht("SymbolInstanceArray",he);class xe extends k{getoffsetX(r){return this.float32[1*r+0]}}ht("GlyphOffsetArray",xe);class Ae extends sc{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}ht("SymbolLineVertexArray",Ae);class Me extends ba{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Me.prototype.size=12;class Ne extends R{get(r){return new Me(this,r)}}ht("TextAnchorOffsetArray",Ne);class Ke extends ba{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ke.prototype.size=8;class We extends z{get(r){return new Ke(this,r)}}ht("FeatureIndexArray",We);class Je extends oc{}class gt extends oc{}class Qt extends oc{}class rt extends Cd{}class It extends Td{}class vt extends ll{}class kn extends Ed{}class Xt extends Pd{}class Wt extends xn{}class en extends y{}class ur extends u{}class $n extends g{}class Zr extends _{}class Ir extends O{}const gr=tr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ki}=gr;class Wn{constructor(r=[]){this.segments=r}prepareSegment(r,l,d,m){let v=this.segments[this.segments.length-1];return r>Wn.MAX_VERTEX_ARRAY_LENGTH&&qe(`Max vertices per segment is ${Wn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!v||v.vertexLength+r>Wn.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==m)&&(v={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},m!==void 0&&(v.sortKey=m),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const r of this.segments)for(const l in r.vaos)r.vaos[l].destroy()}static simpleSegment(r,l,d,m){return new Wn([{vertexOffset:r,primitiveOffset:l,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}function Wo(s,r){return 256*(s=de(Math.floor(s),0,255))+de(Math.floor(r),0,255)}Wn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ht("SegmentVector",Wn);const Go=tr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Gs={exports:{}},Sa={exports:{}};Sa.exports=function(s,r){var l,d,m,v,x,S,P,M;for(d=s.length-(l=3&s.length),m=r,x=3432918353,S=461845907,M=0;M<d;)P=255&s.charCodeAt(M)|(255&s.charCodeAt(++M))<<8|(255&s.charCodeAt(++M))<<16|(255&s.charCodeAt(++M))<<24,++M,m=27492+(65535&(v=5*(65535&(m=(m^=P=(65535&(P=(P=(65535&P)*x+(((P>>>16)*x&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(P=0,l){case 3:P^=(255&s.charCodeAt(M+2))<<16;case 2:P^=(255&s.charCodeAt(M+1))<<8;case 1:m^=P=(65535&(P=(P=(65535&(P^=255&s.charCodeAt(M)))*x+(((P>>>16)*x&65535)<<16)&4294967295)<<15|P>>>17))*S+(((P>>>16)*S&65535)<<16)&4294967295}return m^=s.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var cl=Sa.exports,ri={exports:{}};ri.exports=function(s,r){for(var l,d=s.length,m=r^d,v=0;d>=4;)l=1540483477*(65535&(l=255&s.charCodeAt(v)|(255&s.charCodeAt(++v))<<8|(255&s.charCodeAt(++v))<<16|(255&s.charCodeAt(++v))<<24))+((1540483477*(l>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:m^=(255&s.charCodeAt(v+2))<<16;case 2:m^=(255&s.charCodeAt(v+1))<<8;case 1:m=1540483477*(65535&(m^=255&s.charCodeAt(v)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Kr=cl,pi=ri.exports;Gs.exports=Kr,Gs.exports.murmur3=Kr,Gs.exports.murmur2=pi;var Ca=w(Gs.exports);class hr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,l,d,m){this.ids.push(Mr(r)),this.positions.push(l,d,m)}getPositions(r){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const l=Mr(r);let d=0,m=this.ids.length-1;for(;d<m;){const x=d+m>>1;this.ids[x]>=l?m=x:d=x+1}const v=[];for(;this.ids[d]===l;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(r,l){const d=new Float64Array(r.ids),m=new Uint32Array(r.positions);return Ai(d,m,0,d.length-1),l&&l.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(r){const l=new hr;return l.ids=r.ids,l.positions=r.positions,l.indexed=!0,l}}function Mr(s){const r=+s;return!isNaN(r)&&r<=Number.MAX_SAFE_INTEGER?r:Ca(String(s))}function Ai(s,r,l,d){for(;l<d;){const m=s[l+d>>1];let v=l-1,x=d+1;for(;;){do v++;while(s[v]<m);do x--;while(s[x]>m);if(v>=x)break;dr(s,v,x),dr(r,3*v,3*x),dr(r,3*v+1,3*x+1),dr(r,3*v+2,3*x+2)}x-l<d-x?(Ai(s,r,l,x),l=x+1):(Ai(s,r,x+1,d),d=x)}}function dr(s,r,l){const d=s[r];s[r]=s[l],s[l]=d}ht("FeaturePositionMap",hr);class Ta{constructor(r,l){this.gl=r.gl,this.location=l}}class vu extends Ta{constructor(r,l){super(r,l),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class Pm extends Ta{constructor(r,l){super(r,l),this.current=[0,0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))}}class Am extends Ta{constructor(r,l){super(r,l),this.current=An.transparent}set(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))}}const kv=new Float32Array(16);function Ad(s){return[Wo(255*s.r,255*s.g),Wo(255*s.b,255*s.a)]}class qo{constructor(r,l,d){this.value=r,this.uniformNames=l.map(m=>`u_${m}`),this.type=d}setUniform(r,l,d){r.set(d.constantOr(this.value))}getBinding(r,l,d){return this.type==="color"?new Am(r,l):new vu(r,l)}}class Ea{constructor(r,l){this.uniformNames=l.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=r.tlbr}setUniform(r,l,d,m){const v=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&r.set(v)}getBinding(r,l,d){return d.substr(0,9)==="u_pattern"?new Pm(r,l):new vu(r,l)}}class Ho{constructor(r,l,d,m){this.expression=r,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(v=>({name:`a_${v}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(r,l,d,m,v){const x=this.paintVertexArray.length,S=this.expression.evaluate(new Un(0),l,{},m,[],v);this.paintVertexArray.resize(r),this._setPaintValue(x,r,S)}updatePaintArray(r,l,d,m){const v=this.expression.evaluate({zoom:0},d,m);this._setPaintValue(r,l,v)}_setPaintValue(r,l,d){if(this.type==="color"){const m=Ad(d);for(let v=r;v<l;v++)this.paintVertexArray.emplace(v,m[0],m[1])}else{for(let m=r;m<l;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class po{constructor(r,l,d,m,v,x){this.expression=r,this.uniformNames=l.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=l.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(r,l,d,m,v){const x=this.expression.evaluate(new Un(this.zoom),l,{},m,[],v),S=this.expression.evaluate(new Un(this.zoom+1),l,{},m,[],v),P=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(P,r,x,S)}updatePaintArray(r,l,d,m){const v=this.expression.evaluate({zoom:this.zoom},d,m),x=this.expression.evaluate({zoom:this.zoom+1},d,m);this._setPaintValue(r,l,v,x)}_setPaintValue(r,l,d,m){if(this.type==="color"){const v=Ad(d),x=Ad(m);for(let S=r;S<l;S++)this.paintVertexArray.emplace(S,v[0],v[1],x[0],x[1])}else{for(let v=r;v<l;v++)this.paintVertexArray.emplace(v,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,l){const d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=de(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);r.set(m)}getBinding(r,l,d){return new vu(r,l)}}class Zo{constructor(r,l,d,m,v,x){this.expression=r,this.type=l,this.useIntegerZoom=d,this.zoom=m,this.layerId=x,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(r,l,d){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(m,r,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(r,l,d,m,v){this._setPaintValues(r,l,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(r,l,d,m){if(!m||!d)return;const{min:v,mid:x,max:S}=d,P=m[v],M=m[x],D=m[S];if(P&&M&&D)for(let N=r;N<l;N++)this.zoomInPaintVertexArray.emplace(N,M.tl[0],M.tl[1],M.br[0],M.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],M.pixelRatio,P.pixelRatio),this.zoomOutPaintVertexArray.emplace(N,M.tl[0],M.tl[1],M.br[0],M.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],M.pixelRatio,D.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Go.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Go.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class kd{constructor(r,l,d){this.binders={},this._buffers=[];const m=[];for(const v in r.paint._values){if(!d(v))continue;const x=r.paint.get(v);if(!(x instanceof di&&nl(x.property.specification)))continue;const S=kD(v,r.type),P=x.value,M=x.property.specification.type,D=x.property.useIntegerZoom,N=x.property.specification["property-type"],W=N==="cross-faded"||N==="cross-faded-data-driven";if(P.kind==="constant")this.binders[v]=W?new Ea(P.value,S):new qo(P.value,S,M),m.push(`/u_${v}`);else if(P.kind==="source"||W){const X=US(v,M,"source");this.binders[v]=W?new Zo(P,M,D,l,X,r.id):new Ho(P,S,M,X),m.push(`/a_${v}`)}else{const X=US(v,M,"composite");this.binders[v]=new po(P,S,M,D,l,X),m.push(`/z_${v}`)}}this.cacheKey=m.sort().join("")}getMaxValue(r){const l=this.binders[r];return l instanceof Ho||l instanceof po?l.maxValue:0}populatePaintArrays(r,l,d,m,v){for(const x in this.binders){const S=this.binders[x];(S instanceof Ho||S instanceof po||S instanceof Zo)&&S.populatePaintArray(r,l,d,m,v)}}setConstantPatternPositions(r,l){for(const d in this.binders){const m=this.binders[d];m instanceof Ea&&m.setConstantPatternPositions(r,l)}}updatePaintArrays(r,l,d,m,v){let x=!1;for(const S in r){const P=l.getPositions(S);for(const M of P){const D=d.feature(M.index);for(const N in this.binders){const W=this.binders[N];if((W instanceof Ho||W instanceof po||W instanceof Zo)&&W.expression.isStateDependent===!0){const X=m.paint.get(N);W.expression=X.value,W.updatePaintArray(M.start,M.end,D,r[S],v),x=!0}}}}return x}defines(){const r=[];for(const l in this.binders){const d=this.binders[l];(d instanceof qo||d instanceof Ea)&&r.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return r}getBinderAttributes(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Ho||d instanceof po)for(let m=0;m<d.paintVertexAttributes.length;m++)r.push(d.paintVertexAttributes[m].name);else if(d instanceof Zo)for(let m=0;m<Go.members.length;m++)r.push(Go.members[m].name)}return r}getBinderUniforms(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof qo||d instanceof Ea||d instanceof po)for(const m of d.uniformNames)r.push(m)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r,l){const d=[];for(const m in this.binders){const v=this.binders[m];if(v instanceof qo||v instanceof Ea||v instanceof po){for(const x of v.uniformNames)if(l[x]){const S=v.getBinding(r,l[x],x);d.push({name:x,property:m,binding:S})}}}return d}setUniforms(r,l,d,m){for(const{name:v,property:x,binding:S}of l)this.binders[x].setUniform(S,m,d.get(x),v)}updatePaintBuffers(r){this._buffers=[];for(const l in this.binders){const d=this.binders[l];if(r&&d instanceof Zo){const m=r.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof Ho||d instanceof po)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(r){for(const l in this.binders){const d=this.binders[l];(d instanceof Ho||d instanceof po||d instanceof Zo)&&d.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const l=this.binders[r];(l instanceof Ho||l instanceof po||l instanceof Zo)&&l.destroy()}}}class ws{constructor(r,l,d=()=>!0){this.programConfigurations={};for(const m of r)this.programConfigurations[m.id]=new kd(m,l,d);this.needsUpload=!1,this._featureMap=new hr,this._bufferOffset=0}populatePaintArrays(r,l,d,m,v,x){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(r,l,m,v,x);l.id!==void 0&&this._featureMap.add(l.id,d,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,l,d,m){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(r,this._featureMap,l,v,m)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}function kD(s,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(`${r}-`,"").replace(/-/g,"_")]}function US(s,r,l){const d={color:{source:ll,composite:re},number:{source:k,composite:ll}},m=function(v){return{"line-pattern":{source:kn,composite:kn},"fill-pattern":{source:kn,composite:kn},"fill-extrusion-pattern":{source:kn,composite:kn}}[v]}(s);return m&&m[l]||d[r][l]}ht("ConstantBinder",qo),ht("CrossFadedConstantBinder",Ea),ht("SourceExpressionBinder",Ho),ht("CrossFadedCompositeBinder",Zo),ht("CompositeExpressionBinder",po),ht("ProgramConfiguration",kd,{omit:["_buffers"]}),ht("ProgramConfigurationSet",ws);const Cr=8192,Iv=Math.pow(2,14)-1,WS=-Iv-1;function ac(s){const r=Cr/s.extent,l=s.loadGeometry();for(let d=0;d<l.length;d++){const m=l[d];for(let v=0;v<m.length;v++){const x=m[v],S=Math.round(x.x*r),P=Math.round(x.y*r);x.x=de(S,WS,Iv),x.y=de(P,WS,Iv),(S<x.x||S>x.x+1||P<x.y||P>x.y+1)&&qe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function lc(s,r){return{type:s.type,id:s.id,properties:s.properties,geometry:r?ac(s):[]}}function km(s,r,l,d,m){s.emplaceBack(2*r+(d+1)/2,2*l+(m+1)/2)}class Mv{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new gt,this.indexArray=new Zr,this.segments=new Wn,this.programConfigurations=new ws(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){const m=this.layers[0],v=[];let x=null,S=!1;m.type==="circle"&&(x=m.layout.get("circle-sort-key"),S=!x.isConstant());for(const{feature:P,id:M,index:D,sourceLayerIndex:N}of r){const W=this.layers[0]._featureFilter.needGeometry,X=lc(P,W);if(!this.layers[0]._featureFilter.filter(new Un(this.zoom),X,d))continue;const Y=S?x.evaluate(X,{},d):void 0,te={id:M,properties:P.properties,type:P.type,sourceLayerIndex:N,index:D,geometry:W?X.geometry:ac(P),patterns:{},sortKey:Y};v.push(te)}S&&v.sort((P,M)=>P.sortKey-M.sortKey);for(const P of v){const{geometry:M,index:D,sourceLayerIndex:N}=P,W=r[D].feature;this.addFeature(P,M,D,d),l.featureIndex.insert(W,M,D,N,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ki),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,l,d,m){for(const v of l)for(const x of v){const S=x.x,P=x.y;if(S<0||S>=Cr||P<0||P>=Cr)continue;const M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),D=M.vertexLength;km(this.layoutVertexArray,S,P,-1,-1),km(this.layoutVertexArray,S,P,1,-1),km(this.layoutVertexArray,S,P,1,1),km(this.layoutVertexArray,S,P,-1,1),this.indexArray.emplaceBack(D,D+1,D+2),this.indexArray.emplaceBack(D,D+3,D+2),M.vertexLength+=4,M.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,{},m)}}function GS(s,r){for(let l=0;l<s.length;l++)if(_u(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(_u(s,r[l]))return!0;return!!Rv(s,r)}function ID(s,r,l){return!!_u(s,r)||!!Lv(r,s,l)}function qS(s,r){if(s.length===1)return ZS(r,s[0]);for(let l=0;l<r.length;l++){const d=r[l];for(let m=0;m<d.length;m++)if(_u(s,d[m]))return!0}for(let l=0;l<s.length;l++)if(ZS(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(Rv(s,r[l]))return!0;return!1}function MD(s,r,l){if(s.length>1){if(Rv(s,r))return!0;for(let d=0;d<r.length;d++)if(Lv(r[d],s,l))return!0}for(let d=0;d<s.length;d++)if(Lv(s[d],r,l))return!0;return!1}function Rv(s,r){if(s.length===0||r.length===0)return!1;for(let l=0;l<s.length-1;l++){const d=s[l],m=s[l+1];for(let v=0;v<r.length-1;v++)if(RD(d,m,r[v],r[v+1]))return!0}return!1}function RD(s,r,l,d){return Oe(s,l,d)!==Oe(r,l,d)&&Oe(s,r,l)!==Oe(s,r,d)}function Lv(s,r,l){const d=l*l;if(r.length===1)return s.distSqr(r[0])<d;for(let m=1;m<r.length;m++)if(HS(s,r[m-1],r[m])<d)return!0;return!1}function HS(s,r,l){const d=r.distSqr(l);if(d===0)return s.distSqr(r);const m=((s.x-r.x)*(l.x-r.x)+(s.y-r.y)*(l.y-r.y))/d;return s.distSqr(m<0?r:m>1?l:l.sub(r)._mult(m)._add(r))}function ZS(s,r){let l,d,m,v=!1;for(let x=0;x<s.length;x++){l=s[x];for(let S=0,P=l.length-1;S<l.length;P=S++)d=l[S],m=l[P],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(v=!v)}return v}function _u(s,r){let l=!1;for(let d=0,m=s.length-1;d<s.length;m=d++){const v=s[d],x=s[m];v.y>r.y!=x.y>r.y&&r.x<(x.x-v.x)*(r.y-v.y)/(x.y-v.y)+v.x&&(l=!l)}return l}function LD(s,r,l){const d=l[0],m=l[2];if(s.x<d.x&&r.x<d.x||s.x>m.x&&r.x>m.x||s.y<d.y&&r.y<d.y||s.y>m.y&&r.y>m.y)return!1;const v=Oe(s,r,l[0]);return v!==Oe(s,r,l[1])||v!==Oe(s,r,l[2])||v!==Oe(s,r,l[3])}function Id(s,r,l){const d=r.paint.get(s).value;return d.kind==="constant"?d.value:l.programConfigurations.get(r.id).getMaxValue(s)}function Im(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Mm(s,r,l,d,m){if(!r[0]&&!r[1])return s;const v=I.convert(r)._mult(m);l==="viewport"&&v._rotate(-d);const x=[];for(let S=0;S<s.length;S++)x.push(s[S].sub(v));return x}let KS,XS;ht("CircleBucket",Mv,{omit:["layers"]});var DD={get paint(){return XS=XS||new mr({"circle-radius":new kt(Ie.paint_circle["circle-radius"]),"circle-color":new kt(Ie.paint_circle["circle-color"]),"circle-blur":new kt(Ie.paint_circle["circle-blur"]),"circle-opacity":new kt(Ie.paint_circle["circle-opacity"]),"circle-translate":new bt(Ie.paint_circle["circle-translate"]),"circle-translate-anchor":new bt(Ie.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new bt(Ie.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new bt(Ie.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kt(Ie.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kt(Ie.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kt(Ie.paint_circle["circle-stroke-opacity"])})},get layout(){return KS=KS||new mr({"circle-sort-key":new kt(Ie.layout_circle["circle-sort-key"])})}},ki=1e-6,xu=typeof Float32Array<"u"?Float32Array:Array;function Dv(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function YS(s,r,l){var d=r[0],m=r[1],v=r[2],x=r[3],S=r[4],P=r[5],M=r[6],D=r[7],N=r[8],W=r[9],X=r[10],Y=r[11],te=r[12],ce=r[13],pe=r[14],we=r[15],ge=l[0],Ce=l[1],Pe=l[2],Ve=l[3];return s[0]=ge*d+Ce*S+Pe*N+Ve*te,s[1]=ge*m+Ce*P+Pe*W+Ve*ce,s[2]=ge*v+Ce*M+Pe*X+Ve*pe,s[3]=ge*x+Ce*D+Pe*Y+Ve*we,s[4]=(ge=l[4])*d+(Ce=l[5])*S+(Pe=l[6])*N+(Ve=l[7])*te,s[5]=ge*m+Ce*P+Pe*W+Ve*ce,s[6]=ge*v+Ce*M+Pe*X+Ve*pe,s[7]=ge*x+Ce*D+Pe*Y+Ve*we,s[8]=(ge=l[8])*d+(Ce=l[9])*S+(Pe=l[10])*N+(Ve=l[11])*te,s[9]=ge*m+Ce*P+Pe*W+Ve*ce,s[10]=ge*v+Ce*M+Pe*X+Ve*pe,s[11]=ge*x+Ce*D+Pe*Y+Ve*we,s[12]=(ge=l[12])*d+(Ce=l[13])*S+(Pe=l[14])*N+(Ve=l[15])*te,s[13]=ge*m+Ce*P+Pe*W+Ve*ce,s[14]=ge*v+Ce*M+Pe*X+Ve*pe,s[15]=ge*x+Ce*D+Pe*Y+Ve*we,s}Math.hypot||(Math.hypot=function(){for(var s=0,r=arguments.length;r--;)s+=arguments[r]*arguments[r];return Math.sqrt(s)});var Md,zD=YS;function Rm(s,r,l){var d=r[0],m=r[1],v=r[2],x=r[3];return s[0]=l[0]*d+l[4]*m+l[8]*v+l[12]*x,s[1]=l[1]*d+l[5]*m+l[9]*v+l[13]*x,s[2]=l[2]*d+l[6]*m+l[10]*v+l[14]*x,s[3]=l[3]*d+l[7]*m+l[11]*v+l[15]*x,s}Md=new xu(4),xu!=Float32Array&&(Md[0]=0,Md[1]=0,Md[2]=0,Md[3]=0);class BD extends ho{constructor(r){super(r,DD)}createBucket(r){return new Mv(r)}queryRadius(r){const l=r;return Id("circle-radius",this,l)+Id("circle-stroke-width",this,l)+Im(this.paint.get("circle-translate"))}queryIntersectsFeature(r,l,d,m,v,x,S,P){const M=Mm(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,S),D=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),N=this.paint.get("circle-pitch-alignment")==="map",W=N?M:function(Y,te){return Y.map(ce=>JS(ce,te))}(M,P),X=N?D*S:D;for(const Y of m)for(const te of Y){const ce=N?te:JS(te,P);let pe=X;const we=Rm([],[te.x,te.y,0,1],P);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pe*=we[3]/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pe*=x.cameraToCenterDistance/we[3]),ID(W,ce,pe))return!0}return!1}}function JS(s,r){const l=Rm([],[s.x,s.y,0,1],r);return new I(l[0]/l[3],l[1]/l[3])}class QS extends Mv{}let e2;ht("HeatmapBucket",QS,{omit:["layers"]});var OD={get paint(){return e2=e2||new mr({"heatmap-radius":new kt(Ie.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kt(Ie.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new bt(Ie.paint_heatmap["heatmap-intensity"]),"heatmap-color":new wd(Ie.paint_heatmap["heatmap-color"]),"heatmap-opacity":new bt(Ie.paint_heatmap["heatmap-opacity"])})}};function zv(s,{width:r,height:l},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==r*l*d)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${r*l*d}`)}else m=new Uint8Array(r*l*d);return s.width=r,s.height=l,s.data=m,s}function t2(s,{width:r,height:l},d){if(r===s.width&&l===s.height)return;const m=zv({},{width:r,height:l},d);Bv(s,m,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,r),height:Math.min(s.height,l)},d),s.width=r,s.height=l,s.data=m.data}function Bv(s,r,l,d,m,v){if(m.width===0||m.height===0)return r;if(m.width>s.width||m.height>s.height||l.x>s.width-m.width||l.y>s.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>r.width||m.height>r.height||d.x>r.width-m.width||d.y>r.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const x=s.data,S=r.data;if(x===S)throw new Error("srcData equals dstData, so image is already copied");for(let P=0;P<m.height;P++){const M=((l.y+P)*s.width+l.x)*v,D=((d.y+P)*r.width+d.x)*v;for(let N=0;N<m.width*v;N++)S[D+N]=x[M+N]}return r}class Rd{constructor(r,l){zv(this,r,1,l)}resize(r){t2(this,r,1)}clone(){return new Rd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,m,v){Bv(r,l,d,m,v,1)}}class Co{constructor(r,l){zv(this,r,4,l)}resize(r){t2(this,r,4)}replace(r,l){l?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new Co({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,m,v){Bv(r,l,d,m,v,4)}}function n2(s){const r={},l=s.resolution||256,d=s.clips?s.clips.length:1,m=s.image||new Co({width:l,height:d});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);const v=(x,S,P)=>{r[s.evaluationKey]=P;const M=s.expression.evaluate(r);m.data[x+S+0]=Math.floor(255*M.r/M.a),m.data[x+S+1]=Math.floor(255*M.g/M.a),m.data[x+S+2]=Math.floor(255*M.b/M.a),m.data[x+S+3]=Math.floor(255*M.a)};if(s.clips)for(let x=0,S=0;x<d;++x,S+=4*l)for(let P=0,M=0;P<l;P++,M+=4){const D=P/(l-1),{start:N,end:W}=s.clips[x];v(S,M,N*(1-D)+W*D)}else for(let x=0,S=0;x<l;x++,S+=4)v(0,S,x/(l-1));return m}ht("AlphaImage",Rd),ht("RGBAImage",Co);class FD extends ho{createBucket(r){return new QS(r)}constructor(r){super(r,OD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=n2({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let r2;var ND={get paint(){return r2=r2||new mr({"hillshade-illumination-direction":new bt(Ie.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new bt(Ie.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new bt(Ie.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new bt(Ie.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new bt(Ie.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new bt(Ie.paint_hillshade["hillshade-accent-color"])})}};class $D extends ho{constructor(r){super(r,ND)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const VD=tr([{name:"a_pos",components:2,type:"Int16"}],4),{members:jD}=VD;var Ov={exports:{}};function Lm(s,r,l){l=l||2;var d,m,v,x,S,P,M,D=r&&r.length,N=D?r[0]*l:s.length,W=i2(s,0,N,l,!0),X=[];if(!W||W.next===W.prev)return X;if(D&&(W=function(te,ce,pe,we){var ge,Ce,Pe,Ve=[];for(ge=0,Ce=ce.length;ge<Ce;ge++)(Pe=i2(te,ce[ge]*we,ge<Ce-1?ce[ge+1]*we:te.length,we,!1))===Pe.next&&(Pe.steiner=!0),Ve.push(XD(Pe));for(Ve.sort(HD),ge=0;ge<Ve.length;ge++)pe=ZD(Ve[ge],pe);return pe}(s,r,W,l)),s.length>80*l){d=v=s[0],m=x=s[1];for(var Y=l;Y<N;Y+=l)(S=s[Y])<d&&(d=S),(P=s[Y+1])<m&&(m=P),S>v&&(v=S),P>x&&(x=P);M=(M=Math.max(v-d,x-m))!==0?32767/M:0}return Ld(W,X,l,d,m,M,0),X}function i2(s,r,l,d,m){var v,x;if(m===$v(s,r,l,d)>0)for(v=r;v<l;v+=d)x=a2(v,s[v],s[v+1],x);else for(v=l-d;v>=r;v-=d)x=a2(v,s[v],s[v+1],x);return x&&Dm(x,x.next)&&(zd(x),x=x.next),x}function cc(s,r){if(!s)return s;r||(r=s);var l,d=s;do if(l=!1,d.steiner||!Dm(d,d.next)&&yr(d.prev,d,d.next)!==0)d=d.next;else{if(zd(d),(d=r=d.prev)===d.next)break;l=!0}while(l||d!==r);return r}function Ld(s,r,l,d,m,v,x){if(s){!x&&v&&function(D,N,W,X){var Y=D;do Y.z===0&&(Y.z=Fv(Y.x,Y.y,N,W,X)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==D);Y.prevZ.nextZ=null,Y.prevZ=null,function(te){var ce,pe,we,ge,Ce,Pe,Ve,lt,yt=1;do{for(pe=te,te=null,Ce=null,Pe=0;pe;){for(Pe++,we=pe,Ve=0,ce=0;ce<yt&&(Ve++,we=we.nextZ);ce++);for(lt=yt;Ve>0||lt>0&&we;)Ve!==0&&(lt===0||!we||pe.z<=we.z)?(ge=pe,pe=pe.nextZ,Ve--):(ge=we,we=we.nextZ,lt--),Ce?Ce.nextZ=ge:te=ge,ge.prevZ=Ce,Ce=ge;pe=we}Ce.nextZ=null,yt*=2}while(Pe>1)}(Y)}(s,d,m,v);for(var S,P,M=s;s.prev!==s.next;)if(S=s.prev,P=s.next,v?WD(s,d,m,v):UD(s))r.push(S.i/l|0),r.push(s.i/l|0),r.push(P.i/l|0),zd(s),s=P.next,M=P.next;else if((s=P)===M){x?x===1?Ld(s=GD(cc(s),r,l),r,l,d,m,v,2):x===2&&qD(s,r,l,d,m,v):Ld(cc(s),r,l,d,m,v,1);break}}}function UD(s){var r=s.prev,l=s,d=s.next;if(yr(r,l,d)>=0)return!1;for(var m=r.x,v=l.x,x=d.x,S=r.y,P=l.y,M=d.y,D=m<v?m<x?m:x:v<x?v:x,N=S<P?S<M?S:M:P<M?P:M,W=m>v?m>x?m:x:v>x?v:x,X=S>P?S>M?S:M:P>M?P:M,Y=d.next;Y!==r;){if(Y.x>=D&&Y.x<=W&&Y.y>=N&&Y.y<=X&&bu(m,S,v,P,x,M,Y.x,Y.y)&&yr(Y.prev,Y,Y.next)>=0)return!1;Y=Y.next}return!0}function WD(s,r,l,d){var m=s.prev,v=s,x=s.next;if(yr(m,v,x)>=0)return!1;for(var S=m.x,P=v.x,M=x.x,D=m.y,N=v.y,W=x.y,X=S<P?S<M?S:M:P<M?P:M,Y=D<N?D<W?D:W:N<W?N:W,te=S>P?S>M?S:M:P>M?P:M,ce=D>N?D>W?D:W:N>W?N:W,pe=Fv(X,Y,r,l,d),we=Fv(te,ce,r,l,d),ge=s.prevZ,Ce=s.nextZ;ge&&ge.z>=pe&&Ce&&Ce.z<=we;){if(ge.x>=X&&ge.x<=te&&ge.y>=Y&&ge.y<=ce&&ge!==m&&ge!==x&&bu(S,D,P,N,M,W,ge.x,ge.y)&&yr(ge.prev,ge,ge.next)>=0||(ge=ge.prevZ,Ce.x>=X&&Ce.x<=te&&Ce.y>=Y&&Ce.y<=ce&&Ce!==m&&Ce!==x&&bu(S,D,P,N,M,W,Ce.x,Ce.y)&&yr(Ce.prev,Ce,Ce.next)>=0))return!1;Ce=Ce.nextZ}for(;ge&&ge.z>=pe;){if(ge.x>=X&&ge.x<=te&&ge.y>=Y&&ge.y<=ce&&ge!==m&&ge!==x&&bu(S,D,P,N,M,W,ge.x,ge.y)&&yr(ge.prev,ge,ge.next)>=0)return!1;ge=ge.prevZ}for(;Ce&&Ce.z<=we;){if(Ce.x>=X&&Ce.x<=te&&Ce.y>=Y&&Ce.y<=ce&&Ce!==m&&Ce!==x&&bu(S,D,P,N,M,W,Ce.x,Ce.y)&&yr(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.nextZ}return!0}function GD(s,r,l){var d=s;do{var m=d.prev,v=d.next.next;!Dm(m,v)&&o2(m,d,d.next,v)&&Dd(m,v)&&Dd(v,m)&&(r.push(m.i/l|0),r.push(d.i/l|0),r.push(v.i/l|0),zd(d),zd(d.next),d=s=v),d=d.next}while(d!==s);return cc(d)}function qD(s,r,l,d,m,v){var x=s;do{for(var S=x.next.next;S!==x.prev;){if(x.i!==S.i&&YD(x,S)){var P=s2(x,S);return x=cc(x,x.next),P=cc(P,P.next),Ld(x,r,l,d,m,v,0),void Ld(P,r,l,d,m,v,0)}S=S.next}x=x.next}while(x!==s)}function HD(s,r){return s.x-r.x}function ZD(s,r){var l=function(m,v){var x,S=v,P=m.x,M=m.y,D=-1/0;do{if(M<=S.y&&M>=S.next.y&&S.next.y!==S.y){var N=S.x+(M-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(N<=P&&N>D&&(D=N,x=S.x<S.next.x?S:S.next,N===P))return x}S=S.next}while(S!==v);if(!x)return null;var W,X=x,Y=x.x,te=x.y,ce=1/0;S=x;do P>=S.x&&S.x>=Y&&P!==S.x&&bu(M<te?P:D,M,Y,te,M<te?D:P,M,S.x,S.y)&&(W=Math.abs(M-S.y)/(P-S.x),Dd(S,m)&&(W<ce||W===ce&&(S.x>x.x||S.x===x.x&&KD(x,S)))&&(x=S,ce=W)),S=S.next;while(S!==X);return x}(s,r);if(!l)return r;var d=s2(l,s);return cc(d,d.next),cc(l,l.next)}function KD(s,r){return yr(s.prev,s,r.prev)<0&&yr(r.next,s,s.next)<0}function Fv(s,r,l,d,m){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-l)*m|0)|s<<8))|s<<4))|s<<2))|s<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-d)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function XD(s){var r=s,l=s;do(r.x<l.x||r.x===l.x&&r.y<l.y)&&(l=r),r=r.next;while(r!==s);return l}function bu(s,r,l,d,m,v,x,S){return(m-x)*(r-S)>=(s-x)*(v-S)&&(s-x)*(d-S)>=(l-x)*(r-S)&&(l-x)*(v-S)>=(m-x)*(d-S)}function YD(s,r){return s.next.i!==r.i&&s.prev.i!==r.i&&!function(l,d){var m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==d.i&&m.next.i!==d.i&&o2(m,m.next,l,d))return!0;m=m.next}while(m!==l);return!1}(s,r)&&(Dd(s,r)&&Dd(r,s)&&function(l,d){var m=l,v=!1,x=(l.x+d.x)/2,S=(l.y+d.y)/2;do m.y>S!=m.next.y>S&&m.next.y!==m.y&&x<(m.next.x-m.x)*(S-m.y)/(m.next.y-m.y)+m.x&&(v=!v),m=m.next;while(m!==l);return v}(s,r)&&(yr(s.prev,s,r.prev)||yr(s,r.prev,r))||Dm(s,r)&&yr(s.prev,s,s.next)>0&&yr(r.prev,r,r.next)>0)}function yr(s,r,l){return(r.y-s.y)*(l.x-r.x)-(r.x-s.x)*(l.y-r.y)}function Dm(s,r){return s.x===r.x&&s.y===r.y}function o2(s,r,l,d){var m=Bm(yr(s,r,l)),v=Bm(yr(s,r,d)),x=Bm(yr(l,d,s)),S=Bm(yr(l,d,r));return m!==v&&x!==S||!(m!==0||!zm(s,l,r))||!(v!==0||!zm(s,d,r))||!(x!==0||!zm(l,s,d))||!(S!==0||!zm(l,r,d))}function zm(s,r,l){return r.x<=Math.max(s.x,l.x)&&r.x>=Math.min(s.x,l.x)&&r.y<=Math.max(s.y,l.y)&&r.y>=Math.min(s.y,l.y)}function Bm(s){return s>0?1:s<0?-1:0}function Dd(s,r){return yr(s.prev,s,s.next)<0?yr(s,r,s.next)>=0&&yr(s,s.prev,r)>=0:yr(s,r,s.prev)<0||yr(s,s.next,r)<0}function s2(s,r){var l=new Nv(s.i,s.x,s.y),d=new Nv(r.i,r.x,r.y),m=s.next,v=r.prev;return s.next=r,r.prev=s,l.next=m,m.prev=l,d.next=l,l.prev=d,v.next=d,d.prev=v,d}function a2(s,r,l,d){var m=new Nv(s,r,l);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function zd(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Nv(s,r,l){this.i=s,this.x=r,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $v(s,r,l,d){for(var m=0,v=r,x=l-d;v<l;v+=d)m+=(s[x]-s[v])*(s[v+1]+s[x+1]),x=v;return m}Ov.exports=Lm,Ov.exports.default=Lm,Lm.deviation=function(s,r,l,d){var m=r&&r.length,v=Math.abs($v(s,0,m?r[0]*l:s.length,l));if(m)for(var x=0,S=r.length;x<S;x++)v-=Math.abs($v(s,r[x]*l,x<S-1?r[x+1]*l:s.length,l));var P=0;for(x=0;x<d.length;x+=3){var M=d[x]*l,D=d[x+1]*l,N=d[x+2]*l;P+=Math.abs((s[M]-s[N])*(s[D+1]-s[M+1])-(s[M]-s[D])*(s[N+1]-s[M+1]))}return v===0&&P===0?0:Math.abs((P-v)/v)},Lm.flatten=function(s){for(var r=s[0][0].length,l={vertices:[],holes:[],dimensions:r},d=0,m=0;m<s.length;m++){for(var v=0;v<s[m].length;v++)for(var x=0;x<r;x++)l.vertices.push(s[m][v][x]);m>0&&l.holes.push(d+=s[m-1].length)}return l};var l2=w(Ov.exports);function JD(s,r,l,d,m){c2(s,r,l||0,d||s.length-1,m||QD)}function c2(s,r,l,d,m){for(;d>l;){if(d-l>600){var v=d-l+1,x=r-l+1,S=Math.log(v),P=.5*Math.exp(2*S/3),M=.5*Math.sqrt(S*P*(v-P)/v)*(x-v/2<0?-1:1);c2(s,r,Math.max(l,Math.floor(r-x*P/v+M)),Math.min(d,Math.floor(r+(v-x)*P/v+M)),m)}var D=s[r],N=l,W=d;for(Bd(s,l,r),m(s[d],D)>0&&Bd(s,l,d);N<W;){for(Bd(s,N,W),N++,W--;m(s[N],D)<0;)N++;for(;m(s[W],D)>0;)W--}m(s[l],D)===0?Bd(s,l,W):Bd(s,++W,d),W<=r&&(l=W+1),r<=W&&(d=W-1)}}function Bd(s,r,l){var d=s[r];s[r]=s[l],s[l]=d}function QD(s,r){return s<r?-1:s>r?1:0}function Vv(s,r){const l=s.length;if(l<=1)return[s];const d=[];let m,v;for(let x=0;x<l;x++){const S=Ge(s[x]);S!==0&&(s[x].area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(m&&d.push(m),m=[s[x]]):m.push(s[x]))}if(m&&d.push(m),r>1)for(let x=0;x<d.length;x++)d[x].length<=r||(JD(d[x],r,1,d[x].length-1,ez),d[x]=d[x].slice(0,r));return d}function ez(s,r){return r.area-s.area}function jv(s,r,l){const d=l.patternDependencies;let m=!1;for(const v of r){const x=v.paint.get(`${s}-pattern`);x.isConstant()||(m=!0);const S=x.constantOr(null);S&&(m=!0,d[S.to]=!0,d[S.from]=!0)}return m}function Uv(s,r,l,d,m){const v=m.patternDependencies;for(const x of r){const S=x.paint.get(`${s}-pattern`).value;if(S.kind!=="constant"){let P=S.evaluate({zoom:d-1},l,{},m.availableImages),M=S.evaluate({zoom:d},l,{},m.availableImages),D=S.evaluate({zoom:d+1},l,{},m.availableImages);P=P&&P.name?P.name:P,M=M&&M.name?M.name:M,D=D&&D.name?D.name:D,v[P]=!0,v[M]=!0,v[D]=!0,l.patterns[x.id]={min:P,mid:M,max:D}}}return l}class Wv{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Qt,this.indexArray=new Zr,this.indexArray2=new Ir,this.programConfigurations=new ws(r.layers,r.zoom),this.segments=new Wn,this.segments2=new Wn,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.hasPattern=jv("fill",this.layers,l);const m=this.layers[0].layout.get("fill-sort-key"),v=!m.isConstant(),x=[];for(const{feature:S,id:P,index:M,sourceLayerIndex:D}of r){const N=this.layers[0]._featureFilter.needGeometry,W=lc(S,N);if(!this.layers[0]._featureFilter.filter(new Un(this.zoom),W,d))continue;const X=v?m.evaluate(W,{},d,l.availableImages):void 0,Y={id:P,properties:S.properties,type:S.type,sourceLayerIndex:D,index:M,geometry:N?W.geometry:ac(S),patterns:{},sortKey:X};x.push(Y)}v&&x.sort((S,P)=>S.sortKey-P.sortKey);for(const S of x){const{geometry:P,index:M,sourceLayerIndex:D}=S;if(this.hasPattern){const N=Uv("fill",this.layers,S,this.zoom,l);this.patternFeatures.push(N)}else this.addFeature(S,P,M,d,{});l.featureIndex.insert(r[M].feature,P,M,D,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}addFeatures(r,l,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,jD),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,l,d,m,v){for(const x of Vv(l,500)){let S=0;for(const X of x)S+=X.length;const P=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),M=P.vertexLength,D=[],N=[];for(const X of x){if(X.length===0)continue;X!==x[0]&&N.push(D.length/2);const Y=this.segments2.prepareSegment(X.length,this.layoutVertexArray,this.indexArray2),te=Y.vertexLength;this.layoutVertexArray.emplaceBack(X[0].x,X[0].y),this.indexArray2.emplaceBack(te+X.length-1,te),D.push(X[0].x),D.push(X[0].y);for(let ce=1;ce<X.length;ce++)this.layoutVertexArray.emplaceBack(X[ce].x,X[ce].y),this.indexArray2.emplaceBack(te+ce-1,te+ce),D.push(X[ce].x),D.push(X[ce].y);Y.vertexLength+=X.length,Y.primitiveLength+=X.length}const W=l2(D,N);for(let X=0;X<W.length;X+=3)this.indexArray.emplaceBack(M+W[X],M+W[X+1],M+W[X+2]);P.vertexLength+=S,P.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}}let u2,h2;ht("FillBucket",Wv,{omit:["layers","patternFeatures"]});var tz={get paint(){return h2=h2||new mr({"fill-antialias":new bt(Ie.paint_fill["fill-antialias"]),"fill-opacity":new kt(Ie.paint_fill["fill-opacity"]),"fill-color":new kt(Ie.paint_fill["fill-color"]),"fill-outline-color":new kt(Ie.paint_fill["fill-outline-color"]),"fill-translate":new bt(Ie.paint_fill["fill-translate"]),"fill-translate-anchor":new bt(Ie.paint_fill["fill-translate-anchor"]),"fill-pattern":new ic(Ie.paint_fill["fill-pattern"])})},get layout(){return u2=u2||new mr({"fill-sort-key":new kt(Ie.layout_fill["fill-sort-key"])})}};class nz extends ho{constructor(r){super(r,tz)}recalculate(r,l){super.recalculate(r,l);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new Wv(r)}queryRadius(){return Im(this.paint.get("fill-translate"))}queryIntersectsFeature(r,l,d,m,v,x,S){return qS(Mm(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,S),m)}isTileClipped(){return!0}}const rz=tr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),iz=tr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:oz}=rz;var ul={},sz=E,d2=wu;function wu(s,r,l,d,m){this.properties={},this.extent=l,this.type=0,this._pbf=s,this._geometry=-1,this._keys=d,this._values=m,s.readFields(az,this,r)}function az(s,r,l){s==1?r.id=l.readVarint():s==2?function(d,m){for(var v=d.readVarint()+d.pos;d.pos<v;){var x=m._keys[d.readVarint()],S=m._values[d.readVarint()];m.properties[x]=S}}(l,r):s==3?r.type=l.readVarint():s==4&&(r._geometry=l.pos)}function lz(s){for(var r,l,d=0,m=0,v=s.length,x=v-1;m<v;x=m++)d+=((l=s[x]).x-(r=s[m]).x)*(r.y+l.y);return d}wu.types=["Unknown","Point","LineString","Polygon"],wu.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var r,l=s.readVarint()+s.pos,d=1,m=0,v=0,x=0,S=[];s.pos<l;){if(m<=0){var P=s.readVarint();d=7&P,m=P>>3}if(m--,d===1||d===2)v+=s.readSVarint(),x+=s.readSVarint(),d===1&&(r&&S.push(r),r=[]),r.push(new sz(v,x));else{if(d!==7)throw new Error("unknown command "+d);r&&r.push(r[0].clone())}}return r&&S.push(r),S},wu.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var r=s.readVarint()+s.pos,l=1,d=0,m=0,v=0,x=1/0,S=-1/0,P=1/0,M=-1/0;s.pos<r;){if(d<=0){var D=s.readVarint();l=7&D,d=D>>3}if(d--,l===1||l===2)(m+=s.readSVarint())<x&&(x=m),m>S&&(S=m),(v+=s.readSVarint())<P&&(P=v),v>M&&(M=v);else if(l!==7)throw new Error("unknown command "+l)}return[x,P,S,M]},wu.prototype.toGeoJSON=function(s,r,l){var d,m,v=this.extent*Math.pow(2,l),x=this.extent*s,S=this.extent*r,P=this.loadGeometry(),M=wu.types[this.type];function D(X){for(var Y=0;Y<X.length;Y++){var te=X[Y];X[Y]=[360*(te.x+x)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(te.y+S)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(d=0;d<P.length;d++)N[d]=P[d][0];D(P=N);break;case 2:for(d=0;d<P.length;d++)D(P[d]);break;case 3:for(P=function(X){var Y=X.length;if(Y<=1)return[X];for(var te,ce,pe=[],we=0;we<Y;we++){var ge=lz(X[we]);ge!==0&&(ce===void 0&&(ce=ge<0),ce===ge<0?(te&&pe.push(te),te=[X[we]]):te.push(X[we]))}return te&&pe.push(te),pe}(P),d=0;d<P.length;d++)for(m=0;m<P[d].length;m++)D(P[d][m])}P.length===1?P=P[0]:M="Multi"+M;var W={type:"Feature",geometry:{type:M,coordinates:P},properties:this.properties};return"id"in this&&(W.id=this.id),W};var cz=d2,p2=f2;function f2(s,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(uz,this,r),this.length=this._features.length}function uz(s,r,l){s===15?r.version=l.readVarint():s===1?r.name=l.readString():s===5?r.extent=l.readVarint():s===2?r._features.push(l.pos):s===3?r._keys.push(l.readString()):s===4&&r._values.push(function(d){for(var m=null,v=d.readVarint()+d.pos;d.pos<v;){var x=d.readVarint()>>3;m=x===1?d.readString():x===2?d.readFloat():x===3?d.readDouble():x===4?d.readVarint64():x===5?d.readVarint():x===6?d.readSVarint():x===7?d.readBoolean():null}return m}(l))}f2.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var r=this._pbf.readVarint()+this._pbf.pos;return new cz(this._pbf,r,this.extent,this._keys,this._values)};var hz=p2;function dz(s,r,l){if(s===3){var d=new hz(l,l.readVarint()+l.pos);d.length&&(r[d.name]=d)}}ul.VectorTile=function(s,r){this.layers=s.readFields(dz,{},r)},ul.VectorTileFeature=d2,ul.VectorTileLayer=p2;const pz=ul.VectorTileFeature.types,Gv=Math.pow(2,13);function Od(s,r,l,d,m,v,x,S){s.emplaceBack(r,l,2*Math.floor(d*Gv)+x,m*Gv*2,v*Gv*2,Math.round(S))}class qv{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new rt,this.centroidVertexArray=new Je,this.indexArray=new Zr,this.programConfigurations=new ws(r.layers,r.zoom),this.segments=new Wn,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.features=[],this.hasPattern=jv("fill-extrusion",this.layers,l);for(const{feature:m,id:v,index:x,sourceLayerIndex:S}of r){const P=this.layers[0]._featureFilter.needGeometry,M=lc(m,P);if(!this.layers[0]._featureFilter.filter(new Un(this.zoom),M,d))continue;const D={id:v,sourceLayerIndex:S,index:x,geometry:P?M.geometry:ac(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(Uv("fill-extrusion",this.layers,D,this.zoom,l)):this.addFeature(D,D.geometry,x,d,{}),l.featureIndex.insert(m,D.geometry,x,S,this.index,!0)}}addFeatures(r,l,d){for(const m of this.features){const{geometry:v}=m;this.addFeature(m,v,m.index,l,d)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,oz),this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,iz.members,!0),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(r,l,d,m,v){const x={x:0,y:0,vertexCount:0};for(const S of Vv(l,500)){let P=0;for(const Y of S)P+=Y.length;let M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Y of S){if(Y.length===0||mz(Y))continue;let te=0;for(let ce=0;ce<Y.length;ce++){const pe=Y[ce];if(ce>=1){const we=Y[ce-1];if(!fz(pe,we)){M.vertexLength+4>Wn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ge=pe.sub(we)._perp()._unit(),Ce=we.dist(pe);te+Ce>32768&&(te=0),Od(this.layoutVertexArray,pe.x,pe.y,ge.x,ge.y,0,0,te),Od(this.layoutVertexArray,pe.x,pe.y,ge.x,ge.y,0,1,te),x.x+=2*pe.x,x.y+=2*pe.y,x.vertexCount+=2,te+=Ce,Od(this.layoutVertexArray,we.x,we.y,ge.x,ge.y,0,0,te),Od(this.layoutVertexArray,we.x,we.y,ge.x,ge.y,0,1,te),x.x+=2*we.x,x.y+=2*we.y,x.vertexCount+=2;const Pe=M.vertexLength;this.indexArray.emplaceBack(Pe,Pe+2,Pe+1),this.indexArray.emplaceBack(Pe+1,Pe+2,Pe+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+P>Wn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray)),pz[r.type]!=="Polygon")continue;const D=[],N=[],W=M.vertexLength;for(const Y of S)if(Y.length!==0){Y!==S[0]&&N.push(D.length/2);for(let te=0;te<Y.length;te++){const ce=Y[te];Od(this.layoutVertexArray,ce.x,ce.y,0,0,1,1,0),x.x+=ce.x,x.y+=ce.y,x.vertexCount+=1,D.push(ce.x),D.push(ce.y)}}const X=l2(D,N);for(let Y=0;Y<X.length;Y+=3)this.indexArray.emplaceBack(W+X[Y],W+X[Y+2],W+X[Y+1]);M.primitiveLength+=X.length/3,M.vertexLength+=P}for(let S=0;S<x.vertexCount;S++)this.centroidVertexArray.emplaceBack(Math.floor(x.x/x.vertexCount),Math.floor(x.y/x.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}}function fz(s,r){return s.x===r.x&&(s.x<0||s.x>Cr)||s.y===r.y&&(s.y<0||s.y>Cr)}function mz(s){return s.every(r=>r.x<0)||s.every(r=>r.x>Cr)||s.every(r=>r.y<0)||s.every(r=>r.y>Cr)}let m2;ht("FillExtrusionBucket",qv,{omit:["layers","features"]});var gz={get paint(){return m2=m2||new mr({"fill-extrusion-opacity":new bt(Ie["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kt(Ie["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new bt(Ie["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new bt(Ie["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ic(Ie["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kt(Ie["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kt(Ie["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new bt(Ie["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class yz extends ho{constructor(r){super(r,gz)}createBucket(r){return new qv(r)}queryRadius(){return Im(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(r,l,d,m,v,x,S,P){const M=Mm(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,S),D=this.paint.get("fill-extrusion-height").evaluate(l,d),N=this.paint.get("fill-extrusion-base").evaluate(l,d),W=function(Y,te,ce,pe){const we=[];for(const ge of Y){const Ce=[ge.x,ge.y,0,1];Rm(Ce,Ce,te),we.push(new I(Ce[0]/Ce[3],Ce[1]/Ce[3]))}return we}(M,P),X=function(Y,te,ce,pe){const we=[],ge=[],Ce=pe[8]*te,Pe=pe[9]*te,Ve=pe[10]*te,lt=pe[11]*te,yt=pe[8]*ce,st=pe[9]*ce,it=pe[10]*ce,Qe=pe[11]*ce;for(const dt of Y){const nt=[],Xe=[];for(const Tt of dt){const _t=Tt.x,Kt=Tt.y,Gn=pe[0]*_t+pe[4]*Kt+pe[12],Zn=pe[1]*_t+pe[5]*Kt+pe[13],Lr=pe[2]*_t+pe[6]*Kt+pe[14],fo=pe[3]*_t+pe[7]*Kt+pe[15],Ii=Lr+Ve,Tr=fo+lt,Xr=Gn+yt,oi=Zn+st,Mi=Lr+it,Ri=fo+Qe,Dr=new I((Gn+Ce)/Tr,(Zn+Pe)/Tr);Dr.z=Ii/Tr,nt.push(Dr);const zr=new I(Xr/Ri,oi/Ri);zr.z=Mi/Ri,Xe.push(zr)}we.push(nt),ge.push(Xe)}return[we,ge]}(m,N,D,P);return function(Y,te,ce){let pe=1/0;qS(ce,te)&&(pe=g2(ce,te[0]));for(let we=0;we<te.length;we++){const ge=te[we],Ce=Y[we];for(let Pe=0;Pe<ge.length-1;Pe++){const Ve=ge[Pe],lt=[Ve,ge[Pe+1],Ce[Pe+1],Ce[Pe],Ve];GS(ce,lt)&&(pe=Math.min(pe,g2(ce,lt)))}}return pe!==1/0&&pe}(X[0],X[1],W)}}function Fd(s,r){return s.x*r.x+s.y*r.y}function g2(s,r){if(s.length===1){let l=0;const d=r[l++];let m;for(;!m||d.equals(m);)if(m=r[l++],!m)return 1/0;for(;l<r.length;l++){const v=r[l],x=s[0],S=m.sub(d),P=v.sub(d),M=x.sub(d),D=Fd(S,S),N=Fd(S,P),W=Fd(P,P),X=Fd(M,S),Y=Fd(M,P),te=D*W-N*N,ce=(W*X-N*Y)/te,pe=(D*Y-N*X)/te,we=d.z*(1-ce-pe)+m.z*ce+v.z*pe;if(isFinite(we))return we}return 1/0}{let l=1/0;for(const d of r)l=Math.min(l,d.z);return l}}const vz=tr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:_z}=vz,xz=tr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:bz}=xz,wz=ul.VectorTileFeature.types,Sz=Math.cos(Math.PI/180*37.5),y2=Math.pow(2,14)/.5;class Hv{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new It,this.layoutVertexArray2=new vt,this.indexArray=new Zr,this.programConfigurations=new ws(r.layers,r.zoom),this.segments=new Wn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d){this.hasPattern=jv("line",this.layers,l);const m=this.layers[0].layout.get("line-sort-key"),v=!m.isConstant(),x=[];for(const{feature:S,id:P,index:M,sourceLayerIndex:D}of r){const N=this.layers[0]._featureFilter.needGeometry,W=lc(S,N);if(!this.layers[0]._featureFilter.filter(new Un(this.zoom),W,d))continue;const X=v?m.evaluate(W,{},d):void 0,Y={id:P,properties:S.properties,type:S.type,sourceLayerIndex:D,index:M,geometry:N?W.geometry:ac(S),patterns:{},sortKey:X};x.push(Y)}v&&x.sort((S,P)=>S.sortKey-P.sortKey);for(const S of x){const{geometry:P,index:M,sourceLayerIndex:D}=S;if(this.hasPattern){const N=Uv("line",this.layers,S,this.zoom,l);this.patternFeatures.push(N)}else this.addFeature(S,P,M,d,{});l.featureIndex.insert(r[M].feature,P,M,D,this.index)}}update(r,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d)}addFeatures(r,l,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,bz)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,_z),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,l,d,m,v){const x=this.layers[0].layout,S=x.get("line-join").evaluate(r,{}),P=x.get("line-cap"),M=x.get("line-miter-limit"),D=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const N of l)this.addLine(N,r,S,P,M,D);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}addLine(r,l,d,m,v,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let pe=0;pe<r.length-1;pe++)this.totalDistance+=r[pe].dist(r[pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=wz[l.type]==="Polygon";let P=r.length;for(;P>=2&&r[P-1].equals(r[P-2]);)P--;let M=0;for(;M<P-1&&r[M].equals(r[M+1]);)M++;if(P<(S?3:2))return;d==="bevel"&&(v=1.05);const D=this.overscaling<=16?15*Cr/(512*this.overscaling):0,N=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray);let W,X,Y,te,ce;this.e1=this.e2=-1,S&&(W=r[P-2],ce=r[M].sub(W)._unit()._perp());for(let pe=M;pe<P;pe++){if(Y=pe===P-1?S?r[M+1]:void 0:r[pe+1],Y&&r[pe].equals(Y))continue;ce&&(te=ce),W&&(X=W),W=r[pe],ce=Y?Y.sub(W)._unit()._perp():te,te=te||ce;let we=te.add(ce);we.x===0&&we.y===0||we._unit();const ge=te.x*ce.x+te.y*ce.y,Ce=we.x*ce.x+we.y*ce.y,Pe=Ce!==0?1/Ce:1/0,Ve=2*Math.sqrt(2-2*Ce),lt=Ce<Sz&&X&&Y,yt=te.x*ce.y-te.y*ce.x>0;if(lt&&pe>M){const Qe=W.dist(X);if(Qe>2*D){const dt=W.sub(W.sub(X)._mult(D/Qe)._round());this.updateDistance(X,dt),this.addCurrentVertex(dt,te,0,0,N),X=dt}}const st=X&&Y;let it=st?d:S?"butt":m;if(st&&it==="round"&&(Pe<x?it="miter":Pe<=2&&(it="fakeround")),it==="miter"&&Pe>v&&(it="bevel"),it==="bevel"&&(Pe>2&&(it="flipbevel"),Pe<v&&(it="miter")),X&&this.updateDistance(X,W),it==="miter")we._mult(Pe),this.addCurrentVertex(W,we,0,0,N);else if(it==="flipbevel"){if(Pe>100)we=ce.mult(-1);else{const Qe=Pe*te.add(ce).mag()/te.sub(ce).mag();we._perp()._mult(Qe*(yt?-1:1))}this.addCurrentVertex(W,we,0,0,N),this.addCurrentVertex(W,we.mult(-1),0,0,N)}else if(it==="bevel"||it==="fakeround"){const Qe=-Math.sqrt(Pe*Pe-1),dt=yt?Qe:0,nt=yt?0:Qe;if(X&&this.addCurrentVertex(W,te,dt,nt,N),it==="fakeround"){const Xe=Math.round(180*Ve/Math.PI/20);for(let Tt=1;Tt<Xe;Tt++){let _t=Tt/Xe;if(_t!==.5){const Gn=_t-.5;_t+=_t*Gn*(_t-1)*((1.0904+ge*(ge*(3.55645-1.43519*ge)-3.2452))*Gn*Gn+(.848013+ge*(.215638*ge-1.06021)))}const Kt=ce.sub(te)._mult(_t)._add(te)._unit()._mult(yt?-1:1);this.addHalfVertex(W,Kt.x,Kt.y,!1,yt,0,N)}}Y&&this.addCurrentVertex(W,ce,-dt,-nt,N)}else if(it==="butt")this.addCurrentVertex(W,we,0,0,N);else if(it==="square"){const Qe=X?1:-1;this.addCurrentVertex(W,we,Qe,Qe,N)}else it==="round"&&(X&&(this.addCurrentVertex(W,te,0,0,N),this.addCurrentVertex(W,te,1,1,N,!0)),Y&&(this.addCurrentVertex(W,ce,-1,-1,N,!0),this.addCurrentVertex(W,ce,0,0,N)));if(lt&&pe<P-1){const Qe=W.dist(Y);if(Qe>2*D){const dt=W.add(Y.sub(W)._mult(D/Qe)._round());this.updateDistance(W,dt),this.addCurrentVertex(dt,ce,0,0,N),W=dt}}}}addCurrentVertex(r,l,d,m,v,x=!1){const S=l.y*m-l.x,P=-l.y-l.x*m;this.addHalfVertex(r,l.x+l.y*d,l.y-l.x*d,x,!1,d,v),this.addHalfVertex(r,S,P,x,!0,-m,v),this.distance>y2/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(r,l,d,m,v,x))}addHalfVertex({x:r,y:l},d,m,v,x,S,P){const M=.5*(this.lineClips?this.scaledDistance*(y2-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r<<1)+(v?1:0),(l<<1)+(x?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(S===0?0:S<0?-1:1)|(63&M)<<2,M>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const D=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,D),P.primitiveLength++),x?this.e2=D:this.e1=D}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(r,l){this.distance+=r.dist(l),this.updateScaledDistance()}}let v2,_2;ht("LineBucket",Hv,{omit:["layers","patternFeatures"]});var x2={get paint(){return _2=_2||new mr({"line-opacity":new kt(Ie.paint_line["line-opacity"]),"line-color":new kt(Ie.paint_line["line-color"]),"line-translate":new bt(Ie.paint_line["line-translate"]),"line-translate-anchor":new bt(Ie.paint_line["line-translate-anchor"]),"line-width":new kt(Ie.paint_line["line-width"]),"line-gap-width":new kt(Ie.paint_line["line-gap-width"]),"line-offset":new kt(Ie.paint_line["line-offset"]),"line-blur":new kt(Ie.paint_line["line-blur"]),"line-dasharray":new bd(Ie.paint_line["line-dasharray"]),"line-pattern":new ic(Ie.paint_line["line-pattern"]),"line-gradient":new wd(Ie.paint_line["line-gradient"])})},get layout(){return v2=v2||new mr({"line-cap":new bt(Ie.layout_line["line-cap"]),"line-join":new kt(Ie.layout_line["line-join"]),"line-miter-limit":new bt(Ie.layout_line["line-miter-limit"]),"line-round-limit":new bt(Ie.layout_line["line-round-limit"]),"line-sort-key":new kt(Ie.layout_line["line-sort-key"])})}};class Cz extends kt{possiblyEvaluate(r,l){return l=new Un(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(r,l)}evaluate(r,l,d,m){return l=me({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(r,l,d,m)}}let Om;class Tz extends ho{constructor(r){super(r,x2),this.gradientVersion=0,Om||(Om=new Cz(x2.paint.properties["line-width"].specification),Om.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const l=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof Vs,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,l){super.recalculate(r,l),this.paint._values["line-floorwidth"]=Om.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new Hv(r)}queryRadius(r){const l=r,d=b2(Id("line-width",this,l),Id("line-gap-width",this,l)),m=Id("line-offset",this,l);return d/2+Math.abs(m)+Im(this.paint.get("line-translate"))}queryIntersectsFeature(r,l,d,m,v,x,S){const P=Mm(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,S),M=S/2*b2(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),D=this.paint.get("line-offset").evaluate(l,d);return D&&(m=function(N,W){const X=[];for(let Y=0;Y<N.length;Y++){const te=N[Y],ce=[];for(let pe=0;pe<te.length;pe++){const we=te[pe-1],ge=te[pe],Ce=te[pe+1],Pe=pe===0?new I(0,0):ge.sub(we)._unit()._perp(),Ve=pe===te.length-1?new I(0,0):Ce.sub(ge)._unit()._perp(),lt=Pe._add(Ve)._unit(),yt=lt.x*Ve.x+lt.y*Ve.y;yt!==0&&lt._mult(1/yt),ce.push(lt._mult(W)._add(ge))}X.push(ce)}return X}(m,D*S)),function(N,W,X){for(let Y=0;Y<W.length;Y++){const te=W[Y];if(N.length>=3){for(let ce=0;ce<te.length;ce++)if(_u(N,te[ce]))return!0}if(MD(N,te,X))return!0}return!1}(P,m,M)}isTileClipped(){return!0}}function b2(s,r){return r>0?r+2*s:s}const Ez=tr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Pz=tr([{name:"a_projected_pos",components:3,type:"Float32"}],4);tr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Az=tr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);tr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const w2=tr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),kz=tr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Iz(s,r,l){return s.sections.forEach(d=>{d.text=function(m,v,x){const S=v.layout.get("text-transform").evaluate(x,{});return S==="uppercase"?m=m.toLocaleUpperCase():S==="lowercase"&&(m=m.toLocaleLowerCase()),Zi.applyArabicShaping&&(m=Zi.applyArabicShaping(m)),m}(d.text,r,l)}),s}tr([{name:"triangle",components:3,type:"Uint16"}]),tr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),tr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),tr([{type:"Float32",name:"offsetX"}]),tr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),tr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Nd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Rr=24,S2=Rn,C2=function(s,r,l,d,m){var v,x,S=8*m-d-1,P=(1<<S)-1,M=P>>1,D=-7,N=l?m-1:0,W=l?-1:1,X=s[r+N];for(N+=W,v=X&(1<<-D)-1,X>>=-D,D+=S;D>0;v=256*v+s[r+N],N+=W,D-=8);for(x=v&(1<<-D)-1,v>>=-D,D+=d;D>0;x=256*x+s[r+N],N+=W,D-=8);if(v===0)v=1-M;else{if(v===P)return x?NaN:1/0*(X?-1:1);x+=Math.pow(2,d),v-=M}return(X?-1:1)*x*Math.pow(2,v-d)},T2=function(s,r,l,d,m,v){var x,S,P,M=8*v-m-1,D=(1<<M)-1,N=D>>1,W=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=d?0:v-1,Y=d?1:-1,te=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(S=isNaN(r)?1:0,x=D):(x=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-x))<1&&(x--,P*=2),(r+=x+N>=1?W/P:W*Math.pow(2,1-N))*P>=2&&(x++,P/=2),x+N>=D?(S=0,x=D):x+N>=1?(S=(r*P-1)*Math.pow(2,m),x+=N):(S=r*Math.pow(2,N-1)*Math.pow(2,m),x=0));m>=8;s[l+X]=255&S,X+=Y,S/=256,m-=8);for(x=x<<m|S,M+=m;M>0;s[l+X]=255&x,X+=Y,x/=256,M-=8);s[l+X-Y]|=128*te};function Rn(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}Rn.Varint=0,Rn.Fixed64=1,Rn.Bytes=2,Rn.Fixed32=5;var Zv=4294967296,E2=1/Zv,P2=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Pa(s){return s.type===Rn.Bytes?s.readVarint()+s.pos:s.pos+1}function Su(s,r,l){return l?4294967296*r+(s>>>0):4294967296*(r>>>0)+(s>>>0)}function A2(s,r,l){var d=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));l.realloc(d);for(var m=l.pos-1;m>=s;m--)l.buf[m+d]=l.buf[m]}function Mz(s,r){for(var l=0;l<s.length;l++)r.writeVarint(s[l])}function Rz(s,r){for(var l=0;l<s.length;l++)r.writeSVarint(s[l])}function Lz(s,r){for(var l=0;l<s.length;l++)r.writeFloat(s[l])}function Dz(s,r){for(var l=0;l<s.length;l++)r.writeDouble(s[l])}function zz(s,r){for(var l=0;l<s.length;l++)r.writeBoolean(s[l])}function Bz(s,r){for(var l=0;l<s.length;l++)r.writeFixed32(s[l])}function Oz(s,r){for(var l=0;l<s.length;l++)r.writeSFixed32(s[l])}function Fz(s,r){for(var l=0;l<s.length;l++)r.writeFixed64(s[l])}function Nz(s,r){for(var l=0;l<s.length;l++)r.writeSFixed64(s[l])}function Fm(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+16777216*s[r+3]}function Cu(s,r,l){s[l]=r,s[l+1]=r>>>8,s[l+2]=r>>>16,s[l+3]=r>>>24}function k2(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+(s[r+3]<<24)}Rn.prototype={destroy:function(){this.buf=null},readFields:function(s,r,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),m=d>>3,v=this.pos;this.type=7&d,s(m,r,this),this.pos===v&&this.skip(d)}return r},readMessage:function(s,r){return this.readFields(s,r,this.readVarint()+this.pos)},readFixed32:function(){var s=Fm(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=k2(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=Fm(this.buf,this.pos)+Fm(this.buf,this.pos+4)*Zv;return this.pos+=8,s},readSFixed64:function(){var s=Fm(this.buf,this.pos)+k2(this.buf,this.pos+4)*Zv;return this.pos+=8,s},readFloat:function(){var s=C2(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=C2(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var r,l,d=this.buf;return r=127&(l=d[this.pos++]),l<128?r:(r|=(127&(l=d[this.pos++]))<<7,l<128?r:(r|=(127&(l=d[this.pos++]))<<14,l<128?r:(r|=(127&(l=d[this.pos++]))<<21,l<128?r:function(m,v,x){var S,P,M=x.buf;if(S=(112&(P=M[x.pos++]))>>4,P<128||(S|=(127&(P=M[x.pos++]))<<3,P<128)||(S|=(127&(P=M[x.pos++]))<<10,P<128)||(S|=(127&(P=M[x.pos++]))<<17,P<128)||(S|=(127&(P=M[x.pos++]))<<24,P<128)||(S|=(1&(P=M[x.pos++]))<<31,P<128))return Su(m,S,v);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(l=d[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,r=this.pos;return this.pos=s,s-r>=12&&P2?function(l,d,m){return P2.decode(l.subarray(d,m))}(this.buf,r,s):function(l,d,m){for(var v="",x=d;x<m;){var S,P,M,D=l[x],N=null,W=D>239?4:D>223?3:D>191?2:1;if(x+W>m)break;W===1?D<128&&(N=D):W===2?(192&(S=l[x+1]))==128&&(N=(31&D)<<6|63&S)<=127&&(N=null):W===3?(P=l[x+2],(192&(S=l[x+1]))==128&&(192&P)==128&&((N=(15&D)<<12|(63&S)<<6|63&P)<=2047||N>=55296&&N<=57343)&&(N=null)):W===4&&(P=l[x+2],M=l[x+3],(192&(S=l[x+1]))==128&&(192&P)==128&&(192&M)==128&&((N=(15&D)<<18|(63&S)<<12|(63&P)<<6|63&M)<=65535||N>=1114112)&&(N=null)),N===null?(N=65533,W=1):N>65535&&(N-=65536,v+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),v+=String.fromCharCode(N),x+=W}return v}(this.buf,r,s)},readBytes:function(){var s=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,s);return this.pos=s,r},readPackedVarint:function(s,r){if(this.type!==Rn.Bytes)return s.push(this.readVarint(r));var l=Pa(this);for(s=s||[];this.pos<l;)s.push(this.readVarint(r));return s},readPackedSVarint:function(s){if(this.type!==Rn.Bytes)return s.push(this.readSVarint());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==Rn.Bytes)return s.push(this.readBoolean());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==Rn.Bytes)return s.push(this.readFloat());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==Rn.Bytes)return s.push(this.readDouble());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==Rn.Bytes)return s.push(this.readFixed32());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==Rn.Bytes)return s.push(this.readSFixed32());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==Rn.Bytes)return s.push(this.readFixed64());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==Rn.Bytes)return s.push(this.readSFixed64());var r=Pa(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed64());return s},skip:function(s){var r=7&s;if(r===Rn.Varint)for(;this.buf[this.pos++]>127;);else if(r===Rn.Bytes)this.pos=this.readVarint()+this.pos;else if(r===Rn.Fixed32)this.pos+=4;else{if(r!==Rn.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(s,r){this.writeVarint(s<<3|r)},realloc:function(s){for(var r=this.length||16;r<this.pos+s;)r*=2;if(r!==this.length){var l=new Uint8Array(r);l.set(this.buf),this.buf=l,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),Cu(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),Cu(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),Cu(this.buf,-1&s,this.pos),Cu(this.buf,Math.floor(s*E2),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),Cu(this.buf,-1&s,this.pos),Cu(this.buf,Math.floor(s*E2),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(r,l){var d,m;if(r>=0?(d=r%4294967296|0,m=r/4294967296|0):(m=~(-r/4294967296),4294967295^(d=~(-r%4294967296))?d=d+1|0:(d=0,m=m+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(v,x,S){S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,S.buf[S.pos]=127&(v>>>=7)}(d,0,l),function(v,x){var S=(7&v)<<4;x.buf[x.pos++]|=S|((v>>>=3)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v)))))}(m,l)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var r=this.pos;this.pos=function(d,m,v){for(var x,S,P=0;P<m.length;P++){if((x=m.charCodeAt(P))>55295&&x<57344){if(!S){x>56319||P+1===m.length?(d[v++]=239,d[v++]=191,d[v++]=189):S=x;continue}if(x<56320){d[v++]=239,d[v++]=191,d[v++]=189,S=x;continue}x=S-55296<<10|x-56320|65536,S=null}else S&&(d[v++]=239,d[v++]=191,d[v++]=189,S=null);x<128?d[v++]=x:(x<2048?d[v++]=x>>6|192:(x<65536?d[v++]=x>>12|224:(d[v++]=x>>18|240,d[v++]=x>>12&63|128),d[v++]=x>>6&63|128),d[v++]=63&x|128)}return v}(this.buf,s,this.pos);var l=this.pos-r;l>=128&&A2(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l},writeFloat:function(s){this.realloc(4),T2(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),T2(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var r=s.length;this.writeVarint(r),this.realloc(r);for(var l=0;l<r;l++)this.buf[this.pos++]=s[l]},writeRawMessage:function(s,r){this.pos++;var l=this.pos;s(r,this);var d=this.pos-l;d>=128&&A2(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(s,r,l){this.writeTag(s,Rn.Bytes),this.writeRawMessage(r,l)},writePackedVarint:function(s,r){r.length&&this.writeMessage(s,Mz,r)},writePackedSVarint:function(s,r){r.length&&this.writeMessage(s,Rz,r)},writePackedBoolean:function(s,r){r.length&&this.writeMessage(s,zz,r)},writePackedFloat:function(s,r){r.length&&this.writeMessage(s,Lz,r)},writePackedDouble:function(s,r){r.length&&this.writeMessage(s,Dz,r)},writePackedFixed32:function(s,r){r.length&&this.writeMessage(s,Bz,r)},writePackedSFixed32:function(s,r){r.length&&this.writeMessage(s,Oz,r)},writePackedFixed64:function(s,r){r.length&&this.writeMessage(s,Fz,r)},writePackedSFixed64:function(s,r){r.length&&this.writeMessage(s,Nz,r)},writeBytesField:function(s,r){this.writeTag(s,Rn.Bytes),this.writeBytes(r)},writeFixed32Field:function(s,r){this.writeTag(s,Rn.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(s,r){this.writeTag(s,Rn.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(s,r){this.writeTag(s,Rn.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(s,r){this.writeTag(s,Rn.Fixed64),this.writeSFixed64(r)},writeVarintField:function(s,r){this.writeTag(s,Rn.Varint),this.writeVarint(r)},writeSVarintField:function(s,r){this.writeTag(s,Rn.Varint),this.writeSVarint(r)},writeStringField:function(s,r){this.writeTag(s,Rn.Bytes),this.writeString(r)},writeFloatField:function(s,r){this.writeTag(s,Rn.Fixed32),this.writeFloat(r)},writeDoubleField:function(s,r){this.writeTag(s,Rn.Fixed64),this.writeDouble(r)},writeBooleanField:function(s,r){this.writeVarintField(s,!!r)}};var Kv=w(S2);const Xv=3;function $z(s,r,l){s===1&&l.readMessage(Vz,r)}function Vz(s,r,l){if(s===3){const{id:d,bitmap:m,width:v,height:x,left:S,top:P,advance:M}=l.readMessage(jz,{});r.push({id:d,bitmap:new Rd({width:v+2*Xv,height:x+2*Xv},m),metrics:{width:v,height:x,left:S,top:P,advance:M}})}}function jz(s,r,l){s===1?r.id=l.readVarint():s===2?r.bitmap=l.readBytes():s===3?r.width=l.readVarint():s===4?r.height=l.readVarint():s===5?r.left=l.readSVarint():s===6?r.top=l.readSVarint():s===7&&(r.advance=l.readVarint())}const I2=Xv;function M2(s){let r=0,l=0;for(const x of s)r+=x.w*x.h,l=Math.max(l,x.w);s.sort((x,S)=>S.h-x.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),l),h:1/0}];let m=0,v=0;for(const x of s)for(let S=d.length-1;S>=0;S--){const P=d[S];if(!(x.w>P.w||x.h>P.h)){if(x.x=P.x,x.y=P.y,v=Math.max(v,x.y+x.h),m=Math.max(m,x.x+x.w),x.w===P.w&&x.h===P.h){const M=d.pop();S<d.length&&(d[S]=M)}else x.h===P.h?(P.x+=x.w,P.w-=x.w):x.w===P.w?(P.y+=x.h,P.h-=x.h):(d.push({x:P.x+x.w,y:P.y,w:P.w-x.w,h:x.h}),P.y+=x.h,P.h-=x.h);break}}return{w:m,h:v,fill:r/(m*v)||0}}const Xi=1;class Yv{constructor(r,{pixelRatio:l,version:d,stretchX:m,stretchY:v,content:x}){this.paddedRect=r,this.pixelRatio=l,this.stretchX=m,this.stretchY=v,this.content=x,this.version=d}get tl(){return[this.paddedRect.x+Xi,this.paddedRect.y+Xi]}get br(){return[this.paddedRect.x+this.paddedRect.w-Xi,this.paddedRect.y+this.paddedRect.h-Xi]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Xi)/this.pixelRatio,(this.paddedRect.h-2*Xi)/this.pixelRatio]}}class R2{constructor(r,l){const d={},m={};this.haveRenderCallbacks=[];const v=[];this.addImages(r,d,v),this.addImages(l,m,v);const{w:x,h:S}=M2(v),P=new Co({width:x||1,height:S||1});for(const M in r){const D=r[M],N=d[M].paddedRect;Co.copy(D.data,P,{x:0,y:0},{x:N.x+Xi,y:N.y+Xi},D.data)}for(const M in l){const D=l[M],N=m[M].paddedRect,W=N.x+Xi,X=N.y+Xi,Y=D.data.width,te=D.data.height;Co.copy(D.data,P,{x:0,y:0},{x:W,y:X},D.data),Co.copy(D.data,P,{x:0,y:te-1},{x:W,y:X-1},{width:Y,height:1}),Co.copy(D.data,P,{x:0,y:0},{x:W,y:X+te},{width:Y,height:1}),Co.copy(D.data,P,{x:Y-1,y:0},{x:W-1,y:X},{width:1,height:te}),Co.copy(D.data,P,{x:0,y:0},{x:W+Y,y:X},{width:1,height:te})}this.image=P,this.iconPositions=d,this.patternPositions=m}addImages(r,l,d){for(const m in r){const v=r[m],x={x:0,y:0,w:v.data.width+2*Xi,h:v.data.height+2*Xi};d.push(x),l[m]=new Yv(x,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(r,l){r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in r.updatedImages)this.patchUpdatedImage(this.iconPositions[d],r.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],r.getImage(d),l)}patchUpdatedImage(r,l,d){if(!r||!l||r.version===l.version)return;r.version=l.version;const[m,v]=r.tl;d.update(l.data,void 0,{x:m,y:v})}}var hl;ht("ImagePosition",Yv),ht("ImageAtlas",R2),a.ai=void 0,(hl=a.ai||(a.ai={}))[hl.none=0]="none",hl[hl.horizontal=1]="horizontal",hl[hl.vertical=2]="vertical",hl[hl.horizontalOnly=3]="horizontalOnly";const $d=-17;class Vd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,l){const d=new Vd;return d.scale=r||1,d.fontStack=l,d}static forImage(r){const l=new Vd;return l.imageName=r,l}}class Tu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,l){const d=new Tu;for(let m=0;m<r.sections.length;m++){const v=r.sections[m];v.image?d.addImageSection(v):d.addTextSection(v,l)}return d}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(){this.text=function(r){let l="";for(let d=0;d<r.length;d++){const m=r.charCodeAt(d+1)||null,v=r.charCodeAt(d-1)||null;l+=m&&_m(m)&&!Nd[r[d+1]]||v&&_m(v)&&!Nd[r[d-1]]||!Nd[r[d]]?r[d]:Nd[r[d]]}return l}(this.text)}trim(){let r=0;for(let d=0;d<this.text.length&&$m[this.text.charCodeAt(d)];d++)r++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=r&&$m[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(r,l),this.sectionIndex=this.sectionIndex.slice(r,l)}substring(r,l){const d=new Tu;return d.text=this.text.substring(r,l),d.sectionIndex=this.sectionIndex.slice(r,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,l)=>Math.max(r,this.sections[l].scale),0)}addTextSection(r,l){this.text+=r.text,this.sections.push(Vd.forText(r.scale,r.fontStack||l));const d=this.sections.length-1;for(let m=0;m<r.text.length;++m)this.sectionIndex.push(d)}addImageSection(r){const l=r.image?r.image.name:"";if(l.length===0)return void qe("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Vd.forImage(l)),this.sectionIndex.push(this.sections.length-1)):qe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Nm(s,r,l,d,m,v,x,S,P,M,D,N,W,X,Y,te){const ce=Tu.fromFeature(s,m);let pe;N===a.ai.vertical&&ce.verticalizePunctuation();const{processBidirectionalText:we,processStyledBidirectionalText:ge}=Zi;if(we&&ce.sections.length===1){pe=[];const Ve=we(ce.toString(),Jv(ce,M,v,r,d,X,Y));for(const lt of Ve){const yt=new Tu;yt.text=lt,yt.sections=ce.sections;for(let st=0;st<lt.length;st++)yt.sectionIndex.push(0);pe.push(yt)}}else if(ge){pe=[];const Ve=ge(ce.text,ce.sectionIndex,Jv(ce,M,v,r,d,X,Y));for(const lt of Ve){const yt=new Tu;yt.text=lt[0],yt.sectionIndex=lt[1],yt.sections=ce.sections,pe.push(yt)}}else pe=function(Ve,lt){const yt=[],st=Ve.text;let it=0;for(const Qe of lt)yt.push(Ve.substring(it,Qe)),it=Qe;return it<st.length&&yt.push(Ve.substring(it,st.length)),yt}(ce,Jv(ce,M,v,r,d,X,Y));const Ce=[],Pe={positionedLines:Ce,text:ce.toString(),top:D[1],bottom:D[1],left:D[0],right:D[0],writingMode:N,iconsInText:!1,verticalizable:!1};return function(Ve,lt,yt,st,it,Qe,dt,nt,Xe,Tt,_t,Kt){let Gn=0,Zn=$d,Lr=0,fo=0;const Ii=nt==="right"?1:nt==="left"?0:.5;let Tr=0;for(const Dr of it){Dr.trim();const zr=Dr.getMaxScale(),fi=(zr-1)*Rr,Li={positionedGlyphs:[],lineOffset:0};Ve.positionedLines[Tr]=Li;const mi=Li.positionedGlyphs;let Yi=0;if(!Dr.length()){Zn+=Qe,++Tr;continue}for(let Br=0;Br<Dr.length();Br++){const rn=Dr.getSection(Br),gi=Dr.getSectionIndex(Br),si=Dr.getCharCode(Br);let Or=0,Ko=null,Ss=null,Cs=null,Aa=Rr;const Xo=!(Xe===a.ai.horizontal||!_t&&!pd(si)||_t&&($m[si]||(Xr=si,at.Arabic(Xr)||at["Arabic Supplement"](Xr)||at["Arabic Extended-A"](Xr)||at["Arabic Presentation Forms-A"](Xr)||at["Arabic Presentation Forms-B"](Xr))));if(rn.imageName){const Eo=st[rn.imageName];if(!Eo)continue;Cs=rn.imageName,Ve.iconsInText=Ve.iconsInText||!0,Ss=Eo.paddedRect;const Qi=Eo.displaySize;rn.scale=rn.scale*Rr/Kt,Ko={width:Qi[0],height:Qi[1],left:Xi,top:-I2,advance:Xo?Qi[1]:Qi[0]},Or=fi+(Rr-Qi[1]*rn.scale),Aa=Ko.advance;const ka=Xo?Qi[0]*rn.scale-Rr*zr:Qi[1]*rn.scale-Rr*zr;ka>0&&ka>Yi&&(Yi=ka)}else{const Eo=yt[rn.fontStack],Qi=Eo&&Eo[si];if(Qi&&Qi.rect)Ss=Qi.rect,Ko=Qi.metrics;else{const ka=lt[rn.fontStack],qd=ka&&ka[si];if(!qd)continue;Ko=qd.metrics}Or=(zr-rn.scale)*Rr}Xo?(Ve.verticalizable=!0,mi.push({glyph:si,imageName:Cs,x:Gn,y:Zn+Or,vertical:Xo,scale:rn.scale,fontStack:rn.fontStack,sectionIndex:gi,metrics:Ko,rect:Ss}),Gn+=Aa*rn.scale+Tt):(mi.push({glyph:si,imageName:Cs,x:Gn,y:Zn+Or,vertical:Xo,scale:rn.scale,fontStack:rn.fontStack,sectionIndex:gi,metrics:Ko,rect:Ss}),Gn+=Ko.advance*rn.scale+Tt)}mi.length!==0&&(Lr=Math.max(Gn-Tt,Lr),Gz(mi,0,mi.length-1,Ii,Yi)),Gn=0;const Ji=Qe*zr+Yi;Li.lineOffset=Math.max(Yi,fi),Zn+=Ji,fo=Math.max(Ji,fo),++Tr}var Xr;const oi=Zn-$d,{horizontalAlign:Mi,verticalAlign:Ri}=Qv(dt);(function(Dr,zr,fi,Li,mi,Yi,Ji,Br,rn){const gi=(zr-fi)*mi;let si=0;si=Yi!==Ji?-Br*Li-$d:(-Li*rn+.5)*Ji;for(const Or of Dr)for(const Ko of Or.positionedGlyphs)Ko.x+=gi,Ko.y+=si})(Ve.positionedLines,Ii,Mi,Ri,Lr,fo,Qe,oi,it.length),Ve.top+=-Ri*oi,Ve.bottom=Ve.top+oi,Ve.left+=-Mi*Lr,Ve.right=Ve.left+Lr}(Pe,r,l,d,pe,x,S,P,N,M,W,te),!function(Ve){for(const lt of Ve)if(lt.positionedGlyphs.length!==0)return!1;return!0}(Ce)&&Pe}const $m={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Uz={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function L2(s,r,l,d,m,v){if(r.imageName){const x=d[r.imageName];return x?x.displaySize[0]*r.scale*Rr/v+m:0}{const x=l[r.fontStack],S=x&&x[s];return S?S.metrics.advance*r.scale+m:0}}function D2(s,r,l,d){const m=Math.pow(s-r,2);return d?s<r?m/2:2*m:m+Math.abs(l)*l}function Wz(s,r,l){let d=0;return s===10&&(d-=1e4),l&&(d+=150),s!==40&&s!==65288||(d+=50),r!==41&&r!==65289||(d+=50),d}function z2(s,r,l,d,m,v){let x=null,S=D2(r,l,m,v);for(const P of d){const M=D2(r-P.x,l,m,v)+P.badness;M<=S&&(x=P,S=M)}return{index:s,x:r,priorBreak:x,badness:S}}function B2(s){return s?B2(s.priorBreak).concat(s.index):[]}function Jv(s,r,l,d,m,v,x){if(v!=="point")return[];if(!s)return[];const S=[],P=function(W,X,Y,te,ce,pe){let we=0;for(let ge=0;ge<W.length();ge++){const Ce=W.getSection(ge);we+=L2(W.getCharCode(ge),Ce,te,ce,X,pe)}return we/Math.max(1,Math.ceil(we/Y))}(s,r,l,d,m,x),M=s.text.indexOf("")>=0;let D=0;for(let W=0;W<s.length();W++){const X=s.getSection(W),Y=s.getCharCode(W);if($m[Y]||(D+=L2(Y,X,d,m,r,x)),W<s.length()-1){const te=!((N=Y)<11904||!(at["Bopomofo Extended"](N)||at.Bopomofo(N)||at["CJK Compatibility Forms"](N)||at["CJK Compatibility Ideographs"](N)||at["CJK Compatibility"](N)||at["CJK Radicals Supplement"](N)||at["CJK Strokes"](N)||at["CJK Symbols and Punctuation"](N)||at["CJK Unified Ideographs Extension A"](N)||at["CJK Unified Ideographs"](N)||at["Enclosed CJK Letters and Months"](N)||at["Halfwidth and Fullwidth Forms"](N)||at.Hiragana(N)||at["Ideographic Description Characters"](N)||at["Kangxi Radicals"](N)||at["Katakana Phonetic Extensions"](N)||at.Katakana(N)||at["Vertical Forms"](N)||at["Yi Radicals"](N)||at["Yi Syllables"](N)));(Uz[Y]||te||X.imageName)&&S.push(z2(W+1,D,P,S,Wz(Y,s.getCharCode(W+1),te&&M),!1))}}var N;return B2(z2(s.length(),D,P,S,0,!0))}function Qv(s){let r=.5,l=.5;switch(s){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:r,verticalAlign:l}}function Gz(s,r,l,d,m){if(!d&&!m)return;const v=s[l],x=(s[l].x+v.metrics.advance*v.scale)*d;for(let S=r;S<=l;S++)s[S].x-=x,s[S].y+=m}function qz(s,r,l){const{horizontalAlign:d,verticalAlign:m}=Qv(l),v=r[0]-s.displaySize[0]*d,x=r[1]-s.displaySize[1]*m;return{image:s,top:x,bottom:x+s.displaySize[1],left:v,right:v+s.displaySize[0]}}function O2(s,r,l,d,m,v){const x=s.image;let S;if(x.content){const ce=x.content,pe=x.pixelRatio||1;S=[ce[0]/pe,ce[1]/pe,x.displaySize[0]-ce[2]/pe,x.displaySize[1]-ce[3]/pe]}const P=r.left*v,M=r.right*v;let D,N,W,X;l==="width"||l==="both"?(X=m[0]+P-d[3],N=m[0]+M+d[1]):(X=m[0]+(P+M-x.displaySize[0])/2,N=X+x.displaySize[0]);const Y=r.top*v,te=r.bottom*v;return l==="height"||l==="both"?(D=m[1]+Y-d[0],W=m[1]+te+d[2]):(D=m[1]+(Y+te-x.displaySize[1])/2,W=D+x.displaySize[1]),{image:x,top:D,right:N,bottom:W,left:X,collisionPadding:S}}const jd=255,qs=128,dl=jd*qs;function F2(s,r){const{expression:l}=r;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new Un(s+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:m}=l;let v=0;for(;v<d.length&&d[v]<=s;)v++;v=Math.max(0,v-1);let x=v;for(;x<d.length&&d[x]<s+1;)x++;x=Math.min(d.length-1,x);const S=d[v],P=d[x];return l.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:P,interpolationType:m}:{kind:"camera",minZoom:S,maxZoom:P,minSize:l.evaluate(new Un(S)),maxSize:l.evaluate(new Un(P)),interpolationType:m}}}function e_(s,r,l){let d="never";const m=s.get(r);return m?d=m:s.get(l)&&(d="always"),d}const Hz=ul.VectorTileFeature.types,Zz=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vm(s,r,l,d,m,v,x,S,P,M,D,N,W){const X=S?Math.min(dl,Math.round(S[0])):0,Y=S?Math.min(dl,Math.round(S[1])):0;s.emplaceBack(r,l,Math.round(32*d),Math.round(32*m),v,x,(X<<1)+(P?1:0),Y,16*M,16*D,256*N,256*W)}function t_(s,r,l){s.emplaceBack(r.x,r.y,l),s.emplaceBack(r.x,r.y,l),s.emplaceBack(r.x,r.y,l),s.emplaceBack(r.x,r.y,l)}function Kz(s){for(const r of s.sections)if(Pv(r.text))return!0;return!1}class n_{constructor(r){this.layoutVertexArray=new Xt,this.indexArray=new Zr,this.programConfigurations=r,this.segments=new Wn,this.dynamicLayoutVertexArray=new Wt,this.opacityVertexArray=new en,this.hasVisibleVertices=!1,this.placedSymbolArray=new _e}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,l,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ez.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,Pz.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,Zz,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ht("SymbolBuffers",n_);class r_{constructor(r,l,d){this.layoutVertexArray=new r,this.layoutAttributes=l,this.indexArray=new d,this.segments=new Wn,this.collisionVertexArray=new $n}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,Az.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ht("CollisionBuffers",r_);class Eu{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(x=>x.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Dv([]),this.placementViewportMatrix=Dv([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=F2(this.zoom,l["text-size"]),this.iconSizeData=F2(this.zoom,l["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=e_(d,"text-overlap","text-allow-overlap")!=="never"||e_(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(x=>a.ai[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=r.sourceID}createArrays(){this.text=new n_(new ws(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new n_(new ws(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new xe,this.lineVertexArray=new Ae,this.symbolInstances=new he,this.textAnchorOffsets=new Ne}calculateGlyphDependencies(r,l,d,m,v){for(let x=0;x<r.length;x++)if(l[r.charCodeAt(x)]=!0,(d||m)&&v){const S=Nd[r.charAt(x)];S&&(l[S.charCodeAt(0)]=!0)}}populate(r,l,d){const m=this.layers[0],v=m.layout,x=v.get("text-font"),S=v.get("text-field"),P=v.get("icon-image"),M=(S.value.kind!=="constant"||S.value.value instanceof ni&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),D=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,N=v.get("symbol-sort-key");if(this.features=[],!M&&!D)return;const W=l.iconDependencies,X=l.glyphDependencies,Y=l.availableImages,te=new Un(this.zoom);for(const{feature:ce,id:pe,index:we,sourceLayerIndex:ge}of r){const Ce=m._featureFilter.needGeometry,Pe=lc(ce,Ce);if(!m._featureFilter.filter(te,Pe,d))continue;let Ve,lt;if(Ce||(Pe.geometry=ac(ce)),M){const st=m.getValueAndResolveTokens("text-field",Pe,d,Y),it=ni.factory(st);Kz(it)&&(this.hasRTLText=!0),(!this.hasRTLText||_d()==="unavailable"||this.hasRTLText&&Zi.isParsed())&&(Ve=Iz(it,m,Pe))}if(D){const st=m.getValueAndResolveTokens("icon-image",Pe,d,Y);lt=st instanceof Hr?st:Hr.fromString(st)}if(!Ve&&!lt)continue;const yt=this.sortFeaturesByKey?N.evaluate(Pe,{},d):void 0;if(this.features.push({id:pe,text:Ve,icon:lt,index:we,sourceLayerIndex:ge,geometry:Pe.geometry,properties:ce.properties,type:Hz[ce.type],sortKey:yt}),lt&&(W[lt.name]=!0),Ve){const st=x.evaluate(Pe,{},d).join(","),it=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ai.vertical)>=0;for(const Qe of Ve.sections)if(Qe.image)W[Qe.image.name]=!0;else{const dt=hd(Ve.toString()),nt=Qe.fontStack||st,Xe=X[nt]=X[nt]||{};this.calculateGlyphDependencies(Qe.text,Xe,it,this.allowVerticalPlacement,dt)}}}v.get("symbol-placement")==="line"&&(this.features=function(ce){const pe={},we={},ge=[];let Ce=0;function Pe(st){ge.push(ce[st]),Ce++}function Ve(st,it,Qe){const dt=we[st];return delete we[st],we[it]=dt,ge[dt].geometry[0].pop(),ge[dt].geometry[0]=ge[dt].geometry[0].concat(Qe[0]),dt}function lt(st,it,Qe){const dt=pe[it];return delete pe[it],pe[st]=dt,ge[dt].geometry[0].shift(),ge[dt].geometry[0]=Qe[0].concat(ge[dt].geometry[0]),dt}function yt(st,it,Qe){const dt=Qe?it[0][it[0].length-1]:it[0][0];return`${st}:${dt.x}:${dt.y}`}for(let st=0;st<ce.length;st++){const it=ce[st],Qe=it.geometry,dt=it.text?it.text.toString():null;if(!dt){Pe(st);continue}const nt=yt(dt,Qe),Xe=yt(dt,Qe,!0);if(nt in we&&Xe in pe&&we[nt]!==pe[Xe]){const Tt=lt(nt,Xe,Qe),_t=Ve(nt,Xe,ge[Tt].geometry);delete pe[nt],delete we[Xe],we[yt(dt,ge[_t].geometry,!0)]=_t,ge[Tt].geometry=null}else nt in we?Ve(nt,Xe,Qe):Xe in pe?lt(nt,Xe,Qe):(Pe(st),pe[nt]=Ce-1,we[Xe]=Ce-1)}return ge.filter(st=>st.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ce,pe)=>ce.sortKey-pe.sortKey)}update(r,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,l,this.layers,d),this.icon.programConfigurations.updatePaintArrays(r,l,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,l){const d=this.lineVertexArray.length;if(r.segment!==void 0){let m=r.dist(l[r.segment+1]),v=r.dist(l[r.segment]);const x={};for(let S=r.segment+1;S<l.length;S++)x[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:m},S<l.length-1&&(m+=l[S+1].dist(l[S]));for(let S=r.segment||0;S>=0;S--)x[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:v},S>0&&(v+=l[S-1].dist(l[S]));for(let S=0;S<l.length;S++){const P=x[S];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(r,l,d,m,v,x,S,P,M,D,N,W){const X=r.indexArray,Y=r.layoutVertexArray,te=r.segments.prepareSegment(4*l.length,Y,X,this.canOverlap?x.sortKey:void 0),ce=this.glyphOffsetArray.length,pe=te.vertexLength,we=this.allowVerticalPlacement&&S===a.ai.vertical?Math.PI/2:0,ge=x.text&&x.text.sections;for(let Ce=0;Ce<l.length;Ce++){const{tl:Pe,tr:Ve,bl:lt,br:yt,tex:st,pixelOffsetTL:it,pixelOffsetBR:Qe,minFontScaleX:dt,minFontScaleY:nt,glyphOffset:Xe,isSDF:Tt,sectionIndex:_t}=l[Ce],Kt=te.vertexLength,Gn=Xe[1];Vm(Y,P.x,P.y,Pe.x,Gn+Pe.y,st.x,st.y,d,Tt,it.x,it.y,dt,nt),Vm(Y,P.x,P.y,Ve.x,Gn+Ve.y,st.x+st.w,st.y,d,Tt,Qe.x,it.y,dt,nt),Vm(Y,P.x,P.y,lt.x,Gn+lt.y,st.x,st.y+st.h,d,Tt,it.x,Qe.y,dt,nt),Vm(Y,P.x,P.y,yt.x,Gn+yt.y,st.x+st.w,st.y+st.h,d,Tt,Qe.x,Qe.y,dt,nt),t_(r.dynamicLayoutVertexArray,P,we),X.emplaceBack(Kt,Kt+1,Kt+2),X.emplaceBack(Kt+1,Kt+2,Kt+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Xe[0]),Ce!==l.length-1&&_t===l[Ce+1].sectionIndex||r.programConfigurations.populatePaintArrays(Y.length,x,x.index,{},W,ge&&ge[_t])}r.placedSymbolArray.emplaceBack(P.x,P.y,ce,this.glyphOffsetArray.length-ce,pe,M,D,P.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],S,0,!1,0,N)}_addCollisionDebugVertex(r,l,d,m,v,x){return l.emplaceBack(0,0),r.emplaceBack(d.x,d.y,m,v,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(r,l,d,m,v,x,S){const P=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),M=P.vertexLength,D=v.layoutVertexArray,N=v.collisionVertexArray,W=S.anchorX,X=S.anchorY;this._addCollisionDebugVertex(D,N,x,W,X,new I(r,l)),this._addCollisionDebugVertex(D,N,x,W,X,new I(d,l)),this._addCollisionDebugVertex(D,N,x,W,X,new I(d,m)),this._addCollisionDebugVertex(D,N,x,W,X,new I(r,m)),P.vertexLength+=4;const Y=v.indexArray;Y.emplaceBack(M,M+1),Y.emplaceBack(M+1,M+2),Y.emplaceBack(M+2,M+3),Y.emplaceBack(M+3,M),P.primitiveLength+=4}addDebugCollisionBoxes(r,l,d,m){for(let v=r;v<l;v++){const x=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,m?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new r_(ur,w2.members,Ir),this.iconCollisionBox=new r_(ur,w2.members,Ir);for(let r=0;r<this.symbolInstances.length;r++){const l=this.symbolInstances.get(r);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(r,l,d,m,v,x,S,P,M){const D={};for(let N=l;N<d;N++){const W=r.get(N);D.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},D.textFeatureIndex=W.featureIndex;break}for(let N=m;N<v;N++){const W=r.get(N);D.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},D.verticalTextFeatureIndex=W.featureIndex;break}for(let N=x;N<S;N++){const W=r.get(N);D.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},D.iconFeatureIndex=W.featureIndex;break}for(let N=P;N<M;N++){const W=r.get(N);D.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},D.verticalIconFeatureIndex=W.featureIndex;break}return D}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,l){const d=r.placedSymbolArray.get(l),m=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<m;v+=4)r.indexArray.emplaceBack(v,v+1,v+2),r.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(r),d=Math.cos(r),m=[],v=[],x=[];for(let S=0;S<this.symbolInstances.length;++S){x.push(S);const P=this.symbolInstances.get(S);m.push(0|Math.round(l*P.anchorX+d*P.anchorY)),v.push(P.featureIndex)}return x.sort((S,P)=>m[S]-m[P]||v[P]-v[S]),x}addToSortKeyRanges(r,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,v,x)=>{m>=0&&x.indexOf(m)===v&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let N2,$2;ht("SymbolBucket",Eu,{omit:["layers","collisionBoxArray","features","compareText"]}),Eu.MAX_GLYPHS=65535,Eu.addDynamicAttributes=t_;var i_={get paint(){return $2=$2||new mr({"icon-opacity":new kt(Ie.paint_symbol["icon-opacity"]),"icon-color":new kt(Ie.paint_symbol["icon-color"]),"icon-halo-color":new kt(Ie.paint_symbol["icon-halo-color"]),"icon-halo-width":new kt(Ie.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kt(Ie.paint_symbol["icon-halo-blur"]),"icon-translate":new bt(Ie.paint_symbol["icon-translate"]),"icon-translate-anchor":new bt(Ie.paint_symbol["icon-translate-anchor"]),"text-opacity":new kt(Ie.paint_symbol["text-opacity"]),"text-color":new kt(Ie.paint_symbol["text-color"],{runtimeType:hi,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new kt(Ie.paint_symbol["text-halo-color"]),"text-halo-width":new kt(Ie.paint_symbol["text-halo-width"]),"text-halo-blur":new kt(Ie.paint_symbol["text-halo-blur"]),"text-translate":new bt(Ie.paint_symbol["text-translate"]),"text-translate-anchor":new bt(Ie.paint_symbol["text-translate-anchor"])})},get layout(){return N2=N2||new mr({"symbol-placement":new bt(Ie.layout_symbol["symbol-placement"]),"symbol-spacing":new bt(Ie.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new bt(Ie.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kt(Ie.layout_symbol["symbol-sort-key"]),"symbol-z-order":new bt(Ie.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new bt(Ie.layout_symbol["icon-allow-overlap"]),"icon-overlap":new bt(Ie.layout_symbol["icon-overlap"]),"icon-ignore-placement":new bt(Ie.layout_symbol["icon-ignore-placement"]),"icon-optional":new bt(Ie.layout_symbol["icon-optional"]),"icon-rotation-alignment":new bt(Ie.layout_symbol["icon-rotation-alignment"]),"icon-size":new kt(Ie.layout_symbol["icon-size"]),"icon-text-fit":new bt(Ie.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new bt(Ie.layout_symbol["icon-text-fit-padding"]),"icon-image":new kt(Ie.layout_symbol["icon-image"]),"icon-rotate":new kt(Ie.layout_symbol["icon-rotate"]),"icon-padding":new kt(Ie.layout_symbol["icon-padding"]),"icon-keep-upright":new bt(Ie.layout_symbol["icon-keep-upright"]),"icon-offset":new kt(Ie.layout_symbol["icon-offset"]),"icon-anchor":new kt(Ie.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new bt(Ie.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new bt(Ie.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new bt(Ie.layout_symbol["text-rotation-alignment"]),"text-field":new kt(Ie.layout_symbol["text-field"]),"text-font":new kt(Ie.layout_symbol["text-font"]),"text-size":new kt(Ie.layout_symbol["text-size"]),"text-max-width":new kt(Ie.layout_symbol["text-max-width"]),"text-line-height":new bt(Ie.layout_symbol["text-line-height"]),"text-letter-spacing":new kt(Ie.layout_symbol["text-letter-spacing"]),"text-justify":new kt(Ie.layout_symbol["text-justify"]),"text-radial-offset":new kt(Ie.layout_symbol["text-radial-offset"]),"text-variable-anchor":new bt(Ie.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new kt(Ie.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new kt(Ie.layout_symbol["text-anchor"]),"text-max-angle":new bt(Ie.layout_symbol["text-max-angle"]),"text-writing-mode":new bt(Ie.layout_symbol["text-writing-mode"]),"text-rotate":new kt(Ie.layout_symbol["text-rotate"]),"text-padding":new bt(Ie.layout_symbol["text-padding"]),"text-keep-upright":new bt(Ie.layout_symbol["text-keep-upright"]),"text-transform":new kt(Ie.layout_symbol["text-transform"]),"text-offset":new kt(Ie.layout_symbol["text-offset"]),"text-allow-overlap":new bt(Ie.layout_symbol["text-allow-overlap"]),"text-overlap":new bt(Ie.layout_symbol["text-overlap"]),"text-ignore-placement":new bt(Ie.layout_symbol["text-ignore-placement"]),"text-optional":new bt(Ie.layout_symbol["text-optional"])})}};class V2{constructor(r){if(r.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=r.property.overrides?r.property.overrides.runtimeType:pn,this.defaultValue=r}evaluate(r){if(r.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(r.formattedSection))return l.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ht("FormatSectionOverride",V2,{omit:["defaultValue"]});class jm extends ho{constructor(r){super(r,i_)}recalculate(r,l){if(super.recalculate(r,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const v of d)m.indexOf(v)<0&&m.push(v);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(r,l,d,m){const v=this.layout.get(r).evaluate(l,{},d,m),x=this._unevaluatedLayout._values[r];return x.isDataDriven()||su(x.value)||!v?v:function(S,P){return P.replace(/{([^{}]+)}/g,(M,D)=>S&&D in S?String(S[D]):"")}(l.properties,v)}createBucket(r){return new Eu(r)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const r of i_.paint.overridableProperties){if(!jm.hasPaintOverride(this.layout,r))continue;const l=this.paint.get(r),d=new V2(l),m=new od(d,l.property.specification);let v=null;v=l.value.kind==="constant"||l.value.kind==="source"?new sd("source",m):new lu("composite",m,l.value.zoomStops),this.paint._values[r]=new di(l.property,v,l.parameters)}}_handleOverridablePaintPropertyUpdate(r,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&jm.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,l){const d=r.get("text-field"),m=i_.paint.properties[l];let v=!1;const x=S=>{for(const P of S)if(m.overrides&&m.overrides.hasOverride(P))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof ni)x(d.value.value.sections);else if(d.value.kind==="source"){const S=M=>{v||(M instanceof ma&&Jn(M.value)===se?x(M.value.sections):M instanceof ou?x(M.sections):M.eachChild(S))},P=d.value;P._styleExpression&&S(P._styleExpression.expression)}return v}}let j2;var Xz={get paint(){return j2=j2||new mr({"background-color":new bt(Ie.paint_background["background-color"]),"background-pattern":new bd(Ie.paint_background["background-pattern"]),"background-opacity":new bt(Ie.paint_background["background-opacity"])})}};class Yz extends ho{constructor(r){super(r,Xz)}}let U2;var Jz={get paint(){return U2=U2||new mr({"raster-opacity":new bt(Ie.paint_raster["raster-opacity"]),"raster-hue-rotate":new bt(Ie.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new bt(Ie.paint_raster["raster-brightness-min"]),"raster-brightness-max":new bt(Ie.paint_raster["raster-brightness-max"]),"raster-saturation":new bt(Ie.paint_raster["raster-saturation"]),"raster-contrast":new bt(Ie.paint_raster["raster-contrast"]),"raster-resampling":new bt(Ie.paint_raster["raster-resampling"]),"raster-fade-duration":new bt(Ie.paint_raster["raster-fade-duration"])})}};class Qz extends ho{constructor(r){super(r,Jz)}}class e3 extends ho{constructor(r){super(r,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class t3{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const o_=63710088e-1;class pl{constructor(r,l){if(isNaN(r)||isNaN(l))throw new Error(`Invalid LngLat object: (${r}, ${l})`);if(this.lng=+r,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new pl(ye(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const l=Math.PI/180,d=this.lat*l,m=r.lat*l,v=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((r.lng-this.lng)*l);return o_*Math.acos(Math.min(v,1))}static convert(r){if(r instanceof pl)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new pl(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new pl(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const W2=2*Math.PI*o_;function G2(s){return W2*Math.cos(s*Math.PI/180)}function q2(s){return(180+s)/360}function H2(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function Z2(s,r){return s/G2(r)}function K2(s){return 360*s-180}function s_(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}class Um{constructor(r,l,d=0){this.x=+r,this.y=+l,this.z=+d}static fromLngLat(r,l=0){const d=pl.convert(r);return new Um(q2(d.lng),H2(d.lat),Z2(l,d.lat))}toLngLat(){return new pl(K2(this.x),s_(this.y))}toAltitude(){return this.z*G2(s_(this.y))}meterInMercatorCoordinateUnits(){return 1/W2*(r=s_(this.y),1/Math.cos(r*Math.PI/180));var r}}function X2(s,r,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[s*d-2*Math.PI*6378137/2,r*d-2*Math.PI*6378137/2]}class a_{constructor(r,l,d){if(r<0||r>25||d<0||d>=Math.pow(2,r)||l<0||l>=Math.pow(2,r))throw new Error(`x=${l}, y=${d}, z=${r} outside of bounds. 0<=x<${Math.pow(2,r)}, 0<=y<${Math.pow(2,r)} 0<=z<=25 `);this.z=r,this.x=l,this.y=d,this.key=Ud(0,r,r,l,d)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,l,d){const m=(x=this.y,S=this.z,P=X2(256*(v=this.x),256*(x=Math.pow(2,S)-x-1),S),M=X2(256*(v+1),256*(x+1),S),P[0]+","+P[1]+","+M[0]+","+M[1]);var v,x,S,P,M;const D=function(N,W,X){let Y,te="";for(let ce=N;ce>0;ce--)Y=1<<ce-1,te+=(W&Y?1:0)+(X&Y?2:0);return te}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,D).replace(/{bbox-epsg-3857}/g,m)}isChildOf(r){const l=this.z-r.z;return l>0&&r.x===this.x>>l&&r.y===this.y>>l}getTilePoint(r){const l=Math.pow(2,this.z);return new I((r.x*l-this.x)*Cr,(r.y*l-this.y)*Cr)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Y2{constructor(r,l){this.wrap=r,this.canonical=l,this.key=Ud(r,l.z,l.z,l.x,l.y)}}class To{constructor(r,l,d,m,v){if(r<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${r}; z = ${d}`);this.overscaledZ=r,this.wrap=l,this.canonical=new a_(d,+m,+v),this.key=Ud(l,r,d,m,v)}clone(){return new To(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-r;return r>this.canonical.z?new To(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new To(r,this.wrap,r,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(r,l){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-r;return r>this.canonical.z?Ud(this.wrap*+l,r,this.canonical.z,this.canonical.x,this.canonical.y):Ud(this.wrap*+l,r,r,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(r){if(r.wrap!==this.wrap)return!1;const l=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>l&&r.canonical.y===this.canonical.y>>l}children(r){if(this.overscaledZ>=r)return[new To(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new To(l,this.wrap,l,d,m),new To(l,this.wrap,l,d+1,m),new To(l,this.wrap,l,d,m+1),new To(l,this.wrap,l,d+1,m+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new To(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new To(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Y2(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(r){return this.canonical.getTilePoint(new Um(r.x-this.wrap,r.y))}}function Ud(s,r,l,d,m){(s*=2)<0&&(s=-1*s-1);const v=1<<l;return(v*v*s+v*m+d).toString(36)+l.toString(36)+r.toString(36)}ht("CanonicalTileID",a_),ht("OverscaledTileID",To,{omit:["posMatrix"]});class J2{constructor(r,l,d,m=1,v=1,x=1,S=0){if(this.uid=r,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void qe(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;const P=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=v,this.blueFactor=x,this.baseShift=S;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let M=0;M<P;M++)this.data[this._idx(-1,M)]=this.data[this._idx(0,M)],this.data[this._idx(P,M)]=this.data[this._idx(P-1,M)],this.data[this._idx(M,-1)]=this.data[this._idx(M,0)],this.data[this._idx(M,P)]=this.data[this._idx(M,P-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(P,-1)]=this.data[this._idx(P-1,0)],this.data[this._idx(-1,P)]=this.data[this._idx(0,P-1)],this.data[this._idx(P,P)]=this.data[this._idx(P-1,P-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let M=0;M<P;M++)for(let D=0;D<P;D++){const N=this.get(M,D);N>this.max&&(this.max=N),N<this.min&&(this.min=N)}}get(r,l){const d=new Uint8Array(this.data.buffer),m=4*this._idx(r,l);return this.unpack(d[m],d[m+1],d[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(r,l){if(r<-1||r>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(r+1)}unpack(r,l,d){return r*this.redFactor+l*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Co({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(r,l,d){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,v=l*this.dim+this.dim,x=d*this.dim,S=d*this.dim+this.dim;switch(l){case-1:m=v-1;break;case 1:v=m+1}switch(d){case-1:x=S-1;break;case 1:S=x+1}const P=-l*this.dim,M=-d*this.dim;for(let D=x;D<S;D++)for(let N=m;N<v;N++)this.data[this._idx(N,D)]=r.data[this._idx(N+P,D+M)]}}ht("DEMData",J2);class Q2{constructor(r){this._stringToNumber={},this._numberToString=[];for(let l=0;l<r.length;l++){const d=r[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(r){return this._stringToNumber[r]}decode(r){if(r>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${r} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[r]}}class eC{constructor(r,l,d,m,v){this.type="Feature",this._vectorTileFeature=r,r._z=l,r._x=d,r._y=m,this.properties=r.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={geometry:this.geometry};for(const l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(r[l]=this[l]);return r}}class tC{constructor(r,l){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new ol(Cr,16,0),this.grid3D=new ol(Cr,16,0),this.featureIndexArray=new We,this.promoteId=l}insert(r,l,d,m,v,x){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,v);const P=x?this.grid3D:this.grid;for(let M=0;M<l.length;M++){const D=l[M],N=[1/0,1/0,-1/0,-1/0];for(let W=0;W<D.length;W++){const X=D[W];N[0]=Math.min(N[0],X.x),N[1]=Math.min(N[1],X.y),N[2]=Math.max(N[2],X.x),N[3]=Math.max(N[3],X.y)}N[0]<Cr&&N[1]<Cr&&N[2]>=0&&N[3]>=0&&P.insert(S,N[0],N[1],N[2],N[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ul.VectorTile(new Kv(this.rawTileData)).layers,this.sourceLayerCoder=new Q2(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(r,l,d,m){this.loadVTLayers();const v=r.params||{},x=Cr/r.tileSize/r.scale,S=ld(v.filter),P=r.queryGeometry,M=r.queryPadding*x,D=rC(P),N=this.grid.query(D.minX-M,D.minY-M,D.maxX+M,D.maxY+M),W=rC(r.cameraQueryGeometry),X=this.grid3D.query(W.minX-M,W.minY-M,W.maxX+M,W.maxY+M,(ce,pe,we,ge)=>function(Ce,Pe,Ve,lt,yt){for(const it of Ce)if(Pe<=it.x&&Ve<=it.y&&lt>=it.x&&yt>=it.y)return!0;const st=[new I(Pe,Ve),new I(Pe,yt),new I(lt,yt),new I(lt,Ve)];if(Ce.length>2){for(const it of st)if(_u(Ce,it))return!0}for(let it=0;it<Ce.length-1;it++)if(LD(Ce[it],Ce[it+1],st))return!0;return!1}(r.cameraQueryGeometry,ce-M,pe-M,we+M,ge+M));for(const ce of X)N.push(ce);N.sort(n3);const Y={};let te;for(let ce=0;ce<N.length;ce++){const pe=N[ce];if(pe===te)continue;te=pe;const we=this.featureIndexArray.get(pe);let ge=null;this.loadMatchingFeature(Y,we.bucketIndex,we.sourceLayerIndex,we.featureIndex,S,v.layers,v.availableImages,l,d,m,(Ce,Pe,Ve)=>(ge||(ge=ac(Ce)),Pe.queryIntersectsFeature(P,Ce,Ve,ge,this.z,r.transform,x,r.pixelPosMatrix)))}return Y}loadMatchingFeature(r,l,d,m,v,x,S,P,M,D,N){const W=this.bucketLayerIDs[l];if(x&&!function(ce,pe){for(let we=0;we<ce.length;we++)if(pe.indexOf(ce[we])>=0)return!0;return!1}(x,W))return;const X=this.sourceLayerCoder.decode(d),Y=this.vtLayers[X].feature(m);if(v.needGeometry){const ce=lc(Y,!0);if(!v.filter(new Un(this.tileID.overscaledZ),ce,this.tileID.canonical))return}else if(!v.filter(new Un(this.tileID.overscaledZ),Y))return;const te=this.getId(Y,X);for(let ce=0;ce<W.length;ce++){const pe=W[ce];if(x&&x.indexOf(pe)<0)continue;const we=P[pe];if(!we)continue;let ge={};te&&D&&(ge=D.getState(we.sourceLayer||"_geojsonTileLayer",te));const Ce=me({},M[pe]);Ce.paint=nC(Ce.paint,we.paint,Y,ge,S),Ce.layout=nC(Ce.layout,we.layout,Y,ge,S);const Pe=!N||N(Y,we,ge);if(!Pe)continue;const Ve=new eC(Y,this.z,this.x,this.y,te);Ve.layer=Ce;let lt=r[pe];lt===void 0&&(lt=r[pe]=[]),lt.push({featureIndex:m,feature:Ve,intersectionZ:Pe})}}lookupSymbolFeatures(r,l,d,m,v,x,S,P){const M={};this.loadVTLayers();const D=ld(v);for(const N of r)this.loadMatchingFeature(M,d,m,N,D,x,S,P,l);return M}hasLayer(r){for(const l of this.bucketLayerIDs)for(const d of l)if(r===d)return!0;return!1}getId(r,l){let d=r.id;return this.promoteId&&(d=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof d=="boolean"&&(d=Number(d))),d}}function nC(s,r,l,d,m){return G(s,(v,x)=>{const S=r instanceof yu?r.get(x):null;return S&&S.evaluate?S.evaluate(l,d,m):S})}function rC(s){let r=1/0,l=1/0,d=-1/0,m=-1/0;for(const v of s)r=Math.min(r,v.x),l=Math.min(l,v.y),d=Math.max(d,v.x),m=Math.max(m,v.y);return{minX:r,minY:l,maxX:d,maxY:m}}function n3(s,r){return r-s}function iC(s,r,l,d,m){const v=[];for(let x=0;x<s.length;x++){const S=s[x];let P;for(let M=0;M<S.length-1;M++){let D=S[M],N=S[M+1];D.x<r&&N.x<r||(D.x<r?D=new I(r,D.y+(r-D.x)/(N.x-D.x)*(N.y-D.y))._round():N.x<r&&(N=new I(r,D.y+(r-D.x)/(N.x-D.x)*(N.y-D.y))._round()),D.y<l&&N.y<l||(D.y<l?D=new I(D.x+(l-D.y)/(N.y-D.y)*(N.x-D.x),l)._round():N.y<l&&(N=new I(D.x+(l-D.y)/(N.y-D.y)*(N.x-D.x),l)._round()),D.x>=d&&N.x>=d||(D.x>=d?D=new I(d,D.y+(d-D.x)/(N.x-D.x)*(N.y-D.y))._round():N.x>=d&&(N=new I(d,D.y+(d-D.x)/(N.x-D.x)*(N.y-D.y))._round()),D.y>=m&&N.y>=m||(D.y>=m?D=new I(D.x+(m-D.y)/(N.y-D.y)*(N.x-D.x),m)._round():N.y>=m&&(N=new I(D.x+(m-D.y)/(N.y-D.y)*(N.x-D.x),m)._round()),P&&D.equals(P[P.length-1])||(P=[D],v.push(P)),P.push(N)))))}}return v}ht("FeatureIndex",tC,{omit:["rawTileData","sourceLayerCoder"]});class fl extends I{constructor(r,l,d,m){super(r,l),this.angle=d,m!==void 0&&(this.segment=m)}clone(){return new fl(this.x,this.y,this.angle,this.segment)}}function oC(s,r,l,d,m){if(r.segment===void 0||l===0)return!0;let v=r,x=r.segment+1,S=0;for(;S>-l/2;){if(x--,x<0)return!1;S-=s[x].dist(v),v=s[x]}S+=s[x].dist(s[x+1]),x++;const P=[];let M=0;for(;S<l/2;){const D=s[x],N=s[x+1];if(!N)return!1;let W=s[x-1].angleTo(D)-D.angleTo(N);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:S,angleDelta:W}),M+=W;S-P[0].distance>d;)M-=P.shift().angleDelta;if(M>m)return!1;x++,S+=D.dist(N)}return!0}function sC(s){let r=0;for(let l=0;l<s.length-1;l++)r+=s[l].dist(s[l+1]);return r}function aC(s,r,l){return s?.6*r*l:0}function lC(s,r){return Math.max(s?s.right-s.left:0,r?r.right-r.left:0)}function r3(s,r,l,d,m,v){const x=aC(l,m,v),S=lC(l,d)*v;let P=0;const M=sC(s)/2;for(let D=0;D<s.length-1;D++){const N=s[D],W=s[D+1],X=N.dist(W);if(P+X>M){const Y=(M-P)/X,te=Gi.number(N.x,W.x,Y),ce=Gi.number(N.y,W.y,Y),pe=new fl(te,ce,W.angleTo(N),D);return pe._round(),!x||oC(s,pe,S,x,r)?pe:void 0}P+=X}}function i3(s,r,l,d,m,v,x,S,P){const M=aC(d,v,x),D=lC(d,m),N=D*x,W=s[0].x===0||s[0].x===P||s[0].y===0||s[0].y===P;return r-N<r/4&&(r=N+r/4),cC(s,W?r/2*S%r:(D/2+2*v)*x*S%r,r,M,l,N,W,!1,P)}function cC(s,r,l,d,m,v,x,S,P){const M=v/2,D=sC(s);let N=0,W=r-l,X=[];for(let Y=0;Y<s.length-1;Y++){const te=s[Y],ce=s[Y+1],pe=te.dist(ce),we=ce.angleTo(te);for(;W+l<N+pe;){W+=l;const ge=(W-N)/pe,Ce=Gi.number(te.x,ce.x,ge),Pe=Gi.number(te.y,ce.y,ge);if(Ce>=0&&Ce<P&&Pe>=0&&Pe<P&&W-M>=0&&W+M<=D){const Ve=new fl(Ce,Pe,we,Y);Ve._round(),d&&!oC(s,Ve,v,d,m)||X.push(Ve)}}N+=pe}return S||X.length||x||(X=cC(s,N/2,l,d,m,v,x,!0,P)),X}ht("Anchor",fl);const Pu=Xi;function uC(s,r,l,d){const m=[],v=s.image,x=v.pixelRatio,S=v.paddedRect.w-2*Pu,P=v.paddedRect.h-2*Pu,M=s.right-s.left,D=s.bottom-s.top,N=v.stretchX||[[0,S]],W=v.stretchY||[[0,P]],X=(Qe,dt)=>Qe+dt[1]-dt[0],Y=N.reduce(X,0),te=W.reduce(X,0),ce=S-Y,pe=P-te;let we=0,ge=Y,Ce=0,Pe=te,Ve=0,lt=ce,yt=0,st=pe;if(v.content&&d){const Qe=v.content;we=Wm(N,0,Qe[0]),Ce=Wm(W,0,Qe[1]),ge=Wm(N,Qe[0],Qe[2]),Pe=Wm(W,Qe[1],Qe[3]),Ve=Qe[0]-we,yt=Qe[1]-Ce,lt=Qe[2]-Qe[0]-ge,st=Qe[3]-Qe[1]-Pe}const it=(Qe,dt,nt,Xe)=>{const Tt=Gm(Qe.stretch-we,ge,M,s.left),_t=qm(Qe.fixed-Ve,lt,Qe.stretch,Y),Kt=Gm(dt.stretch-Ce,Pe,D,s.top),Gn=qm(dt.fixed-yt,st,dt.stretch,te),Zn=Gm(nt.stretch-we,ge,M,s.left),Lr=qm(nt.fixed-Ve,lt,nt.stretch,Y),fo=Gm(Xe.stretch-Ce,Pe,D,s.top),Ii=qm(Xe.fixed-yt,st,Xe.stretch,te),Tr=new I(Tt,Kt),Xr=new I(Zn,Kt),oi=new I(Zn,fo),Mi=new I(Tt,fo),Ri=new I(_t/x,Gn/x),Dr=new I(Lr/x,Ii/x),zr=r*Math.PI/180;if(zr){const mi=Math.sin(zr),Yi=Math.cos(zr),Ji=[Yi,-mi,mi,Yi];Tr._matMult(Ji),Xr._matMult(Ji),Mi._matMult(Ji),oi._matMult(Ji)}const fi=Qe.stretch+Qe.fixed,Li=dt.stretch+dt.fixed;return{tl:Tr,tr:Xr,bl:Mi,br:oi,tex:{x:v.paddedRect.x+Pu+fi,y:v.paddedRect.y+Pu+Li,w:nt.stretch+nt.fixed-fi,h:Xe.stretch+Xe.fixed-Li},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ri,pixelOffsetBR:Dr,minFontScaleX:lt/x/M,minFontScaleY:st/x/D,isSDF:l}};if(d&&(v.stretchX||v.stretchY)){const Qe=hC(N,ce,Y),dt=hC(W,pe,te);for(let nt=0;nt<Qe.length-1;nt++){const Xe=Qe[nt],Tt=Qe[nt+1];for(let _t=0;_t<dt.length-1;_t++)m.push(it(Xe,dt[_t],Tt,dt[_t+1]))}}else m.push(it({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:P+1}));return m}function Wm(s,r,l){let d=0;for(const m of s)d+=Math.max(r,Math.min(l,m[1]))-Math.max(r,Math.min(l,m[0]));return d}function hC(s,r,l){const d=[{fixed:-Pu,stretch:0}];for(const[m,v]of s){const x=d[d.length-1];d.push({fixed:m-x.stretch,stretch:x.stretch}),d.push({fixed:m-x.stretch,stretch:x.stretch+(v-m)})}return d.push({fixed:r+Pu,stretch:l}),d}function Gm(s,r,l,d){return s/r*l+d}function qm(s,r,l,d){return s-r*l/d}class Hm{constructor(r,l,d,m,v,x,S,P,M,D){if(this.boxStartIndex=r.length,M){let N=x.top,W=x.bottom;const X=x.collisionPadding;X&&(N-=X[1],W+=X[3]);let Y=W-N;Y>0&&(Y=Math.max(10,Y),this.circleDiameter=Y)}else{let N=x.top*S-P[0],W=x.bottom*S+P[2],X=x.left*S-P[3],Y=x.right*S+P[1];const te=x.collisionPadding;if(te&&(X-=te[0]*S,N-=te[1]*S,Y+=te[2]*S,W+=te[3]*S),D){const ce=new I(X,N),pe=new I(Y,N),we=new I(X,W),ge=new I(Y,W),Ce=D*Math.PI/180;ce._rotate(Ce),pe._rotate(Ce),we._rotate(Ce),ge._rotate(Ce),X=Math.min(ce.x,pe.x,we.x,ge.x),Y=Math.max(ce.x,pe.x,we.x,ge.x),N=Math.min(ce.y,pe.y,we.y,ge.y),W=Math.max(ce.y,pe.y,we.y,ge.y)}r.emplaceBack(l.x,l.y,X,N,Y,W,d,m,v)}this.boxEndIndex=r.length}}class o3{constructor(r=[],l=s3){if(this.data=r,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:l,compare:d}=this,m=l[r];for(;r>0;){const v=r-1>>1,x=l[v];if(d(m,x)>=0)break;l[r]=x,r=v}l[r]=m}_down(r){const{data:l,compare:d}=this,m=this.length>>1,v=l[r];for(;r<m;){let x=1+(r<<1),S=l[x];const P=x+1;if(P<this.length&&d(l[P],S)<0&&(x=P,S=l[P]),d(S,v)>=0)break;l[r]=S,r=x}l[r]=v}}function s3(s,r){return s<r?-1:s>r?1:0}function a3(s,r=1,l=!1){let d=1/0,m=1/0,v=-1/0,x=-1/0;const S=s[0];for(let X=0;X<S.length;X++){const Y=S[X];(!X||Y.x<d)&&(d=Y.x),(!X||Y.y<m)&&(m=Y.y),(!X||Y.x>v)&&(v=Y.x),(!X||Y.y>x)&&(x=Y.y)}const P=Math.min(v-d,x-m);let M=P/2;const D=new o3([],l3);if(P===0)return new I(d,m);for(let X=d;X<v;X+=P)for(let Y=m;Y<x;Y+=P)D.push(new Au(X+M,Y+M,M,s));let N=function(X){let Y=0,te=0,ce=0;const pe=X[0];for(let we=0,ge=pe.length,Ce=ge-1;we<ge;Ce=we++){const Pe=pe[we],Ve=pe[Ce],lt=Pe.x*Ve.y-Ve.x*Pe.y;te+=(Pe.x+Ve.x)*lt,ce+=(Pe.y+Ve.y)*lt,Y+=3*lt}return new Au(te/Y,ce/Y,0,X)}(s),W=D.length;for(;D.length;){const X=D.pop();(X.d>N.d||!N.d)&&(N=X,l&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,W)),X.max-N.d<=r||(M=X.h/2,D.push(new Au(X.p.x-M,X.p.y-M,M,s)),D.push(new Au(X.p.x+M,X.p.y-M,M,s)),D.push(new Au(X.p.x-M,X.p.y+M,M,s)),D.push(new Au(X.p.x+M,X.p.y+M,M,s)),W+=4)}return l&&(console.log(`num probes: ${W}`),console.log(`best distance: ${N.d}`)),N.p}function l3(s,r){return r.max-s.max}function Au(s,r,l,d){this.p=new I(s,r),this.h=l,this.d=function(m,v){let x=!1,S=1/0;for(let P=0;P<v.length;P++){const M=v[P];for(let D=0,N=M.length,W=N-1;D<N;W=D++){const X=M[D],Y=M[W];X.y>m.y!=Y.y>m.y&&m.x<(Y.x-X.x)*(m.y-X.y)/(Y.y-X.y)+X.x&&(x=!x),S=Math.min(S,HS(m,X,Y))}}return(x?1:-1)*Math.sqrt(S)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var ii;a.aq=void 0,(ii=a.aq||(a.aq={}))[ii.center=1]="center",ii[ii.left=2]="left",ii[ii.right=3]="right",ii[ii.top=4]="top",ii[ii.bottom=5]="bottom",ii[ii["top-left"]=6]="top-left",ii[ii["top-right"]=7]="top-right",ii[ii["bottom-left"]=8]="bottom-left",ii[ii["bottom-right"]=9]="bottom-right";const ml=7,l_=Number.POSITIVE_INFINITY;function dC(s,r){return r[1]!==l_?function(l,d,m){let v=0,x=0;switch(d=Math.abs(d),m=Math.abs(m),l){case"top-right":case"top-left":case"top":x=m-ml;break;case"bottom-right":case"bottom-left":case"bottom":x=-m+ml}switch(l){case"top-right":case"bottom-right":case"right":v=-d;break;case"top-left":case"bottom-left":case"left":v=d}return[v,x]}(s,r[0],r[1]):function(l,d){let m=0,v=0;d<0&&(d=0);const x=d/Math.SQRT2;switch(l){case"top-right":case"top-left":v=x-ml;break;case"bottom-right":case"bottom-left":v=-x+ml;break;case"bottom":v=-d+ml;break;case"top":v=d-ml}switch(l){case"top-right":case"bottom-right":m=-x;break;case"top-left":case"bottom-left":m=x;break;case"left":m=d;break;case"right":m=-d}return[m,v]}(s,r[0])}function pC(s,r,l){var d;const m=s.layout,v=(d=m.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(r,{},l);if(v){const S=v.values,P=[];for(let M=0;M<S.length;M+=2){const D=P[M]=S[M],N=S[M+1].map(W=>W*Rr);D.startsWith("top")?N[1]-=ml:D.startsWith("bottom")&&(N[1]+=ml),P[M+1]=N}return new ao(P)}const x=m.get("text-variable-anchor");if(x){let S;S=s._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(r,{},l)*Rr,l_]:m.get("text-offset").evaluate(r,{},l).map(M=>M*Rr);const P=[];for(const M of x)P.push(M,dC(M,S));return new ao(P)}return null}function c_(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function c3(s,r,l,d,m,v,x,S,P,M,D){let N=v.textMaxSize.evaluate(r,{});N===void 0&&(N=x);const W=s.layers[0].layout,X=W.get("icon-offset").evaluate(r,{},D),Y=mC(l.horizontal),te=x/24,ce=s.tilePixelRatio*te,pe=s.tilePixelRatio*N/24,we=s.tilePixelRatio*S,ge=s.tilePixelRatio*W.get("symbol-spacing"),Ce=W.get("text-padding")*s.tilePixelRatio,Pe=function(Xe,Tt,_t,Kt=1){const Gn=Xe.get("icon-padding").evaluate(Tt,{},_t),Zn=Gn&&Gn.values;return[Zn[0]*Kt,Zn[1]*Kt,Zn[2]*Kt,Zn[3]*Kt]}(W,r,D,s.tilePixelRatio),Ve=W.get("text-max-angle")/180*Math.PI,lt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",yt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",st=W.get("symbol-placement"),it=ge/2,Qe=W.get("icon-text-fit");let dt;d&&Qe!=="none"&&(s.allowVerticalPlacement&&l.vertical&&(dt=O2(d,l.vertical,Qe,W.get("icon-text-fit-padding"),X,te)),Y&&(d=O2(d,Y,Qe,W.get("icon-text-fit-padding"),X,te)));const nt=(Xe,Tt)=>{Tt.x<0||Tt.x>=Cr||Tt.y<0||Tt.y>=Cr||function(_t,Kt,Gn,Zn,Lr,fo,Ii,Tr,Xr,oi,Mi,Ri,Dr,zr,fi,Li,mi,Yi,Ji,Br,rn,gi,si,Or,Ko){const Ss=_t.addToLineVertexArray(Kt,Gn);let Cs,Aa,Xo,Eo,Qi=0,ka=0,qd=0,_C=0,y_=-1,v_=-1;const Ia={};let xC=Ca("");if(_t.allowVerticalPlacement&&Zn.vertical){const yi=Tr.layout.get("text-rotate").evaluate(rn,{},Or)+90;Xo=new Hm(Xr,Kt,oi,Mi,Ri,Zn.vertical,Dr,zr,fi,yi),Ii&&(Eo=new Hm(Xr,Kt,oi,Mi,Ri,Ii,mi,Yi,fi,yi))}if(Lr){const yi=Tr.layout.get("icon-rotate").evaluate(rn,{}),Po=Tr.layout.get("icon-text-fit")!=="none",uc=uC(Lr,yi,si,Po),Es=Ii?uC(Ii,yi,si,Po):void 0;Aa=new Hm(Xr,Kt,oi,Mi,Ri,Lr,mi,Yi,!1,yi),Qi=4*uc.length;const hc=_t.iconSizeData;let Hs=null;hc.kind==="source"?(Hs=[qs*Tr.layout.get("icon-size").evaluate(rn,{})],Hs[0]>dl&&qe(`${_t.layerIds[0]}: Value for "icon-size" is >= ${jd}. Reduce your "icon-size".`)):hc.kind==="composite"&&(Hs=[qs*gi.compositeIconSizes[0].evaluate(rn,{},Or),qs*gi.compositeIconSizes[1].evaluate(rn,{},Or)],(Hs[0]>dl||Hs[1]>dl)&&qe(`${_t.layerIds[0]}: Value for "icon-size" is >= ${jd}. Reduce your "icon-size".`)),_t.addSymbols(_t.icon,uc,Hs,Br,Ji,rn,a.ai.none,Kt,Ss.lineStartIndex,Ss.lineLength,-1,Or),y_=_t.icon.placedSymbolArray.length-1,Es&&(ka=4*Es.length,_t.addSymbols(_t.icon,Es,Hs,Br,Ji,rn,a.ai.vertical,Kt,Ss.lineStartIndex,Ss.lineLength,-1,Or),v_=_t.icon.placedSymbolArray.length-1)}const bC=Object.keys(Zn.horizontal);for(const yi of bC){const Po=Zn.horizontal[yi];if(!Cs){xC=Ca(Po.text);const Es=Tr.layout.get("text-rotate").evaluate(rn,{},Or);Cs=new Hm(Xr,Kt,oi,Mi,Ri,Po,Dr,zr,fi,Es)}const uc=Po.positionedLines.length===1;if(qd+=fC(_t,Kt,Po,fo,Tr,fi,rn,Li,Ss,Zn.vertical?a.ai.horizontal:a.ai.horizontalOnly,uc?bC:[yi],Ia,y_,gi,Or),uc)break}Zn.vertical&&(_C+=fC(_t,Kt,Zn.vertical,fo,Tr,fi,rn,Li,Ss,a.ai.vertical,["vertical"],Ia,v_,gi,Or));const d3=Cs?Cs.boxStartIndex:_t.collisionBoxArray.length,p3=Cs?Cs.boxEndIndex:_t.collisionBoxArray.length,f3=Xo?Xo.boxStartIndex:_t.collisionBoxArray.length,m3=Xo?Xo.boxEndIndex:_t.collisionBoxArray.length,g3=Aa?Aa.boxStartIndex:_t.collisionBoxArray.length,y3=Aa?Aa.boxEndIndex:_t.collisionBoxArray.length,v3=Eo?Eo.boxStartIndex:_t.collisionBoxArray.length,_3=Eo?Eo.boxEndIndex:_t.collisionBoxArray.length;let Ts=-1;const Km=(yi,Po)=>yi&&yi.circleDiameter?Math.max(yi.circleDiameter,Po):Po;Ts=Km(Cs,Ts),Ts=Km(Xo,Ts),Ts=Km(Aa,Ts),Ts=Km(Eo,Ts);const wC=Ts>-1?1:0;wC&&(Ts*=Ko/Rr),_t.glyphOffsetArray.length>=Eu.MAX_GLYPHS&&qe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),rn.sortKey!==void 0&&_t.addToSortKeyRanges(_t.symbolInstances.length,rn.sortKey);const x3=pC(Tr,rn,Or),[b3,w3]=function(yi,Po){const uc=yi.length,Es=Po==null?void 0:Po.values;if((Es==null?void 0:Es.length)>0)for(let hc=0;hc<Es.length;hc+=2){const Hs=Es[hc+1];yi.emplaceBack(a.aq[Es[hc]],Hs[0],Hs[1])}return[uc,yi.length]}(_t.textAnchorOffsets,x3);_t.symbolInstances.emplaceBack(Kt.x,Kt.y,Ia.right>=0?Ia.right:-1,Ia.center>=0?Ia.center:-1,Ia.left>=0?Ia.left:-1,Ia.vertical||-1,y_,v_,xC,d3,p3,f3,m3,g3,y3,v3,_3,oi,qd,_C,Qi,ka,wC,0,Dr,Ts,b3,w3)}(s,Tt,Xe,l,d,m,dt,s.layers[0],s.collisionBoxArray,r.index,r.sourceLayerIndex,s.index,ce,[Ce,Ce,Ce,Ce],lt,P,we,Pe,yt,X,r,v,M,D,x)};if(st==="line")for(const Xe of iC(r.geometry,0,0,Cr,Cr)){const Tt=i3(Xe,ge,Ve,l.vertical||Y,d,24,pe,s.overscaling,Cr);for(const _t of Tt)Y&&u3(s,Y.text,it,_t)||nt(Xe,_t)}else if(st==="line-center"){for(const Xe of r.geometry)if(Xe.length>1){const Tt=r3(Xe,Ve,l.vertical||Y,d,24,pe);Tt&&nt(Xe,Tt)}}else if(r.type==="Polygon")for(const Xe of Vv(r.geometry,0)){const Tt=a3(Xe,16);nt(Xe[0],new fl(Tt.x,Tt.y,0))}else if(r.type==="LineString")for(const Xe of r.geometry)nt(Xe,new fl(Xe[0].x,Xe[0].y,0));else if(r.type==="Point")for(const Xe of r.geometry)for(const Tt of Xe)nt([Tt],new fl(Tt.x,Tt.y,0))}function fC(s,r,l,d,m,v,x,S,P,M,D,N,W,X,Y){const te=function(we,ge,Ce,Pe,Ve,lt,yt,st){const it=Pe.layout.get("text-rotate").evaluate(lt,{})*Math.PI/180,Qe=[];for(const dt of ge.positionedLines)for(const nt of dt.positionedGlyphs){if(!nt.rect)continue;const Xe=nt.rect||{};let Tt=I2+1,_t=!0,Kt=1,Gn=0;const Zn=(Ve||st)&&nt.vertical,Lr=nt.metrics.advance*nt.scale/2;if(st&&ge.verticalizable&&(Gn=dt.lineOffset/2-(nt.imageName?-(Rr-nt.metrics.width*nt.scale)/2:(nt.scale-1)*Rr)),nt.imageName){const Br=yt[nt.imageName];_t=Br.sdf,Kt=Br.pixelRatio,Tt=Xi/Kt}const fo=Ve?[nt.x+Lr,nt.y]:[0,0];let Ii=Ve?[0,0]:[nt.x+Lr+Ce[0],nt.y+Ce[1]-Gn],Tr=[0,0];Zn&&(Tr=Ii,Ii=[0,0]);const Xr=nt.metrics.isDoubleResolution?2:1,oi=(nt.metrics.left-Tt)*nt.scale-Lr+Ii[0],Mi=(-nt.metrics.top-Tt)*nt.scale+Ii[1],Ri=oi+Xe.w/Xr*nt.scale/Kt,Dr=Mi+Xe.h/Xr*nt.scale/Kt,zr=new I(oi,Mi),fi=new I(Ri,Mi),Li=new I(oi,Dr),mi=new I(Ri,Dr);if(Zn){const Br=new I(-Lr,Lr-$d),rn=-Math.PI/2,gi=Rr/2-Lr,si=new I(5-$d-gi,-(nt.imageName?gi:0)),Or=new I(...Tr);zr._rotateAround(rn,Br)._add(si)._add(Or),fi._rotateAround(rn,Br)._add(si)._add(Or),Li._rotateAround(rn,Br)._add(si)._add(Or),mi._rotateAround(rn,Br)._add(si)._add(Or)}if(it){const Br=Math.sin(it),rn=Math.cos(it),gi=[rn,-Br,Br,rn];zr._matMult(gi),fi._matMult(gi),Li._matMult(gi),mi._matMult(gi)}const Yi=new I(0,0),Ji=new I(0,0);Qe.push({tl:zr,tr:fi,bl:Li,br:mi,tex:Xe,writingMode:ge.writingMode,glyphOffset:fo,sectionIndex:nt.sectionIndex,isSDF:_t,pixelOffsetTL:Yi,pixelOffsetBR:Ji,minFontScaleX:0,minFontScaleY:0})}return Qe}(0,l,S,m,v,x,d,s.allowVerticalPlacement),ce=s.textSizeData;let pe=null;ce.kind==="source"?(pe=[qs*m.layout.get("text-size").evaluate(x,{})],pe[0]>dl&&qe(`${s.layerIds[0]}: Value for "text-size" is >= ${jd}. Reduce your "text-size".`)):ce.kind==="composite"&&(pe=[qs*X.compositeTextSizes[0].evaluate(x,{},Y),qs*X.compositeTextSizes[1].evaluate(x,{},Y)],(pe[0]>dl||pe[1]>dl)&&qe(`${s.layerIds[0]}: Value for "text-size" is >= ${jd}. Reduce your "text-size".`)),s.addSymbols(s.text,te,pe,S,v,x,M,r,P.lineStartIndex,P.lineLength,W,Y);for(const we of D)N[we]=s.text.placedSymbolArray.length-1;return 4*te.length}function mC(s){for(const r in s)return s[r];return null}function u3(s,r,l,d){const m=s.compareText;if(r in m){const v=m[r];for(let x=v.length-1;x>=0;x--)if(d.dist(v[x])<l)return!0}else m[r]=[];return m[r].push(d),!1}const gC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class u_{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,d]=new Uint8Array(r,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=d>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const v=gC[15&d];if(!v)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(r,2,1),[S]=new Uint32Array(r,4,1);return new u_(S,x,v,r)}constructor(r,l=64,d=Float64Array,m){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=d,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const v=gC.indexOf(this.ArrayType),x=2*r*this.ArrayType.BYTES_PER_ELEMENT,S=r*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-S%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${d}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+S+P,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+x+S+P),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+S+P,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=r)}add(r,l){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=r,this.coords[this._pos++]=l,d}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return h_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,l,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:x,nodeSize:S}=this,P=[0,v.length-1,0],M=[];for(;P.length;){const D=P.pop()||0,N=P.pop()||0,W=P.pop()||0;if(N-W<=S){for(let ce=W;ce<=N;ce++){const pe=x[2*ce],we=x[2*ce+1];pe>=r&&pe<=d&&we>=l&&we<=m&&M.push(v[ce])}continue}const X=W+N>>1,Y=x[2*X],te=x[2*X+1];Y>=r&&Y<=d&&te>=l&&te<=m&&M.push(v[X]),(D===0?r<=Y:l<=te)&&(P.push(W),P.push(X-1),P.push(1-D)),(D===0?d>=Y:m>=te)&&(P.push(X+1),P.push(N),P.push(1-D))}return M}within(r,l,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:v,nodeSize:x}=this,S=[0,m.length-1,0],P=[],M=d*d;for(;S.length;){const D=S.pop()||0,N=S.pop()||0,W=S.pop()||0;if(N-W<=x){for(let ce=W;ce<=N;ce++)vC(v[2*ce],v[2*ce+1],r,l)<=M&&P.push(m[ce]);continue}const X=W+N>>1,Y=v[2*X],te=v[2*X+1];vC(Y,te,r,l)<=M&&P.push(m[X]),(D===0?r-d<=Y:l-d<=te)&&(S.push(W),S.push(X-1),S.push(1-D)),(D===0?r+d>=Y:l+d>=te)&&(S.push(X+1),S.push(N),S.push(1-D))}return P}}function h_(s,r,l,d,m,v){if(m-d<=l)return;const x=d+m>>1;yC(s,r,x,d,m,v),h_(s,r,l,d,x-1,1-v),h_(s,r,l,x+1,m,1-v)}function yC(s,r,l,d,m,v){for(;m>d;){if(m-d>600){const M=m-d+1,D=l-d+1,N=Math.log(M),W=.5*Math.exp(2*N/3),X=.5*Math.sqrt(N*W*(M-W)/M)*(D-M/2<0?-1:1);yC(s,r,l,Math.max(d,Math.floor(l-D*W/M+X)),Math.min(m,Math.floor(l+(M-D)*W/M+X)),v)}const x=r[2*l+v];let S=d,P=m;for(Wd(s,r,d,l),r[2*m+v]>x&&Wd(s,r,d,m);S<P;){for(Wd(s,r,S,P),S++,P--;r[2*S+v]<x;)S++;for(;r[2*P+v]>x;)P--}r[2*d+v]===x?Wd(s,r,d,P):(P++,Wd(s,r,P,m)),P<=l&&(d=P+1),l<=P&&(m=P-1)}}function Wd(s,r,l,d){d_(s,l,d),d_(r,2*l,2*d),d_(r,2*l+1,2*d+1)}function d_(s,r,l){const d=s[r];s[r]=s[l],s[l]=d}function vC(s,r,l,d){const m=s-l,v=r-d;return m*m+v*v}var p_;a.bh=void 0,(p_=a.bh||(a.bh={})).create="create",p_.load="load",p_.fullLoad="fullLoad";let Zm=null,Gd=[];const f_=1e3/60,m_="loadTime",g_="fullLoadTime",h3={mark(s){performance.mark(s)},frame(s){const r=s;Zm!=null&&Gd.push(r-Zm),Zm=r},clearMetrics(){Zm=null,Gd=[],performance.clearMeasures(m_),performance.clearMeasures(g_);for(const s in a.bh)performance.clearMarks(a.bh[s])},getPerformanceMetrics(){performance.measure(m_,a.bh.create,a.bh.load),performance.measure(g_,a.bh.create,a.bh.fullLoad);const s=performance.getEntriesByName(m_)[0].duration,r=performance.getEntriesByName(g_)[0].duration,l=Gd.length,d=1/(Gd.reduce((v,x)=>v+x,0)/l/1e3),m=Gd.filter(v=>v>f_).reduce((v,x)=>v+(x-f_)/f_,0);return{loadTime:s,fullLoadTime:r,fps:d,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};a.$=function(s,r,l){var d,m,v,x,S,P,M,D,N,W,X,Y,te=l[0],ce=l[1],pe=l[2];return r===s?(s[12]=r[0]*te+r[4]*ce+r[8]*pe+r[12],s[13]=r[1]*te+r[5]*ce+r[9]*pe+r[13],s[14]=r[2]*te+r[6]*ce+r[10]*pe+r[14],s[15]=r[3]*te+r[7]*ce+r[11]*pe+r[15]):(m=r[1],v=r[2],x=r[3],S=r[4],P=r[5],M=r[6],D=r[7],N=r[8],W=r[9],X=r[10],Y=r[11],s[0]=d=r[0],s[1]=m,s[2]=v,s[3]=x,s[4]=S,s[5]=P,s[6]=M,s[7]=D,s[8]=N,s[9]=W,s[10]=X,s[11]=Y,s[12]=d*te+S*ce+N*pe+r[12],s[13]=m*te+P*ce+W*pe+r[13],s[14]=v*te+M*ce+X*pe+r[14],s[15]=x*te+D*ce+Y*pe+r[15]),s},a.A=xu,a.B=Gi,a.C=class{constructor(s,r,l){this.receive=d=>{const m=d.data,v=m.id;if(v&&(!m.targetMapId||this.mapId===m.targetMapId))if(m.type==="<cancel>"){delete this.tasks[v];const x=this.cancelCallbacks[v];delete this.cancelCallbacks[v],x&&x()}else Ye()||m.mustQueue?(this.tasks[v]=m,this.taskQueue.push(v),this.invoker.trigger()):this.processTask(v,m)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),m=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),m&&this.processTask(d,m)},this.target=s,this.parent=r,this.mapId=l,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new t3(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ye()?s:window}send(s,r,l,d,m=!1){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(this.callbacks[v]=l);const x=[],S={id:v,type:s,hasCallback:!!l,targetMapId:d,mustQueue:m,sourceMapId:this.mapId,data:Us(r,x)};return this.target.postMessage(S,{transfer:x}),{cancel:()=>{l&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(s,r){if(r.type==="<response>"){const l=this.callbacks[s];delete this.callbacks[s],l&&(r.error?l(sl(r.error)):l(null,sl(r.data)))}else{let l=!1;const d=[],m=r.hasCallback?(S,P)=>{l=!0,delete this.cancelCallbacks[s];const M={id:s,type:"<response>",sourceMapId:this.mapId,error:S?Us(S):null,data:Us(P,d)};this.target.postMessage(M,{transfer:d})}:S=>{l=!0};let v=null;const x=sl(r.data);if(this.parent[r.type])v=this.parent[r.type](r.sourceMapId,x,m);else if("getWorkerSource"in this.parent){const S=r.type.split(".");v=this.parent.getWorkerSource(r.sourceMapId,S[0],x.source)[S[1]](x,m)}else m(new Error(`Could not find function ${r.type}`));!l&&v&&v.cancel&&(this.cancelCallbacks[s]=v.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.D=bt,a.E=Pn,a.F=function(s,r){const l={};for(let d=0;d<r.length;d++){const m=r[d];m in s&&(l[m]=s[m])}return l},a.G=q2,a.H=H2,a.I=Yv,a.J=V,a.K=$,a.L=pl,a.M=pt,a.N=Cr,a.O=To,a.P=I,a.Q=tr,a.R=Co,a.S=Wn,a.T=Sm,a.U=Um,a.V=class extends wa{},a.W=a_,a.X=function(s,r){const l=window.document.createElement("video");l.muted=!0,l.onloadstart=function(){r(null,l)};for(let d=0;d<s.length;d++){const m=window.document.createElement("source");Pt(s[d])||(l.crossOrigin="Anonymous"),m.src=s[d],l.appendChild(m)}return{cancel:()=>{}}},a.Y=Ze,a.Z=function(){var s=new xu(16);return xu!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},a._=b,a.a=Re,a.a$=class extends Z{},a.a0=function(s,r,l){var d=l[0],m=l[1],v=l[2];return s[0]=r[0]*d,s[1]=r[1]*d,s[2]=r[2]*d,s[3]=r[3]*d,s[4]=r[4]*m,s[5]=r[5]*m,s[6]=r[6]*m,s[7]=r[7]*m,s[8]=r[8]*v,s[9]=r[9]*v,s[10]=r[10]*v,s[11]=r[11]*v,s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s},a.a1=YS,a.a2=function(){return ke++},a.a3=ae,a.a4=Eu,a.a5=function(){Zi.isLoading()||Zi.isLoaded()||_d()!=="deferred"||wm()},a.a6=ld,a.a7=lc,a.a8=Un,a.a9=eC,a.aA=nc,a.aB=function(s){s=s.slice();const r=Object.create(null);for(let l=0;l<s.length;l++)r[s[l].id]=s[l];for(let l=0;l<s.length;l++)"ref"in s[l]&&(s[l]=ft(s[l],r[s[l].ref]));return s},a.aC=function(s){if(s.type==="custom")return new e3(s);switch(s.type){case"background":return new Yz(s);case"circle":return new BD(s);case"fill":return new nz(s);case"fill-extrusion":return new yz(s);case"heatmap":return new FD(s);case"hillshade":return new $D(s);case"line":return new Tz(s);case"raster":return new Qz(s);case"symbol":return new jm(s)}},a.aD=Le,a.aE=function(s,r){if(!s)return[{command:Mt.setStyle,args:[r]}];let l=[];try{if(!nn(s.version,r.version))return[{command:Mt.setStyle,args:[r]}];nn(s.center,r.center)||l.push({command:Mt.setCenter,args:[r.center]}),nn(s.zoom,r.zoom)||l.push({command:Mt.setZoom,args:[r.zoom]}),nn(s.bearing,r.bearing)||l.push({command:Mt.setBearing,args:[r.bearing]}),nn(s.pitch,r.pitch)||l.push({command:Mt.setPitch,args:[r.pitch]}),nn(s.sprite,r.sprite)||l.push({command:Mt.setSprite,args:[r.sprite]}),nn(s.glyphs,r.glyphs)||l.push({command:Mt.setGlyphs,args:[r.glyphs]}),nn(s.transition,r.transition)||l.push({command:Mt.setTransition,args:[r.transition]}),nn(s.light,r.light)||l.push({command:Mt.setLight,args:[r.light]});const d={},m=[];(function(x,S,P,M){let D;for(D in S=S||{},x=x||{})Object.prototype.hasOwnProperty.call(x,D)&&(Object.prototype.hasOwnProperty.call(S,D)||ui(D,P,M));for(D in S)Object.prototype.hasOwnProperty.call(S,D)&&(Object.prototype.hasOwnProperty.call(x,D)?nn(x[D],S[D])||(x[D].type==="geojson"&&S[D].type==="geojson"&&Ti(x,S,D)?P.push({command:Mt.setGeoJSONSourceData,args:[D,S[D].data]}):Vr(D,S,P,M)):wr(D,S,P))})(s.sources,r.sources,m,d);const v=[];s.layers&&s.layers.forEach(x=>{d[x.source]?l.push({command:Mt.removeLayer,args:[x.id]}):v.push(x)}),l=l.concat(m),function(x,S,P){S=S||[];const M=(x=x||[]).map(Cn),D=S.map(Cn),N=x.reduce(Rt,{}),W=S.reduce(Rt,{}),X=M.slice(),Y=Object.create(null);let te,ce,pe,we,ge,Ce,Pe;for(te=0,ce=0;te<M.length;te++)pe=M[te],Object.prototype.hasOwnProperty.call(W,pe)?ce++:(P.push({command:Mt.removeLayer,args:[pe]}),X.splice(X.indexOf(pe,ce),1));for(te=0,ce=0;te<D.length;te++)pe=D[D.length-1-te],X[X.length-1-te]!==pe&&(Object.prototype.hasOwnProperty.call(N,pe)?(P.push({command:Mt.removeLayer,args:[pe]}),X.splice(X.lastIndexOf(pe,X.length-ce),1)):ce++,Ce=X[X.length-te],P.push({command:Mt.addLayer,args:[W[pe],Ce]}),X.splice(X.length-te,0,pe),Y[pe]=!0);for(te=0;te<D.length;te++)if(pe=D[te],we=N[pe],ge=W[pe],!Y[pe]&&!nn(we,ge))if(nn(we.source,ge.source)&&nn(we["source-layer"],ge["source-layer"])&&nn(we.type,ge.type)){for(Pe in ei(we.layout,ge.layout,P,pe,null,Mt.setLayoutProperty),ei(we.paint,ge.paint,P,pe,null,Mt.setPaintProperty),nn(we.filter,ge.filter)||P.push({command:Mt.setFilter,args:[pe,ge.filter]}),nn(we.minzoom,ge.minzoom)&&nn(we.maxzoom,ge.maxzoom)||P.push({command:Mt.setLayerZoomRange,args:[pe,ge.minzoom,ge.maxzoom]}),we)Object.prototype.hasOwnProperty.call(we,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?ei(we[Pe],ge[Pe],P,pe,Pe.slice(6),Mt.setPaintProperty):nn(we[Pe],ge[Pe])||P.push({command:Mt.setLayerProperty,args:[pe,Pe,ge[Pe]]}));for(Pe in ge)Object.prototype.hasOwnProperty.call(ge,Pe)&&!Object.prototype.hasOwnProperty.call(we,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?ei(we[Pe],ge[Pe],P,pe,Pe.slice(6),Mt.setPaintProperty):nn(we[Pe],ge[Pe])||P.push({command:Mt.setLayerProperty,args:[pe,Pe,ge[Pe]]}))}else P.push({command:Mt.removeLayer,args:[pe]}),Ce=X[X.lastIndexOf(pe)+1],P.push({command:Mt.addLayer,args:[ge,Ce]})}(v,r.layers,l)}catch(d){console.warn("Unable to compute style diff:",d),l=[{command:Mt.setStyle,args:[r]}]}return l},a.aF=function(s){const r=[],l=s.id;return l===void 0&&r.push({message:`layers.${l}: missing required property "id"`}),s.render===void 0&&r.push({message:`layers.${l}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&r.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),r},a.aG=function s(r,l){if(Array.isArray(r)){if(!Array.isArray(l)||r.length!==l.length)return!1;for(let d=0;d<r.length;d++)if(!s(r[d],l[d]))return!1;return!0}if(typeof r=="object"&&r!==null&&l!==null){if(typeof l!="object"||Object.keys(r).length!==Object.keys(l).length)return!1;for(const d in r)if(!s(r[d],l[d]))return!1;return!0}return r===l},a.aH=G,a.aI=Te,a.aJ=rc,a.aK=function(s){return s({pluginStatus:Pi,pluginURL:Ws}),rc.on("pluginStateChange",s),s},a.aL=class extends Ta{constructor(s,r){super(s,r),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},a.aM=vu,a.aN=class extends Ta{constructor(s,r){super(s,r),this.current=kv}set(s){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let r=1;r<16;r++)if(s[r]!==this.current[r]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}},a.aO=Pm,a.aP=class extends Ta{constructor(s,r){super(s,r),this.current=[0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2]))}},a.aQ=class extends Ta{constructor(s,r){super(s,r),this.current=[0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1]))}},a.aR=Am,a.aS=function(s,r,l,d,m,v,x){var S=1/(r-l),P=1/(d-m),M=1/(v-x);return s[0]=-2*S,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*P,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*M,s[11]=0,s[12]=(r+l)*S,s[13]=(m+d)*P,s[14]=(x+v)*M,s[15]=1,s},a.aT=An,a.aU=zD,a.aV=class extends f{},a.aW=kz,a.aX=class extends _{},a.aY=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},a.aZ=n2,a.a_=Je,a.aa=function(s){const r={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,m,v)=>{const x=m||v;return r[d]=!x||x.toLowerCase(),""}),r["max-age"]){const l=parseInt(r["max-age"],10);isNaN(l)?delete r["max-age"]:r["max-age"]=l}return r},a.ab=function(s,r){const l=[];for(const d in s)d in r||l.push(d);return l},a.ac=function(s){if(De==null){const r=s.navigator?s.navigator.userAgent:null;De=!!s.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return De},a.ad=de,a.ae=function(s,r,l){var d=Math.sin(l),m=Math.cos(l),v=r[0],x=r[1],S=r[2],P=r[3],M=r[4],D=r[5],N=r[6],W=r[7];return r!==s&&(s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=v*m+M*d,s[1]=x*m+D*d,s[2]=S*m+N*d,s[3]=P*m+W*d,s[4]=M*m-v*d,s[5]=D*m-x*d,s[6]=N*m-S*d,s[7]=W*m-P*d,s},a.af=function(s){var r=new xu(16);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],r},a.ag=Rm,a.ah=function(s,r){let l=0,d=0;if(s.kind==="constant")d=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:m,minZoom:v,maxZoom:x}=s,S=m?de(qi.interpolationFactor(m,r,v,x),0,1):0;s.kind==="camera"?d=Gi.number(s.minSize,s.maxSize,S):l=S}return{uSizeT:l,uSize:d}},a.aj=function(s,{uSize:r,uSizeT:l},{lowerSize:d,upperSize:m}){return s.kind==="source"?d/qs:s.kind==="composite"?Gi.number(d/qs,m/qs,l):r},a.ak=t_,a.al=function(s,r,l,d){const m=r.y-s.y,v=r.x-s.x,x=d.y-l.y,S=d.x-l.x,P=x*v-S*m;if(P===0)return null;const M=(S*(s.y-l.y)-x*(s.x-l.x))/P;return new I(s.x+M*v,s.y+M*m)},a.am=iC,a.an=GS,a.ao=Dv,a.ap=Rr,a.ar=e_,a.as=function(s,r){var l=r[0],d=r[1],m=r[2],v=r[3],x=r[4],S=r[5],P=r[6],M=r[7],D=r[8],N=r[9],W=r[10],X=r[11],Y=r[12],te=r[13],ce=r[14],pe=r[15],we=l*S-d*x,ge=l*P-m*x,Ce=l*M-v*x,Pe=d*P-m*S,Ve=d*M-v*S,lt=m*M-v*P,yt=D*te-N*Y,st=D*ce-W*Y,it=D*pe-X*Y,Qe=N*ce-W*te,dt=N*pe-X*te,nt=W*pe-X*ce,Xe=we*nt-ge*dt+Ce*Qe+Pe*it-Ve*st+lt*yt;return Xe?(s[0]=(S*nt-P*dt+M*Qe)*(Xe=1/Xe),s[1]=(m*dt-d*nt-v*Qe)*Xe,s[2]=(te*lt-ce*Ve+pe*Pe)*Xe,s[3]=(W*Ve-N*lt-X*Pe)*Xe,s[4]=(P*it-x*nt-M*st)*Xe,s[5]=(l*nt-m*it+v*st)*Xe,s[6]=(ce*Ce-Y*lt-pe*ge)*Xe,s[7]=(D*lt-W*Ce+X*ge)*Xe,s[8]=(x*dt-S*it+M*yt)*Xe,s[9]=(d*it-l*dt-v*yt)*Xe,s[10]=(Y*Ve-te*Ce+pe*we)*Xe,s[11]=(N*Ce-D*Ve-X*we)*Xe,s[12]=(S*st-x*Qe-P*yt)*Xe,s[13]=(l*Qe-d*st+m*yt)*Xe,s[14]=(te*ge-Y*Pe-ce*we)*Xe,s[15]=(D*Pe-N*ge+W*we)*Xe,s):null},a.at=c_,a.au=Qv,a.av=u_,a.aw=function(){const s={},r=Ie.$version;for(const l in Ie.$root){const d=Ie.$root[l];if(d.required){let m=null;m=l==="version"?r:d.type==="array"?[]:{},m!=null&&(s[l]=m)}}return s},a.ax=Mt,a.ay=vm,a.az=Zt,a.b=function(s,r){const l=new Blob([new Uint8Array(s)],{type:"image/png"});createImageBitmap(l).then(d=>{r(null,d)}).catch(d=>{r(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.b0=Zr,a.b1=function(s,r){var l=s[0],d=s[1],m=s[2],v=s[3],x=s[4],S=s[5],P=s[6],M=s[7],D=s[8],N=s[9],W=s[10],X=s[11],Y=s[12],te=s[13],ce=s[14],pe=s[15],we=r[0],ge=r[1],Ce=r[2],Pe=r[3],Ve=r[4],lt=r[5],yt=r[6],st=r[7],it=r[8],Qe=r[9],dt=r[10],nt=r[11],Xe=r[12],Tt=r[13],_t=r[14],Kt=r[15];return Math.abs(l-we)<=ki*Math.max(1,Math.abs(l),Math.abs(we))&&Math.abs(d-ge)<=ki*Math.max(1,Math.abs(d),Math.abs(ge))&&Math.abs(m-Ce)<=ki*Math.max(1,Math.abs(m),Math.abs(Ce))&&Math.abs(v-Pe)<=ki*Math.max(1,Math.abs(v),Math.abs(Pe))&&Math.abs(x-Ve)<=ki*Math.max(1,Math.abs(x),Math.abs(Ve))&&Math.abs(S-lt)<=ki*Math.max(1,Math.abs(S),Math.abs(lt))&&Math.abs(P-yt)<=ki*Math.max(1,Math.abs(P),Math.abs(yt))&&Math.abs(M-st)<=ki*Math.max(1,Math.abs(M),Math.abs(st))&&Math.abs(D-it)<=ki*Math.max(1,Math.abs(D),Math.abs(it))&&Math.abs(N-Qe)<=ki*Math.max(1,Math.abs(N),Math.abs(Qe))&&Math.abs(W-dt)<=ki*Math.max(1,Math.abs(W),Math.abs(dt))&&Math.abs(X-nt)<=ki*Math.max(1,Math.abs(X),Math.abs(nt))&&Math.abs(Y-Xe)<=ki*Math.max(1,Math.abs(Y),Math.abs(Xe))&&Math.abs(te-Tt)<=ki*Math.max(1,Math.abs(te),Math.abs(Tt))&&Math.abs(ce-_t)<=ki*Math.max(1,Math.abs(ce),Math.abs(_t))&&Math.abs(pe-Kt)<=ki*Math.max(1,Math.abs(pe),Math.abs(Kt))},a.b2=function(s,r){return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s},a.b3=function(s,r,l){return s[0]=r[0]*l[0],s[1]=r[1]*l[1],s[2]=r[2]*l[2],s[3]=r[3]*l[3],s},a.b4=function(s,r){return s[0]*r[0]+s[1]*r[1]+s[2]*r[2]+s[3]*r[3]},a.b5=ye,a.b6=Y2,a.b7=Z2,a.b8=function(s,r,l,d,m){var v,x=1/Math.tan(r/2);return s[0]=x/l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=x,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,m!=null&&m!==1/0?(s[10]=(m+d)*(v=1/(d-m)),s[14]=2*m*d*v):(s[10]=-1,s[14]=-2*d),s},a.b9=function(s,r,l){var d=Math.sin(l),m=Math.cos(l),v=r[4],x=r[5],S=r[6],P=r[7],M=r[8],D=r[9],N=r[10],W=r[11];return r!==s&&(s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[4]=v*m+M*d,s[5]=x*m+D*d,s[6]=S*m+N*d,s[7]=P*m+W*d,s[8]=M*m-v*d,s[9]=D*m-x*d,s[10]=N*m-S*d,s[11]=W*m-P*d,s},a.bA=E,a.bB=S2,a.bC=au,a.bD=Zi,a.ba=J,a.bb=ie,a.bc=function(s,r){return s[0]=r[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=r[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},a.bd=class extends sc{},a.be=o_,a.bf=K2,a.bg=h3,a.bi=In,a.bj=function(s,r,l=!1){if(Pi===fd||Pi===md||Pi===gd)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ws=dn.resolveURL(s),Pi=fd,yd=r,vd(),l||wm()},a.bk=_d,a.bl=function(s,r){const l={};for(let m=0;m<s.length;m++){const v=r&&r[s[m].id]||hu(s[m]);r&&(r[s[m].id]=v);let x=l[v];x||(x=l[v]=[]),x.push(s[m])}const d=[];for(const m in l)d.push(l[m]);return d},a.bm=ht,a.bn=Q2,a.bo=tC,a.bp=R2,a.bq=function(s){s.bucket.createArrays(),s.bucket.tilePixelRatio=Cr/(512*s.bucket.overscaling),s.bucket.compareText={},s.bucket.iconsNeedLinear=!1;const r=s.bucket.layers[0],l=r.layout,d=r._unevaluatedLayout._values,m={layoutIconSize:d["icon-size"].possiblyEvaluate(new Un(s.bucket.zoom+1),s.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new Un(s.bucket.zoom+1),s.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new Un(18))};if(s.bucket.textSizeData.kind==="composite"){const{minZoom:M,maxZoom:D}=s.bucket.textSizeData;m.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Un(M),s.canonical),d["text-size"].possiblyEvaluate(new Un(D),s.canonical)]}if(s.bucket.iconSizeData.kind==="composite"){const{minZoom:M,maxZoom:D}=s.bucket.iconSizeData;m.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Un(M),s.canonical),d["icon-size"].possiblyEvaluate(new Un(D),s.canonical)]}const v=l.get("text-line-height")*Rr,x=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",S=l.get("text-keep-upright"),P=l.get("text-size");for(const M of s.bucket.features){const D=l.get("text-font").evaluate(M,{},s.canonical).join(","),N=P.evaluate(M,{},s.canonical),W=m.layoutTextSize.evaluate(M,{},s.canonical),X=m.layoutIconSize.evaluate(M,{},s.canonical),Y={horizontal:{},vertical:void 0},te=M.text;let ce,pe=[0,0];if(te){const Ce=te.toString(),Pe=l.get("text-letter-spacing").evaluate(M,{},s.canonical)*Rr,Ve=dd(Ce)?Pe:0,lt=l.get("text-anchor").evaluate(M,{},s.canonical),yt=pC(r,M,s.canonical);if(!yt){const nt=l.get("text-radial-offset").evaluate(M,{},s.canonical);pe=nt?dC(lt,[nt*Rr,l_]):l.get("text-offset").evaluate(M,{},s.canonical).map(Xe=>Xe*Rr)}let st=x?"center":l.get("text-justify").evaluate(M,{},s.canonical);const it=l.get("symbol-placement"),Qe=it==="point"?l.get("text-max-width").evaluate(M,{},s.canonical)*Rr:0,dt=()=>{s.bucket.allowVerticalPlacement&&hd(Ce)&&(Y.vertical=Nm(te,s.glyphMap,s.glyphPositions,s.imagePositions,D,Qe,v,lt,"left",Ve,pe,a.ai.vertical,!0,it,W,N))};if(!x&&yt){const nt=new Set;if(st==="auto")for(let Tt=0;Tt<yt.values.length;Tt+=2)nt.add(c_(yt.values[Tt]));else nt.add(st);let Xe=!1;for(const Tt of nt)if(!Y.horizontal[Tt])if(Xe)Y.horizontal[Tt]=Y.horizontal[0];else{const _t=Nm(te,s.glyphMap,s.glyphPositions,s.imagePositions,D,Qe,v,"center",Tt,Ve,pe,a.ai.horizontal,!1,it,W,N);_t&&(Y.horizontal[Tt]=_t,Xe=_t.positionedLines.length===1)}dt()}else{st==="auto"&&(st=c_(lt));const nt=Nm(te,s.glyphMap,s.glyphPositions,s.imagePositions,D,Qe,v,lt,st,Ve,pe,a.ai.horizontal,!1,it,W,N);nt&&(Y.horizontal[st]=nt),dt(),hd(Ce)&&x&&S&&(Y.vertical=Nm(te,s.glyphMap,s.glyphPositions,s.imagePositions,D,Qe,v,lt,st,Ve,pe,a.ai.vertical,!1,it,W,N))}}let we=!1;if(M.icon&&M.icon.name){const Ce=s.imageMap[M.icon.name];Ce&&(ce=qz(s.imagePositions[M.icon.name],l.get("icon-offset").evaluate(M,{},s.canonical),l.get("icon-anchor").evaluate(M,{},s.canonical)),we=!!Ce.sdf,s.bucket.sdfIcons===void 0?s.bucket.sdfIcons=we:s.bucket.sdfIcons!==we&&qe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ce.pixelRatio!==s.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(s.bucket.iconsNeedLinear=!0))}const ge=mC(Y.horizontal)||Y.vertical;s.bucket.iconsInText=!!ge&&ge.iconsInText,(ge||ce)&&c3(s.bucket,M,Y,ce,s.imageMap,m,W,X,pe,we,s.canonical)}s.showCollisionBoxes&&s.bucket.generateCollisionDebugBuffers()},a.br=Hv,a.bs=Wv,a.bt=qv,a.bu=class{constructor(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let s=performance.getEntriesByName(this._marks.measure);return s.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),s=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),s}},a.bv=Kv,a.bw=ul,a.bx=function(s,r,l,d,m){return b(this,void 0,void 0,function*(){if($())try{return yield pt(s,r,l,d,m)}catch{}return function(v,x,S,P,M){const D=v.width,N=v.height;ut&&ct||(ut=new OffscreenCanvas(D,N),ct=ut.getContext("2d",{willReadFrequently:!0})),ut.width=D,ut.height=N,ct.drawImage(v,0,0,D,N);const W=ct.getImageData(x,S,P,M);return ct.clearRect(0,0,D,N),W.data}(s,r,l,d,m)})},a.by=J2,a.bz=w,a.c=Yt,a.d=function(s,r){const l=new Image;l.onload=()=>{r(null,l),URL.revokeObjectURL(l.src),l.onload=null,window.requestAnimationFrame(()=>{l.src=et})},l.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(s)],{type:"image/png"});l.src=s.byteLength?URL.createObjectURL(d):et},a.e=me,a.f=function(s,r){return jt(me(s,{type:"json"}),r)},a.g=xt,a.h=dn,a.i=Ye,a.j=Sn,a.k=On,a.l=$t,a.m=jt,a.n=function(s){return new Kv(s).readFields($z,[])},a.o=function(s,r,l){if(!s.length)return l(null,[]);let d=s.length;const m=new Array(s.length);let v=null;s.forEach((x,S)=>{r(x,(P,M)=>{P&&(v=P),m[S]=M,--d==0&&l(v,m)})})},a.p=M2,a.q=Rd,a.r=mr,a.s=Pt,a.t=Tv,a.u=at,a.v=Ie,a.w=qe,a.x=fu,a.y=xs,a.z=function([s,r,l]){return r+=90,r*=Math.PI/180,l*=Math.PI/180,{x:s*Math.cos(r)*Math.sin(l),y:s*Math.sin(r)*Math.sin(l),z:s*Math.cos(l)}}}),h(["./shared"],function(a){class b{constructor(U){this.keyCache={},U&&this.replace(U)}replace(U){this._layerConfigs={},this._layers={},this.update(U,[])}update(U,H){for(const le of U){this._layerConfigs[le.id]=le;const ue=this._layers[le.id]=a.aC(le);ue._featureFilter=a.a6(ue.filter),this.keyCache[le.id]&&delete this.keyCache[le.id]}for(const le of H)delete this.keyCache[le],delete this._layerConfigs[le],delete this._layers[le];this.familiesBySource={};const Q=a.bl(Object.values(this._layerConfigs),this.keyCache);for(const le of Q){const ue=le.map(Fe=>this._layers[Fe.id]),Se=ue[0];if(Se.visibility==="none")continue;const ve=Se.source||"";let fe=this.familiesBySource[ve];fe||(fe=this.familiesBySource[ve]={});const be=Se.sourceLayer||"_geojsonTileLayer";let Be=fe[be];Be||(Be=fe[be]=[]),Be.push(ue)}}}class w{constructor(U){const H={},Q=[];for(const ve in U){const fe=U[ve],be=H[ve]={};for(const Be in fe){const Fe=fe[+Be];if(!Fe||Fe.bitmap.width===0||Fe.bitmap.height===0)continue;const je={x:0,y:0,w:Fe.bitmap.width+2,h:Fe.bitmap.height+2};Q.push(je),be[Be]={rect:je,metrics:Fe.metrics}}}const{w:le,h:ue}=a.p(Q),Se=new a.q({width:le||1,height:ue||1});for(const ve in U){const fe=U[ve];for(const be in fe){const Be=fe[+be];if(!Be||Be.bitmap.width===0||Be.bitmap.height===0)continue;const Fe=H[ve][be].rect;a.q.copy(Be.bitmap,Se,{x:0,y:0},{x:Fe.x+1,y:Fe.y+1},Be.bitmap)}}this.image=Se,this.positions=H}}a.bm("GlyphAtlas",w);class E{constructor(U){this.tileID=new a.O(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(U,H,Q,le,ue){this.status="parsing",this.data=U,this.collisionBoxArray=new a.a3;const Se=new a.bn(Object.keys(U.layers).sort()),ve=new a.bo(this.tileID,this.promoteId);ve.bucketLayerIDs=[];const fe={},be={featureIndex:ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Q},Be=H.familiesBySource[this.source];for(const un in Be){const cn=U.layers[un];if(!cn)continue;cn.version===1&&a.w(`Vector tile source "${this.source}" layer "${un}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ti=Se.encode(un),Nn=[];for(let Sr=0;Sr<cn.length;Sr++){const qr=cn.feature(Sr),so=ve.getId(qr,un);Nn.push({feature:qr,id:so,index:Sr,sourceLayerIndex:ti})}for(const Sr of Be[un]){const qr=Sr[0];qr.source!==this.source&&a.w(`layer.source = ${qr.source} does not equal this.source = ${this.source}`),qr.minzoom&&this.zoom<Math.floor(qr.minzoom)||qr.maxzoom&&this.zoom>=qr.maxzoom||qr.visibility!=="none"&&(A(Sr,this.zoom,Q),(fe[qr.id]=qr.createBucket({index:ve.bucketLayerIDs.length,layers:Sr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ti,sourceID:this.source})).populate(Nn,be,this.tileID.canonical),ve.bucketLayerIDs.push(Sr.map(so=>so.id)))}}let Fe,je,Ct,Bt;const mt=a.aH(be.glyphDependencies,un=>Object.keys(un).map(Number));this.inFlightDependencies.forEach(un=>un==null?void 0:un.cancel()),this.inFlightDependencies=[];const Et=++this.dependencySentinel;Object.keys(mt).length?this.inFlightDependencies.push(le.send("getGlyphs",{uid:this.uid,stacks:mt,source:this.source,tileID:this.tileID,type:"glyphs"},(un,cn)=>{Et===this.dependencySentinel&&(Fe||(Fe=un,je=cn,Mn.call(this)))})):je={};const Nt=Object.keys(be.iconDependencies);Nt.length?this.inFlightDependencies.push(le.send("getImages",{icons:Nt,source:this.source,tileID:this.tileID,type:"icons"},(un,cn)=>{Et===this.dependencySentinel&&(Fe||(Fe=un,Ct=cn,Mn.call(this)))})):Ct={};const wn=Object.keys(be.patternDependencies);function Mn(){if(Fe)return ue(Fe);if(je&&Ct&&Bt){const un=new w(je),cn=new a.bp(Ct,Bt);for(const ti in fe){const Nn=fe[ti];Nn instanceof a.a4?(A(Nn.layers,this.zoom,Q),a.bq({bucket:Nn,glyphMap:je,glyphPositions:un.positions,imageMap:Ct,imagePositions:cn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Nn.hasPattern&&(Nn instanceof a.br||Nn instanceof a.bs||Nn instanceof a.bt)&&(A(Nn.layers,this.zoom,Q),Nn.addFeatures(be,this.tileID.canonical,cn.patternPositions))}this.status="done",ue(null,{buckets:Object.values(fe).filter(ti=>!ti.isEmpty()),featureIndex:ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:un.image,imageAtlas:cn,glyphMap:this.returnDependencies?je:null,iconMap:this.returnDependencies?Ct:null,glyphPositions:this.returnDependencies?un.positions:null})}}wn.length?this.inFlightDependencies.push(le.send("getImages",{icons:wn,source:this.source,tileID:this.tileID,type:"patterns"},(un,cn)=>{Et===this.dependencySentinel&&(Fe||(Fe=un,Bt=cn,Mn.call(this)))})):Bt={},Mn.call(this)}}function A(se,U,H){const Q=new a.a8(U);for(const le of se)le.recalculate(Q,H)}function I(se,U){const H=a.l(se.request,(Q,le,ue,Se)=>{if(Q)U(Q);else if(le)try{const ve=new a.bw.VectorTile(new a.bv(le));U(null,{vectorTile:ve,rawData:le,cacheControl:ue,expires:Se})}catch(ve){const fe=new Uint8Array(le);let be=`Unable to parse the tile at ${se.request.url}, `;be+=fe[0]===31&&fe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ve.messge}`,U(new Error(be))}});return()=>{H.cancel(),U()}}class L{constructor(U,H,Q,le){this.actor=U,this.layerIndex=H,this.availableImages=Q,this.loadVectorData=le||I,this.fetching={},this.loading={},this.loaded={}}loadTile(U,H){const Q=U.uid;this.loading||(this.loading={});const le=!!(U&&U.request&&U.request.collectResourceTiming)&&new a.bu(U.request),ue=this.loading[Q]=new E(U);ue.abort=this.loadVectorData(U,(Se,ve)=>{if(delete this.loading[Q],Se||!ve)return ue.status="done",this.loaded[Q]=ue,H(Se);const fe=ve.rawData,be={};ve.expires&&(be.expires=ve.expires),ve.cacheControl&&(be.cacheControl=ve.cacheControl);const Be={};if(le){const Fe=le.finish();Fe&&(Be.resourceTiming=JSON.parse(JSON.stringify(Fe)))}ue.vectorTile=ve.vectorTile,ue.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,(Fe,je)=>{if(delete this.fetching[Q],Fe||!je)return H(Fe);H(null,a.e({rawTileData:fe.slice(0)},je,be,Be))}),this.loaded=this.loaded||{},this.loaded[Q]=ue,this.fetching[Q]={rawTileData:fe,cacheControl:be,resourceTiming:Be}})}reloadTile(U,H){const Q=this.loaded,le=U.uid;if(Q&&Q[le]){const ue=Q[le];ue.showCollisionBoxes=U.showCollisionBoxes,ue.status==="parsing"?ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,(Se,ve)=>{if(Se||!ve)return H(Se,ve);let fe;if(this.fetching[le]){const{rawTileData:be,cacheControl:Be,resourceTiming:Fe}=this.fetching[le];delete this.fetching[le],fe=a.e({rawTileData:be.slice(0)},ve,Be,Fe)}else fe=ve;H(null,fe)}):ue.status==="done"&&(ue.vectorTile?ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,H):H())}}abortTile(U,H){const Q=this.loading,le=U.uid;Q&&Q[le]&&Q[le].abort&&(Q[le].abort(),delete Q[le]),H()}removeTile(U,H){const Q=this.loaded,le=U.uid;Q&&Q[le]&&delete Q[le],H()}}class F{constructor(){this.loaded={}}loadTile(U,H){return a._(this,void 0,void 0,function*(){const{uid:Q,encoding:le,rawImageData:ue,redFactor:Se,greenFactor:ve,blueFactor:fe,baseShift:be}=U,Be=ue.width+2,Fe=ue.height+2,je=a.a(ue)?new a.R({width:Be,height:Fe},yield a.bx(ue,-1,-1,Be,Fe)):ue,Ct=new a.by(Q,je,le,Se,ve,fe,be);this.loaded=this.loaded||{},this.loaded[Q]=Ct,H(null,Ct)})}removeTile(U){const H=this.loaded,Q=U.uid;H&&H[Q]&&delete H[Q]}}function j(se,U){if(se.length!==0){K(se[0],U);for(var H=1;H<se.length;H++)K(se[H],!U)}}function K(se,U){for(var H=0,Q=0,le=0,ue=se.length,Se=ue-1;le<ue;Se=le++){var ve=(se[le][0]-se[Se][0])*(se[Se][1]+se[le][1]),fe=H+ve;Q+=Math.abs(H)>=Math.abs(ve)?H-fe+ve:ve-fe+H,H=fe}H+Q>=0!=!!U&&se.reverse()}var B=a.bz(function se(U,H){var Q,le=U&&U.type;if(le==="FeatureCollection")for(Q=0;Q<U.features.length;Q++)se(U.features[Q],H);else if(le==="GeometryCollection")for(Q=0;Q<U.geometries.length;Q++)se(U.geometries[Q],H);else if(le==="Feature")se(U.geometry,H);else if(le==="Polygon")j(U.coordinates,H);else if(le==="MultiPolygon")for(Q=0;Q<U.coordinates.length;Q++)j(U.coordinates[Q],H);return U});const V=a.bw.VectorTileFeature.prototype.toGeoJSON;var $={exports:{}},J=a.bA,ie=a.bw.VectorTileFeature,de=ye;function ye(se,U){this.options=U||{},this.features=se,this.length=se.length}function me(se,U){this.id=typeof se.id=="number"?se.id:void 0,this.type=se.type,this.rawGeometry=se.type===1?[se.geometry]:se.geometry,this.properties=se.tags,this.extent=U||4096}ye.prototype.feature=function(se){return new me(this.features[se],this.options.extent)},me.prototype.loadGeometry=function(){var se=this.rawGeometry;this.geometry=[];for(var U=0;U<se.length;U++){for(var H=se[U],Q=[],le=0;le<H.length;le++)Q.push(new J(H[le][0],H[le][1]));this.geometry.push(Q)}return this.geometry},me.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var se=this.geometry,U=1/0,H=-1/0,Q=1/0,le=-1/0,ue=0;ue<se.length;ue++)for(var Se=se[ue],ve=0;ve<Se.length;ve++){var fe=Se[ve];U=Math.min(U,fe.x),H=Math.max(H,fe.x),Q=Math.min(Q,fe.y),le=Math.max(le,fe.y)}return[U,Q,H,le]},me.prototype.toGeoJSON=ie.prototype.toGeoJSON;var ke=a.bB,G=de;function Te(se){var U=new ke;return function(H,Q){for(var le in H.layers)Q.writeMessage(3,Le,H.layers[le])}(se,U),U.finish()}function Le(se,U){var H;U.writeVarintField(15,se.version||1),U.writeStringField(1,se.name||""),U.writeVarintField(5,se.extent||4096);var Q={keys:[],values:[],keycache:{},valuecache:{}};for(H=0;H<se.length;H++)Q.feature=se.feature(H),U.writeMessage(2,Ue,Q);var le=Q.keys;for(H=0;H<le.length;H++)U.writeStringField(3,le[H]);var ue=Q.values;for(H=0;H<ue.length;H++)U.writeMessage(4,De,ue[H])}function Ue(se,U){var H=se.feature;H.id!==void 0&&U.writeVarintField(1,H.id),U.writeMessage(2,qe,se),U.writeVarintField(3,H.type),U.writeMessage(4,Ye,H)}function qe(se,U){var H=se.feature,Q=se.keys,le=se.values,ue=se.keycache,Se=se.valuecache;for(var ve in H.properties){var fe=H.properties[ve],be=ue[ve];if(fe!==null){be===void 0&&(Q.push(ve),ue[ve]=be=Q.length-1),U.writeVarint(be);var Be=typeof fe;Be!=="string"&&Be!=="boolean"&&Be!=="number"&&(fe=JSON.stringify(fe));var Fe=Be+":"+fe,je=Se[Fe];je===void 0&&(le.push(fe),Se[Fe]=je=le.length-1),U.writeVarint(je)}}}function Oe(se,U){return(U<<3)+(7&se)}function Ge(se){return se<<1^se>>31}function Ye(se,U){for(var H=se.loadGeometry(),Q=se.type,le=0,ue=0,Se=H.length,ve=0;ve<Se;ve++){var fe=H[ve],be=1;Q===1&&(be=fe.length),U.writeVarint(Oe(1,be));for(var Be=Q===3?fe.length-1:fe.length,Fe=0;Fe<Be;Fe++){Fe===1&&Q!==1&&U.writeVarint(Oe(2,Be-1));var je=fe[Fe].x-le,Ct=fe[Fe].y-ue;U.writeVarint(Ge(je)),U.writeVarint(Ge(Ct)),le+=je,ue+=Ct}Q===3&&U.writeVarint(Oe(7,1))}}function De(se,U){var H=typeof se;H==="string"?U.writeStringField(1,se):H==="boolean"?U.writeBooleanField(7,se):H==="number"&&(se%1!=0?U.writeDoubleField(3,se):se<0?U.writeSVarintField(6,se):U.writeVarintField(5,se))}$.exports=Te,$.exports.fromVectorTileJs=Te,$.exports.fromGeojsonVt=function(se,U){U=U||{};var H={};for(var Q in se)H[Q]=new G(se[Q].features,U),H[Q].name=Q,H[Q].version=U.version,H[Q].extent=U.extent;return Te({layers:H})},$.exports.GeoJSONWrapper=G;var Re=a.bz($.exports);const et={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:se=>se},pt=Math.fround||(ut=new Float32Array(1),se=>(ut[0]=+se,ut[0]));var ut;const ct=3,Dt=5,Gt=6;class dn{constructor(U){this.options=Object.assign(Object.create(et),U),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(U){const{log:H,minZoom:Q,maxZoom:le}=this.options;H&&console.time("total time");const ue=`prepare ${U.length} points`;H&&console.time(ue),this.points=U;const Se=[];for(let fe=0;fe<U.length;fe++){const be=U[fe];if(!be.geometry)continue;const[Be,Fe]=be.geometry.coordinates,je=pt(Zt(Be)),Ct=pt(xt(Fe));Se.push(je,Ct,1/0,fe,-1,1),this.options.reduce&&Se.push(0)}let ve=this.trees[le+1]=this._createTree(Se);H&&console.timeEnd(ue);for(let fe=le;fe>=Q;fe--){const be=+Date.now();ve=this.trees[fe]=this._createTree(this._cluster(ve,fe)),H&&console.log("z%d: %d clusters in %dms",fe,ve.numItems,+Date.now()-be)}return H&&console.timeEnd("total time"),this}getClusters(U,H){let Q=((U[0]+180)%360+360)%360-180;const le=Math.max(-90,Math.min(90,U[1]));let ue=U[2]===180?180:((U[2]+180)%360+360)%360-180;const Se=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)Q=-180,ue=180;else if(Q>ue){const Fe=this.getClusters([Q,le,180,Se],H),je=this.getClusters([-180,le,ue,Se],H);return Fe.concat(je)}const ve=this.trees[this._limitZoom(H)],fe=ve.range(Zt(Q),xt(Se),Zt(ue),xt(le)),be=ve.data,Be=[];for(const Fe of fe){const je=this.stride*Fe;Be.push(be[je+Dt]>1?Yt(be,je,this.clusterProps):this.points[be[je+ct]])}return Be}getChildren(U){const H=this._getOriginId(U),Q=this._getOriginZoom(U),le="No cluster with the specified id.",ue=this.trees[Q];if(!ue)throw new Error(le);const Se=ue.data;if(H*this.stride>=Se.length)throw new Error(le);const ve=this.options.radius/(this.options.extent*Math.pow(2,Q-1)),fe=ue.within(Se[H*this.stride],Se[H*this.stride+1],ve),be=[];for(const Be of fe){const Fe=Be*this.stride;Se[Fe+4]===U&&be.push(Se[Fe+Dt]>1?Yt(Se,Fe,this.clusterProps):this.points[Se[Fe+ct]])}if(be.length===0)throw new Error(le);return be}getLeaves(U,H,Q){const le=[];return this._appendLeaves(le,U,H=H||10,Q=Q||0,0),le}getTile(U,H,Q){const le=this.trees[this._limitZoom(U)],ue=Math.pow(2,U),{extent:Se,radius:ve}=this.options,fe=ve/Se,be=(Q-fe)/ue,Be=(Q+1+fe)/ue,Fe={features:[]};return this._addTileFeatures(le.range((H-fe)/ue,be,(H+1+fe)/ue,Be),le.data,H,Q,ue,Fe),H===0&&this._addTileFeatures(le.range(1-fe/ue,be,1,Be),le.data,ue,Q,ue,Fe),H===ue-1&&this._addTileFeatures(le.range(0,be,fe/ue,Be),le.data,-1,Q,ue,Fe),Fe.features.length?Fe:null}getClusterExpansionZoom(U){let H=this._getOriginZoom(U)-1;for(;H<=this.options.maxZoom;){const Q=this.getChildren(U);if(H++,Q.length!==1)break;U=Q[0].properties.cluster_id}return H}_appendLeaves(U,H,Q,le,ue){const Se=this.getChildren(H);for(const ve of Se){const fe=ve.properties;if(fe&&fe.cluster?ue+fe.point_count<=le?ue+=fe.point_count:ue=this._appendLeaves(U,fe.cluster_id,Q,le,ue):ue<le?ue++:U.push(ve),U.length===Q)break}return ue}_createTree(U){const H=new a.av(U.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Q=0;Q<U.length;Q+=this.stride)H.add(U[Q],U[Q+1]);return H.finish(),H.data=U,H}_addTileFeatures(U,H,Q,le,ue,Se){for(const ve of U){const fe=ve*this.stride,be=H[fe+Dt]>1;let Be,Fe,je;if(be)Be=In(H,fe,this.clusterProps),Fe=H[fe],je=H[fe+1];else{const mt=this.points[H[fe+ct]];Be=mt.properties;const[Et,Nt]=mt.geometry.coordinates;Fe=Zt(Et),je=xt(Nt)}const Ct={type:1,geometry:[[Math.round(this.options.extent*(Fe*ue-Q)),Math.round(this.options.extent*(je*ue-le))]],tags:Be};let Bt;Bt=be||this.options.generateId?H[fe+ct]:this.points[H[fe+ct]].id,Bt!==void 0&&(Ct.id=Bt),Se.features.push(Ct)}}_limitZoom(U){return Math.max(this.options.minZoom,Math.min(Math.floor(+U),this.options.maxZoom+1))}_cluster(U,H){const{radius:Q,extent:le,reduce:ue,minPoints:Se}=this.options,ve=Q/(le*Math.pow(2,H)),fe=U.data,be=[],Be=this.stride;for(let Fe=0;Fe<fe.length;Fe+=Be){if(fe[Fe+2]<=H)continue;fe[Fe+2]=H;const je=fe[Fe],Ct=fe[Fe+1],Bt=U.within(fe[Fe],fe[Fe+1],ve),mt=fe[Fe+Dt];let Et=mt;for(const Nt of Bt){const wn=Nt*Be;fe[wn+2]>H&&(Et+=fe[wn+Dt])}if(Et>mt&&Et>=Se){let Nt,wn=je*mt,Mn=Ct*mt,un=-1;const cn=((Fe/Be|0)<<5)+(H+1)+this.points.length;for(const ti of Bt){const Nn=ti*Be;if(fe[Nn+2]<=H)continue;fe[Nn+2]=H;const Sr=fe[Nn+Dt];wn+=fe[Nn]*Sr,Mn+=fe[Nn+1]*Sr,fe[Nn+4]=cn,ue&&(Nt||(Nt=this._map(fe,Fe,!0),un=this.clusterProps.length,this.clusterProps.push(Nt)),ue(Nt,this._map(fe,Nn)))}fe[Fe+4]=cn,be.push(wn/Et,Mn/Et,1/0,cn,-1,Et),ue&&be.push(un)}else{for(let Nt=0;Nt<Be;Nt++)be.push(fe[Fe+Nt]);if(Et>1)for(const Nt of Bt){const wn=Nt*Be;if(!(fe[wn+2]<=H)){fe[wn+2]=H;for(let Mn=0;Mn<Be;Mn++)be.push(fe[wn+Mn])}}}}return be}_getOriginId(U){return U-this.points.length>>5}_getOriginZoom(U){return(U-this.points.length)%32}_map(U,H,Q){if(U[H+Dt]>1){const Se=this.clusterProps[U[H+Gt]];return Q?Object.assign({},Se):Se}const le=this.points[U[H+ct]].properties,ue=this.options.map(le);return Q&&ue===le?Object.assign({},ue):ue}}function Yt(se,U,H){return{type:"Feature",id:se[U+ct],properties:In(se,U,H),geometry:{type:"Point",coordinates:[(Q=se[U],360*(Q-.5)),qt(se[U+1])]}};var Q}function In(se,U,H){const Q=se[U+Dt],le=Q>=1e4?`${Math.round(Q/1e3)}k`:Q>=1e3?Math.round(Q/100)/10+"k":Q,ue=se[U+Gt],Se=ue===-1?{}:Object.assign({},H[ue]);return Object.assign(Se,{cluster:!0,cluster_id:se[U+ct],point_count:Q,point_count_abbreviated:le})}function Zt(se){return se/360+.5}function xt(se){const U=Math.sin(se*Math.PI/180),H=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return H<0?0:H>1?1:H}function qt(se){const U=(180-360*se)*Math.PI/180;return 360*Math.atan(Math.exp(U))/Math.PI-90}function jt(se,U,H,Q){for(var le,ue=Q,Se=H-U>>1,ve=H-U,fe=se[U],be=se[U+1],Be=se[H],Fe=se[H+1],je=U+3;je<H;je+=3){var Ct=$t(se[je],se[je+1],fe,be,Be,Fe);if(Ct>ue)le=je,ue=Ct;else if(Ct===ue){var Bt=Math.abs(je-Se);Bt<ve&&(le=je,ve=Bt)}}ue>Q&&(le-U>3&&jt(se,U,le,Q),se[le+2]=ue,H-le>3&&jt(se,le,H,Q))}function $t(se,U,H,Q,le,ue){var Se=le-H,ve=ue-Q;if(Se!==0||ve!==0){var fe=((se-H)*Se+(U-Q)*ve)/(Se*Se+ve*ve);fe>1?(H=le,Q=ue):fe>0&&(H+=Se*fe,Q+=ve*fe)}return(Se=se-H)*Se+(ve=U-Q)*ve}function Pt(se,U,H,Q){var le={id:se===void 0?null:se,type:U,geometry:H,tags:Q,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ue){var Se=ue.geometry,ve=ue.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")Ht(ue,Se);else if(ve==="Polygon"||ve==="MultiLineString")for(var fe=0;fe<Se.length;fe++)Ht(ue,Se[fe]);else if(ve==="MultiPolygon")for(fe=0;fe<Se.length;fe++)for(var be=0;be<Se[fe].length;be++)Ht(ue,Se[fe][be])}(le),le}function Ht(se,U){for(var H=0;H<U.length;H+=3)se.minX=Math.min(se.minX,U[H]),se.minY=Math.min(se.minY,U[H+1]),se.maxX=Math.max(se.maxX,U[H]),se.maxY=Math.max(se.maxY,U[H+1])}function ir(se,U,H,Q){if(U.geometry){var le=U.geometry.coordinates,ue=U.geometry.type,Se=Math.pow(H.tolerance/((1<<H.maxZoom)*H.extent),2),ve=[],fe=U.id;if(H.promoteId?fe=U.properties[H.promoteId]:H.generateId&&(fe=Q||0),ue==="Point")On(le,ve);else if(ue==="MultiPoint")for(var be=0;be<le.length;be++)On(le[be],ve);else if(ue==="LineString")Sn(le,ve,Se,!1);else if(ue==="MultiLineString"){if(H.lineMetrics){for(be=0;be<le.length;be++)Sn(le[be],ve=[],Se,!1),se.push(Pt(fe,"LineString",ve,U.properties));return}Pn(le,ve,Se,!1)}else if(ue==="Polygon")Pn(le,ve,Se,!0);else{if(ue!=="MultiPolygon"){if(ue==="GeometryCollection"){for(be=0;be<U.geometry.geometries.length;be++)ir(se,{id:fe,geometry:U.geometry.geometries[be],properties:U.properties},H,Q);return}throw new Error("Input data is not a valid GeoJSON object.")}for(be=0;be<le.length;be++){var Be=[];Pn(le[be],Be,Se,!0),ve.push(Be)}}se.push(Pt(fe,ue,ve,U.properties))}}function On(se,U){U.push(Ie(se[0])),U.push(Jt(se[1])),U.push(0)}function Sn(se,U,H,Q){for(var le,ue,Se=0,ve=0;ve<se.length;ve++){var fe=Ie(se[ve][0]),be=Jt(se[ve][1]);U.push(fe),U.push(be),U.push(0),ve>0&&(Se+=Q?(le*be-fe*ue)/2:Math.sqrt(Math.pow(fe-le,2)+Math.pow(be-ue,2))),le=fe,ue=be}var Be=U.length-3;U[2]=1,jt(U,0,Be,H),U[Be+2]=1,U.size=Math.abs(Se),U.start=0,U.end=U.size}function Pn(se,U,H,Q){for(var le=0;le<se.length;le++){var ue=[];Sn(se[le],ue,H,Q),U.push(ue)}}function Ie(se){return se/360+.5}function Jt(se){var U=Math.sin(se*Math.PI/180),H=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return H<0?0:H>1?1:H}function ft(se,U,H,Q,le,ue,Se,ve){if(Q/=U,ue>=(H/=U)&&Se<Q)return se;if(Se<H||ue>=Q)return null;for(var fe=[],be=0;be<se.length;be++){var Be=se[be],Fe=Be.geometry,je=Be.type,Ct=le===0?Be.minX:Be.minY,Bt=le===0?Be.maxX:Be.maxY;if(Ct>=H&&Bt<Q)fe.push(Be);else if(!(Bt<H||Ct>=Q)){var mt=[];if(je==="Point"||je==="MultiPoint")nn(Fe,mt,H,Q,le);else if(je==="LineString")Mt(Fe,mt,H,Q,le,!1,ve.lineMetrics);else if(je==="MultiLineString")ui(Fe,mt,H,Q,le,!1);else if(je==="Polygon")ui(Fe,mt,H,Q,le,!0);else if(je==="MultiPolygon")for(var Et=0;Et<Fe.length;Et++){var Nt=[];ui(Fe[Et],Nt,H,Q,le,!0),Nt.length&&mt.push(Nt)}if(mt.length){if(ve.lineMetrics&&je==="LineString"){for(Et=0;Et<mt.length;Et++)fe.push(Pt(Be.id,je,mt[Et],Be.tags));continue}je!=="LineString"&&je!=="MultiLineString"||(mt.length===1?(je="LineString",mt=mt[0]):je="MultiLineString"),je!=="Point"&&je!=="MultiPoint"||(je=mt.length===3?"Point":"MultiPoint"),fe.push(Pt(Be.id,je,mt,Be.tags))}}}return fe.length?fe:null}function nn(se,U,H,Q,le){for(var ue=0;ue<se.length;ue+=3){var Se=se[ue+le];Se>=H&&Se<=Q&&(U.push(se[ue]),U.push(se[ue+1]),U.push(se[ue+2]))}}function Mt(se,U,H,Q,le,ue,Se){for(var ve,fe,be=wr(se),Be=le===0?Ti:ei,Fe=se.start,je=0;je<se.length-3;je+=3){var Ct=se[je],Bt=se[je+1],mt=se[je+2],Et=se[je+3],Nt=se[je+4],wn=le===0?Ct:Bt,Mn=le===0?Et:Nt,un=!1;Se&&(ve=Math.sqrt(Math.pow(Ct-Et,2)+Math.pow(Bt-Nt,2))),wn<H?Mn>H&&(fe=Be(be,Ct,Bt,Et,Nt,H),Se&&(be.start=Fe+ve*fe)):wn>Q?Mn<Q&&(fe=Be(be,Ct,Bt,Et,Nt,Q),Se&&(be.start=Fe+ve*fe)):Vr(be,Ct,Bt,mt),Mn<H&&wn>=H&&(fe=Be(be,Ct,Bt,Et,Nt,H),un=!0),Mn>Q&&wn<=Q&&(fe=Be(be,Ct,Bt,Et,Nt,Q),un=!0),!ue&&un&&(Se&&(be.end=Fe+ve*fe),U.push(be),be=wr(se)),Se&&(Fe+=ve)}var cn=se.length-3;Ct=se[cn],Bt=se[cn+1],mt=se[cn+2],(wn=le===0?Ct:Bt)>=H&&wn<=Q&&Vr(be,Ct,Bt,mt),cn=be.length-3,ue&&cn>=3&&(be[cn]!==be[0]||be[cn+1]!==be[1])&&Vr(be,be[0],be[1],be[2]),be.length&&U.push(be)}function wr(se){var U=[];return U.size=se.size,U.start=se.start,U.end=se.end,U}function ui(se,U,H,Q,le,ue){for(var Se=0;Se<se.length;Se++)Mt(se[Se],U,H,Q,le,ue,!1)}function Vr(se,U,H,Q){se.push(U),se.push(H),se.push(Q)}function Ti(se,U,H,Q,le,ue){var Se=(ue-U)/(Q-U);return se.push(ue),se.push(H+(le-H)*Se),se.push(1),Se}function ei(se,U,H,Q,le,ue){var Se=(ue-H)/(le-H);return se.push(U+(Q-U)*Se),se.push(ue),se.push(1),Se}function Cn(se,U){for(var H=[],Q=0;Q<se.length;Q++){var le,ue=se[Q],Se=ue.type;if(Se==="Point"||Se==="MultiPoint"||Se==="LineString")le=Rt(ue.geometry,U);else if(Se==="MultiLineString"||Se==="Polygon"){le=[];for(var ve=0;ve<ue.geometry.length;ve++)le.push(Rt(ue.geometry[ve],U))}else if(Se==="MultiPolygon")for(le=[],ve=0;ve<ue.geometry.length;ve++){for(var fe=[],be=0;be<ue.geometry[ve].length;be++)fe.push(Rt(ue.geometry[ve][be],U));le.push(fe)}H.push(Pt(ue.id,Se,le,ue.tags))}return H}function Rt(se,U){var H=[];H.size=se.size,se.start!==void 0&&(H.start=se.start,H.end=se.end);for(var Q=0;Q<se.length;Q+=3)H.push(se[Q]+U,se[Q+1],se[Q+2]);return H}function Ze(se,U){if(se.transformed)return se;var H,Q,le,ue=1<<se.z,Se=se.x,ve=se.y;for(H=0;H<se.features.length;H++){var fe=se.features[H],be=fe.geometry,Be=fe.type;if(fe.geometry=[],Be===1)for(Q=0;Q<be.length;Q+=2)fe.geometry.push(Fn(be[Q],be[Q+1],U,ue,Se,ve));else for(Q=0;Q<be.length;Q++){var Fe=[];for(le=0;le<be[Q].length;le+=2)Fe.push(Fn(be[Q][le],be[Q][le+1],U,ue,Se,ve));fe.geometry.push(Fe)}}return se.transformed=!0,se}function Fn(se,U,H,Q,le,ue){return[Math.round(H*(se*Q-le)),Math.round(H*(U*Q-ue))]}function sn(se,U,H,Q,le){for(var ue=U===le.maxZoom?0:le.tolerance/((1<<U)*le.extent),Se={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:H,y:Q,z:U,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ve=0;ve<se.length;ve++){Se.numFeatures++,At(Se,se[ve],ue,le);var fe=se[ve].minX,be=se[ve].minY,Be=se[ve].maxX,Fe=se[ve].maxY;fe<Se.minX&&(Se.minX=fe),be<Se.minY&&(Se.minY=be),Be>Se.maxX&&(Se.maxX=Be),Fe>Se.maxY&&(Se.maxY=Fe)}return Se}function At(se,U,H,Q){var le=U.geometry,ue=U.type,Se=[];if(ue==="Point"||ue==="MultiPoint")for(var ve=0;ve<le.length;ve+=3)Se.push(le[ve]),Se.push(le[ve+1]),se.numPoints++,se.numSimplified++;else if(ue==="LineString")pn(Se,le,se,H,!1,!1);else if(ue==="MultiLineString"||ue==="Polygon")for(ve=0;ve<le.length;ve++)pn(Se,le[ve],se,H,ue==="Polygon",ve===0);else if(ue==="MultiPolygon")for(var fe=0;fe<le.length;fe++){var be=le[fe];for(ve=0;ve<be.length;ve++)pn(Se,be[ve],se,H,!0,ve===0)}if(Se.length){var Be=U.tags||null;if(ue==="LineString"&&Q.lineMetrics){for(var Fe in Be={},U.tags)Be[Fe]=U.tags[Fe];Be.mapbox_clip_start=le.start/le.size,Be.mapbox_clip_end=le.end/le.size}var je={geometry:Se,type:ue==="Polygon"||ue==="MultiPolygon"?3:ue==="LineString"||ue==="MultiLineString"?2:1,tags:Be};U.id!==null&&(je.id=U.id),se.features.push(je)}}function pn(se,U,H,Q,le,ue){var Se=Q*Q;if(Q>0&&U.size<(le?Se:Q))H.numPoints+=U.length/3;else{for(var ve=[],fe=0;fe<U.length;fe+=3)(Q===0||U[fe+2]>Se)&&(H.numSimplified++,ve.push(U[fe]),ve.push(U[fe+1])),H.numPoints++;le&&function(be,Be){for(var Fe=0,je=0,Ct=be.length,Bt=Ct-2;je<Ct;Bt=je,je+=2)Fe+=(be[je]-be[Bt])*(be[je+1]+be[Bt+1]);if(Fe>0===Be)for(je=0,Ct=be.length;je<Ct/2;je+=2){var mt=be[je],Et=be[je+1];be[je]=be[Ct-2-je],be[je+1]=be[Ct-1-je],be[Ct-2-je]=mt,be[Ct-1-je]=Et}}(ve,ue),se.push(ve)}}function He(se,U){var H=(U=this.options=function(le,ue){for(var Se in ue)le[Se]=ue[Se];return le}(Object.create(this.options),U)).debug;if(H&&console.time("preprocess data"),U.maxZoom<0||U.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(U.promoteId&&U.generateId)throw new Error("promoteId and generateId cannot be used together.");var Q=function(le,ue){var Se=[];if(le.type==="FeatureCollection")for(var ve=0;ve<le.features.length;ve++)ir(Se,le.features[ve],ue,ve);else ir(Se,le.type==="Feature"?le:{geometry:le},ue);return Se}(se,U);this.tiles={},this.tileCoords=[],H&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",U.indexMaxZoom,U.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Q=function(le,ue){var Se=ue.buffer/ue.extent,ve=le,fe=ft(le,1,-1-Se,Se,0,-1,2,ue),be=ft(le,1,1-Se,2+Se,0,-1,2,ue);return(fe||be)&&(ve=ft(le,1,-Se,1+Se,0,-1,2,ue)||[],fe&&(ve=Cn(fe,1).concat(ve)),be&&(ve=ve.concat(Cn(be,-1)))),ve}(Q,U),Q.length&&this.splitTile(Q,0,0,0),H&&(Q.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ot(se,U,H){return 32*((1<<se)*H+U)+se}function zt(se,U){return U?se.properties[U]:se.id}function hi(se,U){if(se==null)return!0;if(se.type==="Feature")return zt(se,U)!=null;if(se.type==="FeatureCollection"){const H=new Set;for(const Q of se.features){const le=zt(Q,U);if(le==null||H.has(le))return!1;H.add(le)}return!0}return!1}function jo(se,U){const H=new Map;if(se!=null)if(se.type==="Feature")H.set(zt(se,U),se);else for(const Q of se.features)H.set(zt(Q,U),Q);return H}He.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},He.prototype.splitTile=function(se,U,H,Q,le,ue,Se){for(var ve=[se,U,H,Q],fe=this.options,be=fe.debug;ve.length;){Q=ve.pop(),H=ve.pop(),U=ve.pop(),se=ve.pop();var Be=1<<U,Fe=Ot(U,H,Q),je=this.tiles[Fe];if(!je&&(be>1&&console.time("creation"),je=this.tiles[Fe]=sn(se,U,H,Q,fe),this.tileCoords.push({z:U,x:H,y:Q}),be)){be>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",U,H,Q,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var Ct="z"+U;this.stats[Ct]=(this.stats[Ct]||0)+1,this.total++}if(je.source=se,le){if(U===fe.maxZoom||U===le)continue;var Bt=1<<le-U;if(H!==Math.floor(ue/Bt)||Q!==Math.floor(Se/Bt))continue}else if(U===fe.indexMaxZoom||je.numPoints<=fe.indexMaxPoints)continue;if(je.source=null,se.length!==0){be>1&&console.time("clipping");var mt,Et,Nt,wn,Mn,un,cn=.5*fe.buffer/fe.extent,ti=.5-cn,Nn=.5+cn,Sr=1+cn;mt=Et=Nt=wn=null,Mn=ft(se,Be,H-cn,H+Nn,0,je.minX,je.maxX,fe),un=ft(se,Be,H+ti,H+Sr,0,je.minX,je.maxX,fe),se=null,Mn&&(mt=ft(Mn,Be,Q-cn,Q+Nn,1,je.minY,je.maxY,fe),Et=ft(Mn,Be,Q+ti,Q+Sr,1,je.minY,je.maxY,fe),Mn=null),un&&(Nt=ft(un,Be,Q-cn,Q+Nn,1,je.minY,je.maxY,fe),wn=ft(un,Be,Q+ti,Q+Sr,1,je.minY,je.maxY,fe),un=null),be>1&&console.timeEnd("clipping"),ve.push(mt||[],U+1,2*H,2*Q),ve.push(Et||[],U+1,2*H,2*Q+1),ve.push(Nt||[],U+1,2*H+1,2*Q),ve.push(wn||[],U+1,2*H+1,2*Q+1)}}},He.prototype.getTile=function(se,U,H){var Q=this.options,le=Q.extent,ue=Q.debug;if(se<0||se>24)return null;var Se=1<<se,ve=Ot(se,U=(U%Se+Se)%Se,H);if(this.tiles[ve])return Ze(this.tiles[ve],le);ue>1&&console.log("drilling down to z%d-%d-%d",se,U,H);for(var fe,be=se,Be=U,Fe=H;!fe&&be>0;)be--,Be=Math.floor(Be/2),Fe=Math.floor(Fe/2),fe=this.tiles[Ot(be,Be,Fe)];return fe&&fe.source?(ue>1&&console.log("found parent tile z%d-%d-%d",be,Be,Fe),ue>1&&console.time("drilling down"),this.splitTile(fe.source,be,Be,Fe,se,U,H),ue>1&&console.timeEnd("drilling down"),this.tiles[ve]?Ze(this.tiles[ve],le):null):null};class Ut extends L{constructor(U,H,Q,le){super(U,H,Q),this._dataUpdateable=new Map,this.loadGeoJSON=(ue,Se)=>{const{promoteId:ve}=ue;if(ue.request)return a.f(ue.request,(fe,be,Be,Fe)=>{this._dataUpdateable=hi(be,ve)?jo(be,ve):void 0,Se(fe,be,Be,Fe)});if(typeof ue.data=="string")try{const fe=JSON.parse(ue.data);this._dataUpdateable=hi(fe,ve)?jo(fe,ve):void 0,Se(null,fe)}catch{Se(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`))}else ue.dataDiff?this._dataUpdateable?(function(fe,be,Be){var Fe,je,Ct,Bt;if(be.removeAll&&fe.clear(),be.remove)for(const mt of be.remove)fe.delete(mt);if(be.add)for(const mt of be.add){const Et=zt(mt,Be);Et!=null&&fe.set(Et,mt)}if(be.update)for(const mt of be.update){let Et=fe.get(mt.id);if(Et==null)continue;const Nt=!mt.removeAllProperties&&(((Fe=mt.removeProperties)===null||Fe===void 0?void 0:Fe.length)>0||((je=mt.addOrUpdateProperties)===null||je===void 0?void 0:je.length)>0);if((mt.newGeometry||mt.removeAllProperties||Nt)&&(Et=Object.assign({},Et),fe.set(mt.id,Et),Nt&&(Et.properties=Object.assign({},Et.properties))),mt.newGeometry&&(Et.geometry=mt.newGeometry),mt.removeAllProperties)Et.properties={};else if(((Ct=mt.removeProperties)===null||Ct===void 0?void 0:Ct.length)>0)for(const wn of mt.removeProperties)Object.prototype.hasOwnProperty.call(Et.properties,wn)&&delete Et.properties[wn];if(((Bt=mt.addOrUpdateProperties)===null||Bt===void 0?void 0:Bt.length)>0)for(const{key:wn,value:Mn}of mt.addOrUpdateProperties)Et.properties[wn]=Mn}}(this._dataUpdateable,ue.dataDiff,ve),Se(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Se(new Error(`Cannot update existing geojson data in ${ue.source}`)):Se(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,le&&(this.loadGeoJSON=le)}loadGeoJSONTile(U,H){const Q=U.tileID.canonical;if(!this._geoJSONIndex)return H(null,null);const le=this._geoJSONIndex.getTile(Q.z,Q.x,Q.y);if(!le)return H(null,null);const ue=new class{constructor(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.N,this.length=ve.length,this._features=ve}feature(ve){return new class{constructor(fe){this._feature=fe,this.extent=a.N,this.type=fe.type,this.properties=fe.tags,"id"in fe&&!isNaN(fe.id)&&(this.id=parseInt(fe.id,10))}loadGeometry(){if(this._feature.type===1){const fe=[];for(const be of this._feature.geometry)fe.push([new a.P(be[0],be[1])]);return fe}{const fe=[];for(const be of this._feature.geometry){const Be=[];for(const Fe of be)Be.push(new a.P(Fe[0],Fe[1]));fe.push(Be)}return fe}}toGeoJSON(fe,be,Be){return V.call(this,fe,be,Be)}}(this._features[ve])}}(le.features);let Se=Re(ue);Se.byteOffset===0&&Se.byteLength===Se.buffer.byteLength||(Se=new Uint8Array(Se)),H(null,{vectorTile:ue,rawData:Se.buffer})}loadData(U,H){var Q;(Q=this._pendingRequest)===null||Q===void 0||Q.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const le=!!(U&&U.request&&U.request.collectResourceTiming)&&new a.bu(U.request);this._pendingCallback=H,this._pendingRequest=this.loadGeoJSON(U,(ue,Se)=>{if(delete this._pendingCallback,delete this._pendingRequest,ue||!Se)return H(ue);if(typeof Se!="object")return H(new Error(`Input data given to '${U.source}' is not a valid GeoJSON object.`));{B(Se,!0);try{if(U.filter){const fe=a.bC(U.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(fe.result==="error")throw new Error(fe.value.map(Be=>`${Be.key}: ${Be.message}`).join(", "));Se={type:"FeatureCollection",features:Se.features.filter(Be=>fe.value.evaluate({zoom:0},Be))}}this._geoJSONIndex=U.cluster?new dn(function({superclusterOptions:fe,clusterProperties:be}){if(!be||!fe)return fe;const Be={},Fe={},je={accumulated:null,zoom:0},Ct={properties:null},Bt=Object.keys(be);for(const mt of Bt){const[Et,Nt]=be[mt],wn=a.bC(Nt),Mn=a.bC(typeof Et=="string"?[Et,["accumulated"],["get",mt]]:Et);Be[mt]=wn.value,Fe[mt]=Mn.value}return fe.map=mt=>{Ct.properties=mt;const Et={};for(const Nt of Bt)Et[Nt]=Be[Nt].evaluate(je,Ct);return Et},fe.reduce=(mt,Et)=>{Ct.properties=Et;for(const Nt of Bt)je.accumulated=mt[Nt],mt[Nt]=Fe[Nt].evaluate(je,Ct)},fe}(U)).load(Se.features):function(fe,be){return new He(fe,be)}(Se,U.geojsonVtOptions)}catch(fe){return H(fe)}this.loaded={};const ve={};if(le){const fe=le.finish();fe&&(ve.resourceTiming={},ve.resourceTiming[U.source]=JSON.parse(JSON.stringify(fe)))}H(null,ve)}})}reloadTile(U,H){const Q=this.loaded;return Q&&Q[U.uid]?super.reloadTile(U,H):this.loadTile(U,H)}removeSource(U,H){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),H()}getClusterExpansionZoom(U,H){try{H(null,this._geoJSONIndex.getClusterExpansionZoom(U.clusterId))}catch(Q){H(Q)}}getClusterChildren(U,H){try{H(null,this._geoJSONIndex.getChildren(U.clusterId))}catch(Q){H(Q)}}getClusterLeaves(U,H){try{H(null,this._geoJSONIndex.getLeaves(U.clusterId,U.limit,U.offset))}catch(Q){H(Q)}}}class gs{constructor(U){this.self=U,this.actor=new a.C(U,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:L,geojson:Ut},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(H,Q)=>{if(this.workerSourceTypes[H])throw new Error(`Worker source with name "${H}" already registered.`);this.workerSourceTypes[H]=Q},this.self.registerRTLTextPlugin=H=>{if(a.bD.isParsed())throw new Error("RTL text plugin already registered.");a.bD.applyArabicShaping=H.applyArabicShaping,a.bD.processBidirectionalText=H.processBidirectionalText,a.bD.processStyledBidirectionalText=H.processStyledBidirectionalText}}setReferrer(U,H){this.referrer=H}setImages(U,H,Q){this.availableImages[U]=H;for(const le in this.workerSources[U]){const ue=this.workerSources[U][le];for(const Se in ue)ue[Se].availableImages=H}Q()}setLayers(U,H,Q){this.getLayerIndex(U).replace(H),Q()}updateLayers(U,H,Q){this.getLayerIndex(U).update(H.layers,H.removedIds),Q()}loadTile(U,H,Q){this.getWorkerSource(U,H.type,H.source).loadTile(H,Q)}loadDEMTile(U,H,Q){this.getDEMWorkerSource(U,H.source).loadTile(H,Q)}reloadTile(U,H,Q){this.getWorkerSource(U,H.type,H.source).reloadTile(H,Q)}abortTile(U,H,Q){this.getWorkerSource(U,H.type,H.source).abortTile(H,Q)}removeTile(U,H,Q){this.getWorkerSource(U,H.type,H.source).removeTile(H,Q)}removeDEMTile(U,H){this.getDEMWorkerSource(U,H.source).removeTile(H)}removeSource(U,H,Q){if(!this.workerSources[U]||!this.workerSources[U][H.type]||!this.workerSources[U][H.type][H.source])return;const le=this.workerSources[U][H.type][H.source];delete this.workerSources[U][H.type][H.source],le.removeSource!==void 0?le.removeSource(H,Q):Q()}loadWorkerSource(U,H,Q){try{this.self.importScripts(H.url),Q()}catch(le){Q(le.toString())}}syncRTLPluginState(U,H,Q){try{a.bD.setState(H);const le=a.bD.getPluginURL();if(a.bD.isLoaded()&&!a.bD.isParsed()&&le!=null){this.self.importScripts(le);const ue=a.bD.isParsed();Q(ue?void 0:new Error(`RTL Text Plugin failed to import scripts from ${le}`),ue)}}catch(le){Q(le.toString())}}getAvailableImages(U){let H=this.availableImages[U];return H||(H=[]),H}getLayerIndex(U){let H=this.layerIndexes[U];return H||(H=this.layerIndexes[U]=new b),H}getWorkerSource(U,H,Q){return this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][H]||(this.workerSources[U][H]={}),this.workerSources[U][H][Q]||(this.workerSources[U][H][Q]=new this.workerSourceTypes[H]({send:(le,ue,Se)=>{this.actor.send(le,ue,Se,U)}},this.getLayerIndex(U),this.getAvailableImages(U))),this.workerSources[U][H][Q]}getDEMWorkerSource(U,H){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][H]||(this.demWorkerSources[U][H]=new F),this.demWorkerSources[U][H]}}return a.i()&&(self.worker=new gs(self)),gs}),h(["./shared"],function(a){var b="3.6.2";class w{static testProp(i){if(!w.docStyle)return i[0];for(let u=0;u<i.length;u++)if(i[u]in w.docStyle)return i[u];return i[0]}static create(i,u,f){const g=window.document.createElement(i);return u!==void 0&&(g.className=u),f&&f.appendChild(g),g}static createNS(i,u){return window.document.createElementNS(i,u)}static disableDrag(){w.docStyle&&w.selectProp&&(w.userSelect=w.docStyle[w.selectProp],w.docStyle[w.selectProp]="none")}static enableDrag(){w.docStyle&&w.selectProp&&(w.docStyle[w.selectProp]=w.userSelect)}static setTransform(i,u){i.style[w.transformProp]=u}static addEventListener(i,u,f,g={}){i.addEventListener(u,f,"passive"in g?g:g.capture)}static removeEventListener(i,u,f,g={}){i.removeEventListener(u,f,"passive"in g?g:g.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",w.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",w.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",w.suppressClickInternal,!0)},0)}static mousePos(i,u){const f=i.getBoundingClientRect();return new a.P(u.clientX-f.left-i.clientLeft,u.clientY-f.top-i.clientTop)}static touchPos(i,u){const f=i.getBoundingClientRect(),g=[];for(let _=0;_<u.length;_++)g.push(new a.P(u[_].clientX-f.left-i.clientLeft,u[_].clientY-f.top-i.clientTop));return g}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}w.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,w.selectProp=w.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),w.transformProp=w.testProp(["transform","WebkitTransform"]);const E={supported:!1,testSupport:function(y){!L&&I&&(F?j(y):A=y)}};let A,I,L=!1,F=!1;function j(y){const i=y.createTexture();y.bindTexture(y.TEXTURE_2D,i);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,I),y.isContextLost())return;E.supported=!0}catch{}y.deleteTexture(i),L=!0}var K,B;typeof document<"u"&&(I=document.createElement("img"),I.onload=function(){A&&j(A),A=null,F=!0},I.onerror=function(){L=!0,A=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let i,u,f,g;y.resetRequestQueue=()=>{i=[],u=0,f=0,g={}},y.addThrottleControl=R=>{const z=f++;return g[z]=R,z},y.removeThrottleControl=R=>{delete g[R],T()},y.getImage=(R,z,O=!0)=>{E.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*");const Z={requestParameters:R,supportImageRefresh:O,callback:z,cancelled:!1,completed:!1,cancel:()=>{Z.completed||Z.cancelled||(Z.cancelled=!0,Z.innerRequest&&(Z.innerRequest.cancel(),u--),T())}};return i.push(Z),T(),Z};const _=R=>{const{requestParameters:z,supportImageRefresh:O,callback:Z}=R;return a.e(z,{type:"image"}),(O!==!1||a.i()||a.g(z.url)||z.headers&&!Object.keys(z.headers).reduce((re,ne)=>re&&ne==="accept",!0)?a.m:k)(z,(re,ne,ae,ee)=>{C(R,Z,re,ne,ae,ee)})},C=(R,z,O,Z,re,ne)=>{O?z(O):Z instanceof HTMLImageElement||a.a(Z)?z(null,Z):Z&&((ae,ee)=>{typeof createImageBitmap=="function"?a.b(ae,ee):a.d(ae,ee)})(Z,(ae,ee)=>{ae!=null?z(ae):ee!=null&&z(null,ee,{cacheControl:re,expires:ne})}),R.cancelled||(R.completed=!0,u--,T())},T=()=>{const R=(()=>{const z=Object.keys(g);let O=!1;if(z.length>0){for(const Z of z)if(O=g[Z](),O)break}return O})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let z=u;z<R&&i.length>0;z++){const O=i.shift();if(O.cancelled){z--;continue}const Z=_(O);u++,O.innerRequest=Z}},k=(R,z)=>{const O=new Image,Z=R.url;let re=!1;const ne=R.credentials;return ne&&ne==="include"?O.crossOrigin="use-credentials":(ne&&ne==="same-origin"||!a.s(Z))&&(O.crossOrigin="anonymous"),O.fetchPriority="high",O.onload=()=>{z(null,O),O.onerror=O.onload=null},O.onerror=()=>{re||z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),O.onerror=O.onload=null},O.src=Z,{cancel:()=>{re=!0,O.src=""}}}}(K||(K={})),K.resetRequestQueue(),function(y){y.Glyphs="Glyphs",y.Image="Image",y.Source="Source",y.SpriteImage="SpriteImage",y.SpriteJSON="SpriteJSON",y.Style="Style",y.Tile="Tile",y.Unknown="Unknown"}(B||(B={}));class V{constructor(i){this._transformRequestFn=i}transformRequest(i,u){return this._transformRequestFn&&this._transformRequestFn(i,u)||{url:i}}normalizeSpriteURL(i,u,f){const g=function(_){const C=_.match($);if(!C)throw new Error(`Unable to parse URL "${_}"`);return{protocol:C[1],authority:C[2],path:C[3]||"/",params:C[4]?C[4].split("&"):[]}}(i);return g.path+=`${u}${f}`,function(_){const C=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${C}`}(g)}setTransformRequest(i){this._transformRequestFn=i}}const $=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function J(y){var i=new a.A(3);return i[0]=y[0],i[1]=y[1],i[2]=y[2],i}var ie,de=function(y,i,u){return y[0]=i[0]-u[0],y[1]=i[1]-u[1],y[2]=i[2]-u[2],y};ie=new a.A(3),a.A!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0);var ye=function(y){var i=y[0],u=y[1];return i*i+u*u};function me(y){const i=[];if(typeof y=="string")i.push({id:"default",url:y});else if(y&&y.length>0){const u=[];for(const{id:f,url:g}of y){const _=`${f}${g}`;u.indexOf(_)===-1&&(u.push(_),i.push({id:f,url:g}))}}return i}function ke(y,i,u,f,g){if(f)return void y(f);if(g!==Object.values(i).length||g!==Object.values(u).length)return;const _={};for(const C in i){_[C]={};const T=a.h.getImageCanvasContext(u[C]),k=i[C];for(const R in k){const{width:z,height:O,x:Z,y:re,sdf:ne,pixelRatio:ae,stretchX:ee,stretchY:_e,content:Ee}=k[R];_[C][R]={data:null,pixelRatio:ae,sdf:ne,stretchX:ee,stretchY:_e,content:Ee,spriteData:{width:z,height:O,x:Z,y:re,context:T}}}}y(null,_)}(function(){var y=new a.A(2);a.A!=Float32Array&&(y[0]=0,y[1]=0)})();class G{constructor(i,u,f,g){this.context=i,this.format=f,this.texture=i.gl.createTexture(),this.update(u,g)}update(i,u,f){const{width:g,height:_}=i,C=!(this.size&&this.size[0]===g&&this.size[1]===_||f),{context:T}=this,{gl:k}=T;if(this.useMipmap=!!(u&&u.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!u||u.premultiply!==!1)),C)this.size=[g,_],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||a.a(i)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,i):k.texImage2D(k.TEXTURE_2D,0,this.format,g,_,0,this.format,k.UNSIGNED_BYTE,i.data);else{const{x:R,y:z}=f||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||a.a(i)?k.texSubImage2D(k.TEXTURE_2D,0,R,z,k.RGBA,k.UNSIGNED_BYTE,i):k.texSubImage2D(k.TEXTURE_2D,0,R,z,g,_,k.RGBA,k.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D)}bind(i,u,f){const{context:g}=this,{gl:_}=g;_.bindTexture(_.TEXTURE_2D,this.texture),f!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=_.LINEAR),i!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,f||i),this.filter=i),u!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,u),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function Te(y){const{userImage:i}=y;return!!(i&&i.render&&i.render())&&(y.data.replace(new Uint8Array(i.data.buffer)),!0)}class Le extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:u,callback:f}of this.requestors)this._notify(u,f);this.requestors=[]}}getImage(i){const u=this.images[i];if(u&&!u.data&&u.spriteData){const f=u.spriteData;u.data=new a.R({width:f.width,height:f.height},f.context.getImageData(f.x,f.y,f.width,f.height).data),u.spriteData=null}return u}addImage(i,u){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,u)&&(this.images[i]=u)}_validate(i,u){let f=!0;const g=u.data||u.spriteData;return this._validateStretch(u.stretchX,g&&g.width)||(this.fire(new a.j(new Error(`Image "${i}" has invalid "stretchX" value`))),f=!1),this._validateStretch(u.stretchY,g&&g.height)||(this.fire(new a.j(new Error(`Image "${i}" has invalid "stretchY" value`))),f=!1),this._validateContent(u.content,u)||(this.fire(new a.j(new Error(`Image "${i}" has invalid "content" value`))),f=!1),f}_validateStretch(i,u){if(!i)return!0;let f=0;for(const g of i){if(g[0]<f||g[1]<g[0]||u<g[1])return!1;f=g[1]}return!0}_validateContent(i,u){if(!i)return!0;if(i.length!==4)return!1;const f=u.spriteData,g=f&&f.width||u.data.width,_=f&&f.height||u.data.height;return!(i[0]<0||g<i[0]||i[1]<0||_<i[1]||i[2]<0||g<i[2]||i[3]<0||_<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,u,f=!0){const g=this.getImage(i);if(f&&(g.data.width!==u.data.width||g.data.height!==u.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=g.version+1,this.images[i]=u,this.updatedImages[i]=!0}removeImage(i){const u=this.images[i];delete this.images[i],delete this.patterns[i],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,u){let f=!0;if(!this.isLoaded())for(const g of i)this.images[g]||(f=!1);this.isLoaded()||f?this._notify(i,u):this.requestors.push({ids:i,callback:u})}_notify(i,u){const f={};for(const g of i){let _=this.getImage(g);_||(this.fire(new a.k("styleimagemissing",{id:g})),_=this.getImage(g)),_?f[g]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,hasRenderCallback:!!(_.userImage&&_.userImage.render)}:a.w(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,f)}getPixelSize(){const{width:i,height:u}=this.atlasImage;return{width:i,height:u}}getPattern(i){const u=this.patterns[i],f=this.getImage(i);if(!f)return null;if(u&&u.position.version===f.version)return u.position;if(u)u.position.version=f.version;else{const g={w:f.data.width+2,h:f.data.height+2,x:0,y:0},_=new a.I(g,f);this.patterns[i]={bin:g,position:_}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const u=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new G(i,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const _ in this.patterns)i.push(this.patterns[_].bin);const{w:u,h:f}=a.p(i),g=this.atlasImage;g.resize({width:u||1,height:f||1});for(const _ in this.patterns){const{bin:C}=this.patterns[_],T=C.x+1,k=C.y+1,R=this.getImage(_).data,z=R.width,O=R.height;a.R.copy(R,g,{x:0,y:0},{x:T,y:k},{width:z,height:O}),a.R.copy(R,g,{x:0,y:O-1},{x:T,y:k-1},{width:z,height:1}),a.R.copy(R,g,{x:0,y:0},{x:T,y:k+O},{width:z,height:1}),a.R.copy(R,g,{x:z-1,y:0},{x:T-1,y:k},{width:1,height:O}),a.R.copy(R,g,{x:0,y:0},{x:T+z,y:k},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const u of i){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const f=this.getImage(u);f||a.w(`Image with ID: "${u}" was not found`),Te(f)&&this.updateImage(u,f)}}}const Ue=1e20;function qe(y,i,u,f,g,_,C,T,k){for(let R=i;R<i+f;R++)Oe(y,u*_+R,_,g,C,T,k);for(let R=u;R<u+g;R++)Oe(y,R*_+i,1,f,C,T,k)}function Oe(y,i,u,f,g,_,C){_[0]=0,C[0]=-Ue,C[1]=Ue,g[0]=y[i];for(let T=1,k=0,R=0;T<f;T++){g[T]=y[i+T*u];const z=T*T;do{const O=_[k];R=(g[T]-g[O]+z-O*O)/(T-O)/2}while(R<=C[k]&&--k>-1);k++,_[k]=T,C[k]=R,C[k+1]=Ue}for(let T=0,k=0;T<f;T++){for(;C[k+1]<T;)k++;const R=_[k],z=T-R;y[i+T*u]=g[R]+z*z}}class Ge{constructor(i,u){this.requestManager=i,this.localIdeographFontFamily=u,this.entries={}}setURL(i){this.url=i}getGlyphs(i,u){const f=[];for(const g in i)for(const _ of i[g])f.push({stack:g,id:_});a.o(f,({stack:g,id:_},C)=>{let T=this.entries[g];T||(T=this.entries[g]={glyphs:{},requests:{},ranges:{}});let k=T.glyphs[_];if(k!==void 0)return void C(null,{stack:g,id:_,glyph:k});if(k=this._tinySDF(T,g,_),k)return T.glyphs[_]=k,void C(null,{stack:g,id:_,glyph:k});const R=Math.floor(_/256);if(256*R>65535)return void C(new Error("glyphs > 65535 not supported"));if(T.ranges[R])return void C(null,{stack:g,id:_,glyph:k});if(!this.url)return void C(new Error("glyphsUrl is not set"));let z=T.requests[R];z||(z=T.requests[R]=[],Ge.loadGlyphRange(g,R,this.url,this.requestManager,(O,Z)=>{if(Z){for(const re in Z)this._doesCharSupportLocalGlyph(+re)||(T.glyphs[+re]=Z[+re]);T.ranges[R]=!0}for(const re of z)re(O,Z);delete T.requests[R]})),z.push((O,Z)=>{O?C(O):Z&&C(null,{stack:g,id:_,glyph:Z[_]||null})})},(g,_)=>{if(g)u(g);else if(_){const C={};for(const{stack:T,id:k,glyph:R}of _)(C[T]||(C[T]={}))[k]=R&&{id:R.id,bitmap:R.bitmap.clone(),metrics:R.metrics};u(null,C)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](i)||a.u["Hangul Syllables"](i)||a.u.Hiragana(i)||a.u.Katakana(i))}_tinySDF(i,u,f){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(f))return;let _=i.tinySDF;if(!_){let T="400";/bold/i.test(u)?T="900":/medium/i.test(u)?T="500":/light/i.test(u)&&(T="200"),_=i.tinySDF=new Ge.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:T})}const C=_.draw(String.fromCharCode(f));return{id:f,bitmap:new a.q({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ge.loadGlyphRange=function(y,i,u,f,g){const _=256*i,C=_+255,T=f.transformRequest(u.replace("{fontstack}",y).replace("{range}",`${_}-${C}`),B.Glyphs);a.l(T,(k,R)=>{if(k)g(k);else if(R){const z={};for(const O of a.n(R))z[O.id]=O;g(null,z)}})},Ge.TinySDF=class{constructor({fontSize:y=24,buffer:i=3,radius:u=8,cutoff:f=.25,fontFamily:g="sans-serif",fontWeight:_="normal",fontStyle:C="normal"}={}){this.buffer=i,this.cutoff=f,this.radius=u;const T=this.size=y+4*i,k=this._createCanvas(T),R=this.ctx=k.getContext("2d",{willReadFrequently:!0});R.font=`${C} ${_} ${y}px ${g}`,R.textBaseline="alphabetic",R.textAlign="left",R.fillStyle="black",this.gridOuter=new Float64Array(T*T),this.gridInner=new Float64Array(T*T),this.f=new Float64Array(T),this.z=new Float64Array(T+1),this.v=new Uint16Array(T)}_createCanvas(y){const i=document.createElement("canvas");return i.width=i.height=y,i}draw(y){const{width:i,actualBoundingBoxAscent:u,actualBoundingBoxDescent:f,actualBoundingBoxLeft:g,actualBoundingBoxRight:_}=this.ctx.measureText(y),C=Math.ceil(u),T=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-g))),k=Math.min(this.size-this.buffer,C+Math.ceil(f)),R=T+2*this.buffer,z=k+2*this.buffer,O=Math.max(R*z,0),Z=new Uint8ClampedArray(O),re={data:Z,width:R,height:z,glyphWidth:T,glyphHeight:k,glyphTop:C,glyphLeft:0,glyphAdvance:i};if(T===0||k===0)return re;const{ctx:ne,buffer:ae,gridInner:ee,gridOuter:_e}=this;ne.clearRect(ae,ae,T,k),ne.fillText(y,ae,ae+C);const Ee=ne.getImageData(ae,ae,T,k);_e.fill(Ue,0,O),ee.fill(0,0,O);for(let he=0;he<k;he++)for(let xe=0;xe<T;xe++){const Ae=Ee.data[4*(he*T+xe)+3]/255;if(Ae===0)continue;const Me=(he+ae)*R+xe+ae;if(Ae===1)_e[Me]=0,ee[Me]=Ue;else{const Ne=.5-Ae;_e[Me]=Ne>0?Ne*Ne:0,ee[Me]=Ne<0?Ne*Ne:0}}qe(_e,0,0,R,z,R,this.f,this.v,this.z),qe(ee,ae,ae,T,k,R,this.f,this.v,this.z);for(let he=0;he<O;he++){const xe=Math.sqrt(_e[he])-Math.sqrt(ee[he]);Z[he]=Math.round(255-255*(xe/this.radius+this.cutoff))}return re}};class Ye{constructor(){this.specification=a.v.light.position}possiblyEvaluate(i,u){return a.z(i.expression.evaluate(u))}interpolate(i,u,f){return{x:a.B.number(i.x,u.x,f),y:a.B.number(i.y,u.y,f),z:a.B.number(i.z,u.z,f)}}}let De;class Re extends a.E{constructor(i){super(),De=De||new a.r({anchor:new a.D(a.v.light.anchor),position:new Ye,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(De),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,u={}){if(!this._validate(a.t,i,u))for(const f in i){const g=i[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),g):this._transitionable.setValue(f,g)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,u,f){return(!f||f.validate!==!1)&&a.x(this,i.call(a.y,a.e({value:u,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}}class et{constructor(i,u){this.width=i,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,u){const f=i.join(",")+String(u);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(i,u)),this.dashEntry[f]}getDashRanges(i,u,f){const g=[];let _=i.length%2==1?-i[i.length-1]*f:0,C=i[0]*f,T=!0;g.push({left:_,right:C,isDash:T,zeroLength:i[0]===0});let k=i[0];for(let R=1;R<i.length;R++){T=!T;const z=i[R];_=k*f,k+=z,C=k*f,g.push({left:_,right:C,isDash:T,zeroLength:z===0})}return g}addRoundDash(i,u,f){const g=u/2;for(let _=-f;_<=f;_++){const C=this.width*(this.nextRow+f+_);let T=0,k=i[T];for(let R=0;R<this.width;R++){R/k.right>1&&(k=i[++T]);const z=Math.abs(R-k.left),O=Math.abs(R-k.right),Z=Math.min(z,O);let re;const ne=_/f*(g+1);if(k.isDash){const ae=g-Math.abs(ne);re=Math.sqrt(Z*Z+ae*ae)}else re=g-Math.sqrt(Z*Z+ne*ne);this.data[C+R]=Math.max(0,Math.min(255,re+128))}}}addRegularDash(i){for(let T=i.length-1;T>=0;--T){const k=i[T],R=i[T+1];k.zeroLength?i.splice(T,1):R&&R.isDash===k.isDash&&(R.left=k.left,i.splice(T,1))}const u=i[0],f=i[i.length-1];u.isDash===f.isDash&&(u.left=f.left-this.width,f.right=u.right+this.width);const g=this.width*this.nextRow;let _=0,C=i[_];for(let T=0;T<this.width;T++){T/C.right>1&&(C=i[++_]);const k=Math.abs(T-C.left),R=Math.abs(T-C.right),z=Math.min(k,R);this.data[g+T]=Math.max(0,Math.min(255,(C.isDash?z:-z)+128))}}addDash(i,u){const f=u?7:0,g=2*f+1;if(this.nextRow+g>this.height)return a.w("LineAtlas out of space"),null;let _=0;for(let T=0;T<i.length;T++)_+=i[T];if(_!==0){const T=this.width/_,k=this.getDashRanges(i,this.width,T);u?this.addRoundDash(k,T,f):this.addRegularDash(k)}const C={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:_};return this.nextRow+=g,this.dirty=!0,C}bind(i){const u=i.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}class pt{constructor(i,u,f){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=f;const g=this.workerPool.acquire(f);for(let _=0;_<g.length;_++){const C=new a.C(g[_],u,f);C.name=`Worker ${_}`,this.actors.push(C)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,u,f){a.o(this.actors,(g,_)=>{g.send(i,u,_)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(u=>{u.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}}function ut(y,i,u){const f=function(g,_){if(g)return u(g);if(_){const C=a.F(a.e(_,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(C.vectorLayers=_.vector_layers,C.vectorLayerIds=C.vectorLayers.map(T=>T.id)),u(null,C)}};return y.url?a.f(i.transformRequest(y.url,B.Source),f):a.h.frame(()=>f(null,y))}class ct{constructor(i,u){i&&(u?this.setSouthWest(i).setNorthEast(u):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof a.L?new a.L(i.lng,i.lat):a.L.convert(i),this}setSouthWest(i){return this._sw=i instanceof a.L?new a.L(i.lng,i.lat):a.L.convert(i),this}extend(i){const u=this._sw,f=this._ne;let g,_;if(i instanceof a.L)g=i,_=i;else{if(!(i instanceof ct))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(ct.convert(i)):this.extend(a.L.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(a.L.convert(i)):this;if(g=i._sw,_=i._ne,!g||!_)return this}return u||f?(u.lng=Math.min(g.lng,u.lng),u.lat=Math.min(g.lat,u.lat),f.lng=Math.max(_.lng,f.lng),f.lat=Math.max(_.lat,f.lat)):(this._sw=new a.L(g.lng,g.lat),this._ne=new a.L(_.lng,_.lat)),this}getCenter(){return new a.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.L(this.getWest(),this.getNorth())}getSouthEast(){return new a.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:u,lat:f}=a.L.convert(i);let g=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&g}static convert(i){return i instanceof ct?i:i&&new ct(i)}static fromLngLat(i,u=0){const f=360*u/40075017,g=f/Math.cos(Math.PI/180*i.lat);return new ct(new a.L(i.lng-g,i.lat-f),new a.L(i.lng+g,i.lat+f))}}class Dt{constructor(i,u,f){this.bounds=ct.convert(this.validateBounds(i)),this.minzoom=u||0,this.maxzoom=f||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const u=Math.pow(2,i.z),f=Math.floor(a.G(this.bounds.getWest())*u),g=Math.floor(a.H(this.bounds.getNorth())*u),_=Math.ceil(a.G(this.bounds.getEast())*u),C=Math.ceil(a.H(this.bounds.getSouth())*u);return i.x>=f&&i.x<_&&i.y>=g&&i.y<C}}class Gt extends a.E{constructor(i,u,f,g){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=ut(this._options,this.map._requestManager,(_,C)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),_?this.fire(new a.j(_)):C&&(a.e(this,C),C.bounds&&(this.tileBounds=new Dt(C.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.e({},this._options),this.id=i,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.F(u,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(i,u){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(f,B.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(C,T){return delete i.request,i.aborted?u(null):C&&C.status!==404?u(C):(T&&T.resourceTiming&&(i.resourceTiming=T.resourceTiming),this.map._refreshExpiredTiles&&T&&i.setExpiryData(T),i.loadVectorData(T,this.map.painter),u(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,i.actor&&i.state!=="expired"?i.state==="loading"?i.reloadCallback=u:i.request=i.actor.send("reloadTile",g,_.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",g,_.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class dn extends a.E{constructor(i,u,f,g){super(),this.id=i,this.dispatcher=f,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},u),a.e(this,a.F(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=ut(this._options,this.map._requestManager,(i,u)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new a.j(i)):u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}serialize(){return a.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,u){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=K.getImage(this.map._requestManager.transformRequest(f,B.Tile),(g,_,C)=>{if(delete i.request,i.aborted)i.state="unloaded",u(null);else if(g)i.state="errored",u(g);else if(_){this.map._refreshExpiredTiles&&C&&i.setExpiryData(C);const T=this.map.painter.context,k=T.gl;i.texture=this.map.painter.getTileTexture(_.width),i.texture?i.texture.update(_,{useMipmap:!0}):(i.texture=new G(T,_,k.RGBA,{useMipmap:!0}),i.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),T.extTextureFilterAnisotropic&&k.texParameterf(k.TEXTURE_2D,T.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,T.extTextureFilterAnisotropicMax)),i.state="loaded",u(null)}},this.map._refreshExpiredTiles)}abortTile(i,u){i.request&&(i.request.cancel(),delete i.request),u()}unloadTile(i,u){i.texture&&this.map.painter.saveTileTexture(i.texture),u()}hasTransition(){return!1}}class Yt extends dn{constructor(i,u,f,g){super(i,u,f,g),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(i,u){const f=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g=this.map._requestManager.transformRequest(f,B.Tile);function _(C,T){C&&(i.state="errored",u(C)),T&&(i.dem=T,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",u(null))}i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.request=K.getImage(g,(C,T,k)=>a._(this,void 0,void 0,function*(){if(delete i.request,i.aborted)i.state="unloaded",u(null);else if(C)i.state="errored",u(C);else if(T){this.map._refreshExpiredTiles&&i.setExpiryData(k);const R=a.a(T)&&a.J()?T:yield function(O){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.K()){const Z=O.width+2,re=O.height+2;try{return new a.R({width:Z,height:re},yield a.M(O,-1,-1,Z,re))}catch{}}return a.h.getImageData(O,1)})}(T),z={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};i.actor&&i.state!=="expired"||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",z,_))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(i){const u=i.canonical,f=Math.pow(2,u.z),g=(u.x-1+f)%f,_=u.x===0?i.wrap-1:i.wrap,C=(u.x+1+f)%f,T=u.x+1===f?i.wrap+1:i.wrap,k={};return k[new a.O(i.overscaledZ,_,u.z,g,u.y).key]={backfilled:!1},k[new a.O(i.overscaledZ,T,u.z,C,u.y).key]={backfilled:!1},u.y>0&&(k[new a.O(i.overscaledZ,_,u.z,g,u.y-1).key]={backfilled:!1},k[new a.O(i.overscaledZ,i.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},k[new a.O(i.overscaledZ,T,u.z,C,u.y-1).key]={backfilled:!1}),u.y+1<f&&(k[new a.O(i.overscaledZ,_,u.z,g,u.y+1).key]={backfilled:!1},k[new a.O(i.overscaledZ,i.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},k[new a.O(i.overscaledZ,T,u.z,C,u.y+1).key]={backfilled:!1}),k}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class In extends a.E{constructor(i,u,f,g){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.e({},this._options,{type:this.type,data:this._data}),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent(g),this._data=u.data,this._options=a.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId;const _=a.N/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:(u.buffer!==void 0?u.buffer:128)*_,tolerance:(u.tolerance!==void 0?u.tolerance:.375)*_,extent:a.N,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:u.clusterMaxZoom!==void 0?u.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,u.clusterMinPoints||2),extent:a.N,radius:(u.clusterRadius||50)*_,log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i,u){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},u),this}getClusterChildren(i,u){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},u),this}getClusterLeaves(i,u,f,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:u,offset:f},g),this}_updateWorkerData(i){const u=a.e({},this.workerOptions);i?u.dataDiff=i:typeof this._data=="string"?(u.request=this.map._requestManager.transformRequest(a.h.resolveURL(this._data),B.Source),u.request.collectResourceTiming=this._collectResourceTiming):u.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,u,(f,g)=>{if(this._pendingLoads--,this._removed||g&&g.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let _=null;if(g&&g.resourceTiming&&g.resourceTiming[this.id]&&(_=g.resourceTiming[this.id].slice(0)),f)return void this.fire(new a.j(f));const C={dataType:"source"};this._collectResourceTiming&&_&&_.length>0&&a.e(C,{resourceTiming:_}),this.fire(new a.k("data",Object.assign(Object.assign({},C),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},C),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(i,u){const f=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const g={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(f,g,(_,C)=>(delete i.request,i.unloadVectorData(),i.aborted?u(null):_?u(_):(i.loadVectorData(C,this.map.painter,f==="reloadTile"),u(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Zt=a.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class xt extends a.E{constructor(i,u,f,g){super(),this.load=(_,C)=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=K.getImage(this.map._requestManager.transformRequest(this.url,B.Image),(T,k)=>{this._request=null,this._loaded=!0,T?this.fire(new a.j(T)):k&&(this.image=k,_&&(this.coordinates=_),C&&C(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const _=this.map.painter.context,C=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,Zt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new G(_,this.image,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE));let T=!1;for(const k in this.tiles){const R=this.tiles[k];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,T=!0)}T&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=i,this.dispatcher=f,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=u}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(i){this.coordinates=i;const u=i.map(a.U.fromLngLat);this.tileID=function(g){let _=1/0,C=1/0,T=-1/0,k=-1/0;for(const Z of g)_=Math.min(_,Z.x),C=Math.min(C,Z.y),T=Math.max(T,Z.x),k=Math.max(k,Z.y);const R=Math.max(T-_,k-C),z=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),O=Math.pow(2,z);return new a.W(z,Math.floor((_+T)/2*O),Math.floor((C+k)/2*O))}(u),this.minzoom=this.maxzoom=this.tileID.z;const f=u.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new a.V,this._boundsArray.emplaceBack(f[0].x,f[0].y,0,0),this._boundsArray.emplaceBack(f[1].x,f[1].y,a.N,0),this._boundsArray.emplaceBack(f[3].x,f[3].y,0,a.N),this._boundsArray.emplaceBack(f[2].x,f[2].y,a.N,a.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(i,u){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},u(null)):(i.state="errored",u(null))}hasTransition(){return!1}}class qt extends xt{constructor(i,u,f,g){super(i,u,f,g),this.load=()=>{this._loaded=!1;const _=this.options;this.urls=[];for(const C of _.urls)this.urls.push(this.map._requestManager.transformRequest(C,B.Source).url);a.X(this.urls,(C,T)=>{this._loaded=!0,C?this.fire(new a.j(C)):T&&(this.video=T,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,C=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,Zt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE),C.texSubImage2D(C.TEXTURE_2D,0,0,0,C.RGBA,C.UNSIGNED_BYTE,this.video)):(this.texture=new G(_,this.video,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE));let T=!1;for(const k in this.tiles){const R=this.tiles[k];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,T=!0)}T&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=u}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const u=this.video.seekable;i<u.start(0)||i>u.end(0)?this.fire(new a.j(new a.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class jt extends xt{constructor(i,u,f,g){super(i,u,f,g),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const C=this.map.painter.context,T=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,Zt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new G(C,this.canvas,T.RGBA,{premultiply:!0});let k=!1;for(const R in this.tiles){const z=this.tiles[R];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,k=!0)}k&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(C=>typeof C!="number"))||this.fire(new a.j(new a.Y(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.Y(`sources.${i}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new a.j(new a.Y(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.Y(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.Y(`sources.${i}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const $t={},Pt=y=>{switch(y){case"geojson":return In;case"image":return xt;case"raster":return dn;case"raster-dem":return Yt;case"vector":return Gt;case"video":return qt;case"canvas":return jt}return $t[y]};function Ht(y,i){const u=a.Z();return a.$(u,u,[1,1,0]),a.a0(u,u,[.5*y.width,.5*y.height,1]),a.a1(u,u,y.calculatePosMatrix(i.toUnwrapped()))}function ir(y,i,u,f,g,_){const C=function(O,Z,re){if(O)for(const ne of O){const ae=Z[ne];if(ae&&ae.source===re&&ae.type==="fill-extrusion")return!0}else for(const ne in Z){const ae=Z[ne];if(ae.source===re&&ae.type==="fill-extrusion")return!0}return!1}(g&&g.layers,i,y.id),T=_.maxPitchScaleFactor(),k=y.tilesIn(f,T,C);k.sort(On);const R=[];for(const O of k)R.push({wrappedTileID:O.tileID.wrapped().key,queryResults:O.tile.queryRenderedFeatures(i,u,y._state,O.queryGeometry,O.cameraQueryGeometry,O.scale,g,_,T,Ht(y.transform,O.tileID))});const z=function(O){const Z={},re={};for(const ne of O){const ae=ne.queryResults,ee=ne.wrappedTileID,_e=re[ee]=re[ee]||{};for(const Ee in ae){const he=ae[Ee],xe=_e[Ee]=_e[Ee]||{},Ae=Z[Ee]=Z[Ee]||[];for(const Me of he)xe[Me.featureIndex]||(xe[Me.featureIndex]=!0,Ae.push(Me))}}return Z}(R);for(const O in z)z[O].forEach(Z=>{const re=Z.feature,ne=y.getFeatureState(re.layer["source-layer"],re.id);re.source=re.layer.source,re.layer["source-layer"]&&(re.sourceLayer=re.layer["source-layer"]),re.state=ne});return z}function On(y,i){const u=y.tileID,f=i.tileID;return u.overscaledZ-f.overscaledZ||u.canonical.y-f.canonical.y||u.wrap-f.wrap||u.canonical.x-f.canonical.x}class Sn{constructor(i,u){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=a.a2(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const u=i+this.timeAdded;u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,u,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(g,_){const C={};if(!_)return C;for(const T of g){const k=T.layerIds.map(R=>_.getLayer(R)).filter(Boolean);if(k.length!==0){T.layers=k,T.stateDependentLayerIds&&(T.stateDependentLayers=T.stateDependentLayerIds.map(R=>k.filter(z=>z.id===R)[0]));for(const R of k)C[R.id]=T}}return C}(i.buckets,u.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof a.a4){if(this.hasSymbolBuckets=!0,!f)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof a.a4&&_.hasRTLText){this.hasRTLText=!0,a.a5();break}}this.queryPadding=0;for(const g in this.buckets){const _=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(g).queryRadius(_))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new a.a3}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const f in this.buckets){const g=this.buckets[f];g.uploadPending()&&g.upload(i)}const u=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new G(i,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new G(i,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,u,f,g,_,C,T,k,R,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:_,scale:C,tileSize:this.tileSize,pixelPosMatrix:z,transform:k,params:T,queryPadding:this.queryPadding*R},i,u,f):{}}querySourceFeatures(i,u){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const g=f.loadVTLayers(),_=u&&u.sourceLayer?u.sourceLayer:"",C=g._geojsonTileLayer||g[_];if(!C)return;const T=a.a6(u&&u.filter),{z:k,x:R,y:z}=this.tileID.canonical,O={z:k,x:R,y:z};for(let Z=0;Z<C.length;Z++){const re=C.feature(Z);if(T.needGeometry){const ee=a.a7(re,!0);if(!T.filter(new a.a8(this.tileID.overscaledZ),ee,this.tileID.canonical))continue}else if(!T.filter(new a.a8(this.tileID.overscaledZ),re))continue;const ne=f.getId(re,_),ae=new a.a9(re,k,R,z,ne);ae.tile=O,i.push(ae)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const u=this.expirationTime;if(i.cacheControl){const f=a.aa(i.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const f=Date.now();let g=!1;if(this.expirationTime>f)g=!1;else if(u)if(this.expirationTime<u)g=!0;else{const _=this.expirationTime-u;_?this.expirationTime=f+Math.max(_,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const f=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!u.style.hasLayer(g))continue;const _=this.buckets[g],C=_.layers[0].sourceLayer||"_geojsonTileLayer",T=f[C],k=i[C];if(!T||!k||Object.keys(k).length===0)continue;_.update(k,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});const R=u&&u.style&&u.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=a.h.now()+i}setDependencies(i,u){const f={};for(const g of u)f[g]=!0;this.dependencies[i]=f}hasDependency(i,u){for(const f of i){const g=this.dependencies[f];if(g){for(const _ of u)if(g[_])return!0}}return!1}}class Pn{constructor(i,u){this.max=i,this.onRemove=u,this.reset()}reset(){for(const i in this.data)for(const u of this.data[i])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(i,u,f){const g=i.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const _={value:u,timeout:void 0};if(f!==void 0&&(_.timeout=setTimeout(()=>{this.remove(i,_)},f)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const u=this.data[i].shift();return u.timeout&&clearTimeout(u.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),u.value}getByKey(i){const u=this.data[i];return u?u[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,u){if(!this.has(i))return this;const f=i.wrapped().key,g=u===void 0?0:this.data[f].indexOf(u),_=this.data[f][g];return this.data[f].splice(g,1),_.timeout&&clearTimeout(_.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(_.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(i){const u=[];for(const f in this.data)for(const g of this.data[f])i(g.value)||u.push(g);for(const f of u)this.remove(f.value.tileID,f)}}class Ie{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,u,f){const g=String(u);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][g]=this.stateChanges[i][g]||{},a.e(this.stateChanges[i][g],f),this.deletedStates[i]===null){this.deletedStates[i]={};for(const _ in this.state[i])_!==g&&(this.deletedStates[i][_]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][g]===null){this.deletedStates[i][g]={};for(const _ in this.state[i][g])f[_]||(this.deletedStates[i][g][_]=null)}else for(const _ in f)this.deletedStates[i]&&this.deletedStates[i][g]&&this.deletedStates[i][g][_]===null&&delete this.deletedStates[i][g][_]}removeFeatureState(i,u,f){if(this.deletedStates[i]===null)return;const g=String(u);if(this.deletedStates[i]=this.deletedStates[i]||{},f&&u!==void 0)this.deletedStates[i][g]!==null&&(this.deletedStates[i][g]=this.deletedStates[i][g]||{},this.deletedStates[i][g][f]=null);else if(u!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][g])for(f in this.deletedStates[i][g]={},this.stateChanges[i][g])this.deletedStates[i][g][f]=null;else this.deletedStates[i][g]=null;else this.deletedStates[i]=null}getState(i,u){const f=String(u),g=a.e({},(this.state[i]||{})[f],(this.stateChanges[i]||{})[f]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const _=this.deletedStates[i][u];if(_===null)return{};for(const C in _)delete g[C]}return g}initializeTileState(i,u){i.setFeatureState(this.state,u)}coalesceChanges(i,u){const f={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const _={};for(const C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),a.e(this.state[g][C],this.stateChanges[g][C]),_[C]=this.state[g][C];f[g]=_}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const _={};if(this.deletedStates[g]===null)for(const C in this.state[g])_[C]={},this.state[g][C]={};else for(const C in this.deletedStates[g]){if(this.deletedStates[g][C]===null)this.state[g][C]={};else for(const T of Object.keys(this.deletedStates[g][C]))delete this.state[g][C][T];_[C]=this.state[g][C]}f[g]=f[g]||{},a.e(f[g],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const g in i)i[g].setFeatureState(f,u)}}class Jt extends a.E{constructor(i,u,f){super(),this.id=i,this.dispatcher=f,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,_,C,T)=>{const k=new(Pt(_.type))(g,_,C,T);if(k.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${k.id}`);return k})(i,u,f,this),this._tiles={},this._cache=new Pn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ie,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const u=this._tiles[i];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,u){return this._source.loadTile(i,u)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new a.k("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const f=this._tiles[u];f.upload(i),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(ft).map(i=>i.key)}getRenderableIds(i){const u=[];for(const f in this._tiles)this._isIdRenderable(f,i)&&u.push(this._tiles[f]);return i?u.sort((f,g)=>{const _=f.tileID,C=g.tileID,T=new a.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),k=new a.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-C.overscaledZ||k.y-T.y||k.x-T.x}).map(f=>f.tileID.key):u.map(f=>f.tileID).sort(ft).map(f=>f.key)}hasRenderableParent(i){const u=this.findLoadedParent(i,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(i,u){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(u||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,u){const f=this._tiles[i];f&&(f.state!=="loading"&&(f.state=u),this._loadTile(f,this._tileLoaded.bind(this,f,i,u)))}_tileLoaded(i,u,f,g){if(g)return i.state="errored",void(g.status!==404?this._source.fire(new a.j(g,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=a.h.now(),f==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(u,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const u=this.getRenderableIds();for(let g=0;g<u.length;g++){const _=u[g];if(i.neighboringTiles&&i.neighboringTiles[_]){const C=this.getTileByID(_);f(i,C),f(C,i)}}function f(g,_){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let C=_.tileID.canonical.x-g.tileID.canonical.x;const T=_.tileID.canonical.y-g.tileID.canonical.y,k=Math.pow(2,g.tileID.canonical.z),R=_.tileID.key;C===0&&T===0||Math.abs(T)>1||(Math.abs(C)>1&&(Math.abs(C+k)===1?C+=k:Math.abs(C-k)===1&&(C-=k)),_.dem&&g.dem&&(g.dem.backfillBorder(_.dem,C,T),g.neighboringTiles&&g.neighboringTiles[R]&&(g.neighboringTiles[R].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,u,f,g){for(const _ in this._tiles){let C=this._tiles[_];if(g[_]||!C.hasData()||C.tileID.overscaledZ<=u||C.tileID.overscaledZ>f)continue;let T=C.tileID;for(;C&&C.tileID.overscaledZ>u+1;){const R=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[R.key],C&&C.hasData()&&(T=R)}let k=T;for(;k.overscaledZ>u;)if(k=k.scaledTo(k.overscaledZ-1),i[k.key]){g[T.key]=T;break}}}findLoadedParent(i,u){if(i.key in this._loadedParentTiles){const f=this._loadedParentTiles[i.key];return f&&f.tileID.overscaledZ>=u?f:null}for(let f=i.overscaledZ-1;f>=u;f--){const g=i.scaledTo(f),_=this._getLoadedTile(g);if(_)return _}}_getLoadedTile(i){const u=this._tiles[i.key];return u&&u.hasData()?u:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const u=Math.ceil(i.width/this._source.tileSize)+1,f=Math.ceil(i.height/this._source.tileSize)+1,g=Math.floor(u*f*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)}handleWrapJump(i){const u=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,u){const f={};for(const g in this._tiles){const _=this._tiles[g];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+u),f[_.tileID.key]=_}this._tiles=f;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(i,u){if(this.transform=i,this.terrain=u,!this._sourceLoaded||this._paused)return;let f;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(z=>new a.O(z.canonical.z,z.wrap,z.canonical.z,z.canonical.x,z.canonical.y)):(f=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u}),this._source.hasTile&&(f=f.filter(z=>this._source.hasTile(z)))):f=[];const g=i.coveringZoomLevel(this._source),_=Math.max(g-Jt.maxOverzooming,this._source.minzoom),C=Math.max(g+Jt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const z={};for(const O of f)if(O.canonical.z>this._source.minzoom){const Z=O.scaledTo(O.canonical.z-1);z[Z.key]=Z;const re=O.scaledTo(Math.max(this._source.minzoom,Math.min(O.canonical.z,5)));z[re.key]=re}f=f.concat(Object.values(z))}const T=f.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,T&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(f,g);if(nn(this._source.type)){const z={},O={},Z=Object.keys(k),re=a.h.now();for(const ne of Z){const ae=k[ne],ee=this._tiles[ne];if(!ee||ee.fadeEndTime!==0&&ee.fadeEndTime<=re)continue;const _e=this.findLoadedParent(ae,_);_e&&(this._addTile(_e.tileID),z[_e.tileID.key]=_e.tileID),O[ne]=ae}this._retainLoadedChildren(O,g,C,k);for(const ne in z)k[ne]||(this._coveredTiles[ne]=!0,k[ne]=z[ne]);if(u){const ne={},ae={};for(const ee of f)this._tiles[ee.key].hasData()?ne[ee.key]=ee:ae[ee.key]=ee;for(const ee in ae){const _e=ae[ee].children(this._source.maxzoom);this._tiles[_e[0].key]&&this._tiles[_e[1].key]&&this._tiles[_e[2].key]&&this._tiles[_e[3].key]&&(ne[_e[0].key]=k[_e[0].key]=_e[0],ne[_e[1].key]=k[_e[1].key]=_e[1],ne[_e[2].key]=k[_e[2].key]=_e[2],ne[_e[3].key]=k[_e[3].key]=_e[3],delete ae[ee])}for(const ee in ae){const _e=this.findLoadedParent(ae[ee],this._source.minzoom);if(_e){ne[_e.tileID.key]=k[_e.tileID.key]=_e.tileID;for(const Ee in ne)ne[Ee].isChildOf(_e.tileID)&&delete ne[Ee]}}for(const ee in this._tiles)ne[ee]||(this._coveredTiles[ee]=!0)}}for(const z in k)this._tiles[z].clearFadeHold();const R=a.ab(this._tiles,k);for(const z of R){const O=this._tiles[z];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(z)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,u){const f={},g={},_=Math.max(u-Jt.maxOverzooming,this._source.minzoom),C=Math.max(u+Jt.maxUnderzooming,this._source.minzoom),T={};for(const k of i){const R=this._addTile(k);f[k.key]=k,R.hasData()||u<this._source.maxzoom&&(T[k.key]=k)}this._retainLoadedChildren(T,u,C,f);for(const k of i){let R=this._tiles[k.key];if(R.hasData())continue;if(u+1>this._source.maxzoom){const O=k.children(this._source.maxzoom)[0],Z=this.getTile(O);if(Z&&Z.hasData()){f[O.key]=O;continue}}else{const O=k.children(this._source.maxzoom);if(f[O[0].key]&&f[O[1].key]&&f[O[2].key]&&f[O[3].key])continue}let z=R.wasRequested();for(let O=k.overscaledZ-1;O>=_;--O){const Z=k.scaledTo(O);if(g[Z.key])break;if(g[Z.key]=!0,R=this.getTile(Z),!R&&z&&(R=this._addTile(Z)),R){const re=R.hasData();if((z||re)&&(f[Z.key]=Z),z=R.wasRequested(),re)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const u=[];let f,g=this._tiles[i].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){f=this._loadedParentTiles[g.key];break}u.push(g.key);const _=g.scaledTo(g.overscaledZ-1);if(f=this._getLoadedTile(_),f)break;g=_}for(const _ of u)this._loadedParentTiles[_]=f}}_addTile(i){let u=this._tiles[i.key];if(u)return u;u=this._cache.getAndRemove(i),u&&(this._setTileReloadTimer(i.key,u),u.tileID=i,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,u)));const f=u;return u||(u=new Sn(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(u,this._tileLoaded.bind(this,u,i.key,u.state))),u.uses++,this._tiles[i.key]=u,f||this._source.fire(new a.k("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(i,u){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const f=u.getExpiryTimeout();f&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},f))}_removeTile(i){const u=this._tiles[i];u&&(u.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,u,f){const g=[],_=this.transform;if(!_)return g;const C=f?_.getCameraQueryGeometry(i):i,T=i.map(ne=>_.pointCoordinate(ne,this.terrain)),k=C.map(ne=>_.pointCoordinate(ne,this.terrain)),R=this.getIds();let z=1/0,O=1/0,Z=-1/0,re=-1/0;for(const ne of k)z=Math.min(z,ne.x),O=Math.min(O,ne.y),Z=Math.max(Z,ne.x),re=Math.max(re,ne.y);for(let ne=0;ne<R.length;ne++){const ae=this._tiles[R[ne]];if(ae.holdingForFade())continue;const ee=ae.tileID,_e=Math.pow(2,_.zoom-ae.tileID.overscaledZ),Ee=u*ae.queryPadding*a.N/ae.tileSize/_e,he=[ee.getTilePoint(new a.U(z,O)),ee.getTilePoint(new a.U(Z,re))];if(he[0].x-Ee<a.N&&he[0].y-Ee<a.N&&he[1].x+Ee>=0&&he[1].y+Ee>=0){const xe=T.map(Me=>ee.getTilePoint(Me)),Ae=k.map(Me=>ee.getTilePoint(Me));g.push({tile:ae,tileID:ee,queryGeometry:xe,cameraQueryGeometry:Ae,scale:_e})}}return g}getVisibleCoordinates(i){const u=this.getRenderableIds(i).map(f=>this._tiles[f].tileID);for(const f of u)f.posMatrix=this.transform.calculatePosMatrix(f.toUnwrapped());return u}hasTransition(){if(this._source.hasTransition())return!0;if(nn(this._source.type)){const i=a.h.now();for(const u in this._tiles)if(this._tiles[u].fadeEndTime>=i)return!0}return!1}setFeatureState(i,u,f){this._state.updateState(i=i||"_geojsonTileLayer",u,f)}removeFeatureState(i,u,f){this._state.removeFeatureState(i=i||"_geojsonTileLayer",u,f)}getFeatureState(i,u){return this._state.getState(i=i||"_geojsonTileLayer",u)}setDependencies(i,u,f){const g=this._tiles[i];g&&g.setDependencies(u,f)}reloadTilesForDependencies(i,u){for(const f in this._tiles)this._tiles[f].hasDependency(i,u)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(i,u))}}function ft(y,i){const u=Math.abs(2*y.wrap)-+(y.wrap<0),f=Math.abs(2*i.wrap)-+(i.wrap<0);return y.overscaledZ-i.overscaledZ||f-u||i.canonical.y-y.canonical.y||i.canonical.x-y.canonical.x}function nn(y){return y==="raster"||y==="image"||y==="video"}Jt.maxOverzooming=10,Jt.maxUnderzooming=3;const Mt="mapboxgl_preloaded_worker_pool";class wr{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<wr.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mt]}numActive(){return Object.keys(this.active).length}}const ui=Math.floor(a.h.hardwareConcurrency/2);let Vr;function Ti(){return Vr||(Vr=new wr),Vr}wr.workerCount=a.ac(globalThis)?Math.max(Math.min(ui,3),1):1;class ei{constructor(i,u){this.reset(i,u)}reset(i,u){this.points=i||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=a.ad(i,0,1);let u=1,f=this._distances[u];const g=i*this.paddedLength+this.padding;for(;f<g&&u<this._distances.length;)f=this._distances[++u];const _=u-1,C=this._distances[_],T=f-C,k=T>0?(g-C)/T:0;return this.points[_].mult(1-k).add(this.points[u].mult(k))}}function Cn(y,i){let u=!0;return y==="always"||y!=="never"&&i!=="never"||(u=!1),u}class Rt{constructor(i,u,f){const g=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(i/f),this.yCellCount=Math.ceil(u/f);for(let C=0;C<this.xCellCount*this.yCellCount;C++)g.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=u,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,u,f,g,_){this._forEachCell(u,f,g,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(_)}insertCircle(i,u,f,g){this._forEachCell(u-g,f-g,u+g,f+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(u),this.circles.push(f),this.circles.push(g)}_insertBoxCell(i,u,f,g,_,C){this.boxCells[_].push(C)}_insertCircleCell(i,u,f,g,_,C){this.circleCells[_].push(C)}_query(i,u,f,g,_,C,T){if(f<0||i>this.width||g<0||u>this.height)return[];const k=[];if(i<=0&&u<=0&&this.width<=f&&this.height<=g){if(_)return[{key:null,x1:i,y1:u,x2:f,y2:g}];for(let R=0;R<this.boxKeys.length;R++)k.push({key:this.boxKeys[R],x1:this.bboxes[4*R],y1:this.bboxes[4*R+1],x2:this.bboxes[4*R+2],y2:this.bboxes[4*R+3]});for(let R=0;R<this.circleKeys.length;R++){const z=this.circles[3*R],O=this.circles[3*R+1],Z=this.circles[3*R+2];k.push({key:this.circleKeys[R],x1:z-Z,y1:O-Z,x2:z+Z,y2:O+Z})}}else this._forEachCell(i,u,f,g,this._queryCell,k,{hitTest:_,overlapMode:C,seenUids:{box:{},circle:{}}},T);return k}query(i,u,f,g){return this._query(i,u,f,g,!1,null)}hitTest(i,u,f,g,_,C){return this._query(i,u,f,g,!0,_,C).length>0}hitTestCircle(i,u,f,g,_){const C=i-f,T=i+f,k=u-f,R=u+f;if(T<0||C>this.width||R<0||k>this.height)return!1;const z=[];return this._forEachCell(C,k,T,R,this._queryCellCircle,z,{hitTest:!0,overlapMode:g,circle:{x:i,y:u,radius:f},seenUids:{box:{},circle:{}}},_),z.length>0}_queryCell(i,u,f,g,_,C,T,k){const{seenUids:R,hitTest:z,overlapMode:O}=T,Z=this.boxCells[_];if(Z!==null){const ne=this.bboxes;for(const ae of Z)if(!R.box[ae]){R.box[ae]=!0;const ee=4*ae,_e=this.boxKeys[ae];if(i<=ne[ee+2]&&u<=ne[ee+3]&&f>=ne[ee+0]&&g>=ne[ee+1]&&(!k||k(_e))&&(!z||!Cn(O,_e.overlapMode))&&(C.push({key:_e,x1:ne[ee],y1:ne[ee+1],x2:ne[ee+2],y2:ne[ee+3]}),z))return!0}}const re=this.circleCells[_];if(re!==null){const ne=this.circles;for(const ae of re)if(!R.circle[ae]){R.circle[ae]=!0;const ee=3*ae,_e=this.circleKeys[ae];if(this._circleAndRectCollide(ne[ee],ne[ee+1],ne[ee+2],i,u,f,g)&&(!k||k(_e))&&(!z||!Cn(O,_e.overlapMode))){const Ee=ne[ee],he=ne[ee+1],xe=ne[ee+2];if(C.push({key:_e,x1:Ee-xe,y1:he-xe,x2:Ee+xe,y2:he+xe}),z)return!0}}}return!1}_queryCellCircle(i,u,f,g,_,C,T,k){const{circle:R,seenUids:z,overlapMode:O}=T,Z=this.boxCells[_];if(Z!==null){const ne=this.bboxes;for(const ae of Z)if(!z.box[ae]){z.box[ae]=!0;const ee=4*ae,_e=this.boxKeys[ae];if(this._circleAndRectCollide(R.x,R.y,R.radius,ne[ee+0],ne[ee+1],ne[ee+2],ne[ee+3])&&(!k||k(_e))&&!Cn(O,_e.overlapMode))return C.push(!0),!0}}const re=this.circleCells[_];if(re!==null){const ne=this.circles;for(const ae of re)if(!z.circle[ae]){z.circle[ae]=!0;const ee=3*ae,_e=this.circleKeys[ae];if(this._circlesCollide(ne[ee],ne[ee+1],ne[ee+2],R.x,R.y,R.radius)&&(!k||k(_e))&&!Cn(O,_e.overlapMode))return C.push(!0),!0}}}_forEachCell(i,u,f,g,_,C,T,k){const R=this._convertToXCellCoord(i),z=this._convertToYCellCoord(u),O=this._convertToXCellCoord(f),Z=this._convertToYCellCoord(g);for(let re=R;re<=O;re++)for(let ne=z;ne<=Z;ne++)if(_.call(this,i,u,f,g,this.xCellCount*ne+re,C,T,k))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,u,f,g,_,C){const T=g-i,k=_-u,R=f+C;return R*R>T*T+k*k}_circleAndRectCollide(i,u,f,g,_,C,T){const k=(C-g)/2,R=Math.abs(i-(g+k));if(R>k+f)return!1;const z=(T-_)/2,O=Math.abs(u-(_+z));if(O>z+f)return!1;if(R<=k||O<=z)return!0;const Z=R-k,re=O-z;return Z*Z+re*re<=f*f}}function Ze(y,i,u,f,g){const _=a.Z();return i?(a.a0(_,_,[1/g,1/g,1]),u||a.ae(_,_,f.angle)):a.a1(_,f.labelPlaneMatrix,y),_}function Fn(y,i,u,f,g){if(i){const _=a.af(y);return a.a0(_,_,[g,g,1]),u||a.ae(_,_,-f.angle),_}return f.glCoordMatrix}function sn(y,i,u){let f;u?(f=[y.x,y.y,u(y.x,y.y),1],a.ag(f,f,i)):(f=[y.x,y.y,0,1],le(f,f,i));const g=f[3];return{point:new a.P(f[0]/g,f[1]/g),signedDistanceFromCamera:g}}function At(y,i){return .5+y/i*.5}function pn(y,i){const u=y[0]/y[3],f=y[1]/y[3];return u>=-i[0]&&u<=i[0]&&f>=-i[1]&&f<=i[1]}function He(y,i,u,f,g,_,C,T,k,R){const z=f?y.textSizeData:y.iconSizeData,O=a.ah(z,u.transform.zoom),Z=[256/u.width*2+1,256/u.height*2+1],re=f?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;re.clear();const ne=y.lineVertexArray,ae=f?y.text.placedSymbolArray:y.icon.placedSymbolArray,ee=u.transform.width/u.transform.height;let _e=!1;for(let Ee=0;Ee<ae.length;Ee++){const he=ae.get(Ee);if(he.hidden||he.writingMode===a.ai.vertical&&!_e){Q(he.numGlyphs,re);continue}let xe;if(_e=!1,R?(xe=[he.anchorX,he.anchorY,R(he.anchorX,he.anchorY),1],a.ag(xe,xe,i)):(xe=[he.anchorX,he.anchorY,0,1],le(xe,xe,i)),!pn(xe,Z)){Q(he.numGlyphs,re);continue}const Ae=At(u.transform.cameraToCenterDistance,xe[3]),Me=a.aj(z,O,he),Ne=C?Me/Ae:Me*Ae,Ke=new a.P(he.anchorX,he.anchorY),We=sn(Ke,g,R).point,Je={projections:{},offsets:{}},gt=hi(he,Ne,!1,T,i,g,_,y.glyphOffsetArray,ne,re,We,Ke,Je,ee,k,R);_e=gt.useVertical,(gt.notEnoughRoom||_e||gt.needsFlipping&&hi(he,Ne,!0,T,i,g,_,y.glyphOffsetArray,ne,re,We,Ke,Je,ee,k,R).notEnoughRoom)&&Q(he.numGlyphs,re)}f?y.text.dynamicLayoutVertexBuffer.updateData(re):y.icon.dynamicLayoutVertexBuffer.updateData(re)}function Ot(y,i,u,f,g,_,C,T,k,R,z,O,Z){const re=T.glyphStartIndex+T.numGlyphs,ne=T.lineStartIndex,ae=T.lineStartIndex+T.lineLength,ee=i.getoffsetX(T.glyphStartIndex),_e=i.getoffsetX(re-1),Ee=U(y*ee,u,f,g,_,C,T.segment,ne,ae,k,R,z,O,Z);if(!Ee)return null;const he=U(y*_e,u,f,g,_,C,T.segment,ne,ae,k,R,z,O,Z);return he?{first:Ee,last:he}:null}function zt(y,i,u,f){return y===a.ai.horizontal&&Math.abs(u.y-i.y)>Math.abs(u.x-i.x)*f?{useVertical:!0}:(y===a.ai.vertical?i.y<u.y:i.x>u.x)?{needsFlipping:!0}:null}function hi(y,i,u,f,g,_,C,T,k,R,z,O,Z,re,ne,ae){const ee=i/24,_e=y.lineOffsetX*ee,Ee=y.lineOffsetY*ee;let he;if(y.numGlyphs>1){const xe=y.glyphStartIndex+y.numGlyphs,Ae=y.lineStartIndex,Me=y.lineStartIndex+y.lineLength,Ne=Ot(ee,T,_e,Ee,u,z,O,y,k,_,Z,ne,ae);if(!Ne)return{notEnoughRoom:!0};const Ke=sn(Ne.first.point,C,ae).point,We=sn(Ne.last.point,C,ae).point;if(f&&!u){const Je=zt(y.writingMode,Ke,We,re);if(Je)return Je}he=[Ne.first];for(let Je=y.glyphStartIndex+1;Je<xe-1;Je++)he.push(U(ee*T.getoffsetX(Je),_e,Ee,u,z,O,y.segment,Ae,Me,k,_,Z,ne,ae));he.push(Ne.last)}else{if(f&&!u){const Ae=sn(O,g,ae).point,Me=y.lineStartIndex+y.segment+1,Ne=new a.P(k.getx(Me),k.gety(Me)),Ke=sn(Ne,g,ae),We=Ke.signedDistanceFromCamera>0?Ke.point:jo(O,Ne,Ae,1,g,ae),Je=zt(y.writingMode,Ae,We,re);if(Je)return Je}const xe=U(ee*T.getoffsetX(y.glyphStartIndex),_e,Ee,u,z,O,y.segment,y.lineStartIndex,y.lineStartIndex+y.lineLength,k,_,Z,ne,ae);if(!xe)return{notEnoughRoom:!0};he=[xe]}for(const xe of he)a.ak(R,xe.point,xe.angle);return{}}function jo(y,i,u,f,g,_){const C=sn(y.add(y.sub(i)._unit()),g,_).point,T=u.sub(C);return u.add(T._mult(f/T.mag()))}function Ut(y,i){const{projectionCache:u,lineVertexArray:f,labelPlaneMatrix:g,tileAnchorPoint:_,distanceFromAnchor:C,getElevation:T,previousVertex:k,direction:R,absOffsetX:z}=i;if(u.projections[y])return u.projections[y];const O=new a.P(f.getx(y),f.gety(y)),Z=sn(O,g,T);if(Z.signedDistanceFromCamera>0)return u.projections[y]=Z.point,Z.point;const re=y-R;return jo(C===0?_:new a.P(f.getx(re),f.gety(re)),O,k,z-C+1,g,T)}function gs(y,i,u){return y._unit()._perp()._mult(i*u)}function se(y,i,u,f,g,_,C,T){const{projectionCache:k,direction:R}=T;if(k.offsets[y])return k.offsets[y];const z=u.add(i);if(y+R<f||y+R>=g)return k.offsets[y]=z,z;const O=Ut(y+R,T),Z=gs(O.sub(u),C,R),re=u.add(Z),ne=O.add(Z);return k.offsets[y]=a.al(_,z,re,ne)||z,k.offsets[y]}function U(y,i,u,f,g,_,C,T,k,R,z,O,Z,re){const ne=f?y-i:y+i;let ae=ne>0?1:-1,ee=0;f&&(ae*=-1,ee=Math.PI),ae<0&&(ee+=Math.PI);let _e,Ee,he=ae>0?T+C:T+C+1,xe=g,Ae=g,Me=0,Ne=0;const Ke=Math.abs(ne),We=[];let Je;for(;Me+Ne<=Ke;){if(he+=ae,he<T||he>=k)return null;Me+=Ne,Ae=xe,Ee=_e;const rt={projectionCache:O,lineVertexArray:R,labelPlaneMatrix:z,tileAnchorPoint:_,distanceFromAnchor:Me,getElevation:re,previousVertex:Ae,direction:ae,absOffsetX:Ke};if(xe=Ut(he,rt),u===0)We.push(Ae),Je=xe.sub(Ae);else{let It;const vt=xe.sub(Ae);It=vt.mag()===0?gs(Ut(he+ae,rt).sub(xe),u,ae):gs(vt,u,ae),Ee||(Ee=Ae.add(It)),_e=se(he,It,xe,T,k,Ee,u,rt),We.push(Ee),Je=_e.sub(Ee)}Ne=Je.mag()}const gt=Je._mult((Ke-Me)/Ne)._add(Ee||Ae),Qt=ee+Math.atan2(xe.y-Ae.y,xe.x-Ae.x);return We.push(gt),{point:gt,angle:Z?Qt:0,path:We}}const H=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Q(y,i){for(let u=0;u<y;u++){const f=i.length;i.resize(f+4),i.float32.set(H,3*f)}}function le(y,i,u){const f=i[0],g=i[1];return y[0]=u[0]*f+u[4]*g+u[12],y[1]=u[1]*f+u[5]*g+u[13],y[3]=u[3]*f+u[7]*g+u[15],y}const ue=100;class Se{constructor(i,u=new Rt(i.width+200,i.height+200,25),f=new Rt(i.width+200,i.height+200,25)){this.transform=i,this.grid=u,this.ignoredGrid=f,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+ue,this.screenBottomBoundary=i.height+ue,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,u,f,g,_,C){const T=this.projectAndGetPerspectiveRatio(g,i.anchorPointX,i.anchorPointY,C),k=f*T.perspectiveRatio,R=i.x1*k+T.point.x,z=i.y1*k+T.point.y,O=i.x2*k+T.point.x,Z=i.y2*k+T.point.y;return!this.isInsideGrid(R,z,O,Z)||u!=="always"&&this.grid.hitTest(R,z,O,Z,u,_)||T.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[R,z,O,Z],offscreen:this.isOffscreen(R,z,O,Z)}}placeCollisionCircles(i,u,f,g,_,C,T,k,R,z,O,Z,re,ne){const ae=[],ee=new a.P(u.anchorX,u.anchorY),_e=sn(ee,C,ne),Ee=At(this.transform.cameraToCenterDistance,_e.signedDistanceFromCamera),he=(z?_/Ee:_*Ee)/a.ap,xe=sn(ee,T,ne).point,Ae=Ot(he,g,u.lineOffsetX*he,u.lineOffsetY*he,!1,xe,ee,u,f,T,{projections:{},offsets:{}},!1,ne);let Me=!1,Ne=!1,Ke=!0;if(Ae){const We=.5*Z*Ee+re,Je=new a.P(-100,-100),gt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Qt=new ei,rt=Ae.first,It=Ae.last;let vt=[];for(let Wt=rt.path.length-1;Wt>=1;Wt--)vt.push(rt.path[Wt]);for(let Wt=1;Wt<It.path.length;Wt++)vt.push(It.path[Wt]);const kn=2.5*We;if(k){const Wt=vt.map(en=>sn(en,k,ne));vt=Wt.some(en=>en.signedDistanceFromCamera<=0)?[]:Wt.map(en=>en.point)}let Xt=[];if(vt.length>0){const Wt=vt[0].clone(),en=vt[0].clone();for(let ur=1;ur<vt.length;ur++)Wt.x=Math.min(Wt.x,vt[ur].x),Wt.y=Math.min(Wt.y,vt[ur].y),en.x=Math.max(en.x,vt[ur].x),en.y=Math.max(en.y,vt[ur].y);Xt=Wt.x>=Je.x&&en.x<=gt.x&&Wt.y>=Je.y&&en.y<=gt.y?[vt]:en.x<Je.x||Wt.x>gt.x||en.y<Je.y||Wt.y>gt.y?[]:a.am([vt],Je.x,Je.y,gt.x,gt.y)}for(const Wt of Xt){Qt.reset(Wt,.25*We);let en=0;en=Qt.length<=.5*We?1:Math.ceil(Qt.paddedLength/kn)+1;for(let ur=0;ur<en;ur++){const $n=ur/Math.max(en-1,1),Zr=Qt.lerp($n),Ir=Zr.x+ue,gr=Zr.y+ue;ae.push(Ir,gr,We,0);const Ki=Ir-We,Wn=gr-We,Wo=Ir+We,Go=gr+We;if(Ke=Ke&&this.isOffscreen(Ki,Wn,Wo,Go),Ne=Ne||this.isInsideGrid(Ki,Wn,Wo,Go),i!=="always"&&this.grid.hitTestCircle(Ir,gr,We,i,O)&&(Me=!0,!R))return{circles:[],offscreen:!1,collisionDetected:Me}}}}return{circles:!R&&Me||!Ne||Ee<this.perspectiveRatioCutoff?[]:ae,offscreen:Ke,collisionDetected:Me}}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let f=1/0,g=1/0,_=-1/0,C=-1/0;for(const z of i){const O=new a.P(z.x+ue,z.y+ue);f=Math.min(f,O.x),g=Math.min(g,O.y),_=Math.max(_,O.x),C=Math.max(C,O.y),u.push(O)}const T=this.grid.query(f,g,_,C).concat(this.ignoredGrid.query(f,g,_,C)),k={},R={};for(const z of T){const O=z.key;if(k[O.bucketInstanceId]===void 0&&(k[O.bucketInstanceId]={}),k[O.bucketInstanceId][O.featureIndex])continue;const Z=[new a.P(z.x1,z.y1),new a.P(z.x2,z.y1),new a.P(z.x2,z.y2),new a.P(z.x1,z.y2)];a.an(u,Z)&&(k[O.bucketInstanceId][O.featureIndex]=!0,R[O.bucketInstanceId]===void 0&&(R[O.bucketInstanceId]=[]),R[O.bucketInstanceId].push(O.featureIndex))}return R}insertCollisionBox(i,u,f,g,_,C){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:_,collisionGroupID:C,overlapMode:u},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,u,f,g,_,C){const T=f?this.ignoredGrid:this.grid,k={bucketInstanceId:g,featureIndex:_,collisionGroupID:C,overlapMode:u};for(let R=0;R<i.length;R+=4)T.insertCircle(k,i[R],i[R+1],i[R+2])}projectAndGetPerspectiveRatio(i,u,f,g){let _;return g?(_=[u,f,g(u,f),1],a.ag(_,_,i)):(_=[u,f,0,1],le(_,_,i)),{point:new a.P((_[0]/_[3]+1)/2*this.transform.width+ue,(-_[1]/_[3]+1)/2*this.transform.height+ue),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(i,u,f,g){return f<ue||i>=this.screenRightBoundary||g<ue||u>this.screenBottomBoundary}isInsideGrid(i,u,f,g){return f>=0&&i<this.gridRightBoundary&&g>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const i=a.ao([]);return a.$(i,i,[-100,-100,0]),i}}function ve(y,i,u){return i*(a.N/(y.tileSize*Math.pow(2,u-y.tileID.overscaledZ)))}class fe{constructor(i,u,f,g){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?u:-u))):g&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class be{constructor(i,u,f,g,_){this.text=new fe(i?i.text:null,u,f,_),this.icon=new fe(i?i.icon:null,u,g,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Be{constructor(i,u,f){this.text=i,this.icon=u,this.skipFade=f}}class Fe{constructor(){this.invProjMatrix=a.Z(),this.viewportMatrix=a.Z(),this.circles=[]}}class je{constructor(i,u,f,g,_){this.bucketInstanceId=i,this.featureIndex=u,this.sourceLayerIndex=f,this.bucketIndex=g,this.tileID=_}}class Ct{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const u=++this.maxGroupID;this.collisionGroups[i]={ID:u,predicate:f=>f.collisionGroupID===u}}return this.collisionGroups[i]}}function Bt(y,i,u,f,g){const{horizontalAlign:_,verticalAlign:C}=a.au(y);return new a.P(-(_-.5)*i+f[0]*g,-(C-.5)*u+f[1]*g)}function mt(y,i,u,f,g,_){const{x1:C,x2:T,y1:k,y2:R,anchorPointX:z,anchorPointY:O}=y,Z=new a.P(i,u);return f&&Z._rotate(g?_:-_),{x1:C+Z.x,y1:k+Z.y,x2:T+Z.x,y2:R+Z.y,anchorPointX:z,anchorPointY:O}}class Et{constructor(i,u,f,g,_){this.transform=i.clone(),this.terrain=u,this.collisionIndex=new Se(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Ct(g),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,u,f,g){const _=f.getBucket(u),C=f.latestFeatureIndex;if(!_||!C||u.id!==_.layerIds[0])return;const T=f.collisionBoxArray,k=_.layers[0].layout,R=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),z=f.tileSize/a.N,O=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),Z=k.get("text-pitch-alignment")==="map",re=k.get("text-rotation-alignment")==="map",ne=ve(f,1,this.transform.zoom),ae=Ze(O,Z,re,this.transform,ne);let ee=null;if(Z){const Ee=Fn(O,Z,re,this.transform,ne);ee=a.a1([],this.transform.labelPlaneMatrix,Ee)}this.retainedQueryData[_.bucketInstanceId]=new je(_.bucketInstanceId,C,_.sourceLayerIndex,_.index,f.tileID);const _e={bucket:_,layout:k,posMatrix:O,textLabelPlaneMatrix:ae,labelToScreenMatrix:ee,scale:R,textPixelRatio:z,holdingForFade:f.holdingForFade(),collisionBoxArray:T,partiallyEvaluatedTextSize:a.ah(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(g)for(const Ee of _.sortKeyRanges){const{sortKey:he,symbolInstanceStart:xe,symbolInstanceEnd:Ae}=Ee;i.push({sortKey:he,symbolInstanceStart:xe,symbolInstanceEnd:Ae,parameters:_e})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:_e})}attemptAnchorPlacement(i,u,f,g,_,C,T,k,R,z,O,Z,re,ne,ae,ee){const _e=a.aq[i.textAnchor],Ee=[i.textOffset0,i.textOffset1],he=Bt(_e,f,g,Ee,_),xe=this.collisionIndex.placeCollisionBox(mt(u,he.x,he.y,C,T,this.transform.angle),O,k,R,z.predicate,ee);if((!ae||this.collisionIndex.placeCollisionBox(mt(ae,he.x,he.y,C,T,this.transform.angle),O,k,R,z.predicate,ee).box.length!==0)&&xe.box.length>0){let Ae;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID].text&&(Ae=this.prevPlacement.variableOffsets[Z.crossTileID].anchor),Z.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Z.crossTileID]={textOffset:Ee,width:f,height:g,anchor:_e,textBoxScale:_,prevAnchor:Ae},this.markUsedJustification(re,_e,Z,ne),re.allowVerticalPlacement&&(this.markUsedOrientation(re,ne,Z),this.placedOrientations[Z.crossTileID]=ne),{shift:he,placedGlyphBoxes:xe}}}placeLayerBucketPart(i,u,f){const{bucket:g,layout:_,posMatrix:C,textLabelPlaneMatrix:T,labelToScreenMatrix:k,textPixelRatio:R,holdingForFade:z,collisionBoxArray:O,partiallyEvaluatedTextSize:Z,collisionGroup:re}=i.parameters,ne=_.get("text-optional"),ae=_.get("icon-optional"),ee=a.ar(_,"text-overlap","text-allow-overlap"),_e=ee==="always",Ee=a.ar(_,"icon-overlap","icon-allow-overlap"),he=Ee==="always",xe=_.get("text-rotation-alignment")==="map",Ae=_.get("text-pitch-alignment")==="map",Me=_.get("icon-text-fit")!=="none",Ne=_.get("symbol-z-order")==="viewport-y",Ke=_e&&(he||!g.hasIconData()||ae),We=he&&(_e||!g.hasTextData()||ne);!g.collisionArrays&&O&&g.deserializeCollisionBoxes(O);const Je=this.retainedQueryData[g.bucketInstanceId].tileID,gt=this.terrain?(rt,It)=>this.terrain.getElevation(Je,rt,It):null,Qt=(rt,It)=>{var vt,kn;if(u[rt.crossTileID])return;if(z)return void(this.placements[rt.crossTileID]=new Be(!1,!1,!1));let Xt=!1,Wt=!1,en=!0,ur=null,$n={box:null,offscreen:null},Zr={box:null,offscreen:null},Ir=null,gr=null,Ki=null,Wn=0,Wo=0,Go=0;It.textFeatureIndex?Wn=It.textFeatureIndex:rt.useRuntimeCollisionCircles&&(Wn=rt.featureIndex),It.verticalTextFeatureIndex&&(Wo=It.verticalTextFeatureIndex);const Gs=It.textBox;if(Gs){const ri=hr=>{let Mr=a.ai.horizontal;if(g.allowVerticalPlacement&&!hr&&this.prevPlacement){const Ai=this.prevPlacement.placedOrientations[rt.crossTileID];Ai&&(this.placedOrientations[rt.crossTileID]=Ai,Mr=Ai,this.markUsedOrientation(g,Mr,rt))}return Mr},Kr=(hr,Mr)=>{if(g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&It.verticalTextBox){for(const Ai of g.writingModes)if(Ai===a.ai.vertical?($n=Mr(),Zr=$n):$n=hr(),$n&&$n.box&&$n.box.length)break}else $n=hr()},pi=rt.textAnchorOffsetStartIndex,Ca=rt.textAnchorOffsetEndIndex;if(Ca===pi){const hr=(Mr,Ai)=>{const dr=this.collisionIndex.placeCollisionBox(Mr,ee,R,C,re.predicate,gt);return dr&&dr.box&&dr.box.length&&(this.markUsedOrientation(g,Ai,rt),this.placedOrientations[rt.crossTileID]=Ai),dr};Kr(()=>hr(Gs,a.ai.horizontal),()=>{const Mr=It.verticalTextBox;return g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&Mr?hr(Mr,a.ai.vertical):{box:null,offscreen:null}}),ri($n&&$n.box&&$n.box.length)}else{let hr=a.aq[(kn=(vt=this.prevPlacement)===null||vt===void 0?void 0:vt.variableOffsets[rt.crossTileID])===null||kn===void 0?void 0:kn.anchor];const Mr=(dr,Ta,vu)=>{const Pm=dr.x2-dr.x1,Am=dr.y2-dr.y1,kv=rt.textBoxScale,Ad=Me&&Ee==="never"?Ta:null;let qo={box:[],offscreen:!1},Ea=ee==="never"?1:2,Ho="never";hr&&Ea++;for(let po=0;po<Ea;po++){for(let Zo=pi;Zo<Ca;Zo++){const kd=g.textAnchorOffsets.get(Zo);if(hr&&kd.textAnchor!==hr)continue;const ws=this.attemptAnchorPlacement(kd,dr,Pm,Am,kv,xe,Ae,R,C,re,Ho,rt,g,vu,Ad,gt);if(ws&&(qo=ws.placedGlyphBoxes,qo&&qo.box&&qo.box.length))return Xt=!0,ur=ws.shift,qo}hr?hr=null:Ho=ee}return qo};Kr(()=>Mr(Gs,It.iconBox,a.ai.horizontal),()=>{const dr=It.verticalTextBox;return g.allowVerticalPlacement&&!($n&&$n.box&&$n.box.length)&&rt.numVerticalGlyphVertices>0&&dr?Mr(dr,It.verticalIconBox,a.ai.vertical):{box:null,offscreen:null}}),$n&&(Xt=$n.box,en=$n.offscreen);const Ai=ri($n&&$n.box);if(!Xt&&this.prevPlacement){const dr=this.prevPlacement.variableOffsets[rt.crossTileID];dr&&(this.variableOffsets[rt.crossTileID]=dr,this.markUsedJustification(g,dr.anchor,rt,Ai))}}}if(Ir=$n,Xt=Ir&&Ir.box&&Ir.box.length>0,en=Ir&&Ir.offscreen,rt.useRuntimeCollisionCircles){const ri=g.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),Kr=a.aj(g.textSizeData,Z,ri),pi=_.get("text-padding");gr=this.collisionIndex.placeCollisionCircles(ee,ri,g.lineVertexArray,g.glyphOffsetArray,Kr,C,T,k,f,Ae,re.predicate,rt.collisionCircleDiameter,pi,gt),gr.circles.length&&gr.collisionDetected&&!f&&a.w("Collisions detected, but collision boxes are not shown"),Xt=_e||gr.circles.length>0&&!gr.collisionDetected,en=en&&gr.offscreen}if(It.iconFeatureIndex&&(Go=It.iconFeatureIndex),It.iconBox){const ri=Kr=>{const pi=Me&&ur?mt(Kr,ur.x,ur.y,xe,Ae,this.transform.angle):Kr;return this.collisionIndex.placeCollisionBox(pi,Ee,R,C,re.predicate,gt)};Zr&&Zr.box&&Zr.box.length&&It.verticalIconBox?(Ki=ri(It.verticalIconBox),Wt=Ki.box.length>0):(Ki=ri(It.iconBox),Wt=Ki.box.length>0),en=en&&Ki.offscreen}const Sa=ne||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,cl=ae||rt.numIconVertices===0;if(Sa||cl?cl?Sa||(Wt=Wt&&Xt):Xt=Wt&&Xt:Wt=Xt=Wt&&Xt,Xt&&Ir&&Ir.box&&this.collisionIndex.insertCollisionBox(Ir.box,ee,_.get("text-ignore-placement"),g.bucketInstanceId,Zr&&Zr.box&&Wo?Wo:Wn,re.ID),Wt&&Ki&&this.collisionIndex.insertCollisionBox(Ki.box,Ee,_.get("icon-ignore-placement"),g.bucketInstanceId,Go,re.ID),gr&&(Xt&&this.collisionIndex.insertCollisionCircles(gr.circles,ee,_.get("text-ignore-placement"),g.bucketInstanceId,Wn,re.ID),f)){const ri=g.bucketInstanceId;let Kr=this.collisionCircleArrays[ri];Kr===void 0&&(Kr=this.collisionCircleArrays[ri]=new Fe);for(let pi=0;pi<gr.circles.length;pi+=4)Kr.circles.push(gr.circles[pi+0]),Kr.circles.push(gr.circles[pi+1]),Kr.circles.push(gr.circles[pi+2]),Kr.circles.push(gr.collisionDetected?1:0)}if(rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new Be(Xt||Ke,Wt||We,en||g.justReloaded),u[rt.crossTileID]=!0};if(Ne){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=g.getSortedSymbolIndexes(this.transform.angle);for(let It=rt.length-1;It>=0;--It){const vt=rt[It];Qt(g.symbolInstances.get(vt),g.collisionArrays[vt])}}else for(let rt=i.symbolInstanceStart;rt<i.symbolInstanceEnd;rt++)Qt(g.symbolInstances.get(rt),g.collisionArrays[rt]);if(f&&g.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[g.bucketInstanceId];a.as(rt.invProjMatrix,C),rt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(i,u,f,g){let _;_=g===a.ai.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[a.at(u)];const C=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const T of C)T>=0&&(i.text.placedSymbolArray.get(T).crossTileID=_>=0&&T!==_?0:f.crossTileID)}markUsedOrientation(i,u,f){const g=u===a.ai.horizontal||u===a.ai.horizontalOnly?u:0,_=u===a.ai.vertical?u:0,C=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const T of C)i.text.placedSymbolArray.get(T).placedOrientation=g;f.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let f=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const g=u?u.symbolFadeChange(i):1,_=u?u.opacities:{},C=u?u.variableOffsets:{},T=u?u.placedOrientations:{};for(const k in this.placements){const R=this.placements[k],z=_[k];z?(this.opacities[k]=new be(z,g,R.text,R.icon),f=f||R.text!==z.text.placed||R.icon!==z.icon.placed):(this.opacities[k]=new be(null,g,R.text,R.icon,R.skipFade),f=f||R.text||R.icon)}for(const k in _){const R=_[k];if(!this.opacities[k]){const z=new be(R,g,!1,!1);z.isHidden()||(this.opacities[k]=z,f=f||R.text.placed||R.icon.placed)}}for(const k in C)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=C[k]);for(const k in T)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=T[k]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:i)}updateLayerOpacities(i,u){const f={};for(const g of u){const _=g.getBucket(i);_&&g.latestFeatureIndex&&i.id===_.layerIds[0]&&this.updateBucketOpacities(_,f,g.collisionBoxArray)}}updateBucketOpacities(i,u,f){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const g=i.layers[0],_=g.layout,C=new be(null,0,!1,!1,!0),T=_.get("text-allow-overlap"),k=_.get("icon-allow-overlap"),R=g._unevaluatedLayout.hasValue("text-variable-anchor")||g._unevaluatedLayout.hasValue("text-variable-anchor-offset"),z=_.get("text-rotation-alignment")==="map",O=_.get("text-pitch-alignment")==="map",Z=_.get("icon-text-fit")!=="none",re=new be(null,0,T&&(k||!i.hasIconData()||_.get("icon-optional")),k&&(T||!i.hasTextData()||_.get("text-optional")),!0);!i.collisionArrays&&f&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(f);const ne=(ae,ee,_e)=>{for(let Ee=0;Ee<ee/4;Ee++)ae.opacityVertexArray.emplaceBack(_e);ae.hasVisibleVertices=ae.hasVisibleVertices||_e!==so};for(let ae=0;ae<i.symbolInstances.length;ae++){const ee=i.symbolInstances.get(ae),{numHorizontalGlyphVertices:_e,numVerticalGlyphVertices:Ee,crossTileID:he}=ee;let xe=this.opacities[he];u[he]?xe=C:xe||(xe=re,this.opacities[he]=xe),u[he]=!0;const Ae=ee.numIconVertices>0,Me=this.placedOrientations[ee.crossTileID],Ne=Me===a.ai.vertical,Ke=Me===a.ai.horizontal||Me===a.ai.horizontalOnly;if(_e>0||Ee>0){const We=qr(xe.text);ne(i.text,_e,Ne?so:We),ne(i.text,Ee,Ke?so:We);const Je=xe.text.isHidden();[ee.rightJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.leftJustifiedTextSymbolIndex].forEach(rt=>{rt>=0&&(i.text.placedSymbolArray.get(rt).hidden=Je||Ne?1:0)}),ee.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).hidden=Je||Ke?1:0);const gt=this.variableOffsets[ee.crossTileID];gt&&this.markUsedJustification(i,gt.anchor,ee,Me);const Qt=this.placedOrientations[ee.crossTileID];Qt&&(this.markUsedJustification(i,"left",ee,Qt),this.markUsedOrientation(i,Qt,ee))}if(Ae){const We=qr(xe.icon),Je=!(Z&&ee.verticalPlacedIconSymbolIndex&&Ne);ee.placedIconSymbolIndex>=0&&(ne(i.icon,ee.numIconVertices,Je?We:so),i.icon.placedSymbolArray.get(ee.placedIconSymbolIndex).hidden=xe.icon.isHidden()),ee.verticalPlacedIconSymbolIndex>=0&&(ne(i.icon,ee.numVerticalIconVertices,Je?so:We),i.icon.placedSymbolArray.get(ee.verticalPlacedIconSymbolIndex).hidden=xe.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const We=i.collisionArrays[ae];if(We){let Je=new a.P(0,0);if(We.textBox||We.verticalTextBox){let Qt=!0;if(R){const rt=this.variableOffsets[he];rt?(Je=Bt(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),z&&Je._rotate(O?this.transform.angle:-this.transform.angle)):Qt=!1}We.textBox&&Nt(i.textCollisionBox.collisionVertexArray,xe.text.placed,!Qt||Ne,Je.x,Je.y),We.verticalTextBox&&Nt(i.textCollisionBox.collisionVertexArray,xe.text.placed,!Qt||Ke,Je.x,Je.y)}const gt=!!(!Ke&&We.verticalIconBox);We.iconBox&&Nt(i.iconCollisionBox.collisionVertexArray,xe.icon.placed,gt,Z?Je.x:0,Z?Je.y:0),We.verticalIconBox&&Nt(i.iconCollisionBox.collisionVertexArray,xe.icon.placed,!gt,Z?Je.x:0,Z?Je.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const ae=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=ae.invProjMatrix,i.placementViewportMatrix=ae.viewportMatrix,i.collisionCircleArray=ae.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,u){const f=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*f>i}setStale(){this.stale=!0}}function Nt(y,i,u,f,g){y.emplaceBack(i?1:0,u?1:0,f||0,g||0),y.emplaceBack(i?1:0,u?1:0,f||0,g||0),y.emplaceBack(i?1:0,u?1:0,f||0,g||0),y.emplaceBack(i?1:0,u?1:0,f||0,g||0)}const wn=Math.pow(2,25),Mn=Math.pow(2,24),un=Math.pow(2,17),cn=Math.pow(2,16),ti=Math.pow(2,9),Nn=Math.pow(2,8),Sr=Math.pow(2,1);function qr(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const i=y.placed?1:0,u=Math.floor(127*y.opacity);return u*wn+i*Mn+u*un+i*cn+u*ti+i*Nn+u*Sr+i}const so=0;class Uf{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,u,f,g,_){const C=this._bucketParts;for(;this._currentTileIndex<i.length;)if(u.getBucketParts(C,g,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((T,k)=>T.sortKey-k.sortKey));this._currentPartIndex<C.length;)if(u.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,_())return!0;return!1}}class Xa{constructor(i,u,f,g,_,C,T,k){this.placement=new Et(i,u,C,T,k),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(i,u,f){const g=a.h.now(),_=()=>!this._forceFullPlacement&&a.h.now()-g>2;for(;this._currentPlacementIndex>=0;){const C=u[i[this._currentPlacementIndex]],T=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=T)&&(!C.maxzoom||C.maxzoom>T)){if(this._inProgressLayer||(this._inProgressLayer=new Uf(C)),this._inProgressLayer.continuePlacement(f[C.source],this.placement,this._showCollisionBoxes,C,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Ya=512/a.N/2;class dv{constructor(i,u,f){this.tileID=i,this.bucketInstanceId=f,this._symbolsByKey={};const g=new Map;for(let _=0;_<u.length;_++){const C=u.get(_),T=C.key,k=g.get(T);k?k.push(C):g.set(T,[C])}for(const[_,C]of g){const T={positions:C.map(k=>({x:Math.floor(k.anchorX*Ya),y:Math.floor(k.anchorY*Ya)})),crossTileIDs:C.map(k=>k.crossTileID)};if(T.positions.length>128){const k=new a.av(T.positions.length,16,Uint16Array);for(const{x:R,y:z}of T.positions)k.add(R,z);k.finish(),delete T.positions,T.index=k}this._symbolsByKey[_]=T}}getScaledCoordinates(i,u){const{x:f,y:g,z:_}=this.tileID.canonical,{x:C,y:T,z:k}=u.canonical,R=Ya/Math.pow(2,k-_),z=(T*a.N+i.anchorY)*R,O=g*a.N*Ya;return{x:Math.floor((C*a.N+i.anchorX)*R-f*a.N*Ya),y:Math.floor(z-O)}}findMatches(i,u,f){const g=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let _=0;_<i.length;_++){const C=i.get(_);if(C.crossTileID)continue;const T=this._symbolsByKey[C.key];if(!T)continue;const k=this.getScaledCoordinates(C,u);if(T.index){const R=T.index.range(k.x-g,k.y-g,k.x+g,k.y+g).sort();for(const z of R){const O=T.crossTileIDs[z];if(!f[O]){f[O]=!0,C.crossTileID=O;break}}}else if(T.positions)for(let R=0;R<T.positions.length;R++){const z=T.positions[R],O=T.crossTileIDs[R];if(Math.abs(z.x-k.x)<=g&&Math.abs(z.y-k.y)<=g&&!f[O]){f[O]=!0,C.crossTileID=O;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class An{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Vh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const u=Math.round((i-this.lng)/360);if(u!==0)for(const f in this.indexes){const g=this.indexes[f],_={};for(const C in g){const T=g[C];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+u),_[T.tileID.key]=T}this.indexes[f]=_}this.lng=i}addBucket(i,u,f){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let _=0;_<u.symbolInstances.length;_++)u.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const g=this.usedCrossTileIDs[i.overscaledZ];for(const _ in this.indexes){const C=this.indexes[_];if(Number(_)>i.overscaledZ)for(const T in C){const k=C[T];k.tileID.isChildOf(i)&&k.findMatches(u.symbolInstances,i,g)}else{const T=C[i.scaledTo(Number(_)).key];T&&T.findMatches(u.symbolInstances,i,g)}}for(let _=0;_<u.symbolInstances.length;_++){const C=u.symbolInstances.get(_);C.crossTileID||(C.crossTileID=f.generate(),g[C.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new dv(i,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(i,u){for(const f of u.getCrossTileIDsLists())for(const g of f)delete this.usedCrossTileIDs[i][g]}removeStaleBuckets(i){let u=!1;for(const f in this.indexes){const g=this.indexes[f];for(const _ in g)i[g[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,g[_]),delete g[_],u=!0)}return u}}class Wc{constructor(){this.layerIndexes={},this.crossTileIDs=new An,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,u,f){let g=this.layerIndexes[i.id];g===void 0&&(g=this.layerIndexes[i.id]=new Vh);let _=!1;const C={};g.handleWrapJump(f);for(const T of u){const k=T.getBucket(i);k&&i.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(T.tileID,k,this.crossTileIDs)&&(_=!0),C[k.bucketInstanceId]=!0)}return g.removeStaleBuckets(C)&&(_=!0),_}pruneUnusedLayers(i){const u={};i.forEach(f=>{u[f]=!0});for(const f in this.layerIndexes)u[f]||delete this.layerIndexes[f]}}const ni=(y,i)=>a.x(y,i&&i.filter(u=>u.identifier!=="source.canvas")),Wi=a.F(a.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),pv=a.F(a.ax,["setCenter","setZoom","setBearing","setPitch"]),ao=a.aw();class Hr extends a.E{constructor(i,u={}){super(),this.map=i,this.dispatcher=new pt(Ti(),this,i._getMapId()),this.imageManager=new Le,this.imageManager.setEventedParent(this),this.glyphManager=new Ge(i._requestManager,u.localIdeographFontFamily),this.lineAtlas=new et(256,512),this.crossTileSymbolIndex=new Wc,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.az());const f=this;this._rtlTextPluginCallback=Hr.registerForPluginStateChange(g=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(_,C)=>{if(a.aA(_),C&&C.every(T=>T))for(const T in f.sourceCaches){const k=f.sourceCaches[T].getSource().type;k!=="vector"&&k!=="geojson"||f.sourceCaches[T].reload()}})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const _=this.sourceCaches[g.sourceId];if(!_)return;const C=_.getSource();if(C&&C.vectorLayerIds)for(const T in this._layers){const k=this._layers[T];k.source===C.id&&this._validateLayer(k)}})}loadURL(i,u={},f){this.fire(new a.k("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;const g=this.map._requestManager.transformRequest(i,B.Style);this._request=a.f(g,(_,C)=>{this._request=null,_?this.fire(new a.j(_)):C&&this._load(C,u,f)})}loadJSON(i,u={},f){this.fire(new a.k("dataloading",{dataType:"style"})),this._request=a.h.frame(()=>{this._request=null,u.validate=u.validate!==!1,this._load(i,u,f)})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(ao,{validate:!1})}_load(i,u,f){var g;const _=u.transformStyle?u.transformStyle(f,i):i;if(!u.validate||!ni(this,a.y(_))){this._loaded=!0,this.stylesheet=_;for(const C in _.sources)this.addSource(C,_.sources[C],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Re(this.stylesheet.light),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const i=a.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",i),this._order=i.map(u=>u.id),this._layers={},this._serializedLayers=null;for(const u of i){const f=a.aC(u);f.setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=f}}_loadSprite(i,u=!1,f=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(g,_,C,T){const k=me(g),R=k.length,z=C>1?"@2x":"",O={},Z={},re={};for(const{id:ne,url:ae}of k){const ee=_.transformRequest(_.normalizeSpriteURL(ae,z,".json"),B.SpriteJSON),_e=`${ne}_${ee.url}`;O[_e]=a.f(ee,(xe,Ae)=>{delete O[_e],Z[ne]=Ae,ke(T,Z,re,xe,R)});const Ee=_.transformRequest(_.normalizeSpriteURL(ae,z,".png"),B.SpriteImage),he=`${ne}_${Ee.url}`;O[he]=K.getImage(Ee,(xe,Ae)=>{delete O[he],re[ne]=Ae,ke(T,Z,re,xe,R)})}return{cancel(){for(const ne of Object.values(O))ne.cancel()}}}(i,this.map._requestManager,this.map.getPixelRatio(),(g,_)=>{if(this._spriteRequest=null,g)this.fire(new a.j(g));else if(_)for(const C in _){this._spritesImagesIds[C]=[];const T=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(k=>!(k in _)):[];for(const k of T)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in _[C]){const R=C==="default"?k:`${C}:${k}`;this._spritesImagesIds[C].push(R),R in this.imageManager.images?this.imageManager.updateImage(R,_[C][k],!1):this.imageManager.addImage(R,_[C][k]),u&&(this._changedImages[R]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),f&&f(g)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(i){const u=this.sourceCaches[i.source];if(!u)return;const f=i.sourceLayer;if(!f)return;const g=u.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(f)===-1)&&this.fire(new a.j(new Error(`Source layer "${f}" does not exist on source "${g.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i){const u=this._serializedAllLayers();if(!i||i.length===0)return Object.values(u);const f=[];for(const g of i)u[g]&&f.push(u[g]);return f}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const u=Object.keys(this._layers);for(const f of u){const g=this._layers[f];g.type!=="custom"&&(i[f]=g.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const u=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(g.length||_.length)&&this._updateWorkerLayers(g,_);for(const C in this._updatedSources){const T=this._updatedSources[C];if(T==="reload")this._reloadSource(C);else{if(T!=="clear")throw new Error(`Invalid action ${T}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const C in this._updatedPaintProps)this._layers[C].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const f={};for(const g in this.sourceCaches){const _=this.sourceCaches[g];f[g]=_.used,_.used=!1}for(const g of this._order){const _=this._layers[g];_.recalculate(i,this._availableImages),!_.isHidden(i.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const g in f){const _=this.sourceCaches[g];f[g]!==_.used&&_.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(i),this.z=i.zoom,u&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(i),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,u={}){this._checkLoaded();const f=this.serialize();if(i=u.transformStyle?u.transformStyle(f,i):i,ni(this,a.y(i)))return!1;(i=a.aD(i)).layers=a.aB(i.layers);const g=a.aE(f,i).filter(C=>!(C.command in pv));if(g.length===0)return!1;const _=g.filter(C=>!(C.command in Wi));if(_.length>0)throw new Error(`Unimplemented: ${_.map(C=>C.command).join(", ")}.`);for(const C of g)C.command!=="setTransition"&&this[C.command].apply(this,C.args);return this.stylesheet=i,this._serializedLayers=null,!0}addImage(i,u){if(this.getImage(i))return this.fire(new a.j(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,u),this._afterImageUpdated(i)}updateImage(i,u){this.imageManager.updateImage(i,u)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new a.j(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,u,f={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(a.y.source,`sources.${i}`,u,null,f))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const g=this.sourceCaches[i]=new Jt(i,u,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:i})),g.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===i)return this.fire(new a.j(new Error(`Source "${i}" cannot be removed while layer "${f}" is using it.`)));const u=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],u.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,u){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const f=this.sourceCaches[i].getSource();if(f.type!=="geojson")throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(u),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,u,f={}){this._checkLoaded();const g=i.id;if(this.getLayer(g))return void this.fire(new a.j(new Error(`Layer "${g}" already exists on this map.`)));let _;if(i.type==="custom"){if(ni(this,a.aF(i)))return;_=a.aC(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(g,i.source),i=a.aD(i),i=a.e(i,{source:g})),this._validate(a.y.layer,`layers.${g}`,i,{arrayIndex:-1},f))return;_=a.aC(i),this._validateLayer(_),_.setEventedParent(this,{layer:{id:g}})}const C=u?this._order.indexOf(u):this._order.length;if(u&&C===-1)this.fire(new a.j(new Error(`Cannot add layer "${g}" before non-existing layer "${u}".`)));else{if(this._order.splice(C,0,g),this._layerOrderChanged=!0,this._layers[g]=_,this._removedLayers[g]&&_.source&&_.type!=="custom"){const T=this._removedLayers[g];delete this._removedLayers[g],T.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(i,u){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new a.j(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===u)return;const f=this._order.indexOf(i);this._order.splice(f,1);const g=u?this._order.indexOf(u):this._order.length;u&&g===-1?this.fire(new a.j(new Error(`Cannot move layer "${i}" before non-existing layer "${u}".`))):(this._order.splice(g,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const u=this._layers[i];if(!u)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${i}".`)));u.setEventedParent(null);const f=this._order.indexOf(i);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=u,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],u.onRemove&&u.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,u,f){this._checkLoaded();const g=this.getLayer(i);g?g.minzoom===u&&g.maxzoom===f||(u!=null&&(g.minzoom=u),f!=null&&(g.maxzoom=f),this._updateLayer(g)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,u,f={}){this._checkLoaded();const g=this.getLayer(i);if(g){if(!a.aG(g.filter,u))return u==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(a.y.filter,`layers.${g.id}.filter`,u,null,f)||(g.filter=a.aD(u),this._updateLayer(g)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return a.aD(this.getLayer(i).filter)}setLayoutProperty(i,u,f,g={}){this._checkLoaded();const _=this.getLayer(i);_?a.aG(_.getLayoutProperty(u),f)||(_.setLayoutProperty(u,f,g),this._updateLayer(_)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,u){const f=this.getLayer(i);if(f)return f.getLayoutProperty(u);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,u,f,g={}){this._checkLoaded();const _=this.getLayer(i);_?a.aG(_.getPaintProperty(u),f)||(_.setPaintProperty(u,f,g)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,u){return this.getLayer(i).getPaintProperty(u)}setFeatureState(i,u){this._checkLoaded();const f=i.source,g=i.sourceLayer,_=this.sourceCaches[f];if(_===void 0)return void this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)));const C=_.getSource().type;C==="geojson"&&g?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||g?(i.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(g,i.id,u)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,u){this._checkLoaded();const f=i.source,g=this.sourceCaches[f];if(g===void 0)return void this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)));const _=g.getSource().type,C=_==="vector"?i.sourceLayer:void 0;_!=="vector"||C?u&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(C,i.id,u):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const u=i.source,f=i.sourceLayer,g=this.sourceCaches[u];if(g!==void 0)return g.getSource().type!=="vector"||f?(i.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(f,i.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=a.aH(this.sourceCaches,_=>_.serialize()),u=this._serializeByIds(this._order),f=this.map.getTerrain()||void 0,g=this.stylesheet;return a.aI({version:g.version,name:g.name,metadata:g.metadata,light:g.light,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:i,layers:u,terrain:f},_=>_!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const u=C=>this._layers[C].type==="fill-extrusion",f={},g=[];for(let C=this._order.length-1;C>=0;C--){const T=this._order[C];if(u(T)){f[T]=C;for(const k of i){const R=k[T];if(R)for(const z of R)g.push(z)}}}g.sort((C,T)=>T.intersectionZ-C.intersectionZ);const _=[];for(let C=this._order.length-1;C>=0;C--){const T=this._order[C];if(u(T))for(let k=g.length-1;k>=0;k--){const R=g[k].feature;if(f[R.layer.id]<C)break;_.push(R),g.pop()}else for(const k of i){const R=k[T];if(R)for(const z of R)_.push(z.feature)}}return _}queryRenderedFeatures(i,u,f){u&&u.filter&&this._validate(a.y.filter,"queryRenderedFeatures.filter",u.filter,null,u);const g={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const T of u.layers){const k=this._layers[T];if(!k)return this.fire(new a.j(new Error(`The layer '${T}' does not exist in the map's style and cannot be queried for features.`))),[];g[k.source]=!0}}const _=[];u.availableImages=this._availableImages;const C=this._serializedAllLayers();for(const T in this.sourceCaches)u.layers&&!g[T]||_.push(ir(this.sourceCaches[T],this._layers,C,i,u,f));return this.placement&&_.push(function(T,k,R,z,O,Z,re){const ne={},ae=Z.queryRenderedSymbols(z),ee=[];for(const _e of Object.keys(ae).map(Number))ee.push(re[_e]);ee.sort(On);for(const _e of ee){const Ee=_e.featureIndex.lookupSymbolFeatures(ae[_e.bucketInstanceId],k,_e.bucketIndex,_e.sourceLayerIndex,O.filter,O.layers,O.availableImages,T);for(const he in Ee){const xe=ne[he]=ne[he]||[],Ae=Ee[he];Ae.sort((Me,Ne)=>{const Ke=_e.featureSortOrder;if(Ke){const We=Ke.indexOf(Me.featureIndex);return Ke.indexOf(Ne.featureIndex)-We}return Ne.featureIndex-Me.featureIndex});for(const Me of Ae)xe.push(Me)}}for(const _e in ne)ne[_e].forEach(Ee=>{const he=Ee.feature,xe=R[T[_e].source].getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=xe});return ne}(this._layers,C,this.sourceCaches,i,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(i,u){u&&u.filter&&this._validate(a.y.filter,"querySourceFeatures.filter",u.filter,null,u);const f=this.sourceCaches[i];return f?function(g,_){const C=g.getRenderableIds().map(R=>g.getTileByID(R)),T=[],k={};for(let R=0;R<C.length;R++){const z=C[R],O=z.tileID.canonical.key;k[O]||(k[O]=!0,z.querySourceFeatures(T,_))}return T}(f,u):[]}addSourceType(i,u,f){return Pt(i)?f(new Error(`A source type called "${i}" already exists.`)):(((g,_)=>{$t[g]=_})(i,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:u.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(i,u={}){this._checkLoaded();const f=this.light.getLight();let g=!1;for(const C in i)if(!a.aG(i[C],f[C])){g=!0;break}if(!g)return;const _={now:a.h.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,u),this.light.updateTransitions(_)}_validate(i,u,f,g,_={}){return(!_||_.validate!==!1)&&ni(this,i.call(a.y,a.e({key:u,style:this.serialize(),value:f,styleSpec:a.v},g)))}_remove(i=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const f=this.sourceCaches[u];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const u in this.sourceCaches)this.sourceCaches[u].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,u,f,g,_=!1){let C=!1,T=!1;const k={};for(const R of this._order){const z=this._layers[R];if(z.type!=="symbol")continue;if(!k[z.source]){const Z=this.sourceCaches[z.source];k[z.source]=Z.getRenderableIds(!0).map(re=>Z.getTileByID(re)).sort((re,ne)=>ne.tileID.overscaledZ-re.tileID.overscaledZ||(re.tileID.isLessThan(ne.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer(z,k[z.source],i.center.lng);C=C||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||f===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.h.now(),i.zoom))&&(this.pauseablePlacement=new Xa(i,this.map.terrain,this._order,_,u,f,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.h.now()),T=!0),C&&this.pauseablePlacement.placement.setStale()),T||C)for(const R of this._order){const z=this._layers[R];z.type==="symbol"&&this.placement.updateLayerOpacities(z,k[z.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.h.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,u,f){this.imageManager.getImages(u.icons,f),this._updateTilesForChangedImages();const g=this.sourceCaches[u.source];g&&g.setDependencies(u.tileID.key,u.type,u.icons)}getGlyphs(i,u,f){this.glyphManager.getGlyphs(u.stacks,f);const g=this.sourceCaches[u.source];g&&g.setDependencies(u.tileID.key,u.type,[""])}getResource(i,u,f){return a.m(u,f)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,u={}){this._checkLoaded(),i&&this._validate(a.y.glyphs,"glyphs",i,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,u,f={},g){this._checkLoaded();const _=[{id:i,url:u}],C=[...me(this.stylesheet.sprite),..._];this._validate(a.y.sprite,"sprite",C,null,f)||(this.stylesheet.sprite=C,this._loadSprite(_,!0,g))}removeSprite(i){this._checkLoaded();const u=me(this.stylesheet.sprite);if(u.find(f=>f.id===i)){if(this._spritesImagesIds[i])for(const f of this._spritesImagesIds[i])this.imageManager.removeImage(f),this._changedImages[f]=!0;u.splice(u.findIndex(f=>f.id===i),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return me(this.stylesheet.sprite)}setSprite(i,u={},f){this._checkLoaded(),i&&this._validate(a.y.sprite,"sprite",i,null,u)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,f):(this._unloadSprite(),f&&f(null)))}}Hr.registerForPluginStateChange=a.aK;var Gc=a.Q([{name:"a_pos",type:"Int16",components:2}]),Ja="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Jn={prelude:vn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:vn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:vn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:vn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:vn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:vn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:vn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:vn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:vn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:vn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:vn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:vn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:vn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:vn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:vn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:vn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:vn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:vn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:vn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:vn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ja),terrainDepth:vn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ja),terrainCoords:vn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ja)};function vn(y,i){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=i.match(/attribute ([\w]+) ([\w]+)/g),g=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=_?_.concat(g):g,T={};return{fragmentSource:y=y.replace(u,(k,R,z,O,Z)=>(T[Z]=!0,R==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
varying ${z} ${O} ${Z};
#else
uniform ${z} ${O} u_${Z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Z}
    ${z} ${O} ${Z} = u_${Z};
#endif
`)),vertexSource:i=i.replace(u,(k,R,z,O,Z)=>{const re=O==="float"?"vec2":"vec4",ne=Z.match(/color/)?"color":re;return T[Z]?R==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
attribute ${z} ${re} a_${Z};
varying ${z} ${O} ${Z};
#else
uniform ${z} ${O} u_${Z};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = a_${Z};
#else
    ${z} ${O} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = unpack_mix_${ne}(a_${Z}, u_${Z}_t);
#else
    ${z} ${O} ${Z} = u_${Z};
#endif
`:R==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
attribute ${z} ${re} a_${Z};
#else
uniform ${z} ${O} u_${Z};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${z} ${O} ${Z} = a_${Z};
#else
    ${z} ${O} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${z} ${O} ${Z} = unpack_mix_${ne}(a_${Z}, u_${Z}_t);
#else
    ${z} ${O} ${Z} = u_${Z};
#endif
`}),staticAttributes:f,staticUniforms:C}}class ma{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,u,f,g,_,C,T,k,R){this.context=i;let z=this.boundPaintVertexBuffers.length!==g.length;for(let O=0;!z&&O<g.length;O++)this.boundPaintVertexBuffers[O]!==g[O]&&(z=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==f||z||this.boundIndexBuffer!==_||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==T||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==R?this.freshBind(u,f,g,_,C,T,k,R):(i.bindVertexArray.set(this.vao),T&&T.bind(),_&&_.dynamicDraw&&_.bind(),k&&k.bind(),R&&R.bind())}freshBind(i,u,f,g,_,C,T,k){const R=i.numAttributes,z=this.context,O=z.gl;this.vao&&this.destroy(),this.vao=z.createVertexArray(),z.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=g,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=T,this.boundDynamicVertexBuffer3=k,u.enableAttributes(O,i);for(const Z of f)Z.enableAttributes(O,i);C&&C.enableAttributes(O,i),T&&T.enableAttributes(O,i),k&&k.enableAttributes(O,i),u.bind(),u.setVertexAttribPointers(O,i,_);for(const Z of f)Z.bind(),Z.setVertexAttribPointers(O,i,_);C&&(C.bind(),C.setVertexAttribPointers(O,i,_)),g&&g.bind(),T&&(T.bind(),T.setVertexAttribPointers(O,i,_)),k&&(k.bind(),k.setVertexAttribPointers(O,i,_)),z.currentNumAttributes=R}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function or(y){const i=[];for(let u=0;u<y.length;u++){if(y[u]===null)continue;const f=y[u].split(" ");i.push(f.pop())}return i}class qc{constructor(i,u,f,g,_,C){const T=i.gl;this.program=T.createProgram();const k=or(u.staticAttributes),R=f?f.getBinderAttributes():[],z=k.concat(R),O=Jn.prelude.staticUniforms?or(Jn.prelude.staticUniforms):[],Z=u.staticUniforms?or(u.staticUniforms):[],re=f?f.getBinderUniforms():[],ne=O.concat(Z).concat(re),ae=[];for(const Me of ne)ae.indexOf(Me)<0&&ae.push(Me);const ee=f?f.defines():[];_&&ee.push("#define OVERDRAW_INSPECTOR;"),C&&ee.push("#define TERRAIN3D;");const _e=ee.concat(Jn.prelude.fragmentSource,u.fragmentSource).join(`
`),Ee=ee.concat(Jn.prelude.vertexSource,u.vertexSource).join(`
`),he=T.createShader(T.FRAGMENT_SHADER);if(T.isContextLost())return void(this.failedToCreate=!0);if(T.shaderSource(he,_e),T.compileShader(he),!T.getShaderParameter(he,T.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${T.getShaderInfoLog(he)}`);T.attachShader(this.program,he);const xe=T.createShader(T.VERTEX_SHADER);if(T.isContextLost())return void(this.failedToCreate=!0);if(T.shaderSource(xe,Ee),T.compileShader(xe),!T.getShaderParameter(xe,T.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${T.getShaderInfoLog(xe)}`);T.attachShader(this.program,xe),this.attributes={};const Ae={};this.numAttributes=z.length;for(let Me=0;Me<this.numAttributes;Me++)z[Me]&&(T.bindAttribLocation(this.program,Me,z[Me]),this.attributes[z[Me]]=Me);if(T.linkProgram(this.program),!T.getProgramParameter(this.program,T.LINK_STATUS))throw new Error(`Program failed to link: ${T.getProgramInfoLog(this.program)}`);T.deleteShader(xe),T.deleteShader(he);for(let Me=0;Me<ae.length;Me++){const Ne=ae[Me];if(Ne&&!Ae[Ne]){const Ke=T.getUniformLocation(this.program,Ne);Ke&&(Ae[Ne]=Ke)}}this.fixedUniforms=g(i,Ae),this.terrainUniforms=((Me,Ne)=>({u_depth:new a.aL(Me,Ne.u_depth),u_terrain:new a.aL(Me,Ne.u_terrain),u_terrain_dim:new a.aM(Me,Ne.u_terrain_dim),u_terrain_matrix:new a.aN(Me,Ne.u_terrain_matrix),u_terrain_unpack:new a.aO(Me,Ne.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Me,Ne.u_terrain_exaggeration)}))(i,Ae),this.binderUniforms=f?f.getUniforms(i,Ae):[]}draw(i,u,f,g,_,C,T,k,R,z,O,Z,re,ne,ae,ee,_e,Ee){const he=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(f),i.setStencilMode(g),i.setColorMode(_),i.setCullFace(C),k){i.activeTexture.set(he.TEXTURE2),he.bindTexture(he.TEXTURE_2D,k.depthTexture),i.activeTexture.set(he.TEXTURE3),he.bindTexture(he.TEXTURE_2D,k.texture);for(const Ae in this.terrainUniforms)this.terrainUniforms[Ae].set(k[Ae])}for(const Ae in this.fixedUniforms)this.fixedUniforms[Ae].set(T[Ae]);ae&&ae.setUniforms(i,this.binderUniforms,re,{zoom:ne});let xe=0;switch(u){case he.LINES:xe=2;break;case he.TRIANGLES:xe=3;break;case he.LINE_STRIP:xe=1}for(const Ae of Z.get()){const Me=Ae.vaos||(Ae.vaos={});(Me[R]||(Me[R]=new ma)).bind(i,this,z,ae?ae.getPaintVertexBuffers():[],O,Ae.vertexOffset,ee,_e,Ee),he.drawElements(u,Ae.primitiveLength*xe,he.UNSIGNED_SHORT,Ae.primitiveOffset*xe*2)}}}function lo(y,i,u){const f=1/ve(u,1,i.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),_=u.tileSize*Math.pow(2,i.transform.tileZoom)/g,C=_*(u.tileID.canonical.x+u.tileID.wrap*g),T=_*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[f,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[C>>16,T>>16],u_pixel_coord_lower:[65535&C,65535&T]}}const jh=(y,i,u,f)=>{const g=i.style.light,_=g.properties.get("position"),C=[_.x,_.y,_.z],T=function(){var R=new a.A(9);return a.A!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}();g.properties.get("anchor")==="viewport"&&function(R,z){var O=Math.sin(z),Z=Math.cos(z);R[0]=Z,R[1]=O,R[2]=0,R[3]=-O,R[4]=Z,R[5]=0,R[6]=0,R[7]=0,R[8]=1}(T,-i.transform.angle),function(R,z,O){var Z=z[0],re=z[1],ne=z[2];R[0]=Z*O[0]+re*O[3]+ne*O[6],R[1]=Z*O[1]+re*O[4]+ne*O[7],R[2]=Z*O[2]+re*O[5]+ne*O[8]}(C,C,T);const k=g.properties.get("color");return{u_matrix:y,u_lightpos:C,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+u,u_opacity:f}},Ns=(y,i,u,f,g,_,C)=>a.e(jh(y,i,u,f),lo(_,i,C),{u_height_factor:-Math.pow(2,g.overscaledZ)/C.tileSize/8}),Wf=y=>({u_matrix:y}),Uh=(y,i,u,f)=>a.e(Wf(y),lo(u,i,f)),Hc=(y,i)=>({u_matrix:y,u_world:i}),Zc=(y,i,u,f,g)=>a.e(Uh(y,i,u,f),{u_world:g}),$s=(y,i,u,f)=>{const g=y.transform;let _,C;if(f.paint.get("circle-pitch-alignment")==="map"){const T=ve(u,1,g.zoom);_=!0,C=[T,T]}else _=!1,C=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:y.translatePosMatrix(i.posMatrix,u,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:C}},Wh=(y,i,u)=>{const f=ve(u,1,i.zoom),g=Math.pow(2,i.zoom-u.tileID.overscaledZ),_=u.tileID.overscaleFactor();return{u_matrix:y,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[i.pixelsToGLUnits[0]/(f*g),i.pixelsToGLUnits[1]/(f*g)],u_overscale_factor:_}},Gl=(y,i,u=1)=>({u_matrix:y,u_color:i,u_overlay:0,u_overlay_scale:u}),Gf=y=>({u_matrix:y}),fv=(y,i,u,f)=>({u_matrix:y,u_extrude_scale:ve(i,1,u),u_intensity:f});function Gh(y,i){const u=Math.pow(2,i.canonical.z),f=i.canonical.y;return[new a.U(0,f/u).toLngLat().lat,new a.U(0,(f+1)/u).toLngLat().lat]}const qh=(y,i,u,f)=>{const g=y.transform;return{u_matrix:Kc(y,i,u,f),u_ratio:1/ve(i,1,g.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},qf=(y,i,u,f,g)=>a.e(qh(y,i,u,g),{u_image:0,u_image_height:f}),mv=(y,i,u,f,g)=>{const _=y.transform,C=Zf(i,_);return{u_matrix:Kc(y,i,u,g),u_texsize:i.imageAtlasTexture.size,u_ratio:1/ve(i,1,_.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[C,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Hf=(y,i,u,f,g,_)=>{const C=y.lineAtlas,T=Zf(i,y.transform),k=u.layout.get("line-cap")==="round",R=C.getDash(f.from,k),z=C.getDash(f.to,k),O=R.width*g.fromScale,Z=z.width*g.toScale;return a.e(qh(y,i,u,_),{u_patternscale_a:[T/O,-R.height/2],u_patternscale_b:[T/Z,-z.height/2],u_sdfgamma:C.width/(256*Math.min(O,Z)*y.pixelRatio)/2,u_image:0,u_tex_y_a:R.y,u_tex_y_b:z.y,u_mix:g.t})};function Zf(y,i){return 1/ve(y,1,i.tileZoom)}function Kc(y,i,u,f){return y.translatePosMatrix(f?f.posMatrix:i.tileID.posMatrix,i,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const Kf=(y,i,u,f,g)=>{return{u_matrix:y,u_tl_parent:i,u_scale_parent:u,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(C=g.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Xf(g.paint.get("raster-hue-rotate"))};var _,C};function Xf(y){y*=Math.PI/180;const i=Math.sin(y),u=Math.cos(y);return[(2*u+1)/3,(-Math.sqrt(3)*i-u+1)/3,(Math.sqrt(3)*i-u+1)/3]}const Hh=(y,i,u,f,g,_,C,T,k,R)=>{const z=g.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:z.cameraToCenterDistance,u_pitch:z.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:z.width/z.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:C,u_coord_matrix:T,u_is_text:+k,u_pitch_with_map:+f,u_texsize:R,u_texture:0}},Zh=(y,i,u,f,g,_,C,T,k,R,z)=>{const O=g.transform;return a.e(Hh(y,i,u,f,g,_,C,T,k,R),{u_gamma_scale:f?Math.cos(O._pitch)*O.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+z})},ga=(y,i,u,f,g,_,C,T,k,R)=>a.e(Zh(y,i,u,f,g,_,C,T,!0,k,!0),{u_texsize_icon:R,u_texture_icon:1}),Xc=(y,i,u)=>({u_matrix:y,u_opacity:i,u_color:u}),co=(y,i,u,f,g,_)=>a.e(function(C,T,k,R){const z=k.imageManager.getPattern(C.from.toString()),O=k.imageManager.getPattern(C.to.toString()),{width:Z,height:re}=k.imageManager.getPixelSize(),ne=Math.pow(2,R.tileID.overscaledZ),ae=R.tileSize*Math.pow(2,k.transform.tileZoom)/ne,ee=ae*(R.tileID.canonical.x+R.tileID.wrap*ne),_e=ae*R.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[Z,re],u_mix:T.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:T.fromScale,u_scale_b:T.toScale,u_tile_units_to_pixels:1/ve(R,1,k.transform.tileZoom),u_pixel_coord_upper:[ee>>16,_e>>16],u_pixel_coord_lower:[65535&ee,65535&_e]}}(f,_,u,g),{u_matrix:y,u_opacity:i}),Yc={fillExtrusion:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_lightpos:new a.aP(y,i.u_lightpos),u_lightintensity:new a.aM(y,i.u_lightintensity),u_lightcolor:new a.aP(y,i.u_lightcolor),u_vertical_gradient:new a.aM(y,i.u_vertical_gradient),u_opacity:new a.aM(y,i.u_opacity)}),fillExtrusionPattern:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_lightpos:new a.aP(y,i.u_lightpos),u_lightintensity:new a.aM(y,i.u_lightintensity),u_lightcolor:new a.aP(y,i.u_lightcolor),u_vertical_gradient:new a.aM(y,i.u_vertical_gradient),u_height_factor:new a.aM(y,i.u_height_factor),u_image:new a.aL(y,i.u_image),u_texsize:new a.aQ(y,i.u_texsize),u_pixel_coord_upper:new a.aQ(y,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,i.u_pixel_coord_lower),u_scale:new a.aP(y,i.u_scale),u_fade:new a.aM(y,i.u_fade),u_opacity:new a.aM(y,i.u_opacity)}),fill:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix)}),fillPattern:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_image:new a.aL(y,i.u_image),u_texsize:new a.aQ(y,i.u_texsize),u_pixel_coord_upper:new a.aQ(y,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,i.u_pixel_coord_lower),u_scale:new a.aP(y,i.u_scale),u_fade:new a.aM(y,i.u_fade)}),fillOutline:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_world:new a.aQ(y,i.u_world)}),fillOutlinePattern:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_world:new a.aQ(y,i.u_world),u_image:new a.aL(y,i.u_image),u_texsize:new a.aQ(y,i.u_texsize),u_pixel_coord_upper:new a.aQ(y,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,i.u_pixel_coord_lower),u_scale:new a.aP(y,i.u_scale),u_fade:new a.aM(y,i.u_fade)}),circle:(y,i)=>({u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_scale_with_map:new a.aL(y,i.u_scale_with_map),u_pitch_with_map:new a.aL(y,i.u_pitch_with_map),u_extrude_scale:new a.aQ(y,i.u_extrude_scale),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_matrix:new a.aN(y,i.u_matrix)}),collisionBox:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aM(y,i.u_pixels_to_tile_units),u_extrude_scale:new a.aQ(y,i.u_extrude_scale),u_overscale_factor:new a.aM(y,i.u_overscale_factor)}),collisionCircle:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_inv_matrix:new a.aN(y,i.u_inv_matrix),u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_viewport_size:new a.aQ(y,i.u_viewport_size)}),debug:(y,i)=>({u_color:new a.aR(y,i.u_color),u_matrix:new a.aN(y,i.u_matrix),u_overlay:new a.aL(y,i.u_overlay),u_overlay_scale:new a.aM(y,i.u_overlay_scale)}),clippingMask:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix)}),heatmap:(y,i)=>({u_extrude_scale:new a.aM(y,i.u_extrude_scale),u_intensity:new a.aM(y,i.u_intensity),u_matrix:new a.aN(y,i.u_matrix)}),heatmapTexture:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_world:new a.aQ(y,i.u_world),u_image:new a.aL(y,i.u_image),u_color_ramp:new a.aL(y,i.u_color_ramp),u_opacity:new a.aM(y,i.u_opacity)}),hillshade:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_image:new a.aL(y,i.u_image),u_latrange:new a.aQ(y,i.u_latrange),u_light:new a.aQ(y,i.u_light),u_shadow:new a.aR(y,i.u_shadow),u_highlight:new a.aR(y,i.u_highlight),u_accent:new a.aR(y,i.u_accent)}),hillshadePrepare:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_image:new a.aL(y,i.u_image),u_dimension:new a.aQ(y,i.u_dimension),u_zoom:new a.aM(y,i.u_zoom),u_unpack:new a.aO(y,i.u_unpack)}),line:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_ratio:new a.aM(y,i.u_ratio),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,i.u_units_to_pixels)}),lineGradient:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_ratio:new a.aM(y,i.u_ratio),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,i.u_units_to_pixels),u_image:new a.aL(y,i.u_image),u_image_height:new a.aM(y,i.u_image_height)}),linePattern:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_texsize:new a.aQ(y,i.u_texsize),u_ratio:new a.aM(y,i.u_ratio),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_image:new a.aL(y,i.u_image),u_units_to_pixels:new a.aQ(y,i.u_units_to_pixels),u_scale:new a.aP(y,i.u_scale),u_fade:new a.aM(y,i.u_fade)}),lineSDF:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_ratio:new a.aM(y,i.u_ratio),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,i.u_units_to_pixels),u_patternscale_a:new a.aQ(y,i.u_patternscale_a),u_patternscale_b:new a.aQ(y,i.u_patternscale_b),u_sdfgamma:new a.aM(y,i.u_sdfgamma),u_image:new a.aL(y,i.u_image),u_tex_y_a:new a.aM(y,i.u_tex_y_a),u_tex_y_b:new a.aM(y,i.u_tex_y_b),u_mix:new a.aM(y,i.u_mix)}),raster:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_tl_parent:new a.aQ(y,i.u_tl_parent),u_scale_parent:new a.aM(y,i.u_scale_parent),u_buffer_scale:new a.aM(y,i.u_buffer_scale),u_fade_t:new a.aM(y,i.u_fade_t),u_opacity:new a.aM(y,i.u_opacity),u_image0:new a.aL(y,i.u_image0),u_image1:new a.aL(y,i.u_image1),u_brightness_low:new a.aM(y,i.u_brightness_low),u_brightness_high:new a.aM(y,i.u_brightness_high),u_saturation_factor:new a.aM(y,i.u_saturation_factor),u_contrast_factor:new a.aM(y,i.u_contrast_factor),u_spin_weights:new a.aP(y,i.u_spin_weights)}),symbolIcon:(y,i)=>({u_is_size_zoom_constant:new a.aL(y,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,i.u_is_size_feature_constant),u_size_t:new a.aM(y,i.u_size_t),u_size:new a.aM(y,i.u_size),u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_pitch:new a.aM(y,i.u_pitch),u_rotate_symbol:new a.aL(y,i.u_rotate_symbol),u_aspect_ratio:new a.aM(y,i.u_aspect_ratio),u_fade_change:new a.aM(y,i.u_fade_change),u_matrix:new a.aN(y,i.u_matrix),u_label_plane_matrix:new a.aN(y,i.u_label_plane_matrix),u_coord_matrix:new a.aN(y,i.u_coord_matrix),u_is_text:new a.aL(y,i.u_is_text),u_pitch_with_map:new a.aL(y,i.u_pitch_with_map),u_texsize:new a.aQ(y,i.u_texsize),u_texture:new a.aL(y,i.u_texture)}),symbolSDF:(y,i)=>({u_is_size_zoom_constant:new a.aL(y,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,i.u_is_size_feature_constant),u_size_t:new a.aM(y,i.u_size_t),u_size:new a.aM(y,i.u_size),u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_pitch:new a.aM(y,i.u_pitch),u_rotate_symbol:new a.aL(y,i.u_rotate_symbol),u_aspect_ratio:new a.aM(y,i.u_aspect_ratio),u_fade_change:new a.aM(y,i.u_fade_change),u_matrix:new a.aN(y,i.u_matrix),u_label_plane_matrix:new a.aN(y,i.u_label_plane_matrix),u_coord_matrix:new a.aN(y,i.u_coord_matrix),u_is_text:new a.aL(y,i.u_is_text),u_pitch_with_map:new a.aL(y,i.u_pitch_with_map),u_texsize:new a.aQ(y,i.u_texsize),u_texture:new a.aL(y,i.u_texture),u_gamma_scale:new a.aM(y,i.u_gamma_scale),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_is_halo:new a.aL(y,i.u_is_halo)}),symbolTextAndIcon:(y,i)=>({u_is_size_zoom_constant:new a.aL(y,i.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,i.u_is_size_feature_constant),u_size_t:new a.aM(y,i.u_size_t),u_size:new a.aM(y,i.u_size),u_camera_to_center_distance:new a.aM(y,i.u_camera_to_center_distance),u_pitch:new a.aM(y,i.u_pitch),u_rotate_symbol:new a.aL(y,i.u_rotate_symbol),u_aspect_ratio:new a.aM(y,i.u_aspect_ratio),u_fade_change:new a.aM(y,i.u_fade_change),u_matrix:new a.aN(y,i.u_matrix),u_label_plane_matrix:new a.aN(y,i.u_label_plane_matrix),u_coord_matrix:new a.aN(y,i.u_coord_matrix),u_is_text:new a.aL(y,i.u_is_text),u_pitch_with_map:new a.aL(y,i.u_pitch_with_map),u_texsize:new a.aQ(y,i.u_texsize),u_texsize_icon:new a.aQ(y,i.u_texsize_icon),u_texture:new a.aL(y,i.u_texture),u_texture_icon:new a.aL(y,i.u_texture_icon),u_gamma_scale:new a.aM(y,i.u_gamma_scale),u_device_pixel_ratio:new a.aM(y,i.u_device_pixel_ratio),u_is_halo:new a.aL(y,i.u_is_halo)}),background:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_opacity:new a.aM(y,i.u_opacity),u_color:new a.aR(y,i.u_color)}),backgroundPattern:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_opacity:new a.aM(y,i.u_opacity),u_image:new a.aL(y,i.u_image),u_pattern_tl_a:new a.aQ(y,i.u_pattern_tl_a),u_pattern_br_a:new a.aQ(y,i.u_pattern_br_a),u_pattern_tl_b:new a.aQ(y,i.u_pattern_tl_b),u_pattern_br_b:new a.aQ(y,i.u_pattern_br_b),u_texsize:new a.aQ(y,i.u_texsize),u_mix:new a.aM(y,i.u_mix),u_pattern_size_a:new a.aQ(y,i.u_pattern_size_a),u_pattern_size_b:new a.aQ(y,i.u_pattern_size_b),u_scale_a:new a.aM(y,i.u_scale_a),u_scale_b:new a.aM(y,i.u_scale_b),u_pixel_coord_upper:new a.aQ(y,i.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,i.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(y,i.u_tile_units_to_pixels)}),terrain:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_texture:new a.aL(y,i.u_texture),u_ele_delta:new a.aM(y,i.u_ele_delta)}),terrainDepth:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_ele_delta:new a.aM(y,i.u_ele_delta)}),terrainCoords:(y,i)=>({u_matrix:new a.aN(y,i.u_matrix),u_texture:new a.aL(y,i.u_texture),u_terrain_coords_id:new a.aM(y,i.u_terrain_coords_id),u_ele_delta:new a.aM(y,i.u_ele_delta)})};class Jc{constructor(i,u,f){this.context=i;const g=i.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ql={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Qc{constructor(i,u,f,g){this.length=u.length,this.attributes=f,this.itemSize=u.bytesPerElement,this.dynamicDraw=g,this.context=i;const _=i.gl;this.buffer=_.createBuffer(),i.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,u){for(let f=0;f<this.attributes.length;f++){const g=u.attributes[this.attributes[f].name];g!==void 0&&i.enableVertexAttribArray(g)}}setVertexAttribPointers(i,u,f){for(let g=0;g<this.attributes.length;g++){const _=this.attributes[g],C=u.attributes[_.name];C!==void 0&&i.vertexAttribPointer(C,_.components,i[ql[_.type]],!1,this.itemSize,_.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Qa=new WeakMap;function Vs(y){var i;if(Qa.has(y))return Qa.get(y);{const u=(i=y.getParameter(y.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return Qa.set(y,u),u}}class an{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class eu extends an{getDefault(){return a.aT.transparent}set(i){const u=this.current;(i.r!==u.r||i.g!==u.g||i.b!==u.b||i.a!==u.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Gi extends an{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class qi extends an{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Kh extends an{getDefault(){return[!0,!0,!0,!0]}set(i){const u=this.current;(i[0]!==u[0]||i[1]!==u[1]||i[2]!==u[2]||i[3]!==u[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class tu extends an{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class nu extends an{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Xh extends an{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const u=this.current;(i.func!==u.func||i.ref!==u.ref||i.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Yh extends an{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const u=this.current;(i[0]!==u[0]||i[1]!==u[1]||i[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class ru extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;i?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=i,this.dirty=!1}}class Jh extends an{getDefault(){return[0,1]}set(i){const u=this.current;(i[0]!==u[0]||i[1]!==u[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Qh extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;i?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=i,this.dirty=!1}}class iu extends an{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class Yf extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;i?u.enable(u.BLEND):u.disable(u.BLEND),this.current=i,this.dirty=!1}}class Jf extends an{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const u=this.current;(i[0]!==u[0]||i[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class el extends an{getDefault(){return a.aT.transparent}set(i){const u=this.current;(i.r!==u.r||i.g!==u.g||i.b!==u.b||i.a!==u.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class gv extends an{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class yv extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;i?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=i,this.dirty=!1}}class vv extends an{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class _v extends an{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class xv extends an{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class bv extends an{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class ed extends an{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const u=this.current;(i[0]!==u[0]||i[1]!==u[1]||i[2]!==u[2]||i[3]!==u[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class ou extends an{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class td extends an{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class nd extends an{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class tl extends an{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Qf extends an{getDefault(){return null}set(i){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class em extends an{getDefault(){return null}set(i){var u;if(i===this.current&&!this.dirty)return;const f=this.gl;Vs(f)?f.bindVertexArray(i):(u=f.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class rd extends an{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class ya extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class tm extends an{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class js extends an{constructor(i,u){super(i),this.context=i,this.parent=u}getDefault(){return null}}class nl extends js{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class nm extends js{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class id extends js{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class _n{constructor(i,u,f,g,_){this.context=i,this.width=u,this.height=f;const C=i.gl,T=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new nl(i,T),g)this.depthAttachment=_?new id(i,T):new nm(i,T);else if(_)throw new Error("Stencil cannot be setted without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,u=this.colorAttachment.get();if(u&&i.deleteTexture(u),this.depthAttachment){const f=this.depthAttachment.get();f&&i.deleteRenderbuffer(f)}i.deleteFramebuffer(this.framebuffer)}}class Qn{constructor(i,u,f){this.blendFunction=i,this.blendColor=u,this.mask=f}}Qn.Replace=[1,0],Qn.disabled=new Qn(Qn.Replace,a.aT.transparent,[!1,!1,!1,!1]),Qn.unblended=new Qn(Qn.Replace,a.aT.transparent,[!0,!0,!0,!0]),Qn.alphaBlended=new Qn([1,771],a.aT.transparent,[!0,!0,!0,!0]);class wv{constructor(i){var u,f;if(this.gl=i,this.clearColor=new eu(this),this.clearDepth=new Gi(this),this.clearStencil=new qi(this),this.colorMask=new Kh(this),this.depthMask=new tu(this),this.stencilMask=new nu(this),this.stencilFunc=new Xh(this),this.stencilOp=new Yh(this),this.stencilTest=new ru(this),this.depthRange=new Jh(this),this.depthTest=new Qh(this),this.depthFunc=new iu(this),this.blend=new Yf(this),this.blendFunc=new Jf(this),this.blendColor=new el(this),this.blendEquation=new gv(this),this.cullFace=new yv(this),this.cullFaceSide=new vv(this),this.frontFace=new _v(this),this.program=new xv(this),this.activeTexture=new bv(this),this.viewport=new ed(this),this.bindFramebuffer=new ou(this),this.bindRenderbuffer=new td(this),this.bindTexture=new nd(this),this.bindVertexBuffer=new tl(this),this.bindElementBuffer=new Qf(this),this.bindVertexArray=new em(this),this.pixelStoreUnpack=new rd(this),this.pixelStoreUnpackPremultiplyAlpha=new ya(this),this.pixelStoreUnpackFlipY=new tm(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Vs(i)){this.HALF_FLOAT=i.HALF_FLOAT;const g=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=i.RGBA16F)!==null&&u!==void 0?u:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(f=i.RGB16F)!==null&&f!==void 0?f:g==null?void 0:g.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const g=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,u){return new Jc(this,i,u)}createVertexBuffer(i,u,f){return new Qc(this,i,u,f)}createRenderbuffer(i,u,f){const g=this.gl,_=g.createRenderbuffer();return this.bindRenderbuffer.set(_),g.renderbufferStorage(g.RENDERBUFFER,i,u,f),this.bindRenderbuffer.set(null),_}createFramebuffer(i,u,f,g){return new _n(this,i,u,f,g)}clear({color:i,depth:u,stencil:f}){const g=this.gl;let _=0;i&&(_|=g.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(_|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),f!==void 0&&(_|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),g.clear(_)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){a.aG(i.blendFunction,Qn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Vs(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var u;return Vs(this.gl)?this.gl.deleteVertexArray(i):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class ln{constructor(i,u,f){this.func=i,this.mask=u,this.range=f}}ln.ReadOnly=!1,ln.ReadWrite=!0,ln.disabled=new ln(519,ln.ReadOnly,[0,1]);const va=7680;class er{constructor(i,u,f,g,_,C){this.test=i,this.ref=u,this.mask=f,this.fail=g,this.depthFail=_,this.pass=C}}er.disabled=new er({func:519,mask:0},0,0,va,va,va);class Hn{constructor(i,u,f){this.enable=i,this.mode=u,this.frontFace=f}}let Hl;function rm(y,i,u,f,g,_,C){const T=y.context,k=T.gl,R=y.useProgram("collisionBox"),z=[];let O=0,Z=0;for(let he=0;he<f.length;he++){const xe=f[he],Ae=i.getTile(xe),Me=Ae.getBucket(u);if(!Me)continue;let Ne=xe.posMatrix;g[0]===0&&g[1]===0||(Ne=y.translatePosMatrix(xe.posMatrix,Ae,g,_));const Ke=C?Me.textCollisionBox:Me.iconCollisionBox,We=Me.collisionCircleArray;if(We.length>0){const Je=a.Z(),gt=Ne;a.aU(Je,Me.placementInvProjMatrix,y.transform.glCoordMatrix),a.aU(Je,Je,Me.placementViewportMatrix),z.push({circleArray:We,circleOffset:Z,transform:gt,invTransform:Je,coord:xe}),O+=We.length/4,Z=O}Ke&&R.draw(T,k.LINES,ln.disabled,er.disabled,y.colorModeForRenderPass(),Hn.disabled,Wh(Ne,y.transform,Ae),y.style.map.terrain&&y.style.map.terrain.getTerrainData(xe),u.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,null,y.transform.zoom,null,null,Ke.collisionVertexBuffer)}if(!C||!z.length)return;const re=y.useProgram("collisionCircle"),ne=new a.aV;ne.resize(4*O),ne._trim();let ae=0;for(const he of z)for(let xe=0;xe<he.circleArray.length/4;xe++){const Ae=4*xe,Me=he.circleArray[Ae+0],Ne=he.circleArray[Ae+1],Ke=he.circleArray[Ae+2],We=he.circleArray[Ae+3];ne.emplace(ae++,Me,Ne,Ke,We,0),ne.emplace(ae++,Me,Ne,Ke,We,1),ne.emplace(ae++,Me,Ne,Ke,We,2),ne.emplace(ae++,Me,Ne,Ke,We,3)}(!Hl||Hl.length<2*O)&&(Hl=function(he){const xe=2*he,Ae=new a.aX;Ae.resize(xe),Ae._trim();for(let Me=0;Me<xe;Me++){const Ne=6*Me;Ae.uint16[Ne+0]=4*Me+0,Ae.uint16[Ne+1]=4*Me+1,Ae.uint16[Ne+2]=4*Me+2,Ae.uint16[Ne+3]=4*Me+2,Ae.uint16[Ne+4]=4*Me+3,Ae.uint16[Ne+5]=4*Me+0}return Ae}(O));const ee=T.createIndexBuffer(Hl,!0),_e=T.createVertexBuffer(ne,a.aW.members,!0);for(const he of z){const xe={u_matrix:he.transform,u_inv_matrix:he.invTransform,u_camera_to_center_distance:(Ee=y.transform).cameraToCenterDistance,u_viewport_size:[Ee.width,Ee.height]};re.draw(T,k.TRIANGLES,ln.disabled,er.disabled,y.colorModeForRenderPass(),Hn.disabled,xe,y.style.map.terrain&&y.style.map.terrain.getTerrainData(he.coord),u.id,_e,ee,a.S.simpleSegment(0,2*he.circleOffset,he.circleArray.length,he.circleArray.length/2),null,y.transform.zoom,null,null,null)}var Ee;_e.destroy(),ee.destroy()}Hn.disabled=new Hn(!1,1029,2305),Hn.backCCW=new Hn(!0,1029,2305);const od=a.ao(new Float32Array(16));function su(y,i,u,f,g,_){const{horizontalAlign:C,verticalAlign:T}=a.au(y);return new a.P((-(C-.5)*i/g+f[0])*_,(-(T-.5)*u/g+f[1])*_)}function au(y,i,u,f,g,_,C,T,k,R,z){const O=y.text.placedSymbolArray,Z=y.text.dynamicLayoutVertexArray,re=y.icon.dynamicLayoutVertexArray,ne={};Z.clear();for(let ae=0;ae<O.length;ae++){const ee=O.get(ae),_e=ee.hidden||!ee.crossTileID||y.allowVerticalPlacement&&!ee.placedOrientation?null:f[ee.crossTileID];if(_e){const Ee=new a.P(ee.anchorX,ee.anchorY),he=sn(Ee,u?C:_,z),xe=At(g.cameraToCenterDistance,he.signedDistanceFromCamera);let Ae=a.aj(y.textSizeData,k,ee)*xe/a.ap;u&&(Ae*=y.tilePixelRatio/T);const{width:Me,height:Ne,anchor:Ke,textOffset:We,textBoxScale:Je}=_e,gt=su(Ke,Me,Ne,We,Je,Ae),Qt=u?sn(Ee.add(gt),_,z).point:he.point.add(i?gt.rotate(-g.angle):gt),rt=y.allowVerticalPlacement&&ee.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let It=0;It<ee.numGlyphs;It++)a.ak(Z,Qt,rt);R&&ee.associatedIconIndex>=0&&(ne[ee.associatedIconIndex]={shiftedAnchor:Qt,angle:rt})}else Q(ee.numGlyphs,Z)}if(R){re.clear();const ae=y.icon.placedSymbolArray;for(let ee=0;ee<ae.length;ee++){const _e=ae.get(ee);if(_e.hidden)Q(_e.numGlyphs,re);else{const Ee=ne[ee];if(Ee)for(let he=0;he<_e.numGlyphs;he++)a.ak(re,Ee.shiftedAnchor,Ee.angle);else Q(_e.numGlyphs,re)}}y.icon.dynamicLayoutVertexBuffer.updateData(re)}y.text.dynamicLayoutVertexBuffer.updateData(Z)}function sd(y,i,u){return u.iconsInText&&i?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function lu(y,i,u,f,g,_,C,T,k,R,z,O){const Z=y.context,re=Z.gl,ne=y.transform,ae=T==="map",ee=k==="map",_e=T!=="viewport"&&u.layout.get("symbol-placement")!=="point",Ee=ae&&!ee&&!_e,he=!u.layout.get("symbol-sort-key").isConstant();let xe=!1;const Ae=y.depthModeForSublayer(0,ln.ReadOnly),Me=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ne=[];for(const Ke of f){const We=i.getTile(Ke),Je=We.getBucket(u);if(!Je)continue;const gt=g?Je.text:Je.icon;if(!gt||!gt.segments.get().length||!gt.hasVisibleVertices)continue;const Qt=gt.programConfigurations.get(u.id),rt=g||Je.sdfIcons,It=g?Je.textSizeData:Je.iconSizeData,vt=ee||ne.pitch!==0,kn=y.useProgram(sd(rt,g,Je),Qt),Xt=a.ah(It,ne.zoom),Wt=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ke);let en,ur,$n,Zr,Ir=[0,0],gr=null;if(g)ur=We.glyphAtlasTexture,$n=re.LINEAR,en=We.glyphAtlasTexture.size,Je.iconsInText&&(Ir=We.imageAtlasTexture.size,gr=We.imageAtlasTexture,Zr=vt||y.options.rotating||y.options.zooming||It.kind==="composite"||It.kind==="camera"?re.LINEAR:re.NEAREST);else{const hr=u.layout.get("icon-size").constantOr(0)!==1||Je.iconsNeedLinear;ur=We.imageAtlasTexture,$n=rt||y.options.rotating||y.options.zooming||hr||vt?re.LINEAR:re.NEAREST,en=We.imageAtlasTexture.size}const Ki=ve(We,1,y.transform.zoom),Wn=Ze(Ke.posMatrix,ee,ae,y.transform,Ki),Wo=Fn(Ke.posMatrix,ee,ae,y.transform,Ki),Go=Me&&Je.hasTextData(),Gs=u.layout.get("icon-text-fit")!=="none"&&Go&&Je.hasIconData();if(_e){const hr=y.style.map.terrain?(Ai,dr)=>y.style.map.terrain.getElevation(Ke,Ai,dr):null,Mr=u.layout.get("text-rotation-alignment")==="map";He(Je,Ke.posMatrix,y,g,Wn,Wo,ee,R,Mr,hr)}const Sa=y.translatePosMatrix(Ke.posMatrix,We,_,C),cl=_e||g&&Me||Gs?od:Wn,ri=y.translatePosMatrix(Wo,We,_,C,!0),Kr=rt&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let pi;pi=rt?Je.iconsInText?ga(It.kind,Xt,Ee,ee,y,Sa,cl,ri,en,Ir):Zh(It.kind,Xt,Ee,ee,y,Sa,cl,ri,g,en,!0):Hh(It.kind,Xt,Ee,ee,y,Sa,cl,ri,g,en);const Ca={program:kn,buffers:gt,uniformValues:pi,atlasTexture:ur,atlasTextureIcon:gr,atlasInterpolation:$n,atlasInterpolationIcon:Zr,isSDF:rt,hasHalo:Kr};if(he&&Je.canOverlap){xe=!0;const hr=gt.segments.get();for(const Mr of hr)Ne.push({segments:new a.S([Mr]),sortKey:Mr.sortKey,state:Ca,terrainData:Wt})}else Ne.push({segments:gt.segments,sortKey:0,state:Ca,terrainData:Wt})}xe&&Ne.sort((Ke,We)=>Ke.sortKey-We.sortKey);for(const Ke of Ne){const We=Ke.state;if(Z.activeTexture.set(re.TEXTURE0),We.atlasTexture.bind(We.atlasInterpolation,re.CLAMP_TO_EDGE),We.atlasTextureIcon&&(Z.activeTexture.set(re.TEXTURE1),We.atlasTextureIcon&&We.atlasTextureIcon.bind(We.atlasInterpolationIcon,re.CLAMP_TO_EDGE)),We.isSDF){const Je=We.uniformValues;We.hasHalo&&(Je.u_is_halo=1,ad(We.buffers,Ke.segments,u,y,We.program,Ae,z,O,Je,Ke.terrainData)),Je.u_is_halo=0}ad(We.buffers,Ke.segments,u,y,We.program,Ae,z,O,We.uniformValues,Ke.terrainData)}}function ad(y,i,u,f,g,_,C,T,k,R){const z=f.context;g.draw(z,z.gl.TRIANGLES,_,C,T,Hn.disabled,k,R,u.id,y.layoutVertexBuffer,y.indexBuffer,i,u.paint,f.transform.zoom,y.programConfigurations.get(u.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function Zl(y,i,u,f,g){if(!u||!f||!f.imageAtlas)return;const _=f.imageAtlas.patternPositions;let C=_[u.to.toString()],T=_[u.from.toString()];if(!C&&T&&(C=T),!T&&C&&(T=C),!C||!T){const k=g.getPaintProperty(i);C=_[k],T=_[k]}C&&T&&y.setConstantPatternPositions(C,T)}function Kl(y,i,u,f,g,_,C){const T=y.context.gl,k="fill-pattern",R=u.paint.get(k),z=R&&R.constantOr(1),O=u.getCrossfadeParameters();let Z,re,ne,ae,ee;C?(re=z&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Z=T.LINES):(re=z?"fillPattern":"fill",Z=T.TRIANGLES);const _e=R.constantOr(null);for(const Ee of f){const he=i.getTile(Ee);if(z&&!he.patternsLoaded())continue;const xe=he.getBucket(u);if(!xe)continue;const Ae=xe.programConfigurations.get(u.id),Me=y.useProgram(re,Ae),Ne=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ee);z&&(y.context.activeTexture.set(T.TEXTURE0),he.imageAtlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),Ae.updatePaintBuffers(O)),Zl(Ae,k,_e,he,u);const Ke=Ne?Ee:null,We=y.translatePosMatrix(Ke?Ke.posMatrix:Ee.posMatrix,he,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(C){ae=xe.indexBuffer2,ee=xe.segments2;const Je=[T.drawingBufferWidth,T.drawingBufferHeight];ne=re==="fillOutlinePattern"&&z?Zc(We,y,O,he,Je):Hc(We,Je)}else ae=xe.indexBuffer,ee=xe.segments,ne=z?Uh(We,y,O,he):Wf(We);Me.draw(y.context,Z,g,y.stencilModeForClipping(Ee),_,Hn.disabled,ne,Ne,u.id,xe.layoutVertexBuffer,ae,ee,u.paint,y.transform.zoom,Ae)}}function Xl(y,i,u,f,g,_,C){const T=y.context,k=T.gl,R="fill-extrusion-pattern",z=u.paint.get(R),O=z.constantOr(1),Z=u.getCrossfadeParameters(),re=u.paint.get("fill-extrusion-opacity"),ne=z.constantOr(null);for(const ae of f){const ee=i.getTile(ae),_e=ee.getBucket(u);if(!_e)continue;const Ee=y.style.map.terrain&&y.style.map.terrain.getTerrainData(ae),he=_e.programConfigurations.get(u.id),xe=y.useProgram(O?"fillExtrusionPattern":"fillExtrusion",he);O&&(y.context.activeTexture.set(k.TEXTURE0),ee.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),he.updatePaintBuffers(Z)),Zl(he,R,ne,ee,u);const Ae=y.translatePosMatrix(ae.posMatrix,ee,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Me=u.paint.get("fill-extrusion-vertical-gradient"),Ne=O?Ns(Ae,y,Me,re,ae,Z,ee):jh(Ae,y,Me,re);xe.draw(T,T.gl.TRIANGLES,g,_,C,Hn.backCCW,Ne,Ee,u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,u.paint,y.transform.zoom,he,y.style.map.terrain&&_e.centroidVertexBuffer)}}function Sv(y,i,u,f,g,_,C){const T=y.context,k=T.gl,R=u.fbo;if(!R)return;const z=y.useProgram("hillshade"),O=y.style.map.terrain&&y.style.map.terrain.getTerrainData(i);T.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,R.colorAttachment.get()),z.draw(T,k.TRIANGLES,g,_,C,Hn.disabled,((Z,re,ne,ae)=>{const ee=ne.paint.get("hillshade-shadow-color"),_e=ne.paint.get("hillshade-highlight-color"),Ee=ne.paint.get("hillshade-accent-color");let he=ne.paint.get("hillshade-illumination-direction")*(Math.PI/180);ne.paint.get("hillshade-illumination-anchor")==="viewport"&&(he-=Z.transform.angle);const xe=!Z.options.moving;return{u_matrix:ae?ae.posMatrix:Z.transform.calculatePosMatrix(re.tileID.toUnwrapped(),xe),u_image:0,u_latrange:Gh(0,re.tileID),u_light:[ne.paint.get("hillshade-exaggeration"),he],u_shadow:ee,u_highlight:_e,u_accent:Ee}})(y,u,f,O?i:null),O,f.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments)}function ld(y,i,u,f,g,_){const C=y.context,T=C.gl,k=i.dem;if(k&&k.data){const R=k.dim,z=k.stride,O=k.getPixels();if(C.activeTexture.set(T.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||y.getTileTexture(z),i.demTexture){const re=i.demTexture;re.update(O,{premultiply:!1}),re.bind(T.NEAREST,T.CLAMP_TO_EDGE)}else i.demTexture=new G(C,O,T.RGBA,{premultiply:!1}),i.demTexture.bind(T.NEAREST,T.CLAMP_TO_EDGE);C.activeTexture.set(T.TEXTURE0);let Z=i.fbo;if(!Z){const re=new G(C,{width:R,height:R,data:null},T.RGBA);re.bind(T.LINEAR,T.CLAMP_TO_EDGE),Z=i.fbo=C.createFramebuffer(R,R,!0,!1),Z.colorAttachment.set(re.texture)}C.bindFramebuffer.set(Z.framebuffer),C.viewport.set([0,0,R,R]),y.useProgram("hillshadePrepare").draw(C,T.TRIANGLES,f,g,_,Hn.disabled,((re,ne)=>{const ae=ne.stride,ee=a.Z();return a.aS(ee,0,a.N,-a.N,0,0,1),a.$(ee,ee,[0,-a.N,0]),{u_matrix:ee,u_image:1,u_dimension:[ae,ae],u_zoom:re.overscaledZ,u_unpack:ne.getUnpackVector()}})(i.tileID,k),null,u.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Cv(y,i,u,f,g,_){const C=f.paint.get("raster-fade-duration");if(!_&&C>0){const T=a.h.now(),k=(T-y.timeAdded)/C,R=i?(T-i.timeAdded)/C:-1,z=u.getSource(),O=g.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),Z=!i||Math.abs(i.tileID.overscaledZ-O)>Math.abs(y.tileID.overscaledZ-O),re=Z&&y.refreshedUponExpiration?1:a.ad(Z?k:1-R,0,1);return y.refreshedUponExpiration&&k>=1&&(y.refreshedUponExpiration=!1),i?{opacity:1,mix:1-re}:{opacity:re,mix:0}}return{opacity:1,mix:0}}const im=new a.aT(1,0,0,1),cu=new a.aT(0,1,0,1),cd=new a.aT(0,0,1,1),om=new a.aT(1,0,1,1),sm=new a.aT(0,1,1,1);function Yl(y,i,u,f){hu(y,0,i+u/2,y.transform.width,u,f)}function uu(y,i,u,f){hu(y,i-u/2,0,u,y.transform.height,f)}function hu(y,i,u,f,g,_){const C=y.context,T=C.gl;T.enable(T.SCISSOR_TEST),T.scissor(i*y.pixelRatio,u*y.pixelRatio,f*y.pixelRatio,g*y.pixelRatio),C.clear({color:_}),T.disable(T.SCISSOR_TEST)}function am(y,i,u){const f=y.context,g=f.gl,_=u.posMatrix,C=y.useProgram("debug"),T=ln.disabled,k=er.disabled,R=y.colorModeForRenderPass(),z="$debug",O=y.style.map.terrain&&y.style.map.terrain.getTerrainData(u);f.activeTexture.set(g.TEXTURE0);const Z=i.getTileByID(u.key).latestRawTileData,re=Math.floor((Z&&Z.byteLength||0)/1024),ne=i.getTile(u).tileSize,ae=512/Math.min(ne,512)*(u.overscaledZ/y.transform.zoom)*.5;let ee=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(ee+=` => ${u.overscaledZ}`),function(_e,Ee){_e.initDebugOverlayCanvas();const he=_e.debugOverlayCanvas,xe=_e.context.gl,Ae=_e.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,he.width,he.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(Ee,5,5),Ae.strokeText(Ee,5,5),_e.debugOverlayTexture.update(he),_e.debugOverlayTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)}(y,`${ee} ${re}kB`),C.draw(f,g.TRIANGLES,T,k,Qn.alphaBlended,Hn.disabled,Gl(_,a.aT.transparent,ae),null,z,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),C.draw(f,g.LINE_STRIP,T,k,R,Hn.disabled,Gl(_,a.aT.red),O,z,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function sr(y,i,u){const f=y.context,g=f.gl,_=y.colorModeForRenderPass(),C=new ln(g.LEQUAL,ln.ReadWrite,y.depthRangeFor3D),T=y.useProgram("terrain"),k=i.getTerrainMesh();f.bindFramebuffer.set(null),f.viewport.set([0,0,y.width,y.height]);for(const R of u){const z=y.renderToTexture.getTexture(R),O=i.getTerrainData(R.tileID);f.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,z.texture);const Z={u_matrix:y.transform.calculatePosMatrix(R.tileID.toUnwrapped()),u_texture:0,u_ele_delta:i.getMeshFrameDelta(y.transform.zoom)};T.draw(f,g.TRIANGLES,C,er.disabled,_,Hn.backCCW,Z,O,"terrain",k.vertexBuffer,k.indexBuffer,k.segments)}}class _a{constructor(i,u){this.context=new wv(i),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.Z(),renderTime:0},this.setup(),this.numSublayers=Jt.maxUnderzooming+Jt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Wc}resize(i,u,f){if(this.width=Math.floor(i*f),this.height=Math.floor(u*f),this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const i=this.context,u=new a.a_;u.emplaceBack(0,0),u.emplaceBack(a.N,0),u.emplaceBack(0,a.N),u.emplaceBack(a.N,a.N),this.tileExtentBuffer=i.createVertexBuffer(u,Gc.members),this.tileExtentSegments=a.S.simpleSegment(0,0,4,2);const f=new a.a_;f.emplaceBack(0,0),f.emplaceBack(a.N,0),f.emplaceBack(0,a.N),f.emplaceBack(a.N,a.N),this.debugBuffer=i.createVertexBuffer(f,Gc.members),this.debugSegments=a.S.simpleSegment(0,0,4,5);const g=new a.V;g.emplaceBack(0,0,0,0),g.emplaceBack(a.N,0,a.N,0),g.emplaceBack(0,a.N,0,a.N),g.emplaceBack(a.N,a.N,a.N,a.N),this.rasterBoundsBuffer=i.createVertexBuffer(g,Zt.members),this.rasterBoundsSegments=a.S.simpleSegment(0,0,4,2);const _=new a.a_;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(_,Gc.members),this.viewportSegments=a.S.simpleSegment(0,0,4,2);const C=new a.a$;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(C);const T=new a.b0;T.emplaceBack(0,1,2),T.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(T);const k=this.context.gl;this.stencilClearMode=new er({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)}clearStencil(){const i=this.context,u=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=a.Z();a.aS(f,0,this.width,this.height,0,0,1),a.a0(f,f,[u.drawingBufferWidth,u.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,u.TRIANGLES,ln.disabled,this.stencilClearMode,Qn.disabled,Hn.disabled,Gf(f),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,u){if(this.currentStencilSource===i.source||!i.isTileClipped()||!u||!u.length)return;this.currentStencilSource=i.source;const f=this.context,g=f.gl;this.nextStencilID+u.length>256&&this.clearStencil(),f.setColorMode(Qn.disabled),f.setDepthMode(ln.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const C of u){const T=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(C);_.draw(f,g.TRIANGLES,ln.disabled,new er({func:g.ALWAYS,mask:0},T,255,g.KEEP,g.KEEP,g.REPLACE),Qn.disabled,Hn.disabled,Gf(C.posMatrix),k,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,u=this.context.gl;return new er({func:u.NOTEQUAL,mask:255},i,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(i){const u=this.context.gl;return new er({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(i){const u=this.context.gl,f=i.sort((C,T)=>T.overscaledZ-C.overscaledZ),g=f[f.length-1].overscaledZ,_=f[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const C={};for(let T=0;T<_;T++)C[T+g]=new er({func:u.GEQUAL,mask:255},T+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=_,[C,f]}return[{[g]:er.disabled},f]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new Qn([i.CONSTANT_COLOR,i.ONE],new a.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Qn.unblended:Qn.alphaBlended}depthModeForSublayer(i,u,f){if(!this.opaquePassEnabledForLayer())return ln.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new ln(f||this.context.gl.LEQUAL,u,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,u){this.style=i,this.options=u,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(a.h.now()),this.imageManager.beginFrame();const f=this.style._order,g=this.style.sourceCaches,_={},C={},T={};for(const k in g){const R=g[k];R.used&&R.prepare(this.context),_[k]=R.getVisibleCoordinates(),C[k]=_[k].slice().reverse(),T[k]=R.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let k=0;k<f.length;k++)if(this.style._layers[f[k]].is3D()){this.opaquePassCutoff=k;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const k=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||k.length)&&(a.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(R,z){const O=R.context,Z=O.gl,re=Qn.unblended,ne=new ln(Z.LEQUAL,ln.ReadWrite,[0,1]),ae=z.getTerrainMesh(),ee=z.sourceCache.getRenderableTiles(),_e=R.useProgram("terrainDepth");O.bindFramebuffer.set(z.getFramebuffer("depth").framebuffer),O.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),O.clear({color:a.aT.transparent,depth:1});for(const Ee of ee){const he=z.getTerrainData(Ee.tileID),xe={u_matrix:R.transform.calculatePosMatrix(Ee.tileID.toUnwrapped()),u_ele_delta:z.getMeshFrameDelta(R.transform.zoom)};_e.draw(O,Z.TRIANGLES,ne,er.disabled,re,Hn.backCCW,xe,he,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments)}O.bindFramebuffer.set(null),O.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain),function(R,z){const O=R.context,Z=O.gl,re=Qn.unblended,ne=new ln(Z.LEQUAL,ln.ReadWrite,[0,1]),ae=z.getTerrainMesh(),ee=z.getCoordsTexture(),_e=z.sourceCache.getRenderableTiles(),Ee=R.useProgram("terrainCoords");O.bindFramebuffer.set(z.getFramebuffer("coords").framebuffer),O.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),O.clear({color:a.aT.transparent,depth:1}),z.coordsIndex=[];for(const he of _e){const xe=z.getTerrainData(he.tileID);O.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,ee.texture);const Ae={u_matrix:R.transform.calculatePosMatrix(he.tileID.toUnwrapped()),u_terrain_coords_id:(255-z.coordsIndex.length)/255,u_texture:0,u_ele_delta:z.getMeshFrameDelta(R.transform.zoom)};Ee.draw(O,Z.TRIANGLES,ne,er.disabled,re,Hn.backCCW,Ae,xe,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments),z.coordsIndex.push(he.tileID.key)}O.bindFramebuffer.set(null),O.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const k of f){const R=this.style._layers[k];if(!R.hasOffscreenPass()||R.isHidden(this.transform.zoom))continue;const z=C[R.source];(R.type==="custom"||z.length)&&this.renderLayer(this,g[R.source],R,z)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?a.aT.black:a.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const k=this.style._layers[f[this.currentLayer]],R=g[k.source],z=_[k.source];this._renderTileClippingMasks(k,z),this.renderLayer(this,R,k,z)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const k=this.style._layers[f[this.currentLayer]],R=g[k.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(k))continue;const z=(k.type==="symbol"?T:C)[k.source];this._renderTileClippingMasks(k,_[k.source]),this.renderLayer(this,R,k,z)}if(this.options.showTileBoundaries){const k=function(R,z){let O=null;const Z=Object.values(R._layers).flatMap(ee=>ee.source&&!ee.isHidden(z)?[R.sourceCaches[ee.source]]:[]),re=Z.filter(ee=>ee.getSource().type==="vector"),ne=Z.filter(ee=>ee.getSource().type!=="vector"),ae=ee=>{(!O||O.getSource().maxzoom<ee.getSource().maxzoom)&&(O=ee)};return re.forEach(ee=>ae(ee)),O||ne.forEach(ee=>ae(ee)),O}(this.style,this.transform.zoom);k&&function(R,z,O){for(let Z=0;Z<O.length;Z++)am(R,z,O[Z])}(this,k,k.getVisibleCoordinates())}this.options.showPadding&&function(k){const R=k.transform.padding;Yl(k,k.transform.height-(R.top||0),3,im),Yl(k,R.bottom||0,3,cu),uu(k,R.left||0,3,cd),uu(k,k.transform.width-(R.right||0),3,om);const z=k.transform.centerPoint;(function(O,Z,re,ne){hu(O,Z-1,re-10,2,20,ne),hu(O,Z-10,re-1,20,2,ne)})(k,z.x,k.transform.height-z.y,sm)}(this),this.context.setDefault()}renderLayer(i,u,f,g){if(!f.isHidden(this.transform.zoom)&&(f.type==="background"||f.type==="custom"||(g||[]).length))switch(this.id=f.id,f.type){case"symbol":(function(_,C,T,k,R){if(_.renderPass!=="translucent")return;const z=er.disabled,O=_.colorModeForRenderPass();(T._unevaluatedLayout.hasValue("text-variable-anchor")||T._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Z,re,ne,ae,ee,_e,Ee){const he=re.transform,xe=ee==="map",Ae=_e==="map";for(const Me of Z){const Ne=ae.getTile(Me),Ke=Ne.getBucket(ne);if(!Ke||!Ke.text||!Ke.text.segments.get().length)continue;const We=a.ah(Ke.textSizeData,he.zoom),Je=ve(Ne,1,re.transform.zoom),gt=Ze(Me.posMatrix,Ae,xe,re.transform,Je),Qt=ne.layout.get("icon-text-fit")!=="none"&&Ke.hasIconData();if(We){const rt=Math.pow(2,he.zoom-Ne.tileID.overscaledZ);au(Ke,xe,Ae,Ee,he,gt,Me.posMatrix,rt,We,Qt,re.style.map.terrain?(It,vt)=>re.style.map.terrain.getElevation(Me,It,vt):null)}}}(k,_,T,C,T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),R),T.paint.get("icon-opacity").constantOr(1)!==0&&lu(_,C,T,k,!1,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),T.layout.get("icon-rotation-alignment"),T.layout.get("icon-pitch-alignment"),T.layout.get("icon-keep-upright"),z,O),T.paint.get("text-opacity").constantOr(1)!==0&&lu(_,C,T,k,!0,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),T.layout.get("text-rotation-alignment"),T.layout.get("text-pitch-alignment"),T.layout.get("text-keep-upright"),z,O),C.map.showCollisionBoxes&&(rm(_,C,T,k,T.paint.get("text-translate"),T.paint.get("text-translate-anchor"),!0),rm(_,C,T,k,T.paint.get("icon-translate"),T.paint.get("icon-translate-anchor"),!1))})(i,u,f,g,this.style.placement.variableOffsets);break;case"circle":(function(_,C,T,k){if(_.renderPass!=="translucent")return;const R=T.paint.get("circle-opacity"),z=T.paint.get("circle-stroke-width"),O=T.paint.get("circle-stroke-opacity"),Z=!T.layout.get("circle-sort-key").isConstant();if(R.constantOr(1)===0&&(z.constantOr(1)===0||O.constantOr(1)===0))return;const re=_.context,ne=re.gl,ae=_.depthModeForSublayer(0,ln.ReadOnly),ee=er.disabled,_e=_.colorModeForRenderPass(),Ee=[];for(let he=0;he<k.length;he++){const xe=k[he],Ae=C.getTile(xe),Me=Ae.getBucket(T);if(!Me)continue;const Ne=Me.programConfigurations.get(T.id),Ke=_.useProgram("circle",Ne),We=Me.layoutVertexBuffer,Je=Me.indexBuffer,gt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe),Qt={programConfiguration:Ne,program:Ke,layoutVertexBuffer:We,indexBuffer:Je,uniformValues:$s(_,xe,Ae,T),terrainData:gt};if(Z){const rt=Me.segments.get();for(const It of rt)Ee.push({segments:new a.S([It]),sortKey:It.sortKey,state:Qt})}else Ee.push({segments:Me.segments,sortKey:0,state:Qt})}Z&&Ee.sort((he,xe)=>he.sortKey-xe.sortKey);for(const he of Ee){const{programConfiguration:xe,program:Ae,layoutVertexBuffer:Me,indexBuffer:Ne,uniformValues:Ke,terrainData:We}=he.state;Ae.draw(re,ne.TRIANGLES,ae,ee,_e,Hn.disabled,Ke,We,T.id,Me,Ne,he.segments,T.paint,_.transform.zoom,xe)}})(i,u,f,g);break;case"heatmap":(function(_,C,T,k){if(T.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const R=_.context,z=R.gl,O=er.disabled,Z=new Qn([z.ONE,z.ONE],a.aT.transparent,[!0,!0,!0,!0]);(function(re,ne,ae){const ee=re.gl;re.activeTexture.set(ee.TEXTURE1),re.viewport.set([0,0,ne.width/4,ne.height/4]);let _e=ae.heatmapFbo;if(_e)ee.bindTexture(ee.TEXTURE_2D,_e.colorAttachment.get()),re.bindFramebuffer.set(_e.framebuffer);else{const Ee=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,Ee),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),_e=ae.heatmapFbo=re.createFramebuffer(ne.width/4,ne.height/4,!1,!1),function(he,xe,Ae,Me){var Ne,Ke;const We=he.gl,Je=(Ne=he.HALF_FLOAT)!==null&&Ne!==void 0?Ne:We.UNSIGNED_BYTE,gt=(Ke=he.RGBA16F)!==null&&Ke!==void 0?Ke:We.RGBA;We.texImage2D(We.TEXTURE_2D,0,gt,xe.width/4,xe.height/4,0,We.RGBA,Je,null),Me.colorAttachment.set(Ae)}(re,ne,Ee,_e)}})(R,_,T),R.clear({color:a.aT.transparent});for(let re=0;re<k.length;re++){const ne=k[re];if(C.hasRenderableParent(ne))continue;const ae=C.getTile(ne),ee=ae.getBucket(T);if(!ee)continue;const _e=ee.programConfigurations.get(T.id),Ee=_.useProgram("heatmap",_e),{zoom:he}=_.transform;Ee.draw(R,z.TRIANGLES,ln.disabled,O,Z,Hn.disabled,fv(ne.posMatrix,ae,he,T.paint.get("heatmap-intensity")),null,T.id,ee.layoutVertexBuffer,ee.indexBuffer,ee.segments,T.paint,_.transform.zoom,_e)}R.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(R,z){const O=R.context,Z=O.gl,re=z.heatmapFbo;if(!re)return;O.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,re.colorAttachment.get()),O.activeTexture.set(Z.TEXTURE1);let ne=z.colorRampTexture;ne||(ne=z.colorRampTexture=new G(O,z.colorRamp,Z.RGBA)),ne.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),R.useProgram("heatmapTexture").draw(O,Z.TRIANGLES,ln.disabled,er.disabled,R.colorModeForRenderPass(),Hn.disabled,((ae,ee,_e,Ee)=>{const he=a.Z();a.aS(he,0,ae.width,ae.height,0,0,1);const xe=ae.context.gl;return{u_matrix:he,u_world:[xe.drawingBufferWidth,xe.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ee.paint.get("heatmap-opacity")}})(R,z),null,z.id,R.viewportBuffer,R.quadTriangleIndexBuffer,R.viewportSegments,z.paint,R.transform.zoom)}(_,T))})(i,u,f,g);break;case"line":(function(_,C,T,k){if(_.renderPass!=="translucent")return;const R=T.paint.get("line-opacity"),z=T.paint.get("line-width");if(R.constantOr(1)===0||z.constantOr(1)===0)return;const O=_.depthModeForSublayer(0,ln.ReadOnly),Z=_.colorModeForRenderPass(),re=T.paint.get("line-dasharray"),ne=T.paint.get("line-pattern"),ae=ne.constantOr(1),ee=T.paint.get("line-gradient"),_e=T.getCrossfadeParameters(),Ee=ae?"linePattern":re?"lineSDF":ee?"lineGradient":"line",he=_.context,xe=he.gl;let Ae=!0;for(const Me of k){const Ne=C.getTile(Me);if(ae&&!Ne.patternsLoaded())continue;const Ke=Ne.getBucket(T);if(!Ke)continue;const We=Ke.programConfigurations.get(T.id),Je=_.context.program.get(),gt=_.useProgram(Ee,We),Qt=Ae||gt.program!==Je,rt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Me),It=ne.constantOr(null);if(It&&Ne.imageAtlas){const Xt=Ne.imageAtlas,Wt=Xt.patternPositions[It.to.toString()],en=Xt.patternPositions[It.from.toString()];Wt&&en&&We.setConstantPatternPositions(Wt,en)}const vt=rt?Me:null,kn=ae?mv(_,Ne,T,_e,vt):re?Hf(_,Ne,T,re,_e,vt):ee?qf(_,Ne,T,Ke.lineClipsArray.length,vt):qh(_,Ne,T,vt);if(ae)he.activeTexture.set(xe.TEXTURE0),Ne.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),We.updatePaintBuffers(_e);else if(re&&(Qt||_.lineAtlas.dirty))he.activeTexture.set(xe.TEXTURE0),_.lineAtlas.bind(he);else if(ee){const Xt=Ke.gradients[T.id];let Wt=Xt.texture;if(T.gradientVersion!==Xt.version){let en=256;if(T.stepInterpolant){const ur=C.getSource().maxzoom,$n=Me.canonical.z===ur?Math.ceil(1<<_.transform.maxZoom-Me.canonical.z):1;en=a.ad(a.aY(Ke.maxLineLength/a.N*1024*$n),256,he.maxTextureSize)}Xt.gradient=a.aZ({expression:T.gradientExpression(),evaluationKey:"lineProgress",resolution:en,image:Xt.gradient||void 0,clips:Ke.lineClipsArray}),Xt.texture?Xt.texture.update(Xt.gradient):Xt.texture=new G(he,Xt.gradient,xe.RGBA),Xt.version=T.gradientVersion,Wt=Xt.texture}he.activeTexture.set(xe.TEXTURE0),Wt.bind(T.stepInterpolant?xe.NEAREST:xe.LINEAR,xe.CLAMP_TO_EDGE)}gt.draw(he,xe.TRIANGLES,O,_.stencilModeForClipping(Me),Z,Hn.disabled,kn,rt,T.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,T.paint,_.transform.zoom,We,Ke.layoutVertexBuffer2),Ae=!1}})(i,u,f,g);break;case"fill":(function(_,C,T,k){const R=T.paint.get("fill-color"),z=T.paint.get("fill-opacity");if(z.constantOr(1)===0)return;const O=_.colorModeForRenderPass(),Z=T.paint.get("fill-pattern"),re=_.opaquePassEnabledForLayer()&&!Z.constantOr(1)&&R.constantOr(a.aT.transparent).a===1&&z.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===re){const ne=_.depthModeForSublayer(1,_.renderPass==="opaque"?ln.ReadWrite:ln.ReadOnly);Kl(_,C,T,k,ne,O,!1)}if(_.renderPass==="translucent"&&T.paint.get("fill-antialias")){const ne=_.depthModeForSublayer(T.getPaintProperty("fill-outline-color")?2:0,ln.ReadOnly);Kl(_,C,T,k,ne,O,!0)}})(i,u,f,g);break;case"fill-extrusion":(function(_,C,T,k){const R=T.paint.get("fill-extrusion-opacity");if(R!==0&&_.renderPass==="translucent"){const z=new ln(_.context.gl.LEQUAL,ln.ReadWrite,_.depthRangeFor3D);if(R!==1||T.paint.get("fill-extrusion-pattern").constantOr(1))Xl(_,C,T,k,z,er.disabled,Qn.disabled),Xl(_,C,T,k,z,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const O=_.colorModeForRenderPass();Xl(_,C,T,k,z,er.disabled,O)}}})(i,u,f,g);break;case"hillshade":(function(_,C,T,k){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const R=_.context,z=_.depthModeForSublayer(0,ln.ReadOnly),O=_.colorModeForRenderPass(),[Z,re]=_.renderPass==="translucent"?_.stencilConfigForOverlap(k):[{},k];for(const ne of re){const ae=C.getTile(ne);ae.needsHillshadePrepare!==void 0&&ae.needsHillshadePrepare&&_.renderPass==="offscreen"?ld(_,ae,T,z,er.disabled,O):_.renderPass==="translucent"&&Sv(_,ne,ae,T,z,Z[ne.overscaledZ],O)}R.viewport.set([0,0,_.width,_.height])})(i,u,f,g);break;case"raster":(function(_,C,T,k){if(_.renderPass!=="translucent"||T.paint.get("raster-opacity")===0||!k.length)return;const R=_.context,z=R.gl,O=C.getSource(),Z=_.useProgram("raster"),re=_.colorModeForRenderPass(),[ne,ae]=O instanceof xt?[{},k]:_.stencilConfigForOverlap(k),ee=ae[ae.length-1].overscaledZ,_e=!_.options.moving;for(const Ee of ae){const he=_.depthModeForSublayer(Ee.overscaledZ-ee,T.paint.get("raster-opacity")===1?ln.ReadWrite:ln.ReadOnly,z.LESS),xe=C.getTile(Ee);xe.registerFadeDuration(T.paint.get("raster-fade-duration"));const Ae=C.findLoadedParent(Ee,0),Me=Cv(xe,Ae,C,T,_.transform,_.style.map.terrain);let Ne,Ke;const We=T.paint.get("raster-resampling")==="nearest"?z.NEAREST:z.LINEAR;R.activeTexture.set(z.TEXTURE0),xe.texture.bind(We,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),R.activeTexture.set(z.TEXTURE1),Ae?(Ae.texture.bind(We,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST),Ne=Math.pow(2,Ae.tileID.overscaledZ-xe.tileID.overscaledZ),Ke=[xe.tileID.canonical.x*Ne%1,xe.tileID.canonical.y*Ne%1]):xe.texture.bind(We,z.CLAMP_TO_EDGE,z.LINEAR_MIPMAP_NEAREST);const Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ee),gt=Je?Ee:null,Qt=gt?gt.posMatrix:_.transform.calculatePosMatrix(Ee.toUnwrapped(),_e),rt=Kf(Qt,Ke||[0,0],Ne||1,Me,T);O instanceof xt?Z.draw(R,z.TRIANGLES,he,er.disabled,re,Hn.disabled,rt,Je,T.id,O.boundsBuffer,_.quadTriangleIndexBuffer,O.boundsSegments):Z.draw(R,z.TRIANGLES,he,ne[Ee.overscaledZ],re,Hn.disabled,rt,Je,T.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(i,u,f,g);break;case"background":(function(_,C,T,k){const R=T.paint.get("background-color"),z=T.paint.get("background-opacity");if(z===0)return;const O=_.context,Z=O.gl,re=_.transform,ne=re.tileSize,ae=T.paint.get("background-pattern");if(_.isPatternMissing(ae))return;const ee=!ae&&R.a===1&&z===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==ee)return;const _e=er.disabled,Ee=_.depthModeForSublayer(0,ee==="opaque"?ln.ReadWrite:ln.ReadOnly),he=_.colorModeForRenderPass(),xe=_.useProgram(ae?"backgroundPattern":"background"),Ae=k||re.coveringTiles({tileSize:ne,terrain:_.style.map.terrain});ae&&(O.activeTexture.set(Z.TEXTURE0),_.imageManager.bind(_.context));const Me=T.getCrossfadeParameters();for(const Ne of Ae){const Ke=k?Ne.posMatrix:_.transform.calculatePosMatrix(Ne.toUnwrapped()),We=ae?co(Ke,z,_,ae,{tileID:Ne,tileSize:ne},Me):Xc(Ke,z,R),Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ne);xe.draw(O,Z.TRIANGLES,Ee,_e,he,Hn.disabled,We,Je,T.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(i,0,f,g);break;case"custom":(function(_,C,T){const k=_.context,R=T.implementation;if(_.renderPass==="offscreen"){const z=R.prerender;z&&(_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),z.call(R,k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),k.setStencilMode(er.disabled);const z=R.renderingMode==="3d"?new ln(_.context.gl.LEQUAL,ln.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,ln.ReadOnly);k.setDepthMode(z),R.render(k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState(),k.bindFramebuffer.set(null)}})(i,0,f)}}translatePosMatrix(i,u,f,g,_){if(!f[0]&&!f[1])return i;const C=_?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(C){const R=Math.sin(C),z=Math.cos(C);f=[f[0]*z-f[1]*R,f[0]*R+f[1]*z]}const T=[_?f[0]:ve(u,f[0],this.transform.zoom),_?f[1]:ve(u,f[1],this.transform.zoom),0],k=new Float32Array(16);return a.$(k,i,T),k}saveTileTexture(i){const u=this._tileTextures[i.size[0]];u?u.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const u=this._tileTextures[i];return u&&u.length>0?u.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const u=this.imageManager.getPattern(i.from.toString()),f=this.imageManager.getPattern(i.to.toString());return!u||!f}useProgram(i,u){this.cache=this.cache||{};const f=i+(u?u.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[f]||(this.cache[f]=new qc(this.context,Jn[i],u,Yc[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new G(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:u}=this.context.gl;return this.width!==i||this.height!==u}}class Ei{constructor(i,u){this.points=i,this.planes=u}static fromInvProjectionMatrix(i,u,f){const g=Math.pow(2,f),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(T=>{const k=1/(T=a.ag([],T,i))[3]/u*g;return a.b3(T,T,[k,k,1/T[3],k])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(T=>{const k=function(Z,re){var ne=re[0],ae=re[1],ee=re[2],_e=ne*ne+ae*ae+ee*ee;return _e>0&&(_e=1/Math.sqrt(_e)),Z[0]=re[0]*_e,Z[1]=re[1]*_e,Z[2]=re[2]*_e,Z}([],function(Z,re,ne){var ae=re[0],ee=re[1],_e=re[2],Ee=ne[0],he=ne[1],xe=ne[2];return Z[0]=ee*xe-_e*he,Z[1]=_e*Ee-ae*xe,Z[2]=ae*he-ee*Ee,Z}([],de([],_[T[0]],_[T[1]]),de([],_[T[2]],_[T[1]]))),R=-((z=k)[0]*(O=_[T[1]])[0]+z[1]*O[1]+z[2]*O[2]);var z,O;return k.concat(R)});return new Ei(_,C)}}class rl{constructor(i,u){this.min=i,this.max=u,this.center=function(f,g,_){return f[0]=.5*g[0],f[1]=.5*g[1],f[2]=.5*g[2],f}([],function(f,g,_){return f[0]=g[0]+_[0],f[1]=g[1]+_[1],f[2]=g[2]+_[2],f}([],this.min,this.max))}quadrant(i){const u=[i%2==0,i<2],f=J(this.min),g=J(this.max);for(let _=0;_<u.length;_++)f[_]=u[_]?this.min[_]:this.center[_],g[_]=u[_]?this.center[_]:this.max[_];return g[2]=this.max[2],new rl(f,g)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const u=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let f=!0;for(let g=0;g<i.planes.length;g++){const _=i.planes[g];let C=0;for(let T=0;T<u.length;T++)a.b4(_,u[T])>=0&&C++;if(C===0)return 0;C!==u.length&&(f=!1)}if(f)return 2;for(let g=0;g<3;g++){let _=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let T=0;T<i.points.length;T++){const k=i.points[T][g]-this.min[g];_=Math.min(_,k),C=Math.max(C,k)}if(C<0||_>this.max[g]-this.min[g])return 0}return 1}}class Jl{constructor(i=0,u=0,f=0,g=0){if(isNaN(i)||i<0||isNaN(u)||u<0||isNaN(f)||f<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=u,this.left=f,this.right=g}interpolate(i,u,f){return u.top!=null&&i.top!=null&&(this.top=a.B.number(i.top,u.top,f)),u.bottom!=null&&i.bottom!=null&&(this.bottom=a.B.number(i.bottom,u.bottom,f)),u.left!=null&&i.left!=null&&(this.left=a.B.number(i.left,u.left,f)),u.right!=null&&i.right!=null&&(this.right=a.B.number(i.right,u.right,f)),this}getCenter(i,u){const f=a.ad((this.left+i-this.right)/2,0,i),g=a.ad((this.top+u-this.bottom)/2,0,u);return new a.P(f,g)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Jl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class du{constructor(i,u,f,g,_){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0||!!_,this._minZoom=i||0,this._maxZoom=u||22,this._minPitch=f??0,this._maxPitch=g??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Jl,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const i=new du(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this._minEleveationForCurrentTile=i._minEleveationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const u=-a.b5(i,-180,180)*Math.PI/180;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=function(){var f=new a.A(4);return a.A!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f}(),function(f,g,_){var C=g[0],T=g[1],k=g[2],R=g[3],z=Math.sin(_),O=Math.cos(_);f[0]=C*O+k*z,f[1]=T*O+R*z,f[2]=C*-z+k*O,f[3]=T*-z+R*O}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const u=a.ad(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const u=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this.tileZoom=Math.max(0,Math.floor(u)),this.scale=this.zoomScale(u),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,u,f){this._unmodified=!1,this._edgeInsets.interpolate(i,u,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const u=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(i){const u=[new a.b6(0,i)];if(this._renderWorldCopies){const f=this.pointCoordinate(new a.P(0,0)),g=this.pointCoordinate(new a.P(this.width,0)),_=this.pointCoordinate(new a.P(this.width,this.height)),C=this.pointCoordinate(new a.P(0,this.height)),T=Math.floor(Math.min(f.x,g.x,_.x,C.x)),k=Math.floor(Math.max(f.x,g.x,_.x,C.x)),R=1;for(let z=T-R;z<=k+R;z++)z!==0&&u.push(new a.b6(z,i))}return u}coveringTiles(i){var u,f;let g=this.coveringZoomLevel(i);const _=g;if(i.minzoom!==void 0&&g<i.minzoom)return[];i.maxzoom!==void 0&&g>i.maxzoom&&(g=i.maxzoom);const C=this.pointCoordinate(this.getCameraPoint()),T=a.U.fromLngLat(this.center),k=Math.pow(2,g),R=[k*C.x,k*C.y,0],z=[k*T.x,k*T.y,0],O=Ei.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g);let Z=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Z=g);const re=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ne=he=>({aabb:new rl([he*k,0,0],[(he+1)*k,k,0]),zoom:0,x:0,y:0,wrap:he,fullyVisible:!1}),ae=[],ee=[],_e=g,Ee=i.reparseOverscaled?_:g;if(this._renderWorldCopies)for(let he=1;he<=3;he++)ae.push(ne(-he)),ae.push(ne(he));for(ae.push(ne(0));ae.length>0;){const he=ae.pop(),xe=he.x,Ae=he.y;let Me=he.fullyVisible;if(!Me){const gt=he.aabb.intersects(O);if(gt===0)continue;Me=gt===2}const Ne=i.terrain?R:z,Ke=he.aabb.distanceX(Ne),We=he.aabb.distanceY(Ne),Je=Math.max(Math.abs(Ke),Math.abs(We));if(he.zoom===_e||Je>re+(1<<_e-he.zoom)-2&&he.zoom>=Z){const gt=_e-he.zoom,Qt=R[0]-.5-(xe<<gt),rt=R[1]-.5-(Ae<<gt);ee.push({tileID:new a.O(he.zoom===_e?Ee:he.zoom,he.wrap,he.zoom,xe,Ae),distanceSq:ye([z[0]-.5-xe,z[1]-.5-Ae]),tileDistanceToCamera:Math.sqrt(Qt*Qt+rt*rt)})}else for(let gt=0;gt<4;gt++){const Qt=(xe<<1)+gt%2,rt=(Ae<<1)+(gt>>1),It=he.zoom+1;let vt=he.aabb.quadrant(gt);if(i.terrain){const kn=new a.O(It,he.wrap,It,Qt,rt),Xt=i.terrain.getMinMaxElevation(kn),Wt=(u=Xt.minElevation)!==null&&u!==void 0?u:this.elevation,en=(f=Xt.maxElevation)!==null&&f!==void 0?f:this.elevation;vt=new rl([vt.min[0],vt.min[1],Wt],[vt.max[0],vt.max[1],en])}ae.push({aabb:vt,zoom:It,x:Qt,y:rt,wrap:he.wrap,fullyVisible:Me})}}return ee.sort((he,xe)=>he.distanceSq-xe.distanceSq).map(he=>he.tileID)}resize(i,u){this.width=i,this.height=u,this.pixelsToGLUnits=[2/i,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const u=a.ad(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.G(i.lng)*this.worldSize,a.H(u)*this.worldSize)}unproject(i){return new a.U(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const u=this.pointLocation(this.centerPoint,i),f=i.getElevationForLngLatZoom(u,this.tileZoom);if(!(this.elevation-f))return;const g=this.getCameraPosition(),_=a.U.fromLngLat(g.lngLat,g.altitude),C=a.U.fromLngLat(u,f),T=_.x-C.x,k=_.y-C.y,R=_.z-C.z,z=Math.sqrt(T*T+k*k+R*R),O=this.scaleZoom(this.cameraToCenterDistance/z/this.tileSize);this._elevation=f,this._center=u,this.zoom=O}setLocationAtPoint(i,u){const f=this.pointCoordinate(u),g=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(i),C=new a.U(_.x-(f.x-g.x),_.y-(f.y-g.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,u){return u?this.coordinatePoint(this.locationCoordinate(i),u.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,u){return this.coordinateLocation(this.pointCoordinate(i,u))}locationCoordinate(i){return a.U.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,u){if(u){const Z=u.pointCoordinate(i);if(Z!=null)return Z}const f=[i.x,i.y,0,1],g=[i.x,i.y,1,1];a.ag(f,f,this.pixelMatrixInverse),a.ag(g,g,this.pixelMatrixInverse);const _=f[3],C=g[3],T=f[1]/_,k=g[1]/C,R=f[2]/_,z=g[2]/C,O=R===z?0:(0-R)/(z-R);return new a.U(a.B.number(f[0]/_,g[0]/C,O)/this.worldSize,a.B.number(T,k,O)/this.worldSize)}coordinatePoint(i,u=0,f=this.pixelMatrix){const g=[i.x*this.worldSize,i.y*this.worldSize,u,1];return a.ag(g,g,f),new a.P(g[0]/g[3],g[1]/g[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new ct().extend(this.pointLocation(new a.P(0,i))).extend(this.pointLocation(new a.P(this.width,i))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ct([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,u=!1){const f=i.key,g=u?this._alignedPosMatrixCache:this._posMatrixCache;if(g[f])return g[f];const _=i.canonical,C=this.worldSize/this.zoomScale(_.z),T=_.x+Math.pow(2,_.z)*i.wrap,k=a.ao(new Float64Array(16));return a.$(k,k,[T*C,_.y*C,0]),a.a0(k,k,[C/a.N,C/a.N,1]),a.a1(k,u?this.alignedProjMatrix:this.projMatrix,k),g[f]=new Float32Array(k),g[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,u,f,g,_=-90,C=90,T=-180,k=180;const R=this.size,z=this._unmodified;if(this.latRange){const re=this.latRange;_=a.H(re[1])*this.worldSize,C=a.H(re[0])*this.worldSize,i=C-_<R.y?R.y/(C-_):0}if(this.lngRange){const re=this.lngRange;T=a.b5(a.G(re[0])*this.worldSize,0,this.worldSize),k=a.b5(a.G(re[1])*this.worldSize,0,this.worldSize),k<T&&(k+=this.worldSize),u=k-T<R.x?R.x/(k-T):0}const O=this.point,Z=Math.max(u||0,i||0);if(Z)return this.center=this.unproject(new a.P(u?(k+T)/2:O.x,i?(C+_)/2:O.y)),this.zoom+=this.scaleZoom(Z),this._unmodified=z,void(this._constraining=!1);if(this.latRange){const re=O.y,ne=R.y/2;re-ne<_&&(g=_+ne),re+ne>C&&(g=C-ne)}if(this.lngRange){const re=(T+k)/2,ne=a.b5(O.x,re-this.worldSize/2,re+this.worldSize/2),ae=R.x/2;ne-ae<T&&(f=T+ae),ne+ae>k&&(f=k-ae)}f===void 0&&g===void 0||(this.center=this.unproject(new a.P(f!==void 0?f:O.x,g!==void 0?g:O.y)).wrap()),this._unmodified=z,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,u=this.point.x,f=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b7(1,this.center.lat)*this.worldSize;let g=a.ao(new Float64Array(16));a.a0(g,g,[this.width/2,-this.height/2,1]),a.$(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=a.ao(new Float64Array(16)),a.a0(g,g,[1,-1,1]),a.$(g,g,[-1,-1,0]),a.a0(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),C=Math.min(this.elevation,this._minEleveationForCurrentTile),T=_-C*this._pixelPerMeter/Math.cos(this._pitch),k=C<0?T:_,R=Math.PI/2+this._pitch,z=this._fov*(.5+i.y/this.height),O=Math.sin(z)*k/Math.sin(a.ad(Math.PI-R-z,.01,Math.PI-.01)),Z=this.getHorizon(),re=2*Math.atan(Z/this.cameraToCenterDistance)*(.5+i.y/(2*Z)),ne=Math.sin(re)*k/Math.sin(a.ad(Math.PI-R-re,.01,Math.PI-.01)),ae=Math.min(O,ne),ee=1.01*(Math.cos(Math.PI/2-this._pitch)*ae+k),_e=this.height/50;g=new Float64Array(16),a.b8(g,this._fov,this.width/this.height,_e,ee),g[8]=2*-i.x/this.width,g[9]=2*i.y/this.height,a.a0(g,g,[1,-1,1]),a.$(g,g,[0,0,-this.cameraToCenterDistance]),a.b9(g,g,this._pitch),a.ae(g,g,this.angle),a.$(g,g,[-u,-f,0]),this.mercatorMatrix=a.a0([],g,[this.worldSize,this.worldSize,this.worldSize]),a.a0(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.a1(new Float64Array(16),this.labelPlaneMatrix,g),a.$(g,g,[0,0,-this.elevation]),this.projMatrix=g,this.invProjMatrix=a.as([],g),this.pixelMatrix3D=a.a1(new Float64Array(16),this.labelPlaneMatrix,g);const Ee=this.width%2/2,he=this.height%2/2,xe=Math.cos(this.angle),Ae=Math.sin(this.angle),Me=u-Math.round(u)+xe*Ee+Ae*he,Ne=f-Math.round(f)+xe*he+Ae*Ee,Ke=new Float64Array(g);if(a.$(Ke,Ke,[Me>.5?Me-1:Me,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=Ke,g=a.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new a.P(0,0)),u=[i.x*this.worldSize,i.y*this.worldSize,0,1];return a.ag(u,u,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,i))}getCameraQueryGeometry(i){const u=this.getCameraPoint();if(i.length===1)return[i[0],u];{let f=u.x,g=u.y,_=u.x,C=u.y;for(const T of i)f=Math.min(f,T.x),g=Math.min(g,T.y),_=Math.max(_,T.x),C=Math.max(C,T.y);return[new a.P(f,g),new a.P(_,g),new a.P(_,C),new a.P(f,C),new a.P(f,g)]}}}function xa(y,i){let u,f=!1,g=null,_=null;const C=()=>{g=null,f&&(y.apply(_,u),g=setTimeout(C,i),f=!1)};return(...T)=>(f=!0,_=this,u=T,g||C(),g)}class Ql{constructor(i){this._getCurrentHash=()=>{const u=window.location.hash.replace("#","");if(this._hashName){let f;return u.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(f=g)}),(f&&f[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{const u=this._getCurrentHash();if(u.length>=3&&!u.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:f,pitch:+(u[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}},this._updateHash=xa(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const u=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,g=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,g),C=Math.round(u.lng*_)/_,T=Math.round(u.lat*_)/_,k=this._map.getBearing(),R=this._map.getPitch();let z="";if(z+=i?`/${C}/${T}/${f}`:`${f}/${T}/${C}`,(k||R)&&(z+="/"+Math.round(10*k)/10),R&&(z+=`/${Math.round(R)}`),this._hashName){const O=this._hashName;let Z=!1;const re=window.location.hash.slice(1).split("&").map(ne=>{const ae=ne.split("=")[0];return ae===O?(Z=!0,`${ae}=${z}`):ne}).filter(ne=>ne);return Z||re.push(`${O}=${z}`),`#${re.join("&")}`}return`#${z}`}}const il={linearity:.3,easing:a.ba(0,0,.3,1)},lm=a.e({deceleration:2500,maxSpeed:1400},il),cm=a.e({deceleration:20,maxSpeed:1400},il),um=a.e({deceleration:1e3,maxSpeed:360},il),hm=a.e({deceleration:1e3,maxSpeed:90},il);class dm{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.h.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,u=a.h.now();for(;i.length>0&&u-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)u.zoom+=_.zoomDelta||0,u.bearing+=_.bearingDelta||0,u.pitch+=_.pitchDelta||0,_.panDelta&&u.pan._add(_.panDelta),_.around&&(u.around=_.around),_.pinchAround&&(u.pinchAround=_.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(u.pan.mag()){const _=ec(u.pan.mag(),f,a.e({},lm,i||{}));g.offset=u.pan.mult(_.amount/u.pan.mag()),g.center=this._map.transform.center,Uo(g,_)}if(u.zoom){const _=ec(u.zoom,f,cm);g.zoom=this._map.transform.zoom+_.amount,Uo(g,_)}if(u.bearing){const _=ec(u.bearing,f,um);g.bearing=this._map.transform.bearing+a.ad(_.amount,-179,179),Uo(g,_)}if(u.pitch){const _=ec(u.pitch,f,hm);g.pitch=this._map.transform.pitch+_.amount,Uo(g,_)}if(g.zoom||g.bearing){const _=u.pinchAround===void 0?u.around:u.pinchAround;g.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),a.e(g,{noMoveStart:!0})}}function Uo(y,i){(!y.duration||y.duration<i.duration)&&(y.duration=i.duration,y.easing=i.easing)}function ec(y,i,u){const{maxSpeed:f,linearity:g,deceleration:_}=u,C=a.ad(y*g/(i/1e3),-f,f),T=Math.abs(C)/(_*g);return{easing:u.easing,duration:1e3*T,amount:C*(T/2)}}class Hi extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,u,f,g={}){const _=w.mousePos(u.getCanvasContainer(),f),C=u.unproject(_);super(i,a.e({point:_,lngLat:C,originalEvent:f},g)),this._defaultPrevented=!1,this.target=u}}class tc extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,u,f){const g=i==="touchend"?f.changedTouches:f.touches,_=w.touchPos(u.getCanvasContainer(),g),C=_.map(k=>u.unproject(k)),T=_.reduce((k,R,z,O)=>k.add(R.div(O.length)),new a.P(0,0));super(i,{points:_,point:T,lngLats:C,lngLat:u.unproject(T),originalEvent:f}),this._defaultPrevented=!1}}class pm extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,u,f){super(i,{originalEvent:f}),this._defaultPrevented=!1}}class fm{constructor(i,u){this._map=i,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new pm(i.type,this._map,i))}mousedown(i,u){return this._mousedownPos=u,this._firePreventable(new Hi(i.type,this._map,i))}mouseup(i){this._map.fire(new Hi(i.type,this._map,i))}click(i,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new Hi(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Hi(i.type,this._map,i))}mouseover(i){this._map.fire(new Hi(i.type,this._map,i))}mouseout(i){this._map.fire(new Hi(i.type,this._map,i))}touchstart(i){return this._firePreventable(new tc(i.type,this._map,i))}touchmove(i){this._map.fire(new tc(i.type,this._map,i))}touchend(i){this._map.fire(new tc(i.type,this._map,i))}touchcancel(i){this._map.fire(new tc(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mm{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Hi(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Hi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Hi(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ys{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(a.P.convert(i),this._map.terrain)}}class gm{constructor(i,u){this._map=i,this._tr=new ys(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,u){this.isEnabled()&&i.shiftKey&&i.button===0&&(w.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(i,u){if(!this._active)return;const f=u;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=f,this._box||(this._box=w.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const _=Math.min(g.x,f.x),C=Math.max(g.x,f.x),T=Math.min(g.y,f.y),k=Math.max(g.y,f.y);w.setTransform(this._box,`translate(${_}px,${T}px)`),this._box.style.width=C-_+"px",this._box.style.height=k-T+"px"}mouseupWindow(i,u){if(!this._active||i.button!==0)return;const f=this._startPos,g=u;if(this.reset(),w.suppressClick(),f.x!==g.x||f.y!==g.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:i})),{cameraAnimation:_=>_.fitScreenCoordinates(f,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,u){return this._map.fire(new a.k(i,{originalEvent:u}))}}function uo(y,i){if(y.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${i.length}`);const u={};for(let f=0;f<y.length;f++)u[y[f].identifier]=i[f];return u}class vs{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,u,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),f.length===this.numTouches&&(this.centroid=function(g){const _=new a.P(0,0);for(const C of g)_._add(C);return _.div(g.length)}(u),this.touches=uo(f,u)))}touchmove(i,u,f){if(this.aborted||!this.centroid)return;const g=uo(f,u);for(const _ in this.touches){const C=g[_];(!C||C.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(i,u,f){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class pu{constructor(i){this.singleTap=new vs(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,u,f){this.singleTap.touchstart(i,u,f)}touchmove(i,u,f){this.singleTap.touchmove(i,u,f)}touchend(i,u,f){const g=this.singleTap.touchend(i,u,f);if(g){const _=i.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(g)<30;if(_&&C||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class _s{constructor(i){this._tr=new ys(i),this._zoomIn=new pu({numTouches:1,numTaps:2}),this._zoomOut=new pu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,u,f){this._zoomIn.touchstart(i,u,f),this._zoomOut.touchstart(i,u,f)}touchmove(i,u,f){this._zoomIn.touchmove(i,u,f),this._zoomOut.touchmove(i,u,f)}touchend(i,u,f){const g=this._zoomIn.touchend(i,u,f),_=this._zoomOut.touchend(i,u,f),C=this._tr;return g?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(g)},{originalEvent:i})}):_?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(_)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xs{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const u=this._moveFunction(...i);if(u.bearingDelta||u.pitchDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(i,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=u.length?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,u){if(!this.isEnabled())return;const f=this._lastPoint;if(!f)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const g=u.length?u[0]:u;return!this._moved&&g.dist(f)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(f,g))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&w.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Tv={0:1,2:2};class ud{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const u=w.mouseButton(i);this._eventButton=u}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(u,f){const g=Tv[f];return u.buttons===void 0||(u.buttons&g)!==g}(i,this._eventButton)}isValidEndEvent(i){return w.mouseButton(i)===this._eventButton}}class ym{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const fu=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=function(i){i.preventDefault()}},ol=({enable:y,clickTolerance:i,bearingDegreesPerPixelMoved:u=.8})=>{const f=new ud({checkCorrectEvent:g=>w.mouseButton(g)===0&&g.ctrlKey||w.mouseButton(g)===2});return new xs({clickTolerance:i,move:(g,_)=>({bearingDelta:(_.x-g.x)*u}),moveStateManager:f,enable:y,assignEvents:fu})},bs=({enable:y,clickTolerance:i,pitchDegreesPerPixelMoved:u=-.5})=>{const f=new ud({checkCorrectEvent:g=>w.mouseButton(g)===0&&g.ctrlKey||w.mouseButton(g)===2});return new xs({clickTolerance:i,move:(g,_)=>({pitchDelta:(_.y-g.y)*u}),moveStateManager:f,enable:y,assignEvents:fu})};class ht{constructor(i,u){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,u,f){return this._calculateTransform(i,u,f)}touchmove(i,u,f){if(this._map._cooperativeGestures&&(this._minTouches===2&&f.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,f.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(f.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,u,f)}touchend(i,u,f){this._calculateTransform(i,u,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,u,f){f.length>0&&(this._active=!0);const g=uo(f,u),_=new a.P(0,0),C=new a.P(0,0);let T=0;for(const R in g){const z=g[R],O=this._touches[R];O&&(_._add(z),C._add(z.sub(O)),T++,g[R]=z)}if(this._touches=g,T<this._minTouches||!C.mag())return;const k=C.div(T);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(T),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,u,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([u[0],u[1]]))}touchmove(i,u,f){if(!this._firstTwoTouches)return;i.preventDefault();const[g,_]=this._firstTwoTouches,C=Us(f,u,g),T=Us(f,u,_);if(!C||!T)return;const k=this._aroundCenter?null:C.add(T).div(2);return this._move([C,T],k,i)}touchend(i,u,f){if(!this._firstTwoTouches)return;const[g,_]=this._firstTwoTouches,C=Us(f,u,g),T=Us(f,u,_);C&&T||(this._active&&w.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Us(y,i,u){for(let f=0;f<y.length;f++)if(y[f].identifier===u)return i[f]}function sl(y,i){return Math.log(y/i)/Math.LN2}class vm extends mu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,u){const f=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(sl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:sl(this._distance,f),pinchAround:u}}}function at(y,i){return 180*y.angleWith(i)/Math.PI}class hd extends mu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,u){const f=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:at(this._vector,f),pinchAround:u}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const u=25/(Math.PI*this._minDiameter)*360,f=at(i,this._startVector);return Math.abs(f)<u}}function dd(y){return Math.abs(y.y)>Math.abs(y.x)}class Ev extends mu{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,u,f){super.touchstart(i,u,f),this._currentTouchCount=f.length}_start(i){this._lastPoints=i,dd(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,u,f){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const g=i[0].sub(this._lastPoints[0]),_=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,_,f.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(g.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(i,u,f){if(this._valid!==void 0)return this._valid;const g=i.mag()>=2,_=u.mag()>=2;if(!g&&!_)return;if(!g||!_)return this._firstMove===void 0&&(this._firstMove=f),f-this._firstMove<100&&void 0;const C=i.y>0==u.y>0;return dd(i)&&dd(u)&&C}}const pd={panStep:100,bearingStep:15,pitchStep:10};class _m{constructor(i){this._tr=new ys(i);const u=pd;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let u=0,f=0,g=0,_=0,C=0;switch(i.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:i.shiftKey?f=-1:(i.preventDefault(),_=-1);break;case 39:i.shiftKey?f=1:(i.preventDefault(),_=1);break;case 38:i.shiftKey?g=1:(i.preventDefault(),C=-1);break;case 40:i.shiftKey?g=-1:(i.preventDefault(),C=1);break;default:return}return this._rotationDisabled&&(f=0,g=0),{cameraAnimation:T=>{const k=this._tr;T.easeTo({duration:300,easeId:"keyboardHandler",easing:xm,zoom:u?Math.round(k.zoom)+u*(i.shiftKey?2:1):k.zoom,bearing:k.bearing+f*this._bearingStep,pitch:k.pitch+g*this._pitchStep,offset:[-_*this._panStep,-C*this._panStep],center:k.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function xm(y){return y*(2-y)}const bm=4.000244140625;class Pv{constructor(i,u){this._onTimeout=f=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)},this._map=i,this._tr=new ys(i),this._el=i.getCanvasContainer(),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!i[this._map._metaKey])return;i.preventDefault()}let u=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const f=a.h.now(),g=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,u!==0&&u%bm==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(g*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),i.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=i,this._delta-=u,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=w.mousePos(this._el,i),f=this._tr;this._around=a.L.convert(this._aroundCenter?f.center:f.unproject(u)),this._aroundPoint=f.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(this._delta!==0){const T=this._type==="wheel"&&Math.abs(this._delta)>bm?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*T)));this._delta<0&&k!==0&&(k=1/k);const R=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(R*k))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,f=this._startZoom,g=this._easing;let _,C=!1;if(this._type==="wheel"&&f&&g){const T=Math.min((a.h.now()-this._lastWheelEventTime)/200,1),k=g(T);_=a.B.number(f,u,k),T<1?this._frameId||(this._frameId=!0):C=!0}else _=u,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:_-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let u=a.bb;if(this._prevEase){const f=this._prevEase,g=(a.h.now()-f.start)/f.duration,_=f.easing(g+.01)-f.easing(g),C=.27/Math.sqrt(_*_+1e-4)*.01,T=Math.sqrt(.0729-C*C);u=a.ba(C,T,.25,1)}return this._prevEase={start:a.h.now(),duration:i,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class fd{constructor(i,u){this._clickZoom=i,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class md{constructor(i){this._tr=new ys(i),this.reset()}reset(){this._active=!1}dblclick(i,u){return i.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gd{constructor(){this._tap=new pu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,u,f){if(!this._swipePoint)if(this._tapTime){const g=u[0],_=i.timeStamp-this._tapTime<500,C=this._tapPoint.dist(g)<30;_&&C?f.length>0&&(this._swipePoint=g,this._swipeTouch=f[0].identifier):this.reset()}else this._tap.touchstart(i,u,f)}touchmove(i,u,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const g=u[0],_=g.y-this._swipePoint.y;return this._swipePoint=g,i.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(i,u,f)}touchend(i,u,f){if(this._tapTime)this._swipePoint&&f.length===0&&this.reset();else{const g=this._tap.touchend(i,u,f);g&&(this._tapTime=i.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yd{constructor(i,u,f){this._el=i,this._mousePan=u,this._touchPan=f}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Pi{constructor(i,u,f){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=u,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ws{constructor(i,u,f,g){this._el=i,this._touchZoom=u,this._touchRotate=f,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const nc=y=>y.zoom||y.drag||y.pitch||y.rotate;class vd extends a.k{}function rc(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta}class _d{constructor(i,u){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,_)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const C=g.type==="renderFrame"?void 0:g,T={needsRenderFrame:!1},k={},R={},z=g.touches,O=z?this._getMapTouches(z):void 0,Z=O?w.touchPos(this._el,O):w.mousePos(this._el,g);for(const{handlerName:ae,handler:ee,allowed:_e}of this._handlers){if(!ee.isEnabled())continue;let Ee;this._blockedByActive(R,_e,ae)?ee.reset():ee[_||g.type]&&(Ee=ee[_||g.type](g,Z,O),this.mergeHandlerResult(T,k,Ee,ae,C),Ee&&Ee.needsRenderFrame&&this._triggerRenderFrame()),(Ee||ee.isActive())&&(R[ae]=ee)}const re={};for(const ae in this._previousActiveHandlers)R[ae]||(re[ae]=C);this._previousActiveHandlers=R,(Object.keys(re).length||rc(T))&&(this._changes.push([T,k,re]),this._triggerRenderFrame()),(Object.keys(R).length||rc(T))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ne}=T;ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ne(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new dm(i),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,_,C]of this._listeners)w.addEventListener(g,_,g===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(const[i,u,f]of this._listeners)w.removeEventListener(i,u,i===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(i){const u=this._map,f=u.getCanvasContainer();this._add("mapEvent",new fm(u,i));const g=u.boxZoom=new gm(u,i);this._add("boxZoom",g),i.interactive&&i.boxZoom&&g.enable();const _=new _s(u),C=new md(u);u.doubleClickZoom=new fd(C,_),this._add("tapZoom",_),this._add("clickZoom",C),i.interactive&&i.doubleClickZoom&&u.doubleClickZoom.enable();const T=new gd;this._add("tapDragZoom",T);const k=u.touchPitch=new Ev(u);this._add("touchPitch",k),i.interactive&&i.touchPitch&&u.touchPitch.enable(i.touchPitch);const R=ol(i),z=bs(i);u.dragRotate=new Pi(i,R,z),this._add("mouseRotate",R,["mousePitch"]),this._add("mousePitch",z,["mouseRotate"]),i.interactive&&i.dragRotate&&u.dragRotate.enable();const O=(({enable:_e,clickTolerance:Ee})=>{const he=new ud({checkCorrectEvent:xe=>w.mouseButton(xe)===0&&!xe.ctrlKey});return new xs({clickTolerance:Ee,move:(xe,Ae)=>({around:Ae,panDelta:Ae.sub(xe)}),activateOnStart:!0,moveStateManager:he,enable:_e,assignEvents:fu})})(i),Z=new ht(i,u);u.dragPan=new yd(f,O,Z),this._add("mousePan",O),this._add("touchPan",Z,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&u.dragPan.enable(i.dragPan);const re=new hd,ne=new vm;u.touchZoomRotate=new Ws(f,ne,re,T),this._add("touchRotate",re,["touchPan","touchZoom"]),this._add("touchZoom",ne,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&u.touchZoomRotate.enable(i.touchZoomRotate);const ae=u.scrollZoom=new Pv(u,()=>this._triggerRenderFrame());this._add("scrollZoom",ae,["mousePan"]),i.interactive&&i.scrollZoom&&u.scrollZoom.enable(i.scrollZoom);const ee=u.keyboard=new _m(u);this._add("keyboard",ee),i.interactive&&i.keyboard&&u.keyboard.enable(),this._add("blockableMapEvent",new mm(u))}_add(i,u,f){this._handlers.push({handlerName:i,handler:u,allowed:f}),this._handlersById[i]=u}stop(i){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!nc(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,u,f){for(const g in i)if(g!==f&&(!u||u.indexOf(g)<0))return!0;return!1}_getMapTouches(i){const u=[];for(const f of i)this._el.contains(f.target)&&u.push(f);return u}mergeHandlerResult(i,u,f,g,_){if(!f)return;a.e(i,f);const C={handlerName:g,originalEvent:f.originalEvent||_};f.zoomDelta!==void 0&&(u.zoom=C),f.panDelta!==void 0&&(u.drag=C),f.pitchDelta!==void 0&&(u.pitch=C),f.bearingDelta!==void 0&&(u.rotate=C)}_applyChanges(){const i={},u={},f={};for(const[g,_,C]of this._changes)g.panDelta&&(i.panDelta=(i.panDelta||new a.P(0,0))._add(g.panDelta)),g.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(i.around=g.around),g.pinchAround!==void 0&&(i.pinchAround=g.pinchAround),g.noInertia&&(i.noInertia=g.noInertia),a.e(u,_),a.e(f,C);this._updateMapTransform(i,u,f),this._changes=[]}_updateMapTransform(i,u,f){const g=this._map,_=g._getTransformForUpdate(),C=g.terrain;if(!(rc(i)||C&&this._terrainMovement))return this._fireEvents(u,f,!0);let{panDelta:T,zoomDelta:k,bearingDelta:R,pitchDelta:z,around:O,pinchAround:Z}=i;Z!==void 0&&(O=Z),g._stop(!0),O=O||g.transform.centerPoint;const re=_.pointLocation(T?O.sub(T):O);R&&(_.bearing+=R),z&&(_.pitch+=z),k&&(_.zoom+=k),C?this._terrainMovement||!u.drag&&!u.zoom?u.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(T)):_.setLocationAtPoint(re,O):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(re,O),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,_.recalculateZoom(g.terrain)})):_.setLocationAtPoint(re,O),g._applyUpdatedTransform(_),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(u,f,!0)}_fireEvents(i,u,f){const g=nc(this._eventsInProgress),_=nc(i),C={};for(const z in i){const{originalEvent:O}=i[z];this._eventsInProgress[z]||(C[`${z}start`]=O),this._eventsInProgress[z]=i[z]}!g&&_&&this._fireEvent("movestart",_.originalEvent);for(const z in C)this._fireEvent(z,C[z]);_&&this._fireEvent("move",_.originalEvent);for(const z in i){const{originalEvent:O}=i[z];this._fireEvent(z,O)}const T={};let k;for(const z in this._eventsInProgress){const{handlerName:O,originalEvent:Z}=this._eventsInProgress[z];this._handlersById[O].isActive()||(delete this._eventsInProgress[z],k=u[O]||Z,T[`${z}end`]=k)}for(const z in T)this._fireEvent(z,T[z]);const R=nc(this._eventsInProgress);if(f&&(g||_)&&!R){this._updatingCamera=!0;const z=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),O=Z=>Z!==0&&-this._bearingSnap<Z&&Z<this._bearingSnap;!z||!z.essential&&a.h.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:k})),O(this._map.getBearing())&&this._map.resetNorth()):(O(z.bearing||this._map.getBearing())&&(z.bearing=0),z.freezeElevation=!0,this._map.easeTo(z,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(i,u){this._map.fire(new a.k(i,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new vd("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class wm extends a.E{constructor(i,u){super(),this._renderFrameCallback=()=>{const f=Math.min((a.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=u.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.L(this.transform.center.lng,this.transform.center.lat)}setCenter(i,u){return this.jumpTo({center:i},u)}panBy(i,u,f){return i=a.P.convert(i).mult(-1),this.panTo(this.transform.center,a.e({offset:i},u),f)}panTo(i,u,f){return this.easeTo(a.e({center:i},u),f)}getZoom(){return this.transform.zoom}setZoom(i,u){return this.jumpTo({zoom:i},u),this}zoomTo(i,u,f){return this.easeTo(a.e({zoom:i},u),f)}zoomIn(i,u){return this.zoomTo(this.getZoom()+1,i,u),this}zoomOut(i,u){return this.zoomTo(this.getZoom()-1,i,u),this}getBearing(){return this.transform.bearing}setBearing(i,u){return this.jumpTo({bearing:i},u),this}getPadding(){return this.transform.padding}setPadding(i,u){return this.jumpTo({padding:i},u),this}rotateTo(i,u,f){return this.easeTo(a.e({bearing:i},u),f)}resetNorth(i,u){return this.rotateTo(0,a.e({duration:1e3},i),u),this}resetNorthPitch(i,u){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},i),u),this}snapToNorth(i,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,u):this}getPitch(){return this.transform.pitch}setPitch(i,u){return this.jumpTo({pitch:i},u),this}cameraForBounds(i,u){i=ct.convert(i);const f=u&&u.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),f,u)}_cameraForBoxAndBearing(i,u,f,g){const _={top:0,bottom:0,right:0,left:0};if(typeof(g=a.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Ae=g.padding;g.padding={top:Ae,bottom:Ae,right:Ae,left:Ae}}g.padding=a.e(_,g.padding);const C=this.transform,T=C.padding,k=C.project(a.L.convert(i)),R=C.project(a.L.convert(u)),z=k.rotate(-f*Math.PI/180),O=R.rotate(-f*Math.PI/180),Z=new a.P(Math.max(z.x,O.x),Math.max(z.y,O.y)),re=new a.P(Math.min(z.x,O.x),Math.min(z.y,O.y)),ne=Z.sub(re),ae=(C.width-(T.left+T.right+g.padding.left+g.padding.right))/ne.x,ee=(C.height-(T.top+T.bottom+g.padding.top+g.padding.bottom))/ne.y;if(ee<0||ae<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const _e=Math.min(C.scaleZoom(C.scale*Math.min(ae,ee)),g.maxZoom),Ee=a.P.convert(g.offset),he=new a.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(f*Math.PI/180),xe=Ee.add(he).mult(C.scale/C.zoomScale(_e));return{center:C.unproject(k.add(R).div(2).sub(xe)),zoom:_e,bearing:f}}fitBounds(i,u,f){return this._fitInternal(this.cameraForBounds(i,u),u,f)}fitScreenCoordinates(i,u,f,g,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(i)),this.transform.pointLocation(a.P.convert(u)),f,g),g,_)}_fitInternal(i,u,f){return i?(delete(u=a.e(i,u)).padding,u.linear?this.easeTo(u,f):this.flyTo(u,f)):this}jumpTo(i,u){this.stop();const f=this._getTransformForUpdate();let g=!1,_=!1,C=!1;return"zoom"in i&&f.zoom!==+i.zoom&&(g=!0,f.zoom=+i.zoom),i.center!==void 0&&(f.center=a.L.convert(i.center)),"bearing"in i&&f.bearing!==+i.bearing&&(_=!0,f.bearing=+i.bearing),"pitch"in i&&f.pitch!==+i.pitch&&(C=!0,f.pitch=+i.pitch),i.padding==null||f.isPaddingEqual(i.padding)||(f.padding=i.padding),this._applyUpdatedTransform(f),this.fire(new a.k("movestart",u)).fire(new a.k("move",u)),g&&this.fire(new a.k("zoomstart",u)).fire(new a.k("zoom",u)).fire(new a.k("zoomend",u)),_&&this.fire(new a.k("rotatestart",u)).fire(new a.k("rotate",u)).fire(new a.k("rotateend",u)),C&&this.fire(new a.k("pitchstart",u)).fire(new a.k("pitch",u)).fire(new a.k("pitchend",u)),this.fire(new a.k("moveend",u))}calculateCameraOptionsFromTo(i,u,f,g=0){const _=a.U.fromLngLat(i,u),C=a.U.fromLngLat(f,g),T=C.x-_.x,k=C.y-_.y,R=C.z-_.z,z=Math.hypot(T,k,R);if(z===0)throw new Error("Can't calculate camera options with same From and To");const O=Math.hypot(T,k),Z=this.transform.scaleZoom(this.transform.cameraToCenterDistance/z/this.transform.tileSize),re=180*Math.atan2(T,-k)/Math.PI;let ne=180*Math.acos(O/z)/Math.PI;return ne=R<0?90-ne:90+ne,{center:C.toLngLat(),zoom:Z,pitch:ne,bearing:re}}easeTo(i,u){this._stop(!1,i.easeId),((i=a.e({offset:[0,0],duration:500,easing:a.bb},i)).animate===!1||!i.essential&&a.h.prefersReducedMotion)&&(i.duration=0);const f=this._getTransformForUpdate(),g=this.getZoom(),_=this.getBearing(),C=this.getPitch(),T=this.getPadding(),k="zoom"in i?+i.zoom:g,R="bearing"in i?this._normalizeBearing(i.bearing,_):_,z="pitch"in i?+i.pitch:C,O="padding"in i?i.padding:f.padding,Z=a.P.convert(i.offset);let re=f.centerPoint.add(Z);const ne=f.pointLocation(re),ae=a.L.convert(i.center||ne);this._normalizeCenter(ae);const ee=f.project(ne),_e=f.project(ae).sub(ee),Ee=f.zoomScale(k-g);let he,xe;i.around&&(he=a.L.convert(i.around),xe=f.locationPoint(he));const Ae={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||k!==g,this._rotating=this._rotating||_!==R,this._pitching=this._pitching||z!==C,this._padding=!f.isPaddingEqual(O),this._easeId=i.easeId,this._prepareEase(u,i.noMoveStart,Ae),this.terrain&&this._prepareElevation(ae),this._ease(Me=>{if(this._zooming&&(f.zoom=a.B.number(g,k,Me)),this._rotating&&(f.bearing=a.B.number(_,R,Me)),this._pitching&&(f.pitch=a.B.number(C,z,Me)),this._padding&&(f.interpolatePadding(T,O,Me),re=f.centerPoint.add(Z)),this.terrain&&!i.freezeElevation&&this._updateElevation(Me),he)f.setLocationAtPoint(he,xe);else{const Ne=f.zoomScale(f.zoom-g),Ke=k>g?Math.min(2,Ee):Math.max(.5,Ee),We=Math.pow(Ke,1-Me),Je=f.unproject(ee.add(_e.mult(Me*We)).mult(Ne));f.setLocationAtPoint(f.renderWorldCopies?Je.wrap():Je,re)}this._applyUpdatedTransform(f),this._fireMoveEvents(u)},Me=>{this.terrain&&this._finalizeElevation(),this._afterEase(u,Me)},i),this}_prepareEase(i,u,f={}){this._moving=!0,u||f.moving||this.fire(new a.k("movestart",i)),this._zooming&&!f.zooming&&this.fire(new a.k("zoomstart",i)),this._rotating&&!f.rotating&&this.fire(new a.k("rotatestart",i)),this._pitching&&!f.pitching&&this.fire(new a.k("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&u!==this._elevationTarget){const f=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(f-(u-(f*i+this._elevationStart))/(1-i)),this._elevationTarget=u}this.transform.elevation=a.B.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(i){if(!this.transformCameraUpdate)return;const u=i.clone(),{center:f,zoom:g,pitch:_,bearing:C,elevation:T}=this.transformCameraUpdate(u);f&&(u.center=f),g!==void 0&&(u.zoom=g),_!==void 0&&(u.pitch=_),C!==void 0&&(u.bearing=C),T!==void 0&&(u.elevation=T),this.transform.apply(u)}_fireMoveEvents(i){this.fire(new a.k("move",i)),this._zooming&&this.fire(new a.k("zoom",i)),this._rotating&&this.fire(new a.k("rotate",i)),this._pitching&&this.fire(new a.k("pitch",i))}_afterEase(i,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;const f=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new a.k("zoomend",i)),g&&this.fire(new a.k("rotateend",i)),_&&this.fire(new a.k("pitchend",i)),this.fire(new a.k("moveend",i))}flyTo(i,u){if(!i.essential&&a.h.prefersReducedMotion){const vt=a.F(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(vt,u)}this.stop(),i=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bb},i);const f=this._getTransformForUpdate(),g=this.getZoom(),_=this.getBearing(),C=this.getPitch(),T=this.getPadding(),k="zoom"in i?a.ad(+i.zoom,f.minZoom,f.maxZoom):g,R="bearing"in i?this._normalizeBearing(i.bearing,_):_,z="pitch"in i?+i.pitch:C,O="padding"in i?i.padding:f.padding,Z=f.zoomScale(k-g),re=a.P.convert(i.offset);let ne=f.centerPoint.add(re);const ae=f.pointLocation(ne),ee=a.L.convert(i.center||ae);this._normalizeCenter(ee);const _e=f.project(ae),Ee=f.project(ee).sub(_e);let he=i.curve;const xe=Math.max(f.width,f.height),Ae=xe/Z,Me=Ee.mag();if("minZoom"in i){const vt=a.ad(Math.min(i.minZoom,g,k),f.minZoom,f.maxZoom),kn=xe/f.zoomScale(vt-g);he=Math.sqrt(kn/Me*2)}const Ne=he*he;function Ke(vt){const kn=(Ae*Ae-xe*xe+(vt?-1:1)*Ne*Ne*Me*Me)/(2*(vt?Ae:xe)*Ne*Me);return Math.log(Math.sqrt(kn*kn+1)-kn)}function We(vt){return(Math.exp(vt)-Math.exp(-vt))/2}function Je(vt){return(Math.exp(vt)+Math.exp(-vt))/2}const gt=Ke(!1);let Qt=function(vt){return Je(gt)/Je(gt+he*vt)},rt=function(vt){return xe*((Je(gt)*(We(kn=gt+he*vt)/Je(kn))-We(gt))/Ne)/Me;var kn},It=(Ke(!0)-gt)/he;if(Math.abs(Me)<1e-6||!isFinite(It)){if(Math.abs(xe-Ae)<1e-6)return this.easeTo(i,u);const vt=Ae<xe?-1:1;It=Math.abs(Math.log(Ae/xe))/he,rt=function(){return 0},Qt=function(kn){return Math.exp(vt*he*kn)}}return i.duration="duration"in i?+i.duration:1e3*It/("screenSpeed"in i?+i.screenSpeed/he:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=_!==R,this._pitching=z!==C,this._padding=!f.isPaddingEqual(O),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(ee),this._ease(vt=>{const kn=vt*It,Xt=1/Qt(kn);f.zoom=vt===1?k:g+f.scaleZoom(Xt),this._rotating&&(f.bearing=a.B.number(_,R,vt)),this._pitching&&(f.pitch=a.B.number(C,z,vt)),this._padding&&(f.interpolatePadding(T,O,vt),ne=f.centerPoint.add(re)),this.terrain&&!i.freezeElevation&&this._updateElevation(vt);const Wt=vt===1?ee:f.unproject(_e.add(Ee.mult(rt(kn))).mult(Xt));f.setLocationAtPoint(f.renderWorldCopies?Wt.wrap():Wt,ne),this._applyUpdatedTransform(f),this._fireMoveEvents(u)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(u)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,u)}if(!i){const f=this.handlers;f&&f.stop(!1)}return this}_ease(i,u,f){f.animate===!1||f.duration===0?(i(1),u()):(this._easeStart=a.h.now(),this._easeOptions=f,this._onEaseFrame=i,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,u){i=a.b5(i,-180,180);const f=Math.abs(i-u);return Math.abs(i-360-u)<f&&(i-=360),Math.abs(i+360-u)<f&&(i+=360),i}_normalizeCenter(i){const u=this.transform;if(!u.renderWorldCopies||u.lngRange)return;const f=i.lng-u.center.lng;i.lng+=f>180?-360:f<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(a.L.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}class Zi{constructor(i={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=w.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=w.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=w.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,u){const f=this._map._getUIString(`AttributionControl.${u}`);i.title=f,i.setAttribute("aria-label",f)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const u=this._map.style.sourceCaches;for(const g in u){const _=u[g];if(_.used||_.usedForTerrain){const C=_.getSource();C.attribution&&i.indexOf(C.attribution)<0&&i.push(C.attribution)}}i=i.filter(g=>String(g).trim()),i.sort((g,_)=>g.length-_.length),i=i.filter((g,_)=>{for(let C=_+1;C<i.length;C++)if(i[C].indexOf(g)>=0)return!1;return!0});const f=i.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,i.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Un{constructor(i={}){this._updateCompact=()=>{const u=this._container.children;if(u.length){const f=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=w.create("div","maplibregl-ctrl");const u=w.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){w.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class gu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const u=++this._id;return this._queue.push({callback:i,id:u,cancelled:!1}),u}remove(i){const u=this._currentlyRunning,f=u?this._queue.concat(u):this._queue;for(const g of f)if(g.id===i)return void(g.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const u=this._currentlyRunning=this._queue;this._queue=[];for(const f of u)if(!f.cancelled&&(f.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const xd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Sm=a.Q([{name:"a_pos3d",type:"Int16",components:3}]);class Cm extends a.E{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,u){this.sourceCache.update(i,u),this._renderableTilesKeys=[];const f={};for(const g of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u}))f[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),a.aS(g.posMatrix,0,a.N,0,a.N,0,1),this._tiles[g.key]=new Sn(g,this.tileSize));for(const g in this._tiles)f[g]||delete this._tiles[g]}freeRtt(i){for(const u in this._tiles){const f=this._tiles[u];(!i||f.tileID.equals(i)||f.tileID.isChildOf(i)||i.isChildOf(f.tileID))&&(f.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const u={};for(const f of this._renderableTilesKeys){const g=this._tiles[f].tileID;if(g.canonical.equals(i.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16),a.aS(_.posMatrix,0,a.N,0,a.N,0,1),u[f]=_}else if(g.canonical.isChildOf(i.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16);const C=g.canonical.z-i.canonical.z,T=g.canonical.x-(g.canonical.x>>C<<C),k=g.canonical.y-(g.canonical.y>>C<<C),R=a.N>>C;a.aS(_.posMatrix,0,R,0,R,0,1),a.$(_.posMatrix,_.posMatrix,[-T*R,-k*R,0]),u[f]=_}else if(i.canonical.isChildOf(g.canonical)){const _=i.clone();_.posMatrix=new Float64Array(16);const C=i.canonical.z-g.canonical.z,T=i.canonical.x-(i.canonical.x>>C<<C),k=i.canonical.y-(i.canonical.y>>C<<C),R=a.N>>C;a.aS(_.posMatrix,0,a.N,0,a.N,0,1),a.$(_.posMatrix,_.posMatrix,[T*R,k*R,0]),a.a0(_.posMatrix,_.posMatrix,[1/2**C,1/2**C,0]),u[f]=_}}return u}getSourceTile(i,u){const f=this.sourceCache._source;let g=i.overscaledZ-this.deltaZoom;if(g>f.maxzoom&&(g=f.maxzoom),g<f.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(g).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!_||!_.dem)&&u)for(;g>=f.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(i.scaledTo(g--).key);return _}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(u=>u.timeAdded>=i)}}class Tm{constructor(i,u,f){this.painter=i,this.sourceCache=new Cm(u),this.options=f,this.exaggeration=typeof f.exaggeration=="number"?f.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,u,f,g=a.N){var _;if(!(u>=0&&u<g&&f>=0&&f<g))return 0;const C=this.getTerrainData(i),T=(_=C.tile)===null||_===void 0?void 0:_.dem;if(!T)return 0;const k=function(ne,ae,ee){var _e=ae[0],Ee=ae[1];return ne[0]=ee[0]*_e+ee[4]*Ee+ee[12],ne[1]=ee[1]*_e+ee[5]*Ee+ee[13],ne}([],[u/g*a.N,f/g*a.N],C.u_terrain_matrix),R=[k[0]*T.dim,k[1]*T.dim],z=Math.floor(R[0]),O=Math.floor(R[1]),Z=R[0]-z,re=R[1]-O;return T.get(z,O)*(1-Z)*(1-re)+T.get(z+1,O)*Z*(1-re)+T.get(z,O+1)*(1-Z)*re+T.get(z+1,O+1)*Z*re}getElevationForLngLatZoom(i,u){const{tileID:f,mercatorX:g,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(i,u);return this.getElevation(f,g%a.N,_%a.N,a.N)}getElevation(i,u,f,g=a.N){return this.getDEMElevation(i,u,f,g)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const g=this.painter.context,_=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new G(g,_,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new G(g,new a.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ao([])}const u=this.sourceCache.getSourceTile(i,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){const g=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new G(g,u.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),u.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}const f=u&&u+u.tileID.key+i.key;if(f&&!this._demMatrixCache[f]){const g=this.sourceCache.sourceCache._source.maxzoom;let _=i.canonical.z-u.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=g?_=i.canonical.z-g:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const C=i.canonical.x-(i.canonical.x>>_<<_),T=i.canonical.y-(i.canonical.y>>_<<_),k=a.bc(new Float64Array(16),[1/(a.N<<_),1/(a.N<<_),0]);a.$(k,k,[C*a.N,T*a.N,0]),this._demMatrixCache[i.key]={matrix:k,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(i){const u=this.painter,f=u.width/devicePixelRatio,g=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new G(u.context,{width:f,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new G(u.context,{width:f,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(f,g,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,f,g))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,C=0;_<this._coordsTextureSize;_++)for(let T=0;T<this._coordsTextureSize;T++,C+=4)u[C+0]=255&T,u[C+1]=255&_,u[C+2]=T>>8<<4|_>>8,u[C+3]=0;const f=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),g=new G(i,f,i.gl.RGBA,{premultiply:!1});return g.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(i){const u=new Uint8Array(4),f=this.painter.context,g=f.gl;f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),f.bindFramebuffer.set(null);const _=u[0]+(u[2]>>4<<8),C=u[1]+((15&u[2])<<8),T=this.coordsIndex[255-u[3]],k=T&&this.sourceCache.getTileByID(T);if(!k)return null;const R=this._coordsTextureSize,z=(1<<k.tileID.canonical.z)*R;return new a.U(this._allowMercatorOverflow(i,(k.tileID.canonical.x*R+_)/z),(k.tileID.canonical.y*R+C)/z,this.getElevation(k.tileID,_,C,R))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,u=new a.bd,f=new a.b0,g=this.meshSize,_=a.N/g,C=g*g;for(let O=0;O<=g;O++)for(let Z=0;Z<=g;Z++)u.emplaceBack(Z*_,O*_,0);for(let O=0;O<C;O+=g+1)for(let Z=0;Z<g;Z++)f.emplaceBack(Z+O,g+Z+O+1,g+Z+O+2),f.emplaceBack(Z+O,g+Z+O+2,Z+O+1);const T=u.length,k=T+2*(g+1);for(const O of[0,1])for(let Z=0;Z<=g;Z++)for(const re of[0,1])u.emplaceBack(Z*_,O*a.N,re);for(let O=0;O<2*g;O+=2)f.emplaceBack(k+O,k+O+1,k+O+3),f.emplaceBack(k+O,k+O+3,k+O+2),f.emplaceBack(T+O,T+O+3,T+O+1),f.emplaceBack(T+O,T+O+2,T+O+3);const R=u.length,z=R+2*(g+1);for(const O of[0,1])for(let Z=0;Z<=g;Z++)for(const re of[0,1])u.emplaceBack(O*a.N,Z*_,re);for(let O=0;O<2*g;O+=2)f.emplaceBack(R+O,R+O+1,R+O+3),f.emplaceBack(R+O,R+O+3,R+O+2),f.emplaceBack(z+O,z+O+3,z+O+1),f.emplaceBack(z+O,z+O+2,z+O+3);return this._mesh={indexBuffer:i.createIndexBuffer(f),vertexBuffer:i.createVertexBuffer(u,Sm.members),segments:a.S.simpleSegment(0,0,u.length,f.length)},this._mesh}getMeshFrameDelta(i){return 2*Math.PI*a.be/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,u){var f;const{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(i,u);return(f=this.getMinMaxElevation(g).minElevation)!==null&&f!==void 0?f:0}getMinMaxElevation(i){const u=this.getTerrainData(i).tile,f={minElevation:null,maxElevation:null};return u&&u.dem&&(f.minElevation=u.dem.min*this.exaggeration,f.maxElevation=u.dem.max*this.exaggeration),f}_getOverscaledTileIDFromLngLatZoom(i,u){const f=a.U.fromLngLat(i.wrap()),g=(1<<u)*a.N,_=f.x*g,C=f.y*g,T=Math.floor(_/a.N),k=Math.floor(C/a.N);return{tileID:new a.O(u,0,u,T,k),mercatorX:_,mercatorY:C}}_allowMercatorOverflow(i,u){const f=i.x<this.painter.width/2;let g=a.bf(u);const _=this.painter.transform.center.lng;return f&&Math.sign(g)>0&&Math.sign(_)<0||!f&&Math.sign(g)<0&&Math.sign(_)>0?(g=360*Math.sign(_)+g,a.G(g)):u}}class Av{constructor(i,u,f){this._context=i,this._size=u,this._tileSize=f,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),f=new G(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return f.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(f.texture),{id:i,fbo:u,texture:f,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(u=>i.id!==u),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(i=>!i.inUse)===!1}}const di={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class yu{constructor(i,u){this.painter=i,this.terrain=u,this.pool=new Av(i.context,30,u.sourceCache.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(f=>!i._layers[f].isHidden(u)),this._coordsDescendingInv={};for(const f in i.sourceCaches){this._coordsDescendingInv[f]={};const g=i.sourceCaches[f].getVisibleCoordinates();for(const _ of g){const C=this.terrain.sourceCache.getTerrainCoords(_);for(const T in C)this._coordsDescendingInv[f][T]||(this._coordsDescendingInv[f][T]=[]),this._coordsDescendingInv[f][T].push(C[T])}}this._coordsDescendingInvStr={};for(const f of i._order){const g=i._layers[f],_=g.source;if(di[g.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const C in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][C]=this._coordsDescendingInv[_][C].map(T=>T.key).sort().join()}}for(const f of this._renderableTiles)for(const g in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[g][f.tileID.key];_&&_!==f.rttCoords[g]&&(f.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const u=i.type,f=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(di[u]&&(this._prevType&&di[this._prevType]||this._stacks.push([]),this._prevType=u,this._stacks[this._stacks.length-1].push(i.id),!g))return!0;if(di[this._prevType]||di[u]&&g){this._prevType=u;const _=this._stacks.length-1,C=this._stacks[_]||[];for(const T of this._renderableTiles){if(this.pool.isFull()&&(sr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(T),T.rtt[_]){const R=this.pool.getObjectForId(T.rtt[_].id);if(R.stamp===T.rtt[_].stamp){this.pool.useObject(R);continue}}const k=this.pool.getOrCreateFreeObject();this.pool.useObject(k),this.pool.stampObject(k),T.rtt[_]={id:k.id,stamp:k.stamp},f.context.bindFramebuffer.set(k.fbo.framebuffer),f.context.clear({color:a.aT.transparent,stencil:0}),f.currentStencilSource=void 0;for(let R=0;R<C.length;R++){const z=f.style._layers[C[R]],O=z.source?this._coordsDescendingInv[z.source][T.tileID.key]:[T.tileID];f.context.viewport.set([0,0,k.fbo.width,k.fbo.height]),f._renderTileClippingMasks(z,O),f.renderLayer(f,f.style.sourceCaches[z.source],z,O),z.source&&(T.rttCoords[z.source]=this._coordsDescendingInvStr[z.source][T.tileID.key])}}return sr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),di[u]}return!1}}const bt=b,kt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},ic=y=>{y.touchstart=y.dragStart,y.touchmoveWindow=y.dragMove,y.touchend=y.dragEnd},bd={showCompass:!0,showZoom:!0,visualizePitch:!1};class wd{constructor(i,u,f=!1){this.mousedown=C=>{this.startMouse(a.e({},C,{ctrlKey:!0,preventDefault:()=>C.preventDefault()}),w.mousePos(this.element,C)),w.addEventListener(window,"mousemove",this.mousemove),w.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.moveMouse(C,w.mousePos(this.element,C))},this.mouseup=C=>{this.mouseRotate.dragEnd(C),this.mousePitch&&this.mousePitch.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.startTouch(C,this._startPos),w.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.moveTouch(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const g=i.dragRotate._mouseRotate.getClickTolerance(),_=i.dragRotate._mousePitch.getClickTolerance();this.element=u,this.mouseRotate=ol({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:C,clickTolerance:T,bearingDegreesPerPixelMoved:k=.8})=>{const R=new ym;return new xs({clickTolerance:T,move:(z,O)=>({bearingDelta:(O.x-z.x)*k}),moveStateManager:R,enable:C,assignEvents:ic})})({clickTolerance:g,enable:!0}),this.map=i,f&&(this.mousePitch=bs({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:C,clickTolerance:T,pitchDegreesPerPixelMoved:k=-.5})=>{const R=new ym;return new xs({clickTolerance:T,move:(z,O)=>({pitchDelta:(O.y-z.y)*k}),moveStateManager:R,enable:C,assignEvents:ic})})({clickTolerance:_,enable:!0})),w.addEventListener(u,"mousedown",this.mousedown),w.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(u,"touchcancel",this.reset)}startMouse(i,u){this.mouseRotate.dragStart(i,u),this.mousePitch&&this.mousePitch.dragStart(i,u),w.disableDrag()}startTouch(i,u){this.touchRotate.dragStart(i,u),this.touchPitch&&this.touchPitch.dragStart(i,u),w.disableDrag()}moveMouse(i,u){const f=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(i,u)||{};if(g&&f.setBearing(f.getBearing()+g),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(i,u)||{};_&&f.setPitch(f.getPitch()+_)}}moveTouch(i,u){const f=this.map,{bearingDelta:g}=this.touchRotate.dragMove(i,u)||{};if(g&&f.setBearing(f.getBearing()+g),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(i,u)||{};_&&f.setPitch(f.getPitch()+_)}}off(){const i=this.element;w.removeEventListener(i,"mousedown",this.mousedown),w.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend),w.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){w.enableDrag(),w.removeEventListener(window,"mousemove",this.mousemove),w.removeEventListener(window,"mouseup",this.mouseup),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend)}}let mr;function Sd(y,i,u){if(y=new a.L(y.lng,y.lat),i){const f=new a.L(y.lng-360,y.lat),g=new a.L(y.lng+360,y.lat),_=u.locationPoint(y).distSqr(i);u.locationPoint(f).distSqr(i)<_?y=f:u.locationPoint(g).distSqr(i)<_&&(y=g)}for(;Math.abs(y.lng-u.center.lng)>180;){const f=u.locationPoint(y);if(f.x>=0&&f.y>=0&&f.x<=u.width&&f.y<=u.height)break;y.lng>u.center.lng?y.lng-=360:y.lng+=360}return y}const ho={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Em(y,i,u){const f=y.classList;for(const g in ho)f.remove(`maplibregl-${u}-anchor-${g}`);f.add(`maplibregl-${u}-anchor-${i}`)}class ba extends a.E{constructor(i){if(super(),this._onKeyPress=u=>{const f=u.code,g=u.charCode||u.keyCode;f!=="Space"&&f!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=u=>{const f=u.originalEvent.target,g=this._element;this._popup&&(f===g||g.contains(f))&&this.togglePopup()},this._update=u=>{if(!this._map)return;const f=this._map.loaded()&&!this._map.isMoving();((u==null?void 0:u.type)==="terrain"||(u==null?void 0:u.type)==="render"&&!f)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Sd(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let g="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?g=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(g=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),w.setTransform(this._element,`${ho[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${g}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const C=this._map.unproject(this._pos),T=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=C.distanceTo(this._lngLat)>20*T?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=u=>{if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=a.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");const u=w.createNS("http://www.w3.org/2000/svg","svg"),f=41,g=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${f}px`),u.setAttributeNS(null,"width",`${g}px`),u.setAttributeNS(null,"viewBox",`0 0 ${g} ${f}`);const _=w.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const C=w.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");const T=w.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"transform","translate(3.0, 29.0)"),T.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const _e of k){const Ee=w.createNS("http://www.w3.org/2000/svg","ellipse");Ee.setAttributeNS(null,"opacity","0.04"),Ee.setAttributeNS(null,"cx","10.5"),Ee.setAttributeNS(null,"cy","5.80029008"),Ee.setAttributeNS(null,"rx",_e.rx),Ee.setAttributeNS(null,"ry",_e.ry),T.appendChild(Ee)}const R=w.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill",this._color);const z=w.createNS("http://www.w3.org/2000/svg","path");z.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),R.appendChild(z);const O=w.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"opacity","0.25"),O.setAttributeNS(null,"fill","#000000");const Z=w.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),O.appendChild(Z);const re=w.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"transform","translate(6.0, 7.0)"),re.setAttributeNS(null,"fill","#FFFFFF");const ne=w.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ae=w.createNS("http://www.w3.org/2000/svg","circle");ae.setAttributeNS(null,"fill","#000000"),ae.setAttributeNS(null,"opacity","0.25"),ae.setAttributeNS(null,"cx","5.5"),ae.setAttributeNS(null,"cy","5.5"),ae.setAttributeNS(null,"r","5.4999962");const ee=w.createNS("http://www.w3.org/2000/svg","circle");ee.setAttributeNS(null,"fill","#FFFFFF"),ee.setAttributeNS(null,"cx","5.5"),ee.setAttributeNS(null,"cy","5.5"),ee.setAttributeNS(null,"r","5.4999962"),ne.appendChild(ae),ne.appendChild(ee),C.appendChild(T),C.appendChild(R),C.appendChild(O),C.appendChild(re),C.appendChild(ne),u.appendChild(C),u.setAttributeNS(null,"height",f*this._scale+"px"),u.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(u),this._offset=a.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",u=>{u.preventDefault()}),this._element.addEventListener("mousedown",u=>{u.preventDefault()}),Em(this._element,this._anchor,"marker"),i&&i.className)for(const u of i.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=a.L.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const g=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(i){return this._offset=a.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const ar={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let tr=0,al=!1;const oc={maxWidth:100,unit:"metric"};function sc(y,i,u){const f=u&&u.maxWidth||100,g=y._container.clientHeight/2,_=y.unproject([0,g]),C=y.unproject([f,g]),T=_.distanceTo(C);if(u&&u.unit==="imperial"){const k=3.2808*T;k>5280?wa(i,f,k/5280,y._getUIString("ScaleControl.Miles")):wa(i,f,k,y._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?wa(i,f,T/1852,y._getUIString("ScaleControl.NauticalMiles")):T>=1e3?wa(i,f,T/1e3,y._getUIString("ScaleControl.Kilometers")):wa(i,f,T,y._getUIString("ScaleControl.Meters"))}function wa(y,i,u,f){const g=function(_){const C=Math.pow(10,`${Math.floor(_)}`.length-1);let T=_/C;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:T>=1?1:function(k){const R=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*R)/R}(T),C*T}(u);y.style.width=i*(g/u)+"px",y.innerHTML=`${g}&nbsp;${f}`}const Cd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Td=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ll(y){if(y){if(typeof y=="number"){const i=Math.round(Math.abs(y)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,y),"top-left":new a.P(i,i),"top-right":new a.P(-i,i),bottom:new a.P(0,-y),"bottom-left":new a.P(i,-i),"bottom-right":new a.P(-i,-i),left:new a.P(y,0),right:new a.P(-y,0)}}if(y instanceof a.P||Array.isArray(y)){const i=a.P.convert(y);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:a.P.convert(y.center||[0,0]),top:a.P.convert(y.top||[0,0]),"top-left":a.P.convert(y["top-left"]||[0,0]),"top-right":a.P.convert(y["top-right"]||[0,0]),bottom:a.P.convert(y.bottom||[0,0]),"bottom-left":a.P.convert(y["bottom-left"]||[0,0]),"bottom-right":a.P.convert(y["bottom-right"]||[0,0]),left:a.P.convert(y.left||[0,0]),right:a.P.convert(y.right||[0,0])}}return ll(new a.P(0,0))}const Ed={extend:(y,...i)=>a.e(y,...i),run(y){y()},logToElement(y,i=!1,u="log"){const f=window.document.getElementById(u);f&&(i&&(f.innerHTML=""),f.innerHTML+=`<br>${y}`)}},Pd=b;class xn{static get version(){return Pd}static get workerCount(){return wr.workerCount}static set workerCount(i){wr.workerCount=i}static get maxParallelImageRequests(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(i){a.c.MAX_PARALLEL_IMAGE_REQUESTS=i}static get workerUrl(){return a.c.WORKER_URL}static set workerUrl(i){a.c.WORKER_URL=i}static addProtocol(i,u){a.c.REGISTERED_PROTOCOLS[i]=u}static removeProtocol(i){delete a.c.REGISTERED_PROTOCOLS[i]}}return xn.Map=class extends wm{constructor(y){if(a.bg.mark(a.bh.create),(y=a.e({},kt,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new du(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies),{bearingSnap:y.bearingSnap}),this._cooperativeGesturesOnWheel=i=>{this._onCooperativeGesture(i,i[this._metaKey],1)},this._contextLost=i=>{i.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.k("webglcontextlost",{originalEvent:i}))},this._contextRestored=i=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:i}))},this._onMapScroll=i=>{if(i.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=y.interactive,this._cooperativeGestures=y.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=y.maxTileCacheSize,this._maxTileCacheZoomLevels=y.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new gu,this._controls=[],this._mapId=a.a2(),this._locale=a.e({},xd,y.locale),this._clickTolerance=y.clickTolerance,this._overridePixelRatio=y.pixelRatio,this._maxCanvasSize=y.maxCanvasSize,this.transformCameraUpdate=y.transformCameraUpdate,this._imageQueueHandle=K.addThrottleControl(()=>this.isMoving()),this._requestManager=new V(y.transformRequest),typeof y.container=="string"){if(this._container=document.getElementById(y.container),!this._container)throw new Error(`Container '${y.container}' not found.`)}else{if(!(y.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let i=!1;const u=xa(f=>{this._trackResize&&!this._removed&&this.resize(f)._update()},50);this._resizeObserver=new ResizeObserver(f=>{i?u(f):i=!0}),this._resizeObserver.observe(this._container)}this.handlers=new _d(this,y),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=y.hash&&new Ql(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,a.e({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,this._validateStyle=y.validateStyle,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Zi({customAttribution:y.customAttribution})),y.maplibreLogo&&this.addControl(new Un,y.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update(i.dataType==="style"),this.fire(new a.k(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new a.k(`${i.dataType}dataloading`,i))}),this.on("dataabort",i=>{this.fire(new a.k("sourcedataabort",i))})}_getMapId(){return this._mapId}addControl(y,i){if(i===void 0&&(i=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=y.onAdd(this);this._controls.push(y);const f=this._controlPositions[i];return i.indexOf("bottom")!==-1?f.insertBefore(u,f.firstChild):f.appendChild(u),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(y);return i>-1&&this._controls.splice(i,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}calculateCameraOptionsFromTo(y,i,u,f){return f==null&&this.terrain&&(f=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(y,i,u,f)}resize(y){var i;const u=this._containerDimensions(),f=u[0],g=u[1],_=this._getClampedPixelRatio(f,g);if(this._resizeCanvas(f,g,_),this.painter.resize(f,g,_),this.painter.overLimit()){const T=this.painter.context.gl;this._maxCanvasSize=[T.drawingBufferWidth,T.drawingBufferHeight];const k=this._getClampedPixelRatio(f,g);this._resizeCanvas(f,g,k),this.painter.resize(f,g,k)}this.transform.resize(f,g),(i=this._requestedCameraState)===null||i===void 0||i.resize(f,g);const C=!this._moving;return C&&(this.stop(),this.fire(new a.k("movestart",y)).fire(new a.k("move",y))),this.fire(new a.k("resize",y)),C&&this.fire(new a.k("moveend",y)),this}_getClampedPixelRatio(y,i){const{0:u,1:f}=this._maxCanvasSize,g=this.getPixelRatio(),_=y*g,C=i*g;return Math.min(_>u?u/_:1,C>f?f/C:1)*g}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(ct.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.renderWorldCopies=y,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(y){return this._cooperativeGestures=y,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(y){return this.transform.locationPoint(a.L.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.pointLocation(a.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,i,u){if(y==="mouseenter"||y==="mouseover"){let f=!1;return{layer:i,listener:u,delegates:{mousemove:_=>{const C=this.getLayer(i)?this.queryRenderedFeatures(_.point,{layers:[i]}):[];C.length?f||(f=!0,u.call(this,new Hi(y,this,_.originalEvent,{features:C}))):f=!1},mouseout:()=>{f=!1}}}}if(y==="mouseleave"||y==="mouseout"){let f=!1;return{layer:i,listener:u,delegates:{mousemove:C=>{(this.getLayer(i)?this.queryRenderedFeatures(C.point,{layers:[i]}):[]).length?f=!0:f&&(f=!1,u.call(this,new Hi(y,this,C.originalEvent)))},mouseout:C=>{f&&(f=!1,u.call(this,new Hi(y,this,C.originalEvent)))}}}}{const f=g=>{const _=this.getLayer(i)?this.queryRenderedFeatures(g.point,{layers:[i]}):[];_.length&&(g.features=_,u.call(this,g),delete g.features)};return{layer:i,listener:u,delegates:{[y]:f}}}}on(y,i,u){if(u===void 0)return super.on(y,i);const f=this._createDelegatedListener(y,i,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(f);for(const g in f.delegates)this.on(g,f.delegates[g]);return this}once(y,i,u){if(u===void 0)return super.once(y,i);const f=this._createDelegatedListener(y,i,u);for(const g in f.delegates)this.once(g,f.delegates[g]);return this}off(y,i,u){return u===void 0?super.off(y,i):(this._delegatedListeners&&this._delegatedListeners[y]&&(f=>{const g=this._delegatedListeners[y];for(let _=0;_<g.length;_++){const C=g[_];if(C.layer===i&&C.listener===u){for(const T in C.delegates)this.off(T,C.delegates[T]);return g.splice(_,1),this}}})(),this)}queryRenderedFeatures(y,i){if(!this.style)return[];let u;const f=y instanceof a.P||Array.isArray(y),g=f?y:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(f?{}:y)||{},g instanceof a.P||typeof g[0]=="number")u=[a.P.convert(g)];else{const _=a.P.convert(g[0]),C=a.P.convert(g[1]);u=[_,new a.P(C.x,_.y),C,new a.P(_.x,C.y),_]}return this.style.queryRenderedFeatures(u,i,this.transform)}querySourceFeatures(y,i){return this.style.querySourceFeatures(y,i)}setStyle(y,i){return(i=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(y,i))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){const i=this._locale[y];if(i==null)throw new Error(`Missing UI string '${y}'`);return i}_updateStyle(y,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,i));const u=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new Hr(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,i,u):this.style.loadJSON(y,i,u),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Hr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,i){if(typeof y=="string"){const u=this._requestManager.transformRequest(y,B.Style);a.f(u,(f,g)=>{f?this.fire(new a.j(f)):g&&this._updateDiff(g,i)})}else typeof y=="object"&&this._updateDiff(y,i)}_updateDiff(y,i){try{this.style.setState(y,i)&&this._update(!0)}catch(u){a.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(y,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(y,i){return this._lazyInitEmptyStyle(),this.style.addSource(y,i),this._update(!0)}isSourceLoaded(y){const i=this.style&&this.style.sourceCaches[y];if(i!==void 0)return i.loaded();this.fire(new a.j(new Error(`There is no source with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){const i=this.style.sourceCaches[y.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);for(const u in this.style._layers){const f=this.style._layers[u];f.type==="hillshade"&&f.source===y.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Tm(this.painter,i,y),this.painter.renderToTexture=new yu(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=u=>{u.dataType==="style"?this.terrain.sourceCache.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==y.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:y})),this}getTerrain(){var y,i;return(i=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const y=this.style&&this.style.sourceCaches;for(const i in y){const u=y[i]._tiles;for(const f in u){const g=u[f];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(y,i,u){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,i,u)}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}addImage(y,i,u={}){const{pixelRatio:f=1,sdf:g=!1,stretchX:_,stretchY:C,content:T}=u;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||a.a(i))){if(i.width===void 0||i.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:k,height:R,data:z}=i,O=i;return this.style.addImage(y,{data:new a.R({width:k,height:R},new Uint8Array(z)),pixelRatio:f,stretchX:_,stretchY:C,content:T,sdf:g,version:0,userImage:O}),O.onAdd&&O.onAdd(this,y),this}}{const{width:k,height:R,data:z}=a.h.getImageData(i);this.style.addImage(y,{data:new a.R({width:k,height:R},z),pixelRatio:f,stretchX:_,stretchY:C,content:T,sdf:g,version:0})}}updateImage(y,i){const u=this.style.getImage(y);if(!u)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=i instanceof HTMLImageElement||a.a(i)?a.h.getImageData(i):i,{width:g,height:_,data:C}=f;if(g===void 0||_===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==u.data.width||_!==u.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const T=!(i instanceof HTMLImageElement||a.a(i));return u.data.replace(C,T),this.style.updateImage(y,u),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y,i){K.getImage(this._requestManager.transformRequest(y,B.Image),i)}listImages(){return this.style.listImages()}addLayer(y,i){return this._lazyInitEmptyStyle(),this.style.addLayer(y,i),this._update(!0)}moveLayer(y,i){return this.style.moveLayer(y,i),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,i,u){return this.style.setLayerZoomRange(y,i,u),this._update(!0)}setFilter(y,i,u={}){return this.style.setFilter(y,i,u),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,i,u,f={}){return this.style.setPaintProperty(y,i,u,f),this._update(!0)}getPaintProperty(y,i){return this.style.getPaintProperty(y,i)}setLayoutProperty(y,i,u,f={}){return this.style.setLayoutProperty(y,i,u,f),this._update(!0)}getLayoutProperty(y,i){return this.style.getLayoutProperty(y,i)}setGlyphs(y,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,i,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,i,u,f=>{f||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,i,u=>{u||this._update(!0)}),this}setLight(y,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(y,i){return this.style.setFeatureState(y,i),this._update()}removeFeatureState(y,i){return this.style.removeFeatureState(y,i),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,i=0;return this._container&&(y=this._container.clientWidth||400,i=this._container.clientHeight||300),[y,i]}_setupContainer(){const y=this._container;y.classList.add("maplibregl-map");const i=this._canvasContainer=w.create("div","maplibregl-canvas-container",y);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=w.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const u=this._containerDimensions(),f=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],f);const g=this._controlContainer=w.create("div","maplibregl-control-container",y),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{_[C]=w.create("div",`maplibregl-ctrl-${C} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=w.create("div","maplibregl-cooperative-gesture-screen",this._container);let y=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(y=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${y}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){w.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(y,i,u){this._canvas.width=Math.floor(u*y),this._canvas.height=Math.floor(u*i),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const y={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",f=>{i={requestedAttributes:y},f&&(i.statusMessage=f.statusMessage,i.type=f.type)},{once:!0});const u=this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y);if(!u){const f="Failed to initialize WebGL";throw i?(i.message=f,new Error(JSON.stringify(i))):new Error(f)}this.painter=new _a(u,this.transform),E.testSupport(u)}_onCooperativeGesture(y,i,u){return!i&&u<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,_=a.h.now();this.style.zoomHistory.update(g,_);const C=new a.a8(g,{now:_,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),T=C.crossFadingFactor();T===1&&T===this._crossFadingFactor||(u=!0,this._crossFadingFactor=T),this.style.update(C)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bg.mark(a.bh.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0,a.bg.mark(a.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),K.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),w.remove(this._canvasContainer),w.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.bg.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.h.frame(y=>{a.bg.frame(y),this._frame=null,this._render(y)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return bt}getCameraTargetElevation(){return this.transform.elevation}},xn.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{const i=this._map.getZoom(),u=i===this._map.getMaxZoom(),f=i===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,u)=>{const f=this._map._getUIString(`NavigationControl.${u}`);i.title=f,i.setAttribute("aria-label",f)},this.options=a.e({},bd,y),this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),w.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),w.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=w.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new wd(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,i){const u=w.create("button",y,this._container);return u.type="button",u.addEventListener("click",i),u}},xn.GeolocateControl=class extends a.E{constructor(y){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",i)),this._finish()}},this._updateCamera=i=>{const u=new a.L(i.coords.longitude,i.coords.latitude),f=i.coords.accuracy,g=this._map.getBearing(),_=a.e({bearing:g},this.options.fitBoundsOptions),C=ct.fromLngLat(u,f);this._map.fitBounds(C,_,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const u=new a.L(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&al)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=i=>{if(this._map){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=w.create("button","maplibregl-ctrl-geolocate",this._container),w.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",i===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new ba({element:this._dotElement}),this._circleElement=w.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ba({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},ar,y)}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(i,u=!1){mr===void 0||u?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(f=>{mr=f.state!=="denied",i(mr)}).catch(()=>{mr=!!window.navigator.geolocation,i(mr)}):(mr=!!window.navigator.geolocation,i(mr)):i(mr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,tr=0,al=!1}_isOutOfMapMaxBounds(y){const i=this._map.getMaxBounds(),u=y.coords;return i&&(u.longitude<i.getWest()||u.longitude>i.getEast()||u.latitude<i.getSouth()||u.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const y=this._map.getBounds(),i=y.getSouthEast(),u=y.getNorthEast(),f=i.distanceTo(u),g=Math.ceil(this._accuracy/(f/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":tr--,al=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),tr++,tr>1?(y={maximumAge:6e5,timeout:0},al=!0):(y=this.options.positionOptions,al=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},xn.AttributionControl=Zi,xn.LogoControl=Un,xn.ScaleControl=class{constructor(y){this._onMove=()=>{sc(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,sc(this._map,this._container,this.options)},this.options=a.e({},oc,y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},xn.FullscreenControl=class extends a.E{constructor(y={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){w.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const y=this._fullscreenButton=w.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);w.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},xn.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=y}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=w.create("button","maplibregl-ctrl-terrain",this._container),w.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){w.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},xn.Popup=class extends a.E{constructor(y){super(),this.remove=()=>(this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=w.create("div","maplibregl-popup",this._map.getContainer()),this._tip=w.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const C of this.options.className.split(" "))this._container.classList.add(C);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sd(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!i)return;const u=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);let f=this.options.anchor;const g=ll(this.options.offset);if(!f){const C=this._container.offsetWidth,T=this._container.offsetHeight;let k;k=u.y+g.bottom.y<T?["top"]:u.y>this._map.transform.height-T?["bottom"]:[],u.x<C/2?k.push("left"):u.x>this._map.transform.width-C/2&&k.push("right"),f=k.length===0?"bottom":k.join("-")}const _=u.add(g[f]).round();w.setTransform(this._container,`${ho[f]} translate(${_.x}px,${_.y}px)`),Em(this._container,f,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Cd),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=a.L.convert(y),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){const i=document.createDocumentFragment(),u=document.createElement("body");let f;for(u.innerHTML=y;f=u.firstChild,f;)i.appendChild(f);return this.setDOMContent(i)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=w.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){this._container&&this._container.classList.add(y)}removeClassName(y){this._container&&this._container.classList.remove(y)}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}_createCloseButton(){this.options.closeButton&&(this._closeButton=w.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(Td);y&&y.focus()}},xn.Marker=ba,xn.Style=Hr,xn.LngLat=a.L,xn.LngLatBounds=ct,xn.Point=a.P,xn.MercatorCoordinate=a.U,xn.Evented=a.E,xn.AJAXError=a.bi,xn.config=a.c,xn.CanvasSource=jt,xn.GeoJSONSource=In,xn.ImageSource=xt,xn.RasterDEMTileSource=Yt,xn.RasterTileSource=dn,xn.VectorTileSource=Gt,xn.VideoSource=qt,xn.setRTLTextPlugin=a.bj,xn.getRTLTextPluginStatus=a.bk,xn.prewarm=function(){Ti().acquire(Mt)},xn.clearPrewarmedResources=function(){const y=Vr;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(Mt),Vr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ed.extend(xn,{isSafari:a.ac,getPerformanceMetrics:a.bg.getPerformanceMetrics}),xn});var p=c;return p})})(PL);var fZ=PL.exports;const on=Xy(fZ),kL="3.7.7",mZ=kL,Fh=typeof Buffer=="function",vA=typeof TextDecoder=="function"?new TextDecoder:void 0,_A=typeof TextEncoder=="function"?new TextEncoder:void 0,gZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bp=Array.prototype.slice.call(gZ),Tg=(e=>{let t={};return e.forEach((n,o)=>t[n]=o),t})(bp),yZ=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,bi=String.fromCharCode.bind(String),xA=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),IL=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),ML=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),RL=e=>{let t,n,o,c,h="";const p=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255||(c=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|o<<8|c,h+=bp[t>>18&63]+bp[t>>12&63]+bp[t>>6&63]+bp[t&63]}return p?h.slice(0,p-3)+"===".substring(p):h},MS=typeof btoa=="function"?e=>btoa(e):Fh?e=>Buffer.from(e,"binary").toString("base64"):RL,rb=Fh?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let o=0,c=e.length;o<c;o+=4096)n.push(bi.apply(null,e.subarray(o,o+4096)));return MS(n.join(""))},Yg=(e,t=!1)=>t?IL(rb(e)):rb(e),vZ=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?bi(192|t>>>6)+bi(128|t&63):bi(224|t>>>12&15)+bi(128|t>>>6&63)+bi(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return bi(240|t>>>18&7)+bi(128|t>>>12&63)+bi(128|t>>>6&63)+bi(128|t&63)}},_Z=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,LL=e=>e.replace(_Z,vZ),bA=Fh?e=>Buffer.from(e,"utf8").toString("base64"):_A?e=>rb(_A.encode(e)):e=>MS(LL(e)),hh=(e,t=!1)=>t?IL(bA(e)):bA(e),wA=e=>hh(e,!0),xZ=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,bZ=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return bi((n>>>10)+55296)+bi((n&1023)+56320);case 3:return bi((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return bi((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},DL=e=>e.replace(xZ,bZ),zL=e=>{if(e=e.replace(/\s+/g,""),!yZ.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",o,c;for(let h=0;h<e.length;)t=Tg[e.charAt(h++)]<<18|Tg[e.charAt(h++)]<<12|(o=Tg[e.charAt(h++)])<<6|(c=Tg[e.charAt(h++)]),n+=o===64?bi(t>>16&255):c===64?bi(t>>16&255,t>>8&255):bi(t>>16&255,t>>8&255,t&255);return n},RS=typeof atob=="function"?e=>atob(ML(e)):Fh?e=>Buffer.from(e,"base64").toString("binary"):zL,BL=Fh?e=>xA(Buffer.from(e,"base64")):e=>xA(RS(e).split("").map(t=>t.charCodeAt(0))),OL=e=>BL(FL(e)),wZ=Fh?e=>Buffer.from(e,"base64").toString("utf8"):vA?e=>vA.decode(BL(e)):e=>DL(RS(e)),FL=e=>ML(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),ib=e=>wZ(FL(e)),SZ=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},NL=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),$L=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,NL(n));e("fromBase64",function(){return ib(this)}),e("toBase64",function(t){return hh(this,t)}),e("toBase64URI",function(){return hh(this,!0)}),e("toBase64URL",function(){return hh(this,!0)}),e("toUint8Array",function(){return OL(this)})},VL=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,NL(n));e("toBase64",function(t){return Yg(this,t)}),e("toBase64URI",function(){return Yg(this,!0)}),e("toBase64URL",function(){return Yg(this,!0)})},CZ=()=>{$L(),VL()},TZ={version:kL,VERSION:mZ,atob:RS,atobPolyfill:zL,btoa:MS,btoaPolyfill:RL,fromBase64:ib,toBase64:hh,encode:hh,encodeURI:wA,encodeURL:wA,utob:LL,btou:DL,decode:ib,isValid:SZ,fromUint8Array:Yg,toUint8Array:OL,extendString:$L,extendUint8Array:VL,extendBuiltins:CZ};var LS={exports:{}},dh=typeof Reflect=="object"?Reflect:null,SA=dh&&typeof dh.apply=="function"?dh.apply:function(t,n,o){return Function.prototype.apply.call(t,n,o)},Jg;dh&&typeof dh.ownKeys=="function"?Jg=dh.ownKeys:Object.getOwnPropertySymbols?Jg=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Jg=function(t){return Object.getOwnPropertyNames(t)};function EZ(e){console&&console.warn&&console.warn(e)}var jL=Number.isNaN||function(t){return t!==t};function qn(){qn.init.call(this)}LS.exports=qn;LS.exports.once=IZ;qn.EventEmitter=qn;qn.prototype._events=void 0;qn.prototype._eventsCount=0;qn.prototype._maxListeners=void 0;var CA=10;function iv(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(qn,"defaultMaxListeners",{enumerable:!0,get:function(){return CA},set:function(e){if(typeof e!="number"||e<0||jL(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");CA=e}});qn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};qn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||jL(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function UL(e){return e._maxListeners===void 0?qn.defaultMaxListeners:e._maxListeners}qn.prototype.getMaxListeners=function(){return UL(this)};qn.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var c=t==="error",h=this._events;if(h!==void 0)c=c&&h.error===void 0;else if(!c)return!1;if(c){var p;if(n.length>0&&(p=n[0]),p instanceof Error)throw p;var a=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw a.context=p,a}var b=h[t];if(b===void 0)return!1;if(typeof b=="function")SA(b,this,n);else for(var w=b.length,E=ZL(b,w),o=0;o<w;++o)SA(E[o],this,n);return!0};function WL(e,t,n,o){var c,h,p;if(iv(n),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),h=e._events),p=h[t]),p===void 0)p=h[t]=n,++e._eventsCount;else if(typeof p=="function"?p=h[t]=o?[n,p]:[p,n]:o?p.unshift(n):p.push(n),c=UL(e),c>0&&p.length>c&&!p.warned){p.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=p.length,EZ(a)}return e}qn.prototype.addListener=function(t,n){return WL(this,t,n,!1)};qn.prototype.on=qn.prototype.addListener;qn.prototype.prependListener=function(t,n){return WL(this,t,n,!0)};function PZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function GL(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},c=PZ.bind(o);return c.listener=n,o.wrapFn=c,c}qn.prototype.once=function(t,n){return iv(n),this.on(t,GL(this,t,n)),this};qn.prototype.prependOnceListener=function(t,n){return iv(n),this.prependListener(t,GL(this,t,n)),this};qn.prototype.removeListener=function(t,n){var o,c,h,p,a;if(iv(n),c=this._events,c===void 0)return this;if(o=c[t],o===void 0)return this;if(o===n||o.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete c[t],c.removeListener&&this.emit("removeListener",t,o.listener||n));else if(typeof o!="function"){for(h=-1,p=o.length-1;p>=0;p--)if(o[p]===n||o[p].listener===n){a=o[p].listener,h=p;break}if(h<0)return this;h===0?o.shift():AZ(o,h),o.length===1&&(c[t]=o[0]),c.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};qn.prototype.off=qn.prototype.removeListener;qn.prototype.removeAllListeners=function(t){var n,o,c;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[t]),this;if(arguments.length===0){var h=Object.keys(o),p;for(c=0;c<h.length;++c)p=h[c],p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=o[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(c=n.length-1;c>=0;c--)this.removeListener(t,n[c]);return this};function qL(e,t,n){var o=e._events;if(o===void 0)return[];var c=o[t];return c===void 0?[]:typeof c=="function"?n?[c.listener||c]:[c]:n?kZ(c):ZL(c,c.length)}qn.prototype.listeners=function(t){return qL(this,t,!0)};qn.prototype.rawListeners=function(t){return qL(this,t,!1)};qn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):HL.call(e,t)};qn.prototype.listenerCount=HL;function HL(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}qn.prototype.eventNames=function(){return this._eventsCount>0?Jg(this._events):[]};function ZL(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}function AZ(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function kZ(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function IZ(e,t){return new Promise(function(n,o){function c(p){e.removeListener(t,h),o(p)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",c),n([].slice.call(arguments))}KL(e,t,h,{once:!0}),t!=="error"&&MZ(e,c,{once:!0})})}function MZ(e,t,n){typeof e.on=="function"&&KL(e,"error",t,n)}function KL(e,t,n,o){if(typeof e.on=="function")o.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function c(h){o.once&&e.removeEventListener(t,c),n(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var RZ=LS.exports;const LZ=Xy(RZ);function DZ(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class zZ{constructor(){this._apiKey="",this._fetch=DZ(),this.tileCacheSize=200}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const ph=new zZ,BZ={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(BZ));async function OZ(e,t={}){if(ph.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(e).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return ph.fetch(e,t)}const XL={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(XL);class FZ extends Error{constructor(t,n=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${n}`),this.res=t}}const TA={403:"Key is missing, invalid or restricted"};async function NZ(e={}){const t=new URL("geolocation/ip.json",XL.maptilerApiURL);t.searchParams.set("key",e.apiKey??ph.apiKey);const n=t.toString(),o=await OZ(n);if(!o.ok)throw new FZ(o,o.status in TA?TA[o.status]:"");return await o.json()}const EA={info:NZ};function YL(e){const t=/^maptiler:\/\/(.*)/;let n;const o=e.trim();let c;return o.startsWith("http://")||o.startsWith("https://")?c=o:(n=t.exec(o))!==null?c=`https://api.maptiler.com/maps/${n[1]}/style.json`:c=`https://api.maptiler.com/maps/${o}/style.json`,c}class JL{constructor(t,n,o,c,h,p){this.name=t,this.variantType=n,this.id=o,this.referenceStyle=c,this.description=h,this.imageURL=p}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return YL(this.getId())}}class QL{constructor(t,n){this.name=t,this.id=n,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const ob=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BACKDROP",name:"Backdrop",description:"",variants:[{id:"backdrop",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"backdrop-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"backdrop-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function $Z(e){return new Proxy(e,{get(t,n,o){return t.hasVariant(n)?t.getVariant(n):n.toString().toUpperCase()===n?e.getDefaultVariant():Reflect.get(t,n,o)}})}function VZ(){const e={};for(let t=0;t<ob.length;t+=1){const n=ob[t],o=$Z(new QL(n.name,n.referenceStyleID));for(let c=0;c<n.variants.length;c+=1){const h=n.variants[c],p=new JL(h.name,h.variantType,h.id,o,h.description,h.imageURL);o.addVariant(p)}e[n.referenceStyleID]=o}return e}const DS=VZ();let Eg;const jZ=new Uint8Array(16);function UZ(){if(!Eg&&(Eg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Eg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eg(jZ)}const vi=[];for(let e=0;e<256;++e)vi.push((e+256).toString(16).slice(1));function WZ(e,t=0){return vi[e[t+0]]+vi[e[t+1]]+vi[e[t+2]]+vi[e[t+3]]+"-"+vi[e[t+4]]+vi[e[t+5]]+"-"+vi[e[t+6]]+vi[e[t+7]]+"-"+vi[e[t+8]]+vi[e[t+9]]+"-"+vi[e[t+10]]+vi[e[t+11]]+vi[e[t+12]]+vi[e[t+13]]+vi[e[t+14]]+vi[e[t+15]]}const GZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PA={randomUUID:GZ};function qZ(e,t,n){if(PA.randomUUID&&!t&&!e)return PA.randomUUID();e=e||{};const o=e.random||(e.rng||UZ)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let c=0;c<16;++c)t[n+c]=o[c];return t}return WZ(o)}const Tn={VISITOR:"visitor",VISITOR_ENGLISH:"visitor_en",STYLE:"style",AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"name:latin",NON_LATIN:"name:nonlatin",LOCAL:"name",INTERNATIONAL:"name_int",ALBANIAN:"name:sq",AMHARIC:"name:am",ARABIC:"name:ar",ARMENIAN:"name:hy",AZERBAIJANI:"name:az",BASQUE:"name:eu",BELORUSSIAN:"name:be",BENGALI:"name:bn",BOSNIAN:"name:bs",BRETON:"name:br",BULGARIAN:"name:bg",CATALAN:"name:ca",CHINESE:"name:zh",TRADITIONAL_CHINESE:"name:zh-Hant",SIMPLIFIED_CHINESE:"name:zh-Hans",CORSICAN:"name:co",CROATIAN:"name:hr",CZECH:"name:cs",DANISH:"name:da",DUTCH:"name:nl",ENGLISH:"name:en",ESPERANTO:"name:eo",ESTONIAN:"name:et",FINNISH:"name:fi",FRENCH:"name:fr",FRISIAN:"name:fy",GEORGIAN:"name:ka",GERMAN:"name:de",GREEK:"name:el",HEBREW:"name:he",HINDI:"name:hi",HUNGARIAN:"name:hu",ICELANDIC:"name:is",INDONESIAN:"name:id",IRISH:"name:ga",ITALIAN:"name:it",JAPANESE:"name:ja",JAPANESE_HIRAGANA:"name:ja-Hira",JAPANESE_KANA:"name:ja_kana",JAPANESE_LATIN:"name:ja_rm",JAPANESE_2018:"name:ja-Latn",KANNADA:"name:kn",KAZAKH:"name:kk",KOREAN:"name:ko",KOREAN_LATIN:"name:ko-Latn",KURDISH:"name:ku",ROMAN_LATIN:"name:la",LATVIAN:"name:lv",LITHUANIAN:"name:lt",LUXEMBOURGISH:"name:lb",MACEDONIAN:"name:mk",MALAYALAM:"name:ml",MALTESE:"name:mt",NORWEGIAN:"name:no",OCCITAN:"name:oc",PERSIAN:"name:fa",POLISH:"name:pl",PORTUGUESE:"name:pt",PUNJABI:"name:pa",WESTERN_PUNJABI:"name:pnb",ROMANIAN:"name:ro",ROMANSH:"name:rm",RUSSIAN:"name:ru",SCOTTISH_GAELIC:"name:gd",SERBIAN_CYRILLIC:"name:sr",SERBIAN_LATIN:"name:sr-Latn",SLOVAK:"name:sk",SLOVENE:"name:sl",SPANISH:"name:es",SWEDISH:"name:sv",TAMIL:"name:ta",TELUGU:"name:te",THAI:"name:th",TURKISH:"name:tr",UKRAINIAN:"name:uk",URDU:"name:ur",VIETNAMIAN_LATIN:"name:vi",WELSH:"name:cy"},HZ=new Set(Object.values(Tn));function AA(e){return HZ.has(e)}const ZZ=new Set(Object.values(Tn));function kA(){if(typeof navigator>"u")return`name:${Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0]}`;const e=Array.from(new Set(navigator.languages.map(t=>`name:${t.split("-")[0]}`))).filter(t=>ZZ.has(t));return e.length?e[0]:Tn.LOCAL}const os={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:Tn.STYLE,secondaryLanguage:Tn.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(os);var KZ=Object.defineProperty,XZ=(e,t,n)=>t in e?KZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,up=(e,t,n)=>(XZ(e,typeof t!="symbol"?t+"":t,n),n);const eD=qZ();class YZ extends LZ{constructor(){super(),up(this,"primaryLanguage",os.primaryLanguage),up(this,"secondaryLanguage"),up(this,"session",!0),up(this,"_unit","metric"),up(this,"_apiKey","")}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,ph.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){ph.fetch=t}get fetch(){return ph.fetch}}const Ms=new YZ;class JZ extends on.LogoControl{onAdd(t){return super.onAdd(t)}}var QZ=Object.defineProperty,eK=(e,t,n)=>t in e?QZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IA=(e,t,n)=>(eK(e,typeof t!="symbol"?t+"":t,n),n);class MA extends JZ{constructor(t={}){var n,o;super(t),IA(this,"logoURL",""),IA(this,"linkURL",""),this.logoURL=(n=t.logoURL)!=null?n:os.maptilerLogoURL,this.linkURL=(o=t.linkURL)!=null?o:os.maptilerURL}onAdd(t){var n;this._map=t,this._compact=(n=this.options.compact)!=null?n:!1,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const o=window.document.createElement("a");return o.style.backgroundRepeat="no-repeat",o.style.cursor="pointer",o.style.display="block",o.style.height="23px",o.style.margin="0 0 -4px -4px",o.style.overflow="hidden",o.style.width="88px",o.style.backgroundImage=`url(${this.logoURL})`,o.style.backgroundSize="100px 30px",o.style.width="100px",o.style.height="30px",o.target="_blank",o.rel="noopener",o.href=this.linkURL,o.setAttribute("aria-label","MapTiler logo"),o.setAttribute("rel","noopener"),this._container.appendChild(o),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}var tK=Object.defineProperty,RA=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,LA=(e,t,n)=>t in e?tK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DA=(e,t)=>{for(var n in t||(t={}))nK.call(t,n)&&LA(e,n,t[n]);if(RA)for(var n of RA(t))rK.call(t,n)&&LA(e,n,t[n]);return e};function iK(){on.getRTLTextPluginStatus()==="unavailable"&&on.setRTLTextPlugin(os.rtlPluginURL,e=>{e&&console.error(e)},!0)}function oK(e,t){e.forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}function El(e,t,n){const o=window.document.createElement(e);return t!==void 0&&(o.className=t),n&&n.appendChild(o),o}function tD(e){e.parentNode&&e.parentNode.removeChild(e)}function zA(e,t){let n=null;try{n=new URL(e)}catch{return{url:e}}return n.host===os.maptilerApiHost&&(n.searchParams.has("key")||n.searchParams.append("key",Ms.apiKey),Ms.session&&n.searchParams.append("mtsid",eD)),{url:n.href}}function BA(e){return function(t,n){var o;if(e!==void 0){const c=e(t,n),h=zA((o=c==null?void 0:c.url)!=null?o:"");return DA(DA({},c),h)}else return zA(t)}}function OA(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:YL(e):e instanceof JL?e.getExpandedStyleURL():e instanceof QL?e.getDefaultVariant().getExpandedStyleURL():e:DS[ob[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}var sK=Object.defineProperty,aK=(e,t,n)=>t in e?sK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gx=(e,t,n)=>(aK(e,typeof t!="symbol"?t+"":t,n),n);class lK{constructor(){gx(this,"_map"),gx(this,"_container"),gx(this,"_terrainButton"),oK(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=El("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=El("button","maplibregl-ctrl-terrain",this._container),El("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){tD(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}}class cK extends on.NavigationControl{onAdd(t){return super.onAdd(t)}}var uK=Object.defineProperty,hK=(e,t,n)=>t in e?uK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dK=(e,t,n)=>(hK(e,typeof t!="symbol"?t+"":t,n),n);class pK extends cK{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),dK(this,"_rotateCompassArrow",()=>{const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5))}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t}),this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,n){const o=super._createButton(t,n);return o.clickFunction=n,o}}class fK extends on.GeolocateControl{onAdd(t){return super.onAdd(t)}}var mK=Object.defineProperty,gK=Object.defineProperties,yK=Object.getOwnPropertyDescriptors,FA=Object.getOwnPropertySymbols,vK=Object.prototype.hasOwnProperty,_K=Object.prototype.propertyIsEnumerable,sb=(e,t,n)=>t in e?mK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xK=(e,t)=>{for(var n in t||(t={}))vK.call(t,n)&&sb(e,n,t[n]);if(FA)for(var n of FA(t))_K.call(t,n)&&sb(e,n,t[n]);return e},bK=(e,t)=>gK(e,yK(t)),Pg=(e,t,n)=>(sb(e,typeof t!="symbol"?t+"":t,n),n);const NA=on.Marker,$A=on.LngLat,wK=on.LngLatBounds;class SK extends fK{constructor(){super(...arguments),Pg(this,"lastUpdatedCenter",new $A(0,0)),Pg(this,"_updateCamera",t=>{var n,o,c;const h=new $A(t.coords.longitude,t.coords.latitude),p=t.coords.accuracy,a=this._map.getBearing(),b=bK(xK({bearing:a},this.options.fitBoundsOptions),{linear:!0}),w=this._map.getZoom();w>((c=(o=(n=this.options)==null?void 0:n.fitBoundsOptions)==null?void 0:o.maxZoom)!=null?c:30)&&(b.zoom=w),this._map.fitBounds(wK.fromLngLat(h,p),b,{geolocateSource:!0});let E=!1;const A=()=>{E=!0};this._map.once("click",A),this._map.once("dblclick",A),this._map.once("dragstart",A),this._map.once("mousedown",A),this._map.once("touchstart",A),this._map.once("wheel",A),this._map.once("moveend",()=>{this._map.off("click",A),this._map.off("dblclick",A),this._map.off("dragstart",A),this._map.off("mousedown",A),this._map.off("touchstart",A),this._map.off("wheel",A),!E&&(this.lastUpdatedCenter=this._map.getCenter())})}),Pg(this,"_setupUI",t=>{if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=El("button","maplibregl-ctrl-geolocate",this._container),El("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=El("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new NA({element:this._dotElement}),this._circleElement=El("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new NA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",n=>{const o=n.originalEvent&&n.originalEvent.type==="resize",c=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!n.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!o&&c>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})}),Pg(this,"_onZoom",()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()})}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],n=this._map.project(t),o=this._map.unproject([n.x,n.y]),c=this._map.unproject([n.x+20,n.y]),h=o.distanceTo(c)/20,p=Math.ceil(2*this._accuracy/h);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}}class CK extends on.AttributionControl{onAdd(t){return super.onAdd(t)}}class TK extends on.ScaleControl{onAdd(t){return super.onAdd(t)}}class EK extends on.FullscreenControl{onAdd(t){return super.onAdd(t)}}var PK=Object.defineProperty,AK=Object.defineProperties,kK=Object.getOwnPropertyDescriptors,VA=Object.getOwnPropertySymbols,IK=Object.prototype.hasOwnProperty,MK=Object.prototype.propertyIsEnumerable,ab=(e,t,n)=>t in e?PK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fh=(e,t)=>{for(var n in t||(t={}))IK.call(t,n)&&ab(e,n,t[n]);if(VA)for(var n of VA(t))MK.call(t,n)&&ab(e,n,t[n]);return e},jA=(e,t)=>AK(e,kK(t)),RK=(e,t,n)=>(ab(e,typeof t!="symbol"?t+"":t,n),n),zS=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},bn=(e,t,n)=>(zS(e,t,"read from private field"),n?n.call(e):t.get(e)),Ys=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Fu=(e,t,n,o)=>(zS(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),Ao=(e,t,n)=>(zS(e,t,"access private method"),n),ko,oa,xc,nD,Mc,Jo,Qg,lb,rD,Io,es,cb,iD;class yx{constructor(t,n){Ys(this,lb),Ys(this,Io),Ys(this,cb),Ys(this,ko,void 0),RK(this,"map"),Ys(this,oa,void 0),Ys(this,xc,void 0),Ys(this,nD,void 0),Ys(this,Mc,void 0),Ys(this,Jo,!1),Ys(this,Qg,void 0);var o;t.style!==void 0&&Fu(this,Jo,!0),Fu(this,ko,jA(fh(jA(fh({zoomAdjust:-4,position:"top-right"},n),{forceNoAttributionControl:!0,attributionControl:!1,navigationControl:!1,geolocateControl:!1,maptilerLogo:!1,minimap:!1,hash:!1,pitchAdjust:!1}),t),{containerStyle:fh({border:"1px solid #000",width:"400px",height:"300px"},(o=t.containerStyle)!=null?o:{})})),t.lockZoom!==void 0&&(bn(this,ko).minZoom=t.lockZoom,bn(this,ko).maxZoom=t.lockZoom)}setStyle(t,n){bn(this,Jo)||this.map.setStyle(t,n),Ao(this,Io,es).call(this)}addLayer(t,n){return bn(this,Jo)||this.map.addLayer(t,n),Ao(this,Io,es).call(this),this.map}moveLayer(t,n){return bn(this,Jo)||this.map.moveLayer(t,n),Ao(this,Io,es).call(this),this.map}removeLayer(t){return bn(this,Jo)||this.map.removeLayer(t),Ao(this,Io,es).call(this),this}setLayerZoomRange(t,n,o){return bn(this,Jo)||this.map.setLayerZoomRange(t,n,o),Ao(this,Io,es).call(this),this}setFilter(t,n,o){return bn(this,Jo)||this.map.setFilter(t,n,o),Ao(this,Io,es).call(this),this}setPaintProperty(t,n,o,c){return bn(this,Jo)||this.map.setPaintProperty(t,n,o,c),Ao(this,Io,es).call(this),this}setLayoutProperty(t,n,o,c){return bn(this,Jo)||this.map.setLayoutProperty(t,n,o,c),Ao(this,Io,es).call(this),this}setGlyphs(t,n){return bn(this,Jo)||this.map.setGlyphs(t,n),Ao(this,Io,es).call(this),this}onAdd(t){Fu(this,oa,t),Fu(this,xc,El("div","maplibregl-ctrl maplibregl-ctrl-group"));for(const[n,o]of Object.entries(bn(this,ko).containerStyle))bn(this,xc).style.setProperty(n,o);return bn(this,ko).container=bn(this,xc),bn(this,ko).zoom=t.getZoom()+bn(this,ko).zoomAdjust,this.map=new BS(bn(this,ko)),this.map.once("style.load",()=>{this.map.resize()}),this.map.once("load",()=>{Ao(this,lb,rD).call(this,bn(this,ko).parentRect),Fu(this,Qg,Ao(this,cb,iD).call(this))}),bn(this,xc)}onRemove(){var t;(t=bn(this,Qg))==null||t.call(this),tD(bn(this,xc))}}ko=new WeakMap;oa=new WeakMap;xc=new WeakMap;nD=new WeakMap;Mc=new WeakMap;Jo=new WeakMap;Qg=new WeakMap;lb=new WeakSet;rD=function(e){e===void 0||e.linePaint===void 0&&e.fillPaint===void 0||(Fu(this,Mc,{type:"Feature",properties:{name:"parentRect"},geometry:{type:"Polygon",coordinates:[[[],[],[],[],[]]]}}),this.map.addSource("parentRect",{type:"geojson",data:bn(this,Mc)}),(e.lineLayout!==void 0||e.linePaint!==void 0)&&this.map.addLayer({id:"parentRectOutline",type:"line",source:"parentRect",layout:fh({},e.lineLayout),paint:fh({"line-color":"#FFF","line-width":1,"line-opacity":.85},e.linePaint)}),e.fillPaint!==void 0&&this.map.addLayer({id:"parentRectFill",type:"fill",source:"parentRect",layout:{},paint:fh({"fill-color":"#08F","fill-opacity":.135},e.fillPaint)}),Ao(this,Io,es).call(this))};Io=new WeakSet;es=function(){if(bn(this,Mc)===void 0)return;const{devicePixelRatio:e}=window,t=bn(this,oa).getCanvas(),n=t.width/e,o=t.height/e,c=bn(this,oa).unproject.bind(bn(this,oa)),h=c([0,0]),p=c([n,0]),a=c([0,o]),b=c([n,o]);bn(this,Mc).geometry.coordinates=[[a.toArray(),b.toArray(),p.toArray(),h.toArray(),a.toArray()]],this.map.getSource("parentRect").setData(bn(this,Mc))};cb=new WeakSet;iD=function(){const{pitchAdjust:e}=bn(this,ko),t=()=>{h("parent")},n=()=>{h("minimap")},o=()=>{bn(this,oa).on("move",t),this.map.on("move",n)},c=()=>{bn(this,oa).off("move",t),this.map.off("move",n)},h=p=>{var a;c();const b=p==="parent"?bn(this,oa):this.map,w=p==="parent"?this.map:bn(this,oa),E=b.getCenter(),A=b.getZoom()+((a=bn(this,ko).zoomAdjust)!=null?a:-4)*(p==="parent"?1:-1),I=b.getBearing(),L=b.getPitch();w.jumpTo({center:E,zoom:A,bearing:I,pitch:e?L:0}),Ao(this,Io,es).call(this),o()};return o(),()=>{c()}};var LK=Object.defineProperty,DK=Object.defineProperties,zK=Object.getOwnPropertyDescriptors,UA=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,OK=Object.prototype.propertyIsEnumerable,ub=(e,t,n)=>t in e?LK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FK=(e,t)=>{for(var n in t||(t={}))BK.call(t,n)&&ub(e,n,t[n]);if(UA)for(var n of UA(t))OK.call(t,n)&&ub(e,n,t[n]);return e},NK=(e,t)=>DK(e,zK(t)),La=(e,t,n)=>(ub(e,typeof t!="symbol"?t+"":t,n),n),Js=(e,t,n)=>new Promise((o,c)=>{var h=b=>{try{a(n.next(b))}catch(w){c(w)}},p=b=>{try{a(n.throw(b))}catch(w){c(w)}},a=b=>b.done?o(b.value):Promise.resolve(b.value).then(h,p);a((n=n.apply(e,t)).next())});const $K={POINT:"POINT",COUNTRY:"COUNTRY"};let BS=class extends on.Map{constructor(t){var n,o,c;t.apiKey&&(Ms.apiKey=t.apiKey);const h=OA(t.style),p=location.hash;Ms.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!"),super(NK(FK({},t),{style:h,maplibreLogo:!1,transformRequest:BA(t.transformRequest)})),La(this,"isTerrainEnabled",!1),La(this,"terrainExaggeration",1),La(this,"primaryLanguage"),La(this,"terrainGrowing",!1),La(this,"terrainFlattening",!1),La(this,"minimap"),La(this,"forceLanguageUpdate"),La(this,"languageAlwaysBeenStyle"),La(this,"isReady",!1),this.primaryLanguage=(n=t.language)!=null?n:Ms.primaryLanguage,this.forceLanguageUpdate=!(this.primaryLanguage===Tn.STYLE||this.primaryLanguage===Tn.STYLE_LOCK),this.languageAlwaysBeenStyle=this.primaryLanguage===Tn.STYLE,this.terrainExaggeration=(o=t.terrainExaggeration)!=null?o:this.terrainExaggeration,this.once("styledata",()=>Js(this,null,function*(){if(!t.geolocate||t.center||t.hash&&p)return;try{if(t.geolocate===$K.COUNTRY){yield this.fitToIpBounds();return}}catch(L){console.warn(L.message)}let A;try{yield this.centerOnIpPoint(t.zoom),A=this.getCameraHash()}catch(L){console.warn(L.message)}(yield navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(L=>{A===this.getCameraHash()&&(this.terrain?this.easeTo({center:[L.coords.longitude,L.coords.latitude],zoom:t.zoom||12,duration:2e3}):this.once("terrain",()=>{this.easeTo({center:[L.coords.longitude,L.coords.latitude],zoom:t.zoom||12,duration:2e3})}))},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})})),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",()=>Js(this,null,function*(){iK()})),this.once("load",()=>Js(this,null,function*(){let A={logo:null};try{const I=Object.keys(this.style.sourceCaches).map(j=>this.getSource(j)).filter(j=>j&&"url"in j&&typeof j.url=="string"&&(j==null?void 0:j.url.includes("tiles.json"))),L=new URL(I[0].url);L.searchParams.has("key")||L.searchParams.append("key",Ms.apiKey),A=yield(yield fetch(L.href)).json()}catch{}if(t.forceNoAttributionControl!==!0)if("logo"in A&&A.logo){const I=A.logo;this.addControl(new MA({logoURL:I}),t.logoPosition),t.attributionControl===!1&&this.addControl(new CK({customAttribution:t.customAttribution}))}else t.maptilerLogo&&this.addControl(new MA,t.logoPosition);if(t.scaleControl){const I=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,L=new TK({unit:Ms.unit});this.addControl(L,I),Ms.on("unit",F=>{L.setUnit(F)})}if(t.navigationControl!==!1){const I=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new pK,I)}if(t.geolocateControl!==!1){const I=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new SK({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),I)}if(t.terrainControl){const I=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new lK,I)}if(t.fullscreenControl){const I=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new EK({}),I)}this.isReady=!0,this.fire("ready",{target:this})}));let a=!1,b=!1,w;this.once("ready",()=>{a=!0,b&&this.fire("loadWithTerrain",w)}),this.once("style.load",()=>{var A;const{minimap:I}=t;if(typeof I=="object"){const{zoom:L,center:F,style:j,language:K,apiKey:B,maptilerLogo:V,antialias:$,refreshExpiredTiles:J,maxBounds:ie,scrollZoom:de,minZoom:ye,maxZoom:me,boxZoom:ke,locale:G,fadeDuration:Te,crossSourceCollisions:Le,clickTolerance:Ue,bounds:qe,fitBoundsOptions:Oe,pixelRatio:Ge,validateStyle:Ye}=t;this.minimap=new yx(I,{zoom:L,center:F,style:j,language:K,apiKey:B,container:"null",maptilerLogo:V,antialias:$,refreshExpiredTiles:J,maxBounds:ie,scrollZoom:de,minZoom:ye,maxZoom:me,boxZoom:ke,locale:G,fadeDuration:Te,crossSourceCollisions:Le,clickTolerance:Ue,bounds:qe,fitBoundsOptions:Oe,pixelRatio:Ge,validateStyle:Ye}),this.addControl(this.minimap,(A=I.position)!=null?A:"bottom-left")}else I===!0?(this.minimap=new yx({},t),this.addControl(this.minimap,"bottom-left")):I!==void 0&&I!==!1&&(this.minimap=new yx({},t),this.addControl(this.minimap,I))});const E=A=>{A.terrain&&(b=!0,w={type:"loadWithTerrain",target:this,terrain:A.terrain},this.off("terrain",E),a&&this.fire("loadWithTerrain",w))};this.on("terrain",E),t.terrain&&this.enableTerrain((c=t.terrainExaggeration)!=null?c:this.terrainExaggeration)}onLoadAsync(){return Js(this,null,function*(){return new Promise(t=>{if(this.loaded())return t(this);this.once("load",()=>{t(this)})})})}onReadyAsync(){return Js(this,null,function*(){return new Promise(t=>{if(this.isReady)return t(this);this.once("ready",()=>{t(this)})})})}onLoadWithTerrainAsync(){return Js(this,null,function*(){return new Promise(t=>{if(this.isReady&&this.terrain)return t(this);this.once("loadWithTerrain",()=>{t(this)})})})}setStyle(t,n){var o;return(o=this.minimap)==null||o.setStyle(t),this.forceLanguageUpdate=!0,this.once("idle",()=>{this.forceLanguageUpdate=!1}),super.setStyle(OA(t),n)}addLayer(t,n){var o;return(o=this.minimap)==null||o.addLayer(t,n),super.addLayer(t,n)}moveLayer(t,n){var o;return(o=this.minimap)==null||o.moveLayer(t,n),super.moveLayer(t,n)}removeLayer(t){var n;return(n=this.minimap)==null||n.removeLayer(t),super.removeLayer(t)}setLayerZoomRange(t,n,o){var c;return(c=this.minimap)==null||c.setLayerZoomRange(t,n,o),super.setLayerZoomRange(t,n,o)}setFilter(t,n,o){var c;return(c=this.minimap)==null||c.setFilter(t,n,o),super.setFilter(t,n,o)}setPaintProperty(t,n,o,c){var h;return(h=this.minimap)==null||h.setPaintProperty(t,n,o,c),super.setPaintProperty(t,n,o,c)}setLayoutProperty(t,n,o,c){var h;return(h=this.minimap)==null||h.setLayoutProperty(t,n,o,c),super.setLayoutProperty(t,n,o,c)}setGlyphs(t,n){var o;return(o=this.minimap)==null||o.setGlyphs(t,n),super.setGlyphs(t,n)}getStyleLanguage(){return!this.style.stylesheet.metadata||typeof this.style.stylesheet.metadata!="object"?null:"maptiler:language"in this.style.stylesheet.metadata&&typeof this.style.stylesheet.metadata["maptiler:language"]=="string"?this.style.stylesheet.metadata["maptiler:language"]:null}setLanguage(t){var n,o;(o=(n=this.minimap)==null?void 0:n.map)==null||o.setLanguage(t),this.onStyleReady(()=>{this.setPrimaryLanguage(t)})}setPrimaryLanguage(t){const n=this.getStyleLanguage();if(!(t===Tn.STYLE&&(n===Tn.AUTO||n===Tn.VISITOR))&&(t!==Tn.STYLE&&(this.languageAlwaysBeenStyle=!1),this.languageAlwaysBeenStyle||this.primaryLanguage===t&&!this.forceLanguageUpdate))return;if(!AA(t)){console.warn(`The language "${t}" is not supported.`);return}if(this.primaryLanguage===Tn.STYLE_LOCK){console.warn("The language cannot be changed because this map has been instantiated with the STYLE_LOCK language flag.");return}this.primaryLanguage=t;let o=t;if(t===Tn.STYLE){if(!n){console.warn("The style has no default languages.");return}if(!AA(n)){console.warn("The language defined in the style is not valid.");return}o=n}let c=Tn.LOCAL,h=`{${c}}`;o==Tn.VISITOR?(c=kA(),h=["case",["all",["has",c],["has",Tn.LOCAL]],["case",["==",["get",c],["get",Tn.LOCAL]],["get",Tn.LOCAL],["format",["get",c],{"font-scale":.8},`
`,["get",Tn.LOCAL],{"font-scale":1.1}]],["get",Tn.LOCAL]]):o==Tn.VISITOR_ENGLISH?(c=Tn.ENGLISH,h=["case",["all",["has",c],["has",Tn.LOCAL]],["case",["==",["get",c],["get",Tn.LOCAL]],["get",Tn.LOCAL],["format",["get",c],{"font-scale":.8},`
`,["get",Tn.LOCAL],{"font-scale":1.1}]],["get",Tn.LOCAL]]):o===Tn.AUTO?(c=kA(),h=["case",["has",c],["get",c],["get",Tn.LOCAL]]):o===Tn.LOCAL?(c=Tn.LOCAL,h=`{${c}}`):(c=o,h=["case",["has",c],["get",c],["get",Tn.LOCAL]]);const{layers:p}=this.getStyle();for(const{id:a,layout:b}of p){if(!b||!("text-field"in b))continue;const w=this.getLayoutProperty(a,"text-field");typeof w=="string"&&(w.toLowerCase().includes("ref")||w.toLowerCase().includes("housenumber"))||this.setLayoutProperty(a,"text-field",h)}}getPrimaryLanguage(){return this.primaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(t,n=1e3){if(!this.terrain)return;const o=performance.now(),c=this.terrain.exaggeration,h=t-c,p=()=>{if(!this.terrain||this.terrainFlattening)return;const a=(performance.now()-o)/n;if(a<.99){const b=1-Math.pow(1-a,4),w=c+b*h;this.terrain.exaggeration=w,requestAnimationFrame(p)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=t;this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(p)}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const n=c=>Js(this,null,function*(){!this.terrain||c.type!=="data"||c.dataType!=="source"||!("source"in c)||c.sourceId!=="maptiler-terrain"||c.source.type!=="raster-dem"||c.isSourceLoaded&&(this.off("data",n),this.growTerrain(t))}),o=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.on("data",n),this.addSource(os.terrainSourceId,{type:"raster-dem",url:os.terrainSourceURL}),this.setTerrain({source:os.terrainSourceId,exaggeration:0})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(t);return}this.loaded()||this.isTerrainEnabled?o():this.once("load",()=>{this.getTerrain()&&this.getSource(os.terrainSourceId)||o()})}disableTerrain(){if(!this.terrain)return;this.isTerrainEnabled=!1;const t=1*1e3,n=performance.now(),o=this.terrain.exaggeration,c=()=>{if(!this.terrain||this.terrainGrowing)return;const h=(performance.now()-n)/t;if(h<.99){const p=Math.pow(1-h,4),a=o*p;this.terrain.exaggeration=a,requestAnimationFrame(c)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(os.terrainSourceId)&&this.removeSource(os.terrainSourceId);this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(c)}setTerrainExaggeration(t,n=!0){!n&&this.terrain?(this.terrainExaggeration=t,this.terrain.exaggeration=t,this.triggerRepaint()):this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}fitToIpBounds(){return Js(this,null,function*(){const t=yield EA.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})})}centerOnIpPoint(t){return Js(this,null,function*(){var n,o;const c=yield EA.info();this.jumpTo({center:[(n=c==null?void 0:c.longitude)!=null?n:0,(o=c==null?void 0:c.latitude)!=null?o:0],zoom:t||11})})}getCameraHash(){const t=new Float32Array(5),n=this.getCenter();return t[0]=n.lng,t[1]=n.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),TZ.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return Ms}getMaptilerSessionId(){return eD}setTransformRequest(t){return super.setTransformRequest(BA(t)),this}loadImageAsync(t){return Js(this,null,function*(){return new Promise((n,o)=>{this.loadImage(t,(c,h)=>{if(c){o(c);return}n(h)})})})}};class oD extends on.Marker{addTo(t){return super.addTo(t)}}class VK extends on.Popup{addTo(t){return super.addTo(t)}}class KY extends on.Style{constructor(t,n={}){super(t,n)}}class XY extends on.CanvasSource{onAdd(t){super.onAdd(t)}}class YY extends on.GeoJSONSource{onAdd(t){super.onAdd(t)}}class JY extends on.ImageSource{onAdd(t){super.onAdd(t)}}class QY extends on.RasterTileSource{onAdd(t){super.onAdd(t)}}class eJ extends on.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class tJ extends on.VectorTileSource{onAdd(t){super.onAdd(t)}}class nJ extends on.VideoSource{onAdd(t){super.onAdd(t)}}class rJ extends on.TerrainControl{onAdd(t){return super.onAdd(t)}}var jK=Object.defineProperty,UK=(e,t,n)=>t in e?jK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WA=(e,t,n)=>(UK(e,typeof t!="symbol"?t+"":t,n),n);function Ag(e){const t=e.toString(16);return t.length==1?"0"+t:t}function WK(e){return"#"+Ag(e[0])+Ag(e[1])+Ag(e[2])+(e.length===4?Ag(e[3]):"")}class Lt extends Array{constructor(t={}){super(),WA(this,"min",0),WA(this,"max",1),"min"in t&&(this.min=t.min),"max"in t&&(this.max=t.max),"stops"in t&&this.setStops(t.stops,{clone:!1})}static fromArrayDefinition(t){return new Lt({stops:t.map(n=>({value:n[0],color:n[1]}))})}setStops(t,n={clone:!0}){const o=n.clone?this.clone():this;o.length=0;let c=1/0,h=-1/0;for(let p=0;p<t.length;p+=1)c=Math.min(c,t[p].value),h=Math.max(h,t[p].value),o.push({value:t[p].value,color:t[p].color.slice()});return o.sort((p,a)=>p.value<a.value?-1:1),this.min=c,this.max=h,o}scale(t,n,o={clone:!0}){const c=o.clone,h=this[0].value,a=this.at(-1).value-h,b=n-t,w=[];for(let E=0;E<this.length;E+=1){const L=(this[E].value-h)/a*b+t;c?w.push({value:L,color:this[E].color.slice()}):this[E].value=L}return c?new Lt({stops:w}):this}at(t){return t<0?this[this.length+t]:this[t]}clone(){return new Lt({stops:this.getRawColorStops()})}getRawColorStops(){const t=[];for(let n=0;n<this.length;n+=1)t.push({value:this[n].value,color:this[n].color});return t}reverse(t={clone:!0}){const n=t.clone?this.clone():this;for(let o=0;o<~~(n.length/2);o+=1){const c=n[o].color;n[o].color=n.at(-(o+1)).color,n.at(-(o+1)).color=c}return n}getBounds(){return{min:this.min,max:this.max}}getColor(t,n={smooth:!0}){if(t<=this[0].value)return this[0].color;if(t>=this.at(-1).value)return this.at(-1).color;for(let o=0;o<this.length-1;o+=1){if(t>this[o+1].value)continue;const c=this[o].color;if(!n.smooth)return c.slice();const h=this[o].value,p=this[o+1].value,a=this[o+1].color,b=(p-t)/(p-h);return c.map((w,E)=>Math.round(w*b+a[E]*(1-b)))}return[0,0,0]}getColorHex(t,n={smooth:!0,withAlpha:!1}){return WK(this.getColor(t,n))}getColorRelative(t,n={smooth:!0}){const o=this.getBounds();return this.getColor(o.min+t*(o.max-o.min),n)}getCanvasStrip(t={horizontal:!0,size:512,smooth:!0}){const n=document.createElement("canvas");n.width=t.horizontal?t.size:1,n.height=t.horizontal?1:t.size;const o=n.getContext("2d");if(!o)throw new Error("Canvs context is missing");const c=o.getImageData(0,0,n.width,n.height),h=c.data,p=t.size,a=this[0].value,E=(this.at(-1).value-a)/p;for(let A=0;A<p;A+=1){const I=this.getColor(a+A*E,{smooth:t.smooth});h[A*4]=I[0],h[A*4+1]=I[1],h[A*4+2]=I[2],h[A*4+3]=I.length>3?I[3]:255}return o.putImageData(c,0,0),n}resample(t,n=15){const o=this.getBounds(),c=this.scale(0,1),h=1/(n-1);let p;if(t==="ease-in-square")p=Array.from({length:n},(w,E)=>{const A=E*h,I=Math.pow(A,2),L=c.getColor(I);return{value:A,color:L}});else if(t==="ease-out-square")p=Array.from({length:n},(w,E)=>{const A=E*h,I=1-Math.pow(1-A,2),L=c.getColor(I);return{value:A,color:L}});else if(t==="ease-out-sqrt")p=Array.from({length:n},(w,E)=>{const A=E*h,I=Math.pow(A,.5),L=c.getColor(I);return{value:A,color:L}});else if(t==="ease-in-sqrt")p=Array.from({length:n},(w,E)=>{const A=E*h,I=1-Math.pow(1-A,.5),L=c.getColor(I);return{value:A,color:L}});else if(t==="ease-out-exp")p=Array.from({length:n},(w,E)=>{const A=E*h,I=1-Math.pow(2,-10*A),L=c.getColor(I);return{value:A,color:L}});else if(t==="ease-in-exp")p=Array.from({length:n},(w,E)=>{const A=E*h,I=Math.pow(2,10*A-10),L=c.getColor(I);return{value:A,color:L}});else throw new Error("Invalid ressampling method.");return new Lt({stops:p}).scale(o.min,o.max)}transparentStart(){const t=this.getRawColorStops();return t.unshift({value:t[0].value,color:t[0].color.slice()}),t[1].value+=.001,t.forEach(n=>{n.color.length===3&&n.color.push(255)}),t[0].color[3]=0,new Lt({stops:t})}hasTransparentStart(){return this[0].color.length===4&&this[0].color[3]===0}}new Lt({stops:[{value:0,color:[0,0,0,0]},{value:1,color:[0,0,0,0]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Lt({stops:[{value:0,color:[0,0,131]},{value:.125,color:[0,60,170]},{value:.375,color:[5,255,255]},{value:.625,color:[255,255,0]},{value:.875,color:[250,0,0]},{value:1,color:[128,0,0]}]}),new Lt({stops:[{value:0,color:[255,0,0]},{value:.169,color:[253,255,2]},{value:.173,color:[247,255,2]},{value:.337,color:[0,252,4]},{value:.341,color:[0,252,10]},{value:.506,color:[1,249,255]},{value:.671,color:[2,0,253]},{value:.675,color:[8,0,253]},{value:.839,color:[255,0,251]},{value:.843,color:[255,0,245]},{value:1,color:[255,0,6]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.3,color:[230,0,0]},{value:.6,color:[255,210,0]},{value:1,color:[255,255,255]}]}),new Lt({stops:[{value:0,color:[255,0,255]},{value:1,color:[255,255,0]}]}),new Lt({stops:[{value:0,color:[0,128,102]},{value:1,color:[255,255,102]}]}),new Lt({stops:[{value:0,color:[255,0,0]},{value:1,color:[255,255,0]}]}),new Lt({stops:[{value:0,color:[0,0,255]},{value:1,color:[0,255,128]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.376,color:[84,84,116]},{value:.753,color:[169,200,200]},{value:1,color:[255,255,255]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.804,color:[255,160,102]},{value:1,color:[255,199,127]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Lt({stops:[{value:0,color:[8,29,88]},{value:.125,color:[37,52,148]},{value:.25,color:[34,94,168]},{value:.375,color:[29,145,192]},{value:.5,color:[65,182,196]},{value:.625,color:[127,205,187]},{value:.75,color:[199,233,180]},{value:.875,color:[237,248,217]},{value:1,color:[255,255,217]}]}),new Lt({stops:[{value:0,color:[0,68,27]},{value:.125,color:[0,109,44]},{value:.25,color:[35,139,69]},{value:.375,color:[65,171,93]},{value:.5,color:[116,196,118]},{value:.625,color:[161,217,155]},{value:.75,color:[199,233,192]},{value:.875,color:[229,245,224]},{value:1,color:[247,252,245]}]}),new Lt({stops:[{value:0,color:[128,0,38]},{value:.125,color:[189,0,38]},{value:.25,color:[227,26,28]},{value:.375,color:[252,78,42]},{value:.5,color:[253,141,60]},{value:.625,color:[254,178,76]},{value:.75,color:[254,217,118]},{value:.875,color:[255,237,160]},{value:1,color:[255,255,204]}]}),new Lt({stops:[{value:0,color:[0,0,255]},{value:1,color:[255,0,0]}]}),new Lt({stops:[{value:0,color:[5,10,172]},{value:.35,color:[106,137,247]},{value:.5,color:[190,190,190]},{value:.6,color:[220,170,132]},{value:.7,color:[230,145,90]},{value:1,color:[178,10,28]}]}),new Lt({stops:[{value:0,color:[0,0,255]},{value:.1,color:[51,153,255]},{value:.2,color:[102,204,255]},{value:.3,color:[153,204,255]},{value:.4,color:[204,204,255]},{value:.5,color:[255,255,255]},{value:.6,color:[255,204,255]},{value:.7,color:[255,153,255]},{value:.8,color:[255,102,204]},{value:.9,color:[255,102,102]},{value:1,color:[255,0,0]}]}),new Lt({stops:[{value:0,color:[150,0,90]},{value:.125,color:[0,0,200]},{value:.25,color:[0,25,255]},{value:.375,color:[0,152,255]},{value:.5,color:[44,255,150]},{value:.625,color:[151,255,0]},{value:.75,color:[255,234,0]},{value:.875,color:[255,111,0]},{value:1,color:[255,0,0]}]}),new Lt({stops:[{value:0,color:[12,51,131]},{value:.25,color:[10,136,186]},{value:.5,color:[242,211,56]},{value:.75,color:[242,143,56]},{value:1,color:[217,30,30]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.2,color:[230,0,0]},{value:.4,color:[230,210,0]},{value:.7,color:[255,255,255]},{value:1,color:[160,200,255]}]}),new Lt({stops:[{value:0,color:[0,0,130]},{value:.1,color:[0,180,180]},{value:.2,color:[40,210,40]},{value:.4,color:[230,230,50]},{value:.6,color:[120,70,20]},{value:1,color:[255,255,255]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.15,color:[30,0,100]},{value:.4,color:[120,0,100]},{value:.6,color:[160,90,0]},{value:.8,color:[230,200,0]},{value:1,color:[255,250,220]}]}),new Lt({stops:[{value:0,color:[68,1,84]},{value:.13,color:[71,44,122]},{value:.25,color:[59,81,139]},{value:.38,color:[44,113,142]},{value:.5,color:[33,144,141]},{value:.63,color:[39,173,129]},{value:.75,color:[92,200,99]},{value:.88,color:[170,220,50]},{value:1,color:[253,231,37]}]}),new Lt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[31,12,72]},{value:.25,color:[85,15,109]},{value:.38,color:[136,34,106]},{value:.5,color:[186,54,85]},{value:.63,color:[227,89,51]},{value:.75,color:[249,140,10]},{value:.88,color:[249,201,50]},{value:1,color:[252,255,164]}]}),new Lt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[28,16,68]},{value:.25,color:[79,18,123]},{value:.38,color:[129,37,129]},{value:.5,color:[181,54,122]},{value:.63,color:[229,80,100]},{value:.75,color:[251,135,97]},{value:.88,color:[254,194,135]},{value:1,color:[252,253,191]}]}),new Lt({stops:[{value:0,color:[13,8,135]},{value:.13,color:[75,3,161]},{value:.25,color:[125,3,168]},{value:.38,color:[168,34,150]},{value:.5,color:[203,70,121]},{value:.63,color:[229,107,93]},{value:.75,color:[248,148,65]},{value:.88,color:[253,195,40]},{value:1,color:[240,249,33]}]}),new Lt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[172,0,187]},{value:.25,color:[219,0,170]},{value:.38,color:[255,0,130]},{value:.5,color:[255,63,74]},{value:.63,color:[255,123,0]},{value:.75,color:[234,176,0]},{value:.88,color:[190,228,0]},{value:1,color:[147,255,0]}]}),new Lt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[116,0,218]},{value:.25,color:[98,74,237]},{value:.38,color:[68,146,231]},{value:.5,color:[0,204,197]},{value:.63,color:[0,247,146]},{value:.75,color:[0,255,88]},{value:.88,color:[40,255,8]},{value:1,color:[147,255,0]}]}),new Lt({stops:[{value:0,color:[125,0,179]},{value:.1,color:[199,0,180]},{value:.2,color:[255,0,121]},{value:.3,color:[255,108,0]},{value:.4,color:[222,194,0]},{value:.5,color:[150,255,0]},{value:.6,color:[0,255,55]},{value:.7,color:[0,246,150]},{value:.8,color:[50,167,222]},{value:.9,color:[103,51,235]},{value:1,color:[124,0,186]}]}),new Lt({stops:[{value:0,color:[40,26,44]},{value:.13,color:[59,49,90]},{value:.25,color:[64,76,139]},{value:.38,color:[63,110,151]},{value:.5,color:[72,142,158]},{value:.63,color:[85,174,163]},{value:.75,color:[120,206,163]},{value:.88,color:[187,230,172]},{value:1,color:[253,254,204]}]}),new Lt({stops:[{value:0,color:[47,15,62]},{value:.13,color:[87,23,86]},{value:.25,color:[130,28,99]},{value:.38,color:[171,41,96]},{value:.5,color:[206,67,86]},{value:.63,color:[230,106,84]},{value:.75,color:[242,149,103]},{value:.88,color:[249,193,135]},{value:1,color:[254,237,176]}]}),new Lt({stops:[{value:0,color:[18,36,20]},{value:.13,color:[25,63,41]},{value:.25,color:[24,91,59]},{value:.38,color:[13,119,72]},{value:.5,color:[18,148,80]},{value:.63,color:[80,173,89]},{value:.75,color:[132,196,122]},{value:.88,color:[175,221,162]},{value:1,color:[215,249,208]}]}),new Lt({stops:[{value:0,color:[54,14,36]},{value:.13,color:[89,23,80]},{value:.25,color:[110,45,132]},{value:.38,color:[120,77,178]},{value:.5,color:[120,113,213]},{value:.63,color:[115,151,228]},{value:.75,color:[134,185,227]},{value:.88,color:[177,214,227]},{value:1,color:[230,241,241]}]}),new Lt({stops:[{value:0,color:[30,4,110]},{value:.13,color:[47,14,176]},{value:.25,color:[41,45,236]},{value:.38,color:[25,99,212]},{value:.5,color:[68,131,200]},{value:.63,color:[114,156,197]},{value:.75,color:[157,181,203]},{value:.88,color:[200,208,216]},{value:1,color:[241,237,236]}]}),new Lt({stops:[{value:0,color:[60,9,18]},{value:.13,color:[100,17,27]},{value:.25,color:[142,20,29]},{value:.38,color:[177,43,27]},{value:.5,color:[192,87,63]},{value:.63,color:[205,125,105]},{value:.75,color:[216,162,148]},{value:.88,color:[227,199,193]},{value:1,color:[241,237,236]}]}),new Lt({stops:[{value:0,color:[64,5,5]},{value:.13,color:[106,6,15]},{value:.25,color:[144,26,7]},{value:.38,color:[168,64,3]},{value:.5,color:[188,100,4]},{value:.63,color:[206,136,11]},{value:.75,color:[220,174,25]},{value:.88,color:[231,215,44]},{value:1,color:[248,254,105]}]}),new Lt({stops:[{value:0,color:[51,20,24]},{value:.13,color:[90,32,35]},{value:.25,color:[129,44,34]},{value:.38,color:[159,68,25]},{value:.5,color:[182,99,19]},{value:.63,color:[199,134,22]},{value:.75,color:[212,171,35]},{value:.88,color:[221,210,54]},{value:1,color:[225,253,75]}]}),new Lt({stops:[{value:0,color:[145,105,18]},{value:.13,color:[184,71,38]},{value:.25,color:[186,58,115]},{value:.38,color:[160,71,185]},{value:.5,color:[110,97,218]},{value:.63,color:[50,123,164]},{value:.75,color:[31,131,110]},{value:.88,color:[77,129,34]},{value:1,color:[145,105,18]}]}),new Lt({stops:[{value:0,color:[42,24,108]},{value:.13,color:[33,50,162]},{value:.25,color:[15,90,145]},{value:.38,color:[40,118,137]},{value:.5,color:[59,146,135]},{value:.63,color:[79,175,126]},{value:.75,color:[120,203,104]},{value:.88,color:[193,221,100]},{value:1,color:[253,239,154]}]}),new Lt({stops:[{value:0,color:[4,35,51]},{value:.13,color:[23,51,122]},{value:.25,color:[85,59,157]},{value:.38,color:[129,79,143]},{value:.5,color:[175,95,130]},{value:.63,color:[222,112,101]},{value:.75,color:[249,146,66]},{value:.88,color:[249,196,65]},{value:1,color:[232,250,91]}]}),new Lt({stops:[{value:0,color:[34,31,27]},{value:.13,color:[65,50,41]},{value:.25,color:[98,69,52]},{value:.38,color:[131,89,57]},{value:.5,color:[161,112,59]},{value:.63,color:[185,140,66]},{value:.75,color:[202,174,88]},{value:.88,color:[216,209,126]},{value:1,color:[233,246,171]}]}),new Lt({stops:[{value:0,color:[17,32,64]},{value:.13,color:[35,52,116]},{value:.25,color:[29,81,156]},{value:.38,color:[31,113,162]},{value:.5,color:[50,144,169]},{value:.63,color:[87,173,176]},{value:.75,color:[149,196,189]},{value:.88,color:[203,221,211]},{value:1,color:[254,251,230]}]}),new Lt({stops:[{value:0,color:[23,35,19]},{value:.13,color:[24,64,38]},{value:.25,color:[11,95,45]},{value:.38,color:[39,123,35]},{value:.5,color:[95,146,12]},{value:.63,color:[152,165,18]},{value:.75,color:[201,186,69]},{value:.88,color:[233,216,137]},{value:1,color:[255,253,205]}]}),new Lt({stops:[{value:0,color:[0,0,0]},{value:.07,color:[22,5,59]},{value:.13,color:[60,4,105]},{value:.2,color:[109,1,135]},{value:.27,color:[161,0,147]},{value:.33,color:[210,2,142]},{value:.4,color:[251,11,123]},{value:.47,color:[255,29,97]},{value:.53,color:[255,54,69]},{value:.6,color:[255,85,46]},{value:.67,color:[255,120,34]},{value:.73,color:[255,157,37]},{value:.8,color:[241,191,57]},{value:.87,color:[224,220,93]},{value:.93,color:[218,241,142]},{value:1,color:[227,253,198]}]}),new Lt({stops:[{value:0,color:[0,32,77,255]},{value:.125,color:[5,54,110,255]},{value:.25,color:[65,77,108,255]},{value:.375,color:[97,100,111,255]},{value:.5,color:[125,124,121,255]},{value:.625,color:[156,149,120,255]},{value:.75,color:[190,175,111,255]},{value:.875,color:[225,204,94,255]},{value:1,color:[255,235,70,255]}]}),new Lt({stops:[{value:0,color:[48,18,59,255]},{value:.125,color:[70,107,227,255]},{value:.25,color:[40,187,236,255]},{value:.375,color:[49,242,153,255]},{value:.5,color:[162,252,60,255]},{value:.625,color:[237,208,58,255]},{value:.75,color:[251,128,34,255]},{value:.875,color:[210,49,5,255]},{value:1,color:[122,4,3,255]}]}),new Lt({stops:[{value:0,color:[250,235,221,0]},{value:.133,color:[250,235,221,255]},{value:.266,color:[246,170,130,255]},{value:.4,color:[240,96,67,255]},{value:.533,color:[203,27,79,255]},{value:.666,color:[132,30,90,255]},{value:.8,color:[63,27,68,255]},{value:1,color:[3,5,26,255]}]}),new Lt({stops:[{value:0,color:[11,4,5,255]},{value:.125,color:[43,28,53,255]},{value:.25,color:[62,53,107,255]},{value:.375,color:[59,86,152,255]},{value:.5,color:[53,123,162,255]},{value:.625,color:[53,158,170,255]},{value:.75,color:[73,193,173,255]},{value:.875,color:[150,221,181,255]},{value:1,color:[222,245,229,255]}]});on.Map;on.Marker;on.Popup;on.Style;on.CanvasSource;on.GeoJSONSource;on.ImageSource;on.RasterTileSource;on.RasterDEMTileSource;on.VectorTileSource;on.VideoSource;on.NavigationControl;on.GeolocateControl;on.AttributionControl;on.LogoControl;on.ScaleControl;on.FullscreenControl;on.TerrainControl;const GA=ms(oe.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),GK=[{location:"Delhi",coordinates:[77.209,28.6139],incidents:[{type:"Theft",count:150},{type:"Assault",count:75},{type:"Robbery",count:45}]},{location:"Mumbai",coordinates:[72.8777,19.076],incidents:[{type:"Theft",count:120},{type:"Assault",count:60},{type:"Robbery",count:35}]},{location:"Bangalore",coordinates:[77.5946,12.9716],incidents:[{type:"Theft",count:90},{type:"Assault",count:40},{type:"Robbery",count:25}]}],qK=e=>(Ms.apiKey="6GHnwlK28StRFj4GuH8E",new BS({container:e,style:DS.DARK,center:[78.9629,20.5937],zoom:4})),HK=e=>{e&&GK.forEach(t=>{const n=t.incidents.reduce((c,h)=>c+h.count,0),o=ZK(n);new oD({color:o}).setLngLat(t.coordinates).setPopup(new VK({offset:25}).setHTML(`
            <div style="padding: 12px;">
              <h4 style="margin: 0 0 8px 0;">${t.location}</h4>
              ${t.incidents.map(c=>`<p style="margin: 4px 0;">${c.type}: ${c.count}</p>`).join("")}
              <p style="margin: 8px 0 0 0; font-weight: bold;">Total: ${n}</p>
            </div>
          `)).addTo(e)})},ZK=e=>e>200?"#FF0000":e>150?"#FF4500":e>100?"#FFA500":"#FFD700",KK=ot(Hw)(({theme:e})=>({minHeight:"100vh",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(4)},fontFamily:'"Inter", sans-serif'})),XK=ot(ro)(({theme:e})=>({height:"60vh",minHeight:"500px",width:"100%",position:"relative",marginBottom:e.spacing(4),overflow:"hidden",border:`1px solid ${e.palette.divider}`,borderRadius:e.shape.borderRadius,"& .maplibregl-canvas":{width:"100% !important",height:"100% !important"},"& .maplibregl-map":{position:"absolute !important",top:0,left:0,right:0,bottom:0,width:"100% !important",height:"100% !important"}})),YK=ot(ro)(({theme:e})=>({padding:e.spacing(3),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"transform 0.2s, border-color 0.2s","&:hover":{transform:"translateY(-4px)",borderColor:e.palette.primary.main}})),JK=ot(ro)(({theme:e})=>({padding:e.spacing(2),backgroundColor:e.palette.error.light,color:e.palette.error.contrastText,marginBottom:e.spacing(2),"&:last-child":{marginBottom:0}})),Bu=ot(Y0)(({theme:e})=>({"& .MuiTouchRipple-root":{display:"none"},"&.MuiButton-contained":{color:"#fff","&:hover":{color:"#fff"},"&:active":{boxShadow:"none"},"&:focus":{outline:"none",boxShadow:"none"}}})),qA=ot(fU)(({theme:e})=>({"& .MuiDialog-paper":{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,padding:e.spacing(2)}})),QK=()=>{const e=q.useRef(null),t=q.useRef(null),[n,o]=q.useState(!0);q.useState(!1);const[c,h]=q.useState(!1),[p,a]=q.useState(!1),[b,w]=q.useState(null),[E]=q.useState([{message:"Robbery reported in Connaught Place",timestamp:"2 hours ago"},{message:"Suspicious activity near Metro Station",timestamp:"5 hours ago"}]);q.useEffect(()=>{if(!(!e.current||t.current))try{console.log("Initializing map...");const L=qK(e.current);return t.current=L,L.on("load",()=>{console.log("Map loaded, adding markers..."),HK(L),o(!1)}),()=>{t.current&&(t.current.remove(),t.current=null)}}catch(L){console.error("Error initializing map:",L),o(!1)}},[]);const A=L=>{w(L),h(!0)},I=()=>{a(!0)};return oe.jsx(KK,{children:oe.jsx(mo,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:oe.jsxs(rv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{width:"100%",maxWidth:"1400px"},children:[oe.jsx(Yr,{variant:"h3",align:"center",sx:{mb:{xs:4,sm:6},fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"},fontFamily:'"Roboto", sans-serif',fontWeight:700,letterSpacing:"-0.01em"},children:"Crime Analysis System"}),oe.jsx(as,{container:!0,spacing:{xs:2,sm:2,md:4},justifyContent:"center",sx:{mb:4},children:[{title:"Report Incidents",description:"Submit details about criminal activities",path:"/report-crime"},{title:"View Analytics",description:"Analyze crime patterns and statistics",path:"/dashboard"}].map((L,F)=>oe.jsx(as,{item:!0,xs:12,sm:6,md:4,children:oe.jsxs(YK,{elevation:2,children:[oe.jsx(Yr,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontFamily:'"Roboto", sans-serif',fontWeight:500},children:L.title}),oe.jsx(Yr,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:L.description}),oe.jsx(Bu,{variant:"contained",color:"primary",href:L.path,fullWidth:!0,sx:{maxWidth:200},children:"Learn More"})]})},F))}),oe.jsxs(XK,{elevation:2,children:[n&&oe.jsx(mo,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1},children:oe.jsx(Ww,{})}),oe.jsx("div",{ref:e,style:{width:"100%",height:"100%"}})]}),oe.jsxs(ro,{elevation:2,sx:{p:{xs:2,sm:3},borderRadius:2,width:"100%"},children:[oe.jsxs(mo,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[oe.jsx(Yr,{variant:"h6",sx:{fontFamily:'"Roboto", sans-serif',fontWeight:500},children:"Recent Alerts"}),oe.jsx(Bu,{startIcon:oe.jsx(pZ,{}),sx:{textTransform:"none"},onClick:I,children:"Manage Alerts"})]}),E.map((L,F)=>oe.jsx(JK,{children:oe.jsxs(mo,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[oe.jsxs(mo,{children:[oe.jsx(Yr,{variant:"body1",sx:{fontWeight:500},children:L.message}),oe.jsx(Yr,{variant:"caption",sx:{opacity:.8},children:L.timestamp})]}),oe.jsx(Bu,{size:"small",variant:"contained",color:"error",onClick:()=>A(L),sx:{bgcolor:"error.dark","&:hover":{bgcolor:"error.dark"}},children:"View Details"})]})},F))]}),oe.jsxs(qA,{open:c,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[oe.jsxs(VE,{children:["Alert Details",oe.jsx(M1,{sx:{position:"absolute",right:8,top:8},onClick:()=>h(!1),children:oe.jsx(GA,{})})]}),oe.jsx($E,{children:b&&oe.jsxs(mo,{sx:{mt:2},children:[oe.jsx(Yr,{variant:"h6",gutterBottom:!0,children:b.message}),oe.jsxs(Yr,{variant:"body2",color:"text.secondary",children:["Reported: ",b.timestamp]}),oe.jsxs(Yr,{variant:"body1",sx:{mt:2},children:["Location: ",b.location||"Not specified"]}),oe.jsxs(Yr,{variant:"body1",sx:{mt:1},children:["Status: ",b.status||"Active"]})]})}),oe.jsx(NE,{children:oe.jsx(Bu,{onClick:()=>h(!1),children:"Close"})})]}),oe.jsxs(qA,{open:p,onClose:()=>a(!1),maxWidth:"md",fullWidth:!0,children:[oe.jsxs(VE,{children:["Manage Alerts",oe.jsx(M1,{sx:{position:"absolute",right:8,top:8},onClick:()=>a(!1),children:oe.jsx(GA,{})})]}),oe.jsx($E,{children:oe.jsx(mo,{sx:{mt:2},children:oe.jsx(as,{container:!0,spacing:2,children:oe.jsxs(as,{item:!0,xs:12,children:[oe.jsx(Yr,{variant:"subtitle1",gutterBottom:!0,children:"Alert Preferences"}),oe.jsx(ro,{sx:{p:2},children:["Theft","Robbery","Assault","Vandalism"].map(L=>oe.jsxs(mo,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[oe.jsxs(Yr,{children:[L," Alerts"]}),oe.jsx(Bu,{size:"small",variant:"outlined",children:"Enable"})]},L))})]})})})}),oe.jsx(NE,{children:oe.jsx(Bu,{onClick:()=>a(!1),children:"Save Changes"})})]}),oe.jsxs(mo,{sx:{mt:4,textAlign:"center",p:{xs:2,sm:3},borderRadius:1},children:[oe.jsx(Yr,{variant:"h6",gutterBottom:!0,sx:{fontSize:{xs:"1.1rem",sm:"1.25rem"},fontFamily:'"Roboto", sans-serif',fontWeight:500},children:"Emergency? Call 112"}),oe.jsx(Yr,{variant:"body2",color:"text.secondary",children:"For immediate assistance, please contact emergency services"})]})]})})})};function sD(e,t){return function(){return e.apply(t,arguments)}}const{toString:eX}=Object.prototype,{getPrototypeOf:OS}=Object,ov=(e=>t=>{const n=eX.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fs=e=>(e=e.toLowerCase(),t=>ov(t)===e),sv=e=>t=>typeof t===e,{isArray:Nh}=Array,xf=sv("undefined");function tX(e){return e!==null&&!xf(e)&&e.constructor!==null&&!xf(e.constructor)&&Oo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aD=Fs("ArrayBuffer");function nX(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aD(e.buffer),t}const rX=sv("string"),Oo=sv("function"),lD=sv("number"),av=e=>e!==null&&typeof e=="object",iX=e=>e===!0||e===!1,ey=e=>{if(ov(e)!=="object")return!1;const t=OS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oX=Fs("Date"),sX=Fs("File"),aX=Fs("Blob"),lX=Fs("FileList"),cX=e=>av(e)&&Oo(e.pipe),uX=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Oo(e.append)&&((t=ov(e))==="formdata"||t==="object"&&Oo(e.toString)&&e.toString()==="[object FormData]"))},hX=Fs("URLSearchParams"),[dX,pX,fX,mX]=["ReadableStream","Request","Response","Headers"].map(Fs),gX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,c;if(typeof e!="object"&&(e=[e]),Nh(e))for(o=0,c=e.length;o<c;o++)t.call(null,e[o],o,e);else{const h=n?Object.getOwnPropertyNames(e):Object.keys(e),p=h.length;let a;for(o=0;o<p;o++)a=h[o],t.call(null,e[a],a,e)}}function cD(e,t){t=t.toLowerCase();const n=Object.keys(e);let o=n.length,c;for(;o-- >0;)if(c=n[o],t===c.toLowerCase())return c;return null}const Pc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),uD=e=>!xf(e)&&e!==Pc;function hb(){const{caseless:e}=uD(this)&&this||{},t={},n=(o,c)=>{const h=e&&cD(t,c)||c;ey(t[h])&&ey(o)?t[h]=hb(t[h],o):ey(o)?t[h]=hb({},o):Nh(o)?t[h]=o.slice():t[h]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&jf(arguments[o],n);return t}const yX=(e,t,n,{allOwnKeys:o}={})=>(jf(t,(c,h)=>{n&&Oo(c)?e[h]=sD(c,n):e[h]=c},{allOwnKeys:o}),e),vX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_X=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xX=(e,t,n,o)=>{let c,h,p;const a={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),h=c.length;h-- >0;)p=c[h],(!o||o(p,e,t))&&!a[p]&&(t[p]=e[p],a[p]=!0);e=n!==!1&&OS(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bX=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},wX=e=>{if(!e)return null;if(Nh(e))return e;let t=e.length;if(!lD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},SX=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&OS(Uint8Array)),CX=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=o.next())&&!c.done;){const h=c.value;t.call(e,h[0],h[1])}},TX=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},EX=Fs("HTMLFormElement"),PX=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,c){return o.toUpperCase()+c}),HA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AX=Fs("RegExp"),hD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};jf(n,(c,h)=>{let p;(p=t(c,h,e))!==!1&&(o[h]=p||c)}),Object.defineProperties(e,o)},kX=e=>{hD(e,(t,n)=>{if(Oo(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(Oo(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IX=(e,t)=>{const n={},o=c=>{c.forEach(h=>{n[h]=!0})};return Nh(e)?o(e):o(String(e).split(t)),n},MX=()=>{},RX=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function LX(e){return!!(e&&Oo(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const DX=e=>{const t=new Array(10),n=(o,c)=>{if(av(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[c]=o;const h=Nh(o)?[]:{};return jf(o,(p,a)=>{const b=n(p,c+1);!xf(b)&&(h[a]=b)}),t[c]=void 0,h}}return o};return n(e,0)},zX=Fs("AsyncFunction"),BX=e=>e&&(av(e)||Oo(e))&&Oo(e.then)&&Oo(e.catch),dD=((e,t)=>e?setImmediate:t?((n,o)=>(Pc.addEventListener("message",({source:c,data:h})=>{c===Pc&&h===n&&o.length&&o.shift()()},!1),c=>{o.push(c),Pc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Oo(Pc.postMessage)),OX=typeof queueMicrotask<"u"?queueMicrotask.bind(Pc):typeof process<"u"&&process.nextTick||dD,ze={isArray:Nh,isArrayBuffer:aD,isBuffer:tX,isFormData:uX,isArrayBufferView:nX,isString:rX,isNumber:lD,isBoolean:iX,isObject:av,isPlainObject:ey,isReadableStream:dX,isRequest:pX,isResponse:fX,isHeaders:mX,isUndefined:xf,isDate:oX,isFile:sX,isBlob:aX,isRegExp:AX,isFunction:Oo,isStream:cX,isURLSearchParams:hX,isTypedArray:SX,isFileList:lX,forEach:jf,merge:hb,extend:yX,trim:gX,stripBOM:vX,inherits:_X,toFlatObject:xX,kindOf:ov,kindOfTest:Fs,endsWith:bX,toArray:wX,forEachEntry:CX,matchAll:TX,isHTMLForm:EX,hasOwnProperty:HA,hasOwnProp:HA,reduceDescriptors:hD,freezeMethods:kX,toObjectSet:IX,toCamelCase:PX,noop:MX,toFiniteNumber:RX,findKey:cD,global:Pc,isContextDefined:uD,isSpecCompliantForm:LX,toJSONObject:DX,isAsyncFn:zX,isThenable:BX,setImmediate:dD,asap:OX};function tn(e,t,n,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}ze.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const pD=tn.prototype,fD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fD[e]={value:e}});Object.defineProperties(tn,fD);Object.defineProperty(pD,"isAxiosError",{value:!0});tn.from=(e,t,n,o,c,h)=>{const p=Object.create(pD);return ze.toFlatObject(e,p,function(b){return b!==Error.prototype},a=>a!=="isAxiosError"),tn.call(p,e.message,t,n,o,c),p.cause=e,p.name=e.name,h&&Object.assign(p,h),p};const FX=null;function db(e){return ze.isPlainObject(e)||ze.isArray(e)}function mD(e){return ze.endsWith(e,"[]")?e.slice(0,-2):e}function ZA(e,t,n){return e?e.concat(t).map(function(c,h){return c=mD(c),!n&&h?"["+c+"]":c}).join(n?".":""):t}function NX(e){return ze.isArray(e)&&!e.some(db)}const $X=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function lv(e,t,n){if(!ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,K){return!ze.isUndefined(K[j])});const o=n.metaTokens,c=n.visitor||E,h=n.dots,p=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(c))throw new TypeError("visitor must be a function");function w(F){if(F===null)return"";if(ze.isDate(F))return F.toISOString();if(!b&&ze.isBlob(F))throw new tn("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(F)||ze.isTypedArray(F)?b&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function E(F,j,K){let B=F;if(F&&!K&&typeof F=="object"){if(ze.endsWith(j,"{}"))j=o?j:j.slice(0,-2),F=JSON.stringify(F);else if(ze.isArray(F)&&NX(F)||(ze.isFileList(F)||ze.endsWith(j,"[]"))&&(B=ze.toArray(F)))return j=mD(j),B.forEach(function($,J){!(ze.isUndefined($)||$===null)&&t.append(p===!0?ZA([j],J,h):p===null?j:j+"[]",w($))}),!1}return db(F)?!0:(t.append(ZA(K,j,h),w(F)),!1)}const A=[],I=Object.assign($X,{defaultVisitor:E,convertValue:w,isVisitable:db});function L(F,j){if(!ze.isUndefined(F)){if(A.indexOf(F)!==-1)throw Error("Circular reference detected in "+j.join("."));A.push(F),ze.forEach(F,function(B,V){(!(ze.isUndefined(B)||B===null)&&c.call(t,B,ze.isString(V)?V.trim():V,j,I))===!0&&L(B,j?j.concat(V):[V])}),A.pop()}}if(!ze.isObject(e))throw new TypeError("data must be an object");return L(e),t}function KA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function FS(e,t){this._pairs=[],e&&lv(e,this,t)}const gD=FS.prototype;gD.append=function(t,n){this._pairs.push([t,n])};gD.toString=function(t){const n=t?function(o){return t.call(this,o,KA)}:KA;return this._pairs.map(function(c){return n(c[0])+"="+n(c[1])},"").join("&")};function VX(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yD(e,t,n){if(!t)return e;const o=n&&n.encode||VX;ze.isFunction(n)&&(n={serialize:n});const c=n&&n.serialize;let h;if(c?h=c(t,n):h=ze.isURLSearchParams(t)?t.toString():new FS(t,n).toString(o),h){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class jX{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(o){o!==null&&t(o)})}}const XA=jX,vD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UX=typeof URLSearchParams<"u"?URLSearchParams:FS,WX=typeof FormData<"u"?FormData:null,GX=typeof Blob<"u"?Blob:null,qX={isBrowser:!0,classes:{URLSearchParams:UX,FormData:WX,Blob:GX},protocols:["http","https","file","blob","url","data"]},NS=typeof window<"u"&&typeof document<"u",pb=typeof navigator=="object"&&navigator||void 0,HX=NS&&(!pb||["ReactNative","NativeScript","NS"].indexOf(pb.product)<0),ZX=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),KX=NS&&window.location.href||"http://localhost",XX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:NS,hasStandardBrowserEnv:HX,hasStandardBrowserWebWorkerEnv:ZX,navigator:pb,origin:KX},Symbol.toStringTag,{value:"Module"})),Ni={...XX,...qX};function YX(e,t){return lv(e,new Ni.classes.URLSearchParams,Object.assign({visitor:function(n,o,c,h){return Ni.isNode&&ze.isBuffer(n)?(this.append(o,n.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function JX(e){return ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QX(e){const t={},n=Object.keys(e);let o;const c=n.length;let h;for(o=0;o<c;o++)h=n[o],t[h]=e[h];return t}function _D(e){function t(n,o,c,h){let p=n[h++];if(p==="__proto__")return!0;const a=Number.isFinite(+p),b=h>=n.length;return p=!p&&ze.isArray(c)?c.length:p,b?(ze.hasOwnProp(c,p)?c[p]=[c[p],o]:c[p]=o,!a):((!c[p]||!ze.isObject(c[p]))&&(c[p]=[]),t(n,o,c[p],h)&&ze.isArray(c[p])&&(c[p]=QX(c[p])),!a)}if(ze.isFormData(e)&&ze.isFunction(e.entries)){const n={};return ze.forEachEntry(e,(o,c)=>{t(JX(o),c,n,0)}),n}return null}function eY(e,t,n){if(ze.isString(e))try{return(t||JSON.parse)(e),ze.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const $S={transitional:vD,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",c=o.indexOf("application/json")>-1,h=ze.isObject(t);if(h&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return c?JSON.stringify(_D(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return YX(t,this.formSerializer).toString();if((a=ze.isFileList(t))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return lv(a?{"files[]":t}:t,b&&new b,this.formSerializer)}}return h||c?(n.setContentType("application/json",!1),eY(t)):t}],transformResponse:[function(t){const n=this.transitional||$S.transitional,o=n&&n.forcedJSONParsing,c=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(o&&!this.responseType||c)){const p=!(n&&n.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(a){if(p)throw a.name==="SyntaxError"?tn.from(a,tn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ni.classes.FormData,Blob:Ni.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],e=>{$S.headers[e]={}});const VS=$S,tY=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nY=e=>{const t={};let n,o,c;return e&&e.split(`
`).forEach(function(p){c=p.indexOf(":"),n=p.substring(0,c).trim().toLowerCase(),o=p.substring(c+1).trim(),!(!n||t[n]&&tY[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},YA=Symbol("internals");function hp(e){return e&&String(e).trim().toLowerCase()}function ty(e){return e===!1||e==null?e:ze.isArray(e)?e.map(ty):String(e)}function rY(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const iY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function vx(e,t,n,o,c){if(ze.isFunction(o))return o.call(this,t,n);if(c&&(t=n),!!ze.isString(t)){if(ze.isString(o))return t.indexOf(o)!==-1;if(ze.isRegExp(o))return o.test(t)}}function oY(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function sY(e,t){const n=ze.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(c,h,p){return this[o].call(this,t,c,h,p)},configurable:!0})})}class cv{constructor(t){t&&this.set(t)}set(t,n,o){const c=this;function h(a,b,w){const E=hp(b);if(!E)throw new Error("header name must be a non-empty string");const A=ze.findKey(c,E);(!A||c[A]===void 0||w===!0||w===void 0&&c[A]!==!1)&&(c[A||b]=ty(a))}const p=(a,b)=>ze.forEach(a,(w,E)=>h(w,E,b));if(ze.isPlainObject(t)||t instanceof this.constructor)p(t,n);else if(ze.isString(t)&&(t=t.trim())&&!iY(t))p(nY(t),n);else if(ze.isHeaders(t))for(const[a,b]of t.entries())h(b,a,o);else t!=null&&h(n,t,o);return this}get(t,n){if(t=hp(t),t){const o=ze.findKey(this,t);if(o){const c=this[o];if(!n)return c;if(n===!0)return rY(c);if(ze.isFunction(n))return n.call(this,c,o);if(ze.isRegExp(n))return n.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=hp(t),t){const o=ze.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||vx(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let c=!1;function h(p){if(p=hp(p),p){const a=ze.findKey(o,p);a&&(!n||vx(o,o[a],a,n))&&(delete o[a],c=!0)}}return ze.isArray(t)?t.forEach(h):h(t),c}clear(t){const n=Object.keys(this);let o=n.length,c=!1;for(;o--;){const h=n[o];(!t||vx(this,this[h],h,t,!0))&&(delete this[h],c=!0)}return c}normalize(t){const n=this,o={};return ze.forEach(this,(c,h)=>{const p=ze.findKey(o,h);if(p){n[p]=ty(c),delete n[h];return}const a=t?oY(h):String(h).trim();a!==h&&delete n[h],n[a]=ty(c),o[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ze.forEach(this,(o,c)=>{o!=null&&o!==!1&&(n[c]=t&&ze.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(c=>o.set(c)),o}static accessor(t){const o=(this[YA]=this[YA]={accessors:{}}).accessors,c=this.prototype;function h(p){const a=hp(p);o[a]||(sY(c,p),o[a]=!0)}return ze.isArray(t)?t.forEach(h):h(t),this}}cv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(cv.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});ze.freezeMethods(cv);const Bs=cv;function _x(e,t){const n=this||VS,o=t||n,c=Bs.from(o.headers);let h=o.data;return ze.forEach(e,function(a){h=a.call(n,h,c.normalize(),t?t.status:void 0)}),c.normalize(),h}function xD(e){return!!(e&&e.__CANCEL__)}function $h(e,t,n){tn.call(this,e??"canceled",tn.ERR_CANCELED,t,n),this.name="CanceledError"}ze.inherits($h,tn,{__CANCEL__:!0});function bD(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new tn("Request failed with status code "+n.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aY(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lY(e,t){e=e||10;const n=new Array(e),o=new Array(e);let c=0,h=0,p;return t=t!==void 0?t:1e3,function(b){const w=Date.now(),E=o[h];p||(p=w),n[c]=b,o[c]=w;let A=h,I=0;for(;A!==c;)I+=n[A++],A=A%e;if(c=(c+1)%e,c===h&&(h=(h+1)%e),w-p<t)return;const L=E&&w-E;return L?Math.round(I*1e3/L):void 0}}function cY(e,t){let n=0,o=1e3/t,c,h;const p=(w,E=Date.now())=>{n=E,c=null,h&&(clearTimeout(h),h=null),e.apply(null,w)};return[(...w)=>{const E=Date.now(),A=E-n;A>=o?p(w,E):(c=w,h||(h=setTimeout(()=>{h=null,p(c)},o-A)))},()=>c&&p(c)]}const Hy=(e,t,n=3)=>{let o=0;const c=lY(50,250);return cY(h=>{const p=h.loaded,a=h.lengthComputable?h.total:void 0,b=p-o,w=c(b),E=p<=a;o=p;const A={loaded:p,total:a,progress:a?p/a:void 0,bytes:b,rate:w||void 0,estimated:w&&a&&E?(a-p)/w:void 0,event:h,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(A)},n)},JA=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},QA=e=>(...t)=>ze.asap(()=>e(...t)),uY=Ni.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ni.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ni.origin),Ni.navigator&&/(msie|trident)/i.test(Ni.navigator.userAgent)):()=>!0,hY=Ni.hasStandardBrowserEnv?{write(e,t,n,o,c,h){const p=[e+"="+encodeURIComponent(t)];ze.isNumber(n)&&p.push("expires="+new Date(n).toGMTString()),ze.isString(o)&&p.push("path="+o),ze.isString(c)&&p.push("domain="+c),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pY(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wD(e,t,n){let o=!dY(t);return e&&(o||n==!1)?pY(e,t):t}const ek=e=>e instanceof Bs?{...e}:e;function Fc(e,t){t=t||{};const n={};function o(w,E,A,I){return ze.isPlainObject(w)&&ze.isPlainObject(E)?ze.merge.call({caseless:I},w,E):ze.isPlainObject(E)?ze.merge({},E):ze.isArray(E)?E.slice():E}function c(w,E,A,I){if(ze.isUndefined(E)){if(!ze.isUndefined(w))return o(void 0,w,A,I)}else return o(w,E,A,I)}function h(w,E){if(!ze.isUndefined(E))return o(void 0,E)}function p(w,E){if(ze.isUndefined(E)){if(!ze.isUndefined(w))return o(void 0,w)}else return o(void 0,E)}function a(w,E,A){if(A in t)return o(w,E);if(A in e)return o(void 0,w)}const b={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:a,headers:(w,E,A)=>c(ek(w),ek(E),A,!0)};return ze.forEach(Object.keys(Object.assign({},e,t)),function(E){const A=b[E]||c,I=A(e[E],t[E],E);ze.isUndefined(I)&&A!==a||(n[E]=I)}),n}const SD=e=>{const t=Fc({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:h,headers:p,auth:a}=t;t.headers=p=Bs.from(p),t.url=yD(wD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&p.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let b;if(ze.isFormData(n)){if(Ni.hasStandardBrowserEnv||Ni.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((b=p.getContentType())!==!1){const[w,...E]=b?b.split(";").map(A=>A.trim()).filter(Boolean):[];p.setContentType([w||"multipart/form-data",...E].join("; "))}}if(Ni.hasStandardBrowserEnv&&(o&&ze.isFunction(o)&&(o=o(t)),o||o!==!1&&uY(t.url))){const w=c&&h&&hY.read(h);w&&p.set(c,w)}return t},fY=typeof XMLHttpRequest<"u",mY=fY&&function(e){return new Promise(function(n,o){const c=SD(e);let h=c.data;const p=Bs.from(c.headers).normalize();let{responseType:a,onUploadProgress:b,onDownloadProgress:w}=c,E,A,I,L,F;function j(){L&&L(),F&&F(),c.cancelToken&&c.cancelToken.unsubscribe(E),c.signal&&c.signal.removeEventListener("abort",E)}let K=new XMLHttpRequest;K.open(c.method.toUpperCase(),c.url,!0),K.timeout=c.timeout;function B(){if(!K)return;const $=Bs.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),ie={data:!a||a==="text"||a==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:$,config:e,request:K};bD(function(ye){n(ye),j()},function(ye){o(ye),j()},ie),K=null}"onloadend"in K?K.onloadend=B:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout(B)},K.onabort=function(){K&&(o(new tn("Request aborted",tn.ECONNABORTED,e,K)),K=null)},K.onerror=function(){o(new tn("Network Error",tn.ERR_NETWORK,e,K)),K=null},K.ontimeout=function(){let J=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const ie=c.transitional||vD;c.timeoutErrorMessage&&(J=c.timeoutErrorMessage),o(new tn(J,ie.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,e,K)),K=null},h===void 0&&p.setContentType(null),"setRequestHeader"in K&&ze.forEach(p.toJSON(),function(J,ie){K.setRequestHeader(ie,J)}),ze.isUndefined(c.withCredentials)||(K.withCredentials=!!c.withCredentials),a&&a!=="json"&&(K.responseType=c.responseType),w&&([I,F]=Hy(w,!0),K.addEventListener("progress",I)),b&&K.upload&&([A,L]=Hy(b),K.upload.addEventListener("progress",A),K.upload.addEventListener("loadend",L)),(c.cancelToken||c.signal)&&(E=$=>{K&&(o(!$||$.type?new $h(null,e,K):$),K.abort(),K=null)},c.cancelToken&&c.cancelToken.subscribe(E),c.signal&&(c.signal.aborted?E():c.signal.addEventListener("abort",E)));const V=aY(c.url);if(V&&Ni.protocols.indexOf(V)===-1){o(new tn("Unsupported protocol "+V+":",tn.ERR_BAD_REQUEST,e));return}K.send(h||null)})},gY=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,c;const h=function(w){if(!c){c=!0,a();const E=w instanceof Error?w:this.reason;o.abort(E instanceof tn?E:new $h(E instanceof Error?E.message:E))}};let p=t&&setTimeout(()=>{p=null,h(new tn(`timeout ${t} of ms exceeded`,tn.ETIMEDOUT))},t);const a=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(h):w.removeEventListener("abort",h)}),e=null)};e.forEach(w=>w.addEventListener("abort",h));const{signal:b}=o;return b.unsubscribe=()=>ze.asap(a),b}},yY=gY,vY=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let o=0,c;for(;o<n;)c=o+t,yield e.slice(o,c),o=c},_Y=async function*(e,t){for await(const n of xY(e))yield*vY(n,t)},xY=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},tk=(e,t,n,o)=>{const c=_Y(e,t);let h=0,p,a=b=>{p||(p=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:w,value:E}=await c.next();if(w){a(),b.close();return}let A=E.byteLength;if(n){let I=h+=A;n(I)}b.enqueue(new Uint8Array(E))}catch(w){throw a(w),w}},cancel(b){return a(b),c.return()}},{highWaterMark:2})},uv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CD=uv&&typeof ReadableStream=="function",bY=uv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),TD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wY=CD&&TD(()=>{let e=!1;const t=new Request(Ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nk=64*1024,fb=CD&&TD(()=>ze.isReadableStream(new Response("").body)),Zy={stream:fb&&(e=>e.body)};uv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zy[t]&&(Zy[t]=ze.isFunction(e[t])?n=>n[t]():(n,o)=>{throw new tn(`Response type '${t}' is not supported`,tn.ERR_NOT_SUPPORT,o)})})})(new Response);const SY=async e=>{if(e==null)return 0;if(ze.isBlob(e))return e.size;if(ze.isSpecCompliantForm(e))return(await new Request(Ni.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(e)||ze.isArrayBuffer(e))return e.byteLength;if(ze.isURLSearchParams(e)&&(e=e+""),ze.isString(e))return(await bY(e)).byteLength},CY=async(e,t)=>{const n=ze.toFiniteNumber(e.getContentLength());return n??SY(t)},TY=uv&&(async e=>{let{url:t,method:n,data:o,signal:c,cancelToken:h,timeout:p,onDownloadProgress:a,onUploadProgress:b,responseType:w,headers:E,withCredentials:A="same-origin",fetchOptions:I}=SD(e);w=w?(w+"").toLowerCase():"text";let L=yY([c,h&&h.toAbortSignal()],p),F;const j=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let K;try{if(b&&wY&&n!=="get"&&n!=="head"&&(K=await CY(E,o))!==0){let ie=new Request(t,{method:"POST",body:o,duplex:"half"}),de;if(ze.isFormData(o)&&(de=ie.headers.get("content-type"))&&E.setContentType(de),ie.body){const[ye,me]=JA(K,Hy(QA(b)));o=tk(ie.body,nk,ye,me)}}ze.isString(A)||(A=A?"include":"omit");const B="credentials"in Request.prototype;F=new Request(t,{...I,signal:L,method:n.toUpperCase(),headers:E.normalize().toJSON(),body:o,duplex:"half",credentials:B?A:void 0});let V=await fetch(F);const $=fb&&(w==="stream"||w==="response");if(fb&&(a||$&&j)){const ie={};["status","statusText","headers"].forEach(ke=>{ie[ke]=V[ke]});const de=ze.toFiniteNumber(V.headers.get("content-length")),[ye,me]=a&&JA(de,Hy(QA(a),!0))||[];V=new Response(tk(V.body,nk,ye,()=>{me&&me(),j&&j()}),ie)}w=w||"text";let J=await Zy[ze.findKey(Zy,w)||"text"](V,e);return!$&&j&&j(),await new Promise((ie,de)=>{bD(ie,de,{data:J,headers:Bs.from(V.headers),status:V.status,statusText:V.statusText,config:e,request:F})})}catch(B){throw j&&j(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,e,F),{cause:B.cause||B}):tn.from(B,B&&B.code,e,F)}}),mb={http:FX,xhr:mY,fetch:TY};ze.forEach(mb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rk=e=>`- ${e}`,EY=e=>ze.isFunction(e)||e===null||e===!1,ED={getAdapter:e=>{e=ze.isArray(e)?e:[e];const{length:t}=e;let n,o;const c={};for(let h=0;h<t;h++){n=e[h];let p;if(o=n,!EY(n)&&(o=mb[(p=String(n)).toLowerCase()],o===void 0))throw new tn(`Unknown adapter '${p}'`);if(o)break;c[p||"#"+h]=o}if(!o){const h=Object.entries(c).map(([a,b])=>`adapter ${a} `+(b===!1?"is not supported by the environment":"is not available in the build"));let p=t?h.length>1?`since :
`+h.map(rk).join(`
`):" "+rk(h[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o},adapters:mb};function xx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $h(null,e)}function ik(e){return xx(e),e.headers=Bs.from(e.headers),e.data=_x.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ED.getAdapter(e.adapter||VS.adapter)(e).then(function(o){return xx(e),o.data=_x.call(e,e.transformResponse,o),o.headers=Bs.from(o.headers),o},function(o){return xD(o)||(xx(e),o&&o.response&&(o.response.data=_x.call(e,e.transformResponse,o.response),o.response.headers=Bs.from(o.response.headers))),Promise.reject(o)})}const PD="1.8.4",hv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hv[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const ok={};hv.transitional=function(t,n,o){function c(h,p){return"[Axios v"+PD+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,a)=>{if(t===!1)throw new tn(c(p," has been removed"+(n?" in "+n:"")),tn.ERR_DEPRECATED);return n&&!ok[p]&&(ok[p]=!0,console.warn(c(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(h,p,a):!0}};hv.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function PY(e,t,n){if(typeof e!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let c=o.length;for(;c-- >0;){const h=o[c],p=t[h];if(p){const a=e[h],b=a===void 0||p(a,h,e);if(b!==!0)throw new tn("option "+h+" must be "+b,tn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tn("Unknown option "+h,tn.ERR_BAD_OPTION)}}const ny={assertOptions:PY,validators:hv},Qs=ny.validators;class Ky{constructor(t){this.defaults=t,this.interceptors={request:new XA,response:new XA}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const h=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fc(this.defaults,n);const{transitional:o,paramsSerializer:c,headers:h}=n;o!==void 0&&ny.assertOptions(o,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),c!=null&&(ze.isFunction(c)?n.paramsSerializer={serialize:c}:ny.assertOptions(c,{encode:Qs.function,serialize:Qs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ny.assertOptions(n,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=h&&ze.merge(h.common,h[n.method]);h&&ze.forEach(["delete","get","head","post","put","patch","common"],F=>{delete h[F]}),n.headers=Bs.concat(p,h);const a=[];let b=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(b=b&&j.synchronous,a.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let E,A=0,I;if(!b){const F=[ik.bind(this),void 0];for(F.unshift.apply(F,a),F.push.apply(F,w),I=F.length,E=Promise.resolve(n);A<I;)E=E.then(F[A++],F[A++]);return E}I=a.length;let L=n;for(A=0;A<I;){const F=a[A++],j=a[A++];try{L=F(L)}catch(K){j.call(this,K);break}}try{E=ik.call(this,L)}catch(F){return Promise.reject(F)}for(A=0,I=w.length;A<I;)E=E.then(w[A++],w[A++]);return E}getUri(t){t=Fc(this.defaults,t);const n=wD(t.baseURL,t.url,t.allowAbsoluteUrls);return yD(n,t.params,t.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(t){Ky.prototype[t]=function(n,o){return this.request(Fc(o||{},{method:t,url:n,data:(o||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function n(o){return function(h,p,a){return this.request(Fc(a||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}Ky.prototype[t]=n(),Ky.prototype[t+"Form"]=n(!0)});const ry=Ky;class jS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(h){n=h});const o=this;this.promise.then(c=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](c);o._listeners=null}),this.promise.then=c=>{let h;const p=new Promise(a=>{o.subscribe(a),h=a}).then(c);return p.cancel=function(){o.unsubscribe(h)},p},t(function(h,p,a){o.reason||(o.reason=new $h(h,p,a),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new jS(function(c){t=c}),cancel:t}}}const AY=jS;function kY(e){return function(n){return e.apply(null,n)}}function IY(e){return ze.isObject(e)&&e.isAxiosError===!0}const gb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gb).forEach(([e,t])=>{gb[t]=e});const MY=gb;function AD(e){const t=new ry(e),n=sD(ry.prototype.request,t);return ze.extend(n,ry.prototype,t,{allOwnKeys:!0}),ze.extend(n,t,null,{allOwnKeys:!0}),n.create=function(c){return AD(Fc(e,c))},n}const Gr=AD(VS);Gr.Axios=ry;Gr.CanceledError=$h;Gr.CancelToken=AY;Gr.isCancel=xD;Gr.VERSION=PD;Gr.toFormData=lv;Gr.AxiosError=tn;Gr.Cancel=Gr.CanceledError;Gr.all=function(t){return Promise.all(t)};Gr.spread=kY;Gr.isAxiosError=IY;Gr.mergeConfig=Fc;Gr.AxiosHeaders=Bs;Gr.formToJSON=e=>_D(ze.isHTMLForm(e)?new FormData(e):e);Gr.getAdapter=ED.getAdapter;Gr.HttpStatusCode=MY;Gr.default=Gr;const RY=Gr,LY=ms(oe.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),bx=ot(M7)(({theme:e})=>({"& .MuiOutlinedInput-root":{backgroundColor:e.palette.background.paper,"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main}}},"& .MuiInputLabel-root":{backgroundColor:e.palette.background.default,padding:"0 4px","&.Mui-focused":{color:e.palette.primary.main}},"& .MuiSelect-select":{maxWidth:"200px"}})),DY=ot(mo)(({theme:e})=>({height:"500px",width:"100%",borderRadius:e.shape.borderRadius,overflow:"hidden",border:`1px solid ${e.palette.divider}`,marginTop:e.spacing(2)}));function zY(){const e=EM(),t=q.useRef(null),n=q.useRef(null),o=q.useRef(null),[c,h]=q.useState(""),[p,a]=q.useState(!1),[b,w]=q.useState({title:"",description:"",type:"",location:{lat:"",lng:""}});q.useEffect(()=>{if(!t.current)return;Ms.apiKey="O2qg6AC8VtSjtTZ5KKc6";const I=new BS({container:t.current,style:DS.STREETS,center:[77.209,28.6139],zoom:12});return n.current=I,I.on("load",()=>{I.on("click",L=>{const{lng:F,lat:j}=L.lngLat;o.current?o.current.setLngLat([F,j]):o.current=new oD().setLngLat([F,j]).addTo(I),w(K=>({...K,location:{lat:j.toFixed(6),lng:F.toFixed(6)}}))})}),()=>{n.current&&(n.current.remove(),n.current=null)}},[]);const E=async I=>{var L,F;I.preventDefault();try{if(!b.title||!b.type||!b.location.lat||!b.location.lng)throw new Error("Please fill in all required fields and select a location on the map");const j=await RY.post("http://localhost:5000/api/crimes",b);console.log("Crime registered:",j.data),a(!0),setTimeout(()=>{e("/")},2e3)}catch(j){console.error("Registration error:",j),h(((F=(L=j.response)==null?void 0:L.data)==null?void 0:F.message)||j.message)}},A=I=>{const{name:L,value:F}=I.target;w(j=>({...j,[L]:F}))};return oe.jsxs(mo,{sx:{width:"100%",maxWidth:800,mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[oe.jsxs(rv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{width:"100%"},children:[oe.jsx(Yr,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:4},children:"Report an Incident"}),oe.jsxs(ro,{elevation:1,sx:{p:4},children:[oe.jsxs(as,{container:!0,spacing:3,children:[oe.jsx(as,{item:!0,xs:12,children:oe.jsx(bx,{fullWidth:!0,label:"Incident Title",name:"title",value:b.title,onChange:A,required:!0})}),oe.jsx(as,{item:!0,xs:12,children:oe.jsxs(bx,{select:!0,fullWidth:!0,label:"Incident Type",name:"type",value:b.type,onChange:A,required:!0,SelectProps:{MenuProps:{PaperProps:{sx:{maxWidth:"200px","& .MuiMenuItem-root":{whiteSpace:"normal",padding:"8px 16px"}}}}},children:[oe.jsx(ap,{value:"Theft",children:"Theft"}),oe.jsx(ap,{value:"Robbery",children:"Robbery"}),oe.jsx(ap,{value:"Assault",children:"Assault"}),oe.jsx(ap,{value:"Vandalism",children:"Vandalism"}),oe.jsx(ap,{value:"Other",children:"Other"})]})}),oe.jsx(as,{item:!0,xs:12,children:oe.jsx(bx,{fullWidth:!0,multiline:!0,rows:4,label:"Description",name:"description",value:b.description,onChange:A})})]}),oe.jsx(Yr,{variant:"subtitle1",sx:{mt:4,mb:2},children:"Click on the map to select incident location"}),oe.jsx(DY,{children:oe.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})}),b.location.lat&&oe.jsxs(Yr,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["Selected location: ",b.location.lat,", ",b.location.lng]}),oe.jsx(Y0,{fullWidth:!0,variant:"contained",color:"primary",size:"large",startIcon:oe.jsx(LY,{}),onClick:E,sx:{mt:4,py:1.5},children:"Submit Report"})]})]}),oe.jsx(eP,{open:!!c,autoHideDuration:6e3,onClose:()=>h(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:oe.jsx(PE,{severity:"error",onClose:()=>h(""),children:c})}),oe.jsx(eP,{open:p,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:oe.jsx(PE,{severity:"success",children:"Crime reported successfully!"})})]})}function BY(){return oe.jsx(mo,{sx:{width:"100%",textAlign:"center"},children:oe.jsxs(rv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[oe.jsx(Yr,{variant:"h4",gutterBottom:!0,sx:{mb:4},children:"Crime Statistics Dashboard"}),oe.jsxs(as,{container:!0,spacing:3,children:[oe.jsx(as,{item:!0,xs:12,children:oe.jsx(ro,{elevation:1,sx:{p:3,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Map Component Will Go Here"})}),oe.jsx(as,{item:!0,xs:12,md:6,children:oe.jsx(ro,{elevation:1,sx:{p:3,height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Crime Type Distribution Chart"})}),oe.jsx(as,{item:!0,xs:12,md:6,children:oe.jsx(ro,{elevation:1,sx:{p:3,height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Monthly Trends Chart"})})]})]})})}const OY=ot(DR)(({theme:e})=>({backgroundColor:"rgba(13, 17, 23, 0.8)",backdropFilter:"blur(12px)",borderBottom:`1px solid ${e.palette.divider}`,boxShadow:"none",borderRadius:"0 0 12px 12px",margin:"0 16px",width:"calc(100% - 32px)",top:"8px","& .MuiToolbar-root":{minHeight:"64px"}})),wx=ot(Y0)(({theme:e})=>({color:e.palette.text.primary,padding:"8px 16px",margin:"0 8px",borderRadius:6,"&:hover":{backgroundColor:"rgba(201, 209, 217, 0.08)"},"& .MuiSvgIcon-root":{transition:"transform 0.2s"},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"}}));function FY(){return oe.jsx(OY,{position:"sticky",children:oe.jsx(Hw,{maxWidth:"lg",children:oe.jsxs(T7,{sx:{justifyContent:"center"},children:[oe.jsx(wx,{component:q_,to:"/",startIcon:oe.jsx(cZ,{}),children:"Home"}),oe.jsx(wx,{component:q_,to:"/dashboard",startIcon:oe.jsx(uZ,{}),children:"Dashboard"}),oe.jsx(wx,{component:q_,to:"/report-crime",startIcon:oe.jsx(hZ,{}),children:"Report Crime"})]})})})}ot(DR)(({theme:e})=>({backgroundColor:"rgba(13, 17, 23, 0.8)",backdropFilter:"blur(12px)",borderBottom:`1px solid ${e.palette.divider}`,boxShadow:"none"}));ot(Y0)(({theme:e})=>({color:e.palette.text.primary,padding:"8px 16px",borderRadius:6,position:"relative",overflow:"hidden","&:hover":{backgroundColor:"rgba(201, 209, 217, 0.08)"},"& .MuiSvgIcon-root":{transition:"transform 0.2s"},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"}}));const NY=ot(rv.div)({width:"100%"}),$Y=ot(mo)(({theme:e})=>({minHeight:"calc(100vh - 64px)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4),margin:"0 auto"}));function VY(){const e=Pf();return oe.jsx(B7,{mode:"wait",children:oe.jsx(NY,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:oe.jsxs(VO,{location:e,children:[oe.jsx(Vg,{path:"/",element:oe.jsx(QK,{})}),oe.jsx(Vg,{path:"/report-crime",element:oe.jsx(zY,{})}),oe.jsx(Vg,{path:"/dashboard",element:oe.jsx(BY,{})})]})},e.pathname)})}function jY(){return oe.jsxs(_V,{theme:dZ,children:[oe.jsx(Fj,{}),oe.jsx(ZO,{children:oe.jsxs(mo,{sx:{minHeight:"100vh",bgcolor:"background.default",display:"flex",flexDirection:"column"},children:[oe.jsx(FY,{}),oe.jsx($Y,{children:oe.jsx(Hw,{maxWidth:"lg",sx:{width:"100%"},children:oe.jsx(VY,{})})})]})})]})}Sx.createRoot(document.getElementById("root")).render(oe.jsx(Ls.StrictMode,{children:oe.jsx(jY,{})}));
