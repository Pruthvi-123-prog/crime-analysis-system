var B3=Object.defineProperty;var O3=(e,t,n)=>t in e?B3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rp=(e,t,n)=>(O3(e,typeof t!="symbol"?t+"":t,n),n);function F3(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const h=Object.getOwnPropertyDescriptor(i,l);h&&Object.defineProperty(e,l,h.get?h:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();var N3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gA={exports:{}},a0={},yA={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Symbol.for("react.element"),$3=Symbol.for("react.portal"),j3=Symbol.for("react.fragment"),V3=Symbol.for("react.strict_mode"),U3=Symbol.for("react.profiler"),W3=Symbol.for("react.provider"),G3=Symbol.for("react.context"),H3=Symbol.for("react.forward_ref"),q3=Symbol.for("react.suspense"),Z3=Symbol.for("react.memo"),K3=Symbol.for("react.lazy"),MC=Symbol.iterator;function X3(e){return e===null||typeof e!="object"?null:(e=MC&&e[MC]||e["@@iterator"],typeof e=="function"?e:null)}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_A=Object.assign,xA={};function Fh(e,t,n){this.props=e,this.context=t,this.refs=xA,this.updater=n||vA}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bA(){}bA.prototype=Fh.prototype;function kb(e,t,n){this.props=e,this.context=t,this.refs=xA,this.updater=n||vA}var Ab=kb.prototype=new bA;Ab.constructor=kb;_A(Ab,Fh.prototype);Ab.isPureReactComponent=!0;var RC=Array.isArray,wA=Object.prototype.hasOwnProperty,Ib={current:null},SA={key:!0,ref:!0,__self:!0,__source:!0};function CA(e,t,n){var i,l={},h=null,p=null;if(t!=null)for(i in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(h=""+t.key),t)wA.call(t,i)&&!SA.hasOwnProperty(i)&&(l[i]=t[i]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var b=Array(a),w=0;w<a;w++)b[w]=arguments[w+2];l.children=b}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)l[i]===void 0&&(l[i]=a[i]);return{$$typeof:Df,type:e,key:h,ref:p,props:l,_owner:Ib.current}}function Y3(e,t){return{$$typeof:Df,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Df}function J3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LC=/\/+/g;function M_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J3(""+e.key):t.toString(36)}function Vg(e,t,n,i,l){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Df:case $3:p=!0}}if(p)return p=e,l=l(p),e=i===""?"."+M_(p,0):i,RC(l)?(n="",e!=null&&(n=e.replace(LC,"$&/")+"/"),Vg(l,t,n,"",function(w){return w})):l!=null&&(Mb(l)&&(l=Y3(l,n+(!l.key||p&&p.key===l.key?"":(""+l.key).replace(LC,"$&/")+"/")+e)),t.push(l)),1;if(p=0,i=i===""?".":i+":",RC(e))for(var a=0;a<e.length;a++){h=e[a];var b=i+M_(h,a);p+=Vg(h,t,n,b,l)}else if(b=X3(e),typeof b=="function")for(e=b.call(e),a=0;!(h=e.next()).done;)h=h.value,b=i+M_(h,a++),p+=Vg(h,t,n,b,l);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function cg(e,t,n){if(e==null)return e;var i=[],l=0;return Vg(e,i,"","",function(h){return t.call(n,h,l++)}),i}function Q3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var co={current:null},Ug={transition:null},e4={ReactCurrentDispatcher:co,ReactCurrentBatchConfig:Ug,ReactCurrentOwner:Ib};function TA(){throw Error("act(...) is not supported in production builds of React.")}xn.Children={map:cg,forEach:function(e,t,n){cg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cg(e,function(){t++}),t},toArray:function(e){return cg(e,function(t){return t})||[]},only:function(e){if(!Mb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xn.Component=Fh;xn.Fragment=j3;xn.Profiler=U3;xn.PureComponent=kb;xn.StrictMode=V3;xn.Suspense=q3;xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e4;xn.act=TA;xn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_A({},e.props),l=e.key,h=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,p=Ib.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(b in t)wA.call(t,b)&&!SA.hasOwnProperty(b)&&(i[b]=t[b]===void 0&&a!==void 0?a[b]:t[b])}var b=arguments.length-2;if(b===1)i.children=n;else if(1<b){a=Array(b);for(var w=0;w<b;w++)a[w]=arguments[w+2];i.children=a}return{$$typeof:Df,type:e.type,key:l,ref:h,props:i,_owner:p}};xn.createContext=function(e){return e={$$typeof:G3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:W3,_context:e},e.Consumer=e};xn.createElement=CA;xn.createFactory=function(e){var t=CA.bind(null,e);return t.type=e,t};xn.createRef=function(){return{current:null}};xn.forwardRef=function(e){return{$$typeof:H3,render:e}};xn.isValidElement=Mb;xn.lazy=function(e){return{$$typeof:K3,_payload:{_status:-1,_result:e},_init:Q3}};xn.memo=function(e,t){return{$$typeof:Z3,type:e,compare:t===void 0?null:t}};xn.startTransition=function(e){var t=Ug.transition;Ug.transition={};try{e()}finally{Ug.transition=t}};xn.unstable_act=TA;xn.useCallback=function(e,t){return co.current.useCallback(e,t)};xn.useContext=function(e){return co.current.useContext(e)};xn.useDebugValue=function(){};xn.useDeferredValue=function(e){return co.current.useDeferredValue(e)};xn.useEffect=function(e,t){return co.current.useEffect(e,t)};xn.useId=function(){return co.current.useId()};xn.useImperativeHandle=function(e,t,n){return co.current.useImperativeHandle(e,t,n)};xn.useInsertionEffect=function(e,t){return co.current.useInsertionEffect(e,t)};xn.useLayoutEffect=function(e,t){return co.current.useLayoutEffect(e,t)};xn.useMemo=function(e,t){return co.current.useMemo(e,t)};xn.useReducer=function(e,t,n){return co.current.useReducer(e,t,n)};xn.useRef=function(e){return co.current.useRef(e)};xn.useState=function(e){return co.current.useState(e)};xn.useSyncExternalStore=function(e,t,n){return co.current.useSyncExternalStore(e,t,n)};xn.useTransition=function(){return co.current.useTransition()};xn.version="18.3.1";yA.exports=xn;var U=yA.exports;const Bs=s0(U),my=F3({__proto__:null,default:Bs},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=U,n4=Symbol.for("react.element"),r4=Symbol.for("react.fragment"),i4=Object.prototype.hasOwnProperty,o4=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s4={key:!0,ref:!0,__self:!0,__source:!0};function EA(e,t,n){var i,l={},h=null,p=null;n!==void 0&&(h=""+n),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(p=t.ref);for(i in t)i4.call(t,i)&&!s4.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)l[i]===void 0&&(l[i]=t[i]);return{$$typeof:n4,type:e,key:h,ref:p,props:l,_owner:o4.current}}a0.Fragment=r4;a0.jsx=EA;a0.jsxs=EA;gA.exports=a0;var Q=gA.exports,zx={},PA={exports:{}},Vo={},kA={exports:{}},AA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(De,Ae){var tt=De.length;De.push(Ae);e:for(;0<tt;){var ft=tt-1>>>1,ht=De[ft];if(0<l(ht,Ae))De[ft]=Ae,De[tt]=ht,tt=ft;else break e}}function n(De){return De.length===0?null:De[0]}function i(De){if(De.length===0)return null;var Ae=De[0],tt=De.pop();if(tt!==Ae){De[0]=tt;e:for(var ft=0,ht=De.length,ut=ht>>>1;ft<ut;){var Dt=2*(ft+1)-1,qt=De[Dt],xt=Dt+1,Ot=De[xt];if(0>l(qt,tt))xt<ht&&0>l(Ot,qt)?(De[ft]=Ot,De[xt]=tt,ft=xt):(De[ft]=qt,De[Dt]=tt,ft=Dt);else if(xt<ht&&0>l(Ot,tt))De[ft]=Ot,De[xt]=tt,ft=xt;else break e}}return Ae}function l(De,Ae){var tt=De.sortIndex-Ae.sortIndex;return tt!==0?tt:De.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,a=p.now();e.unstable_now=function(){return p.now()-a}}var b=[],w=[],T=1,P=null,I=3,D=!1,O=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(De){for(var Ae=n(w);Ae!==null;){if(Ae.callback===null)i(w);else if(Ae.startTime<=De)i(w),Ae.sortIndex=Ae.expirationTime,t(b,Ae);else break;Ae=n(w)}}function K(De){if(j=!1,N(De),!O)if(n(b)!==null)O=!0,Ve(ee);else{var Ae=n(w);Ae!==null&&qe(K,Ae.startTime-De)}}function ee(De,Ae){O=!1,j&&(j=!1,L(he),he=-1),D=!0;var tt=I;try{for(N(Ae),P=n(b);P!==null&&(!(P.expirationTime>Ae)||De&&!Te());){var ft=P.callback;if(typeof ft=="function"){P.callback=null,I=P.priorityLevel;var ht=ft(P.expirationTime<=Ae);Ae=e.unstable_now(),typeof ht=="function"?P.callback=ht:P===n(b)&&i(b),N(Ae)}else i(b);P=n(b)}if(P!==null)var ut=!0;else{var Dt=n(w);Dt!==null&&qe(K,Dt.startTime-Ae),ut=!1}return ut}finally{P=null,I=tt,D=!1}}var ue=!1,ge=null,he=-1,Pe=5,G=-1;function Te(){return!(e.unstable_now()-G<Pe)}function Le(){if(ge!==null){var De=e.unstable_now();G=De;var Ae=!0;try{Ae=ge(!0,De)}finally{Ae?Be():(ue=!1,ge=null)}}else ue=!1}var Be;if(typeof V=="function")Be=function(){V(Le)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,ze=Ne.port2;Ne.port1.onmessage=Le,Be=function(){ze.postMessage(null)}}else Be=function(){q(Le,0)};function Ve(De){ge=De,ue||(ue=!0,Be())}function qe(De,Ae){he=q(function(){De(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(De){De.callback=null},e.unstable_continueExecution=function(){O||D||(O=!0,Ve(ee))},e.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<De?Math.floor(1e3/De):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return n(b)},e.unstable_next=function(De){switch(I){case 1:case 2:case 3:var Ae=3;break;default:Ae=I}var tt=I;I=Ae;try{return De()}finally{I=tt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(De,Ae){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var tt=I;I=De;try{return Ae()}finally{I=tt}},e.unstable_scheduleCallback=function(De,Ae,tt){var ft=e.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?ft+tt:ft):tt=ft,De){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=tt+ht,De={id:T++,callback:Ae,priorityLevel:De,startTime:tt,expirationTime:ht,sortIndex:-1},tt>ft?(De.sortIndex=tt,t(w,De),n(b)===null&&De===n(w)&&(j?(L(he),he=-1):j=!0,qe(K,tt-ft))):(De.sortIndex=ht,t(b,De),O||D||(O=!0,Ve(ee))),De},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(De){var Ae=I;return function(){var tt=I;I=Ae;try{return De.apply(this,arguments)}finally{I=tt}}}})(AA);kA.exports=AA;var a4=kA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4=U,jo=a4;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IA=new Set,Kp={};function Wc(e,t){Ch(e,t),Ch(e+"Capture",t)}function Ch(e,t){for(Kp[e]=t,e=0;e<t.length;e++)IA.add(t[e])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bx=Object.prototype.hasOwnProperty,c4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DC={},zC={};function u4(e){return Bx.call(zC,e)?!0:Bx.call(DC,e)?!1:c4.test(e)?zC[e]=!0:(DC[e]=!0,!1)}function h4(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d4(e,t,n,i){if(t===null||typeof t>"u"||h4(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function uo(e,t,n,i,l,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ki[e]=new uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ki[t]=new uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ki[e]=new uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ki[e]=new uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ki[e]=new uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ki[e]=new uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ki[e]=new uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ki[e]=new uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ki[e]=new uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rb=/[\-:]([a-z])/g;function Lb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rb,Lb);ki[t]=new uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rb,Lb);ki[t]=new uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rb,Lb);ki[t]=new uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ki[e]=new uo(e,1,!1,e.toLowerCase(),null,!1,!1)});ki.xlinkHref=new uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ki[e]=new uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function Db(e,t,n,i){var l=ki.hasOwnProperty(t)?ki[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d4(t,n,l,i)&&(n=null),i||l===null?u4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Ya=l4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ug=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),zb=Symbol.for("react.strict_mode"),Ox=Symbol.for("react.profiler"),MA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Nx=Symbol.for("react.suspense_list"),Ob=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),LA=Symbol.for("react.offscreen"),BC=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=BC&&e[BC]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,R_;function bp(e){if(R_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R_=t&&t[1]||""}return`
`+R_+e}var L_=!1;function D_(e,t){if(!e||L_)return"";L_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var i=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){i=w}e.call(t.prototype)}else{try{throw Error()}catch(w){i=w}e()}}catch(w){if(w&&i&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),h=i.stack.split(`
`),p=l.length-1,a=h.length-1;1<=p&&0<=a&&l[p]!==h[a];)a--;for(;1<=p&&0<=a;p--,a--)if(l[p]!==h[a]){if(p!==1||a!==1)do if(p--,a--,0>a||l[p]!==h[a]){var b=`
`+l[p].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=p&&0<=a);break}}}finally{L_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bp(e):""}function p4(e){switch(e.tag){case 5:return bp(e.type);case 16:return bp("Lazy");case 13:return bp("Suspense");case 19:return bp("SuspenseList");case 0:case 2:case 15:return e=D_(e.type,!1),e;case 11:return e=D_(e.type.render,!1),e;case 1:return e=D_(e.type,!0),e;default:return""}}function $x(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qu:return"Fragment";case Hu:return"Portal";case Ox:return"Profiler";case zb:return"StrictMode";case Fx:return"Suspense";case Nx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RA:return(e.displayName||"Context")+".Consumer";case MA:return(e._context.displayName||"Context")+".Provider";case Bb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ob:return t=e.displayName||null,t!==null?t:$x(e.type)||"Memo";case wl:t=e._payload,e=e._init;try{return $x(e(t))}catch{}}return null}function f4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $x(t);case 8:return t===zb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function DA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m4(e){var t=DA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){i=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hg(e){e._valueTracker||(e._valueTracker=m4(e))}function zA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=DA(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function gy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jx(e,t){var n=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function OC(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=jl(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BA(e,t){t=t.checked,t!=null&&Db(e,"checked",t,!1)}function Vx(e,t){BA(e,t);var n=jl(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ux(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ux(e,t.type,jl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ux(e,t,n){(t!=="number"||gy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wp=Array.isArray;function hh(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jl(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Wx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function NC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rt(92));if(wp(n)){if(1<n.length)throw Error(rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jl(n)}}function OA(e,t){var n=jl(t.value),i=jl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function $C(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dg,NA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dg=dg||document.createElement("div"),dg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g4=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(e){g4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mp[t]=Mp[e]})});function $A(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mp.hasOwnProperty(e)&&Mp[e]?(""+t).trim():t+"px"}function jA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=$A(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var y4=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hx(e,t){if(t){if(y4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function qx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zx=null;function Fb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kx=null,dh=null,ph=null;function jC(e){if(e=Of(e)){if(typeof Kx!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=d0(t),Kx(e.stateNode,e.type,t))}}function VA(e){dh?ph?ph.push(e):ph=[e]:dh=e}function UA(){if(dh){var e=dh,t=ph;if(ph=dh=null,jC(e),t)for(e=0;e<t.length;e++)jC(t[e])}}function WA(e,t){return e(t)}function GA(){}var z_=!1;function HA(e,t,n){if(z_)return e(t,n);z_=!0;try{return WA(e,t,n)}finally{z_=!1,(dh!==null||ph!==null)&&(GA(),UA())}}function Yp(e,t){var n=e.stateNode;if(n===null)return null;var i=d0(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var Xx=!1;if(Va)try{var op={};Object.defineProperty(op,"passive",{get:function(){Xx=!0}}),window.addEventListener("test",op,op),window.removeEventListener("test",op,op)}catch{Xx=!1}function v4(e,t,n,i,l,h,p,a,b){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(T){this.onError(T)}}var Rp=!1,yy=null,vy=!1,Yx=null,_4={onError:function(e){Rp=!0,yy=e}};function x4(e,t,n,i,l,h,p,a,b){Rp=!1,yy=null,v4.apply(_4,arguments)}function b4(e,t,n,i,l,h,p,a,b){if(x4.apply(this,arguments),Rp){if(Rp){var w=yy;Rp=!1,yy=null}else throw Error(rt(198));vy||(vy=!0,Yx=w)}}function Gc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VC(e){if(Gc(e)!==e)throw Error(rt(188))}function w4(e){var t=e.alternate;if(!t){if(t=Gc(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var h=l.alternate;if(h===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===h.child){for(h=l.child;h;){if(h===n)return VC(l),e;if(h===i)return VC(l),t;h=h.sibling}throw Error(rt(188))}if(n.return!==i.return)n=l,i=h;else{for(var p=!1,a=l.child;a;){if(a===n){p=!0,n=l,i=h;break}if(a===i){p=!0,i=l,n=h;break}a=a.sibling}if(!p){for(a=h.child;a;){if(a===n){p=!0,n=h,i=l;break}if(a===i){p=!0,i=h,n=l;break}a=a.sibling}if(!p)throw Error(rt(189))}}if(n.alternate!==i)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function ZA(e){return e=w4(e),e!==null?KA(e):null}function KA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KA(e);if(t!==null)return t;e=e.sibling}return null}var XA=jo.unstable_scheduleCallback,UC=jo.unstable_cancelCallback,S4=jo.unstable_shouldYield,C4=jo.unstable_requestPaint,jr=jo.unstable_now,T4=jo.unstable_getCurrentPriorityLevel,Nb=jo.unstable_ImmediatePriority,YA=jo.unstable_UserBlockingPriority,_y=jo.unstable_NormalPriority,E4=jo.unstable_LowPriority,JA=jo.unstable_IdlePriority,l0=null,ca=null;function P4(e){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(l0,e,void 0,(e.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:I4,k4=Math.log,A4=Math.LN2;function I4(e){return e>>>=0,e===0?32:31-(k4(e)/A4|0)|0}var pg=64,fg=4194304;function Sp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xy(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,h=e.pingedLanes,p=n&268435455;if(p!==0){var a=p&~l;a!==0?i=Sp(a):(h&=p,h!==0&&(i=Sp(h)))}else p=n&~l,p!==0?i=Sp(p):h!==0&&(i=Sp(h));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,h=t&-t,l>=h||l===16&&(h&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Os(t),l=1<<n,i|=e[n],t&=~l;return i}function M4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R4(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-Os(h),a=1<<p,b=l[p];b===-1?(!(a&n)||a&i)&&(l[p]=M4(a,t)):b<=t&&(e.expiredLanes|=a),h&=~a}}function Jx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QA(){var e=pg;return pg<<=1,!(pg&4194240)&&(pg=64),e}function B_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Os(t),e[t]=n}function L4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Os(n),h=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~h}}function $b(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Os(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var Un=0;function eI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tI,jb,nI,rI,iI,Qx=!1,mg=[],Ml=null,Rl=null,Ll=null,Jp=new Map,Qp=new Map,Cl=[],D4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WC(e,t){switch(e){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":Jp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(t.pointerId)}}function sp(e,t,n,i,l,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[l]},t!==null&&(t=Of(t),t!==null&&jb(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function z4(e,t,n,i,l){switch(t){case"focusin":return Ml=sp(Ml,e,t,n,i,l),!0;case"dragenter":return Rl=sp(Rl,e,t,n,i,l),!0;case"mouseover":return Ll=sp(Ll,e,t,n,i,l),!0;case"pointerover":var h=l.pointerId;return Jp.set(h,sp(Jp.get(h)||null,e,t,n,i,l)),!0;case"gotpointercapture":return h=l.pointerId,Qp.set(h,sp(Qp.get(h)||null,e,t,n,i,l)),!0}return!1}function oI(e){var t=Ec(e.target);if(t!==null){var n=Gc(t);if(n!==null){if(t=n.tag,t===13){if(t=qA(n),t!==null){e.blockedOn=t,iI(e.priority,function(){nI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=e1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Zx=i,n.target.dispatchEvent(i),Zx=null}else return t=Of(n),t!==null&&jb(t),e.blockedOn=n,!1;t.shift()}return!0}function GC(e,t,n){Wg(e)&&n.delete(t)}function B4(){Qx=!1,Ml!==null&&Wg(Ml)&&(Ml=null),Rl!==null&&Wg(Rl)&&(Rl=null),Ll!==null&&Wg(Ll)&&(Ll=null),Jp.forEach(GC),Qp.forEach(GC)}function ap(e,t){e.blockedOn===t&&(e.blockedOn=null,Qx||(Qx=!0,jo.unstable_scheduleCallback(jo.unstable_NormalPriority,B4)))}function ef(e){function t(l){return ap(l,e)}if(0<mg.length){ap(mg[0],e);for(var n=1;n<mg.length;n++){var i=mg[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ml!==null&&ap(Ml,e),Rl!==null&&ap(Rl,e),Ll!==null&&ap(Ll,e),Jp.forEach(t),Qp.forEach(t),n=0;n<Cl.length;n++)i=Cl[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Cl.length&&(n=Cl[0],n.blockedOn===null);)oI(n),n.blockedOn===null&&Cl.shift()}var fh=Ya.ReactCurrentBatchConfig,by=!0;function O4(e,t,n,i){var l=Un,h=fh.transition;fh.transition=null;try{Un=1,Vb(e,t,n,i)}finally{Un=l,fh.transition=h}}function F4(e,t,n,i){var l=Un,h=fh.transition;fh.transition=null;try{Un=4,Vb(e,t,n,i)}finally{Un=l,fh.transition=h}}function Vb(e,t,n,i){if(by){var l=e1(e,t,n,i);if(l===null)H_(e,t,i,wy,n),WC(e,i);else if(z4(l,e,t,n,i))i.stopPropagation();else if(WC(e,i),t&4&&-1<D4.indexOf(e)){for(;l!==null;){var h=Of(l);if(h!==null&&tI(h),h=e1(e,t,n,i),h===null&&H_(e,t,i,wy,n),h===l)break;l=h}l!==null&&i.stopPropagation()}else H_(e,t,i,null,n)}}var wy=null;function e1(e,t,n,i){if(wy=null,e=Fb(i),e=Ec(e),e!==null)if(t=Gc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wy=e,null}function sI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T4()){case Nb:return 1;case YA:return 4;case _y:case E4:return 16;case JA:return 536870912;default:return 16}default:return 16}}var El=null,Ub=null,Gg=null;function aI(){if(Gg)return Gg;var e,t=Ub,n=t.length,i,l="value"in El?El.value:El.textContent,h=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(i=1;i<=p&&t[n-i]===l[h-i];i++);return Gg=l.slice(e,1<i?1-i:void 0)}function Hg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gg(){return!0}function HC(){return!1}function Uo(e){function t(n,i,l,h,p){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(h):h[a]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?gg:HC,this.isPropagationStopped=HC,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gg)},persist:function(){},isPersistent:gg}),t}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=Uo(Nh),Bf=Sr({},Nh,{view:0,detail:0}),N4=Uo(Bf),O_,F_,lp,c0=Sr({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lp&&(lp&&e.type==="mousemove"?(O_=e.screenX-lp.screenX,F_=e.screenY-lp.screenY):F_=O_=0,lp=e),O_)},movementY:function(e){return"movementY"in e?e.movementY:F_}}),qC=Uo(c0),$4=Sr({},c0,{dataTransfer:0}),j4=Uo($4),V4=Sr({},Bf,{relatedTarget:0}),N_=Uo(V4),U4=Sr({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),W4=Uo(U4),G4=Sr({},Nh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H4=Uo(G4),q4=Sr({},Nh,{data:0}),ZC=Uo(q4),Z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X4[e])?!!t[e]:!1}function Gb(){return Y4}var J4=Sr({},Bf,{key:function(e){if(e.key){var t=Z4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(e){return e.type==="keypress"?Hg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q4=Uo(J4),eB=Sr({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KC=Uo(eB),tB=Sr({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),nB=Uo(tB),rB=Sr({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),iB=Uo(rB),oB=Sr({},c0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sB=Uo(oB),aB=[9,13,27,32],Hb=Va&&"CompositionEvent"in window,Lp=null;Va&&"documentMode"in document&&(Lp=document.documentMode);var lB=Va&&"TextEvent"in window&&!Lp,lI=Va&&(!Hb||Lp&&8<Lp&&11>=Lp),XC=String.fromCharCode(32),YC=!1;function cI(e,t){switch(e){case"keyup":return aB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zu=!1;function cB(e,t){switch(e){case"compositionend":return uI(t);case"keypress":return t.which!==32?null:(YC=!0,XC);case"textInput":return e=t.data,e===XC&&YC?null:e;default:return null}}function uB(e,t){if(Zu)return e==="compositionend"||!Hb&&cI(e,t)?(e=aI(),Gg=Ub=El=null,Zu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lI&&t.locale!=="ko"?null:t.data;default:return null}}var hB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hB[e.type]:t==="textarea"}function hI(e,t,n,i){VA(i),t=Sy(t,"onChange"),0<t.length&&(n=new Wb("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Dp=null,tf=null;function dB(e){wI(e,0)}function u0(e){var t=Yu(e);if(zA(t))return e}function pB(e,t){if(e==="change")return t}var dI=!1;if(Va){var $_;if(Va){var j_="oninput"in document;if(!j_){var QC=document.createElement("div");QC.setAttribute("oninput","return;"),j_=typeof QC.oninput=="function"}$_=j_}else $_=!1;dI=$_&&(!document.documentMode||9<document.documentMode)}function eT(){Dp&&(Dp.detachEvent("onpropertychange",pI),tf=Dp=null)}function pI(e){if(e.propertyName==="value"&&u0(tf)){var t=[];hI(t,tf,e,Fb(e)),HA(dB,t)}}function fB(e,t,n){e==="focusin"?(eT(),Dp=t,tf=n,Dp.attachEvent("onpropertychange",pI)):e==="focusout"&&eT()}function mB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u0(tf)}function gB(e,t){if(e==="click")return u0(t)}function yB(e,t){if(e==="input"||e==="change")return u0(t)}function vB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $s=typeof Object.is=="function"?Object.is:vB;function nf(e,t){if($s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!Bx.call(t,l)||!$s(e[l],t[l]))return!1}return!0}function tT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nT(e,t){var n=tT(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tT(n)}}function fI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mI(){for(var e=window,t=gy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gy(e.document)}return t}function qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _B(e){var t=mI(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fI(n.ownerDocument.documentElement,n)){if(i!==null&&qb(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,h=Math.min(i.start,l);i=i.end===void 0?h:Math.min(i.end,l),!e.extend&&h>i&&(l=i,i=h,h=l),l=nT(n,h);var p=nT(n,i);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xB=Va&&"documentMode"in document&&11>=document.documentMode,Ku=null,t1=null,zp=null,n1=!1;function rT(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n1||Ku==null||Ku!==gy(i)||(i=Ku,"selectionStart"in i&&qb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zp&&nf(zp,i)||(zp=i,i=Sy(t1,"onSelect"),0<i.length&&(t=new Wb("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ku)))}function yg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xu={animationend:yg("Animation","AnimationEnd"),animationiteration:yg("Animation","AnimationIteration"),animationstart:yg("Animation","AnimationStart"),transitionend:yg("Transition","TransitionEnd")},V_={},gI={};Va&&(gI=document.createElement("div").style,"AnimationEvent"in window||(delete Xu.animationend.animation,delete Xu.animationiteration.animation,delete Xu.animationstart.animation),"TransitionEvent"in window||delete Xu.transitionend.transition);function h0(e){if(V_[e])return V_[e];if(!Xu[e])return e;var t=Xu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gI)return V_[e]=t[n];return e}var yI=h0("animationend"),vI=h0("animationiteration"),_I=h0("animationstart"),xI=h0("transitionend"),bI=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(e,t){bI.set(e,t),Wc(t,[e])}for(var U_=0;U_<iT.length;U_++){var W_=iT[U_],bB=W_.toLowerCase(),wB=W_[0].toUpperCase()+W_.slice(1);Hl(bB,"on"+wB)}Hl(yI,"onAnimationEnd");Hl(vI,"onAnimationIteration");Hl(_I,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(xI,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cp));function oT(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,b4(i,t,void 0,e),e.currentTarget=null}function wI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var p=i.length-1;0<=p;p--){var a=i[p],b=a.instance,w=a.currentTarget;if(a=a.listener,b!==h&&l.isPropagationStopped())break e;oT(l,a,w),h=b}else for(p=0;p<i.length;p++){if(a=i[p],b=a.instance,w=a.currentTarget,a=a.listener,b!==h&&l.isPropagationStopped())break e;oT(l,a,w),h=b}}}if(vy)throw e=Yx,vy=!1,Yx=null,e}function ur(e,t){var n=t[a1];n===void 0&&(n=t[a1]=new Set);var i=e+"__bubble";n.has(i)||(SI(t,e,2,!1),n.add(i))}function G_(e,t,n){var i=0;t&&(i|=4),SI(n,e,i,t)}var vg="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[vg]){e[vg]=!0,IA.forEach(function(n){n!=="selectionchange"&&(SB.has(n)||G_(n,!1,e),G_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vg]||(t[vg]=!0,G_("selectionchange",!1,t))}}function SI(e,t,n,i){switch(sI(t)){case 1:var l=O4;break;case 4:l=F4;break;default:l=Vb}n=l.bind(null,t,n,e),l=void 0,!Xx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function H_(e,t,n,i,l){var h=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var a=i.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(p===4)for(p=i.return;p!==null;){var b=p.tag;if((b===3||b===4)&&(b=p.stateNode.containerInfo,b===l||b.nodeType===8&&b.parentNode===l))return;p=p.return}for(;a!==null;){if(p=Ec(a),p===null)return;if(b=p.tag,b===5||b===6){i=h=p;continue e}a=a.parentNode}}i=i.return}HA(function(){var w=h,T=Fb(n),P=[];e:{var I=bI.get(e);if(I!==void 0){var D=Wb,O=e;switch(e){case"keypress":if(Hg(n)===0)break e;case"keydown":case"keyup":D=Q4;break;case"focusin":O="focus",D=N_;break;case"focusout":O="blur",D=N_;break;case"beforeblur":case"afterblur":D=N_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=qC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=j4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=nB;break;case yI:case vI:case _I:D=W4;break;case xI:D=iB;break;case"scroll":D=N4;break;case"wheel":D=sB;break;case"copy":case"cut":case"paste":D=H4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=KC}var j=(t&4)!==0,q=!j&&e==="scroll",L=j?I!==null?I+"Capture":null:I;j=[];for(var V=w,N;V!==null;){N=V;var K=N.stateNode;if(N.tag===5&&K!==null&&(N=K,L!==null&&(K=Yp(V,L),K!=null&&j.push(of(V,K,N)))),q)break;V=V.return}0<j.length&&(I=new D(I,O,null,n,T),P.push({event:I,listeners:j}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",I&&n!==Zx&&(O=n.relatedTarget||n.fromElement)&&(Ec(O)||O[Ua]))break e;if((D||I)&&(I=T.window===T?T:(I=T.ownerDocument)?I.defaultView||I.parentWindow:window,D?(O=n.relatedTarget||n.toElement,D=w,O=O?Ec(O):null,O!==null&&(q=Gc(O),O!==q||O.tag!==5&&O.tag!==6)&&(O=null)):(D=null,O=w),D!==O)){if(j=qC,K="onMouseLeave",L="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(j=KC,K="onPointerLeave",L="onPointerEnter",V="pointer"),q=D==null?I:Yu(D),N=O==null?I:Yu(O),I=new j(K,V+"leave",D,n,T),I.target=q,I.relatedTarget=N,K=null,Ec(T)===w&&(j=new j(L,V+"enter",O,n,T),j.target=N,j.relatedTarget=q,K=j),q=K,D&&O)t:{for(j=D,L=O,V=0,N=j;N;N=Bu(N))V++;for(N=0,K=L;K;K=Bu(K))N++;for(;0<V-N;)j=Bu(j),V--;for(;0<N-V;)L=Bu(L),N--;for(;V--;){if(j===L||L!==null&&j===L.alternate)break t;j=Bu(j),L=Bu(L)}j=null}else j=null;D!==null&&sT(P,I,D,j,!1),O!==null&&q!==null&&sT(P,q,O,j,!0)}}e:{if(I=w?Yu(w):window,D=I.nodeName&&I.nodeName.toLowerCase(),D==="select"||D==="input"&&I.type==="file")var ee=pB;else if(JC(I))if(dI)ee=yB;else{ee=mB;var ue=fB}else(D=I.nodeName)&&D.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(ee=gB);if(ee&&(ee=ee(e,w))){hI(P,ee,n,T);break e}ue&&ue(e,I,w),e==="focusout"&&(ue=I._wrapperState)&&ue.controlled&&I.type==="number"&&Ux(I,"number",I.value)}switch(ue=w?Yu(w):window,e){case"focusin":(JC(ue)||ue.contentEditable==="true")&&(Ku=ue,t1=w,zp=null);break;case"focusout":zp=t1=Ku=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,rT(P,n,T);break;case"selectionchange":if(xB)break;case"keydown":case"keyup":rT(P,n,T)}var ge;if(Hb)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Zu?cI(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(lI&&n.locale!=="ko"&&(Zu||he!=="onCompositionStart"?he==="onCompositionEnd"&&Zu&&(ge=aI()):(El=T,Ub="value"in El?El.value:El.textContent,Zu=!0)),ue=Sy(w,he),0<ue.length&&(he=new ZC(he,e,null,n,T),P.push({event:he,listeners:ue}),ge?he.data=ge:(ge=uI(n),ge!==null&&(he.data=ge)))),(ge=lB?cB(e,n):uB(e,n))&&(w=Sy(w,"onBeforeInput"),0<w.length&&(T=new ZC("onBeforeInput","beforeinput",null,n,T),P.push({event:T,listeners:w}),T.data=ge))}wI(P,t)})}function of(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sy(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,h=l.stateNode;l.tag===5&&h!==null&&(l=h,h=Yp(e,n),h!=null&&i.unshift(of(e,h,l)),h=Yp(e,t),h!=null&&i.push(of(e,h,l))),e=e.return}return i}function Bu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sT(e,t,n,i,l){for(var h=t._reactName,p=[];n!==null&&n!==i;){var a=n,b=a.alternate,w=a.stateNode;if(b!==null&&b===i)break;a.tag===5&&w!==null&&(a=w,l?(b=Yp(n,h),b!=null&&p.unshift(of(n,b,a))):l||(b=Yp(n,h),b!=null&&p.push(of(n,b,a)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var CB=/\r\n?/g,TB=/\u0000|\uFFFD/g;function aT(e){return(typeof e=="string"?e:""+e).replace(CB,`
`).replace(TB,"")}function _g(e,t,n){if(t=aT(t),aT(e)!==t&&n)throw Error(rt(425))}function Cy(){}var r1=null,i1=null;function o1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,EB=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,PB=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(e){return lT.resolve(null).then(e).catch(kB)}:s1;function kB(e){setTimeout(function(){throw e})}function q_(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),ef(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);ef(t)}function Dl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $h=Math.random().toString(36).slice(2),sa="__reactFiber$"+$h,sf="__reactProps$"+$h,Ua="__reactContainer$"+$h,a1="__reactEvents$"+$h,AB="__reactListeners$"+$h,IB="__reactHandles$"+$h;function Ec(e){var t=e[sa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ua]||n[sa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cT(e);e!==null;){if(n=e[sa])return n;e=cT(e)}return t}e=n,n=e.parentNode}return null}function Of(e){return e=e[sa]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function d0(e){return e[sf]||null}var l1=[],Ju=-1;function ql(e){return{current:e}}function hr(e){0>Ju||(e.current=l1[Ju],l1[Ju]=null,Ju--)}function ir(e,t){Ju++,l1[Ju]=e.current,e.current=t}var Vl={},Zi=ql(Vl),wo=ql(!1),Oc=Vl;function Th(e,t){var n=e.type.contextTypes;if(!n)return Vl;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},h;for(h in n)l[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function So(e){return e=e.childContextTypes,e!=null}function Ty(){hr(wo),hr(Zi)}function uT(e,t,n){if(Zi.current!==Vl)throw Error(rt(168));ir(Zi,t),ir(wo,n)}function CI(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(rt(108,f4(e)||"Unknown",l));return Sr({},n,i)}function Ey(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vl,Oc=Zi.current,ir(Zi,e),ir(wo,wo.current),!0}function hT(e,t,n){var i=e.stateNode;if(!i)throw Error(rt(169));n?(e=CI(e,t,Oc),i.__reactInternalMemoizedMergedChildContext=e,hr(wo),hr(Zi),ir(Zi,e)):hr(wo),ir(wo,n)}var Fa=null,p0=!1,Z_=!1;function TI(e){Fa===null?Fa=[e]:Fa.push(e)}function MB(e){p0=!0,TI(e)}function Zl(){if(!Z_&&Fa!==null){Z_=!0;var e=0,t=Un;try{var n=Fa;for(Un=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Fa=null,p0=!1}catch(l){throw Fa!==null&&(Fa=Fa.slice(e+1)),XA(Nb,Zl),l}finally{Un=t,Z_=!1}}return null}var Qu=[],eh=0,Py=null,ky=0,ss=[],as=0,Fc=null,Na=1,$a="";function xc(e,t){Qu[eh++]=ky,Qu[eh++]=Py,Py=e,ky=t}function EI(e,t,n){ss[as++]=Na,ss[as++]=$a,ss[as++]=Fc,Fc=e;var i=Na;e=$a;var l=32-Os(i)-1;i&=~(1<<l),n+=1;var h=32-Os(t)+l;if(30<h){var p=l-l%5;h=(i&(1<<p)-1).toString(32),i>>=p,l-=p,Na=1<<32-Os(t)+l|n<<l|i,$a=h+e}else Na=1<<h|n<<l|i,$a=e}function Zb(e){e.return!==null&&(xc(e,1),EI(e,1,0))}function Kb(e){for(;e===Py;)Py=Qu[--eh],Qu[eh]=null,ky=Qu[--eh],Qu[eh]=null;for(;e===Fc;)Fc=ss[--as],ss[as]=null,$a=ss[--as],ss[as]=null,Na=ss[--as],ss[as]=null}var Fo=null,Oo=null,gr=!1,zs=null;function PI(e,t){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fo=e,Oo=Dl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fo=e,Oo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fc!==null?{id:Na,overflow:$a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fo=e,Oo=null,!0):!1;default:return!1}}function c1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function u1(e){if(gr){var t=Oo;if(t){var n=t;if(!dT(e,t)){if(c1(e))throw Error(rt(418));t=Dl(n.nextSibling);var i=Fo;t&&dT(e,t)?PI(i,n):(e.flags=e.flags&-4097|2,gr=!1,Fo=e)}}else{if(c1(e))throw Error(rt(418));e.flags=e.flags&-4097|2,gr=!1,Fo=e}}}function pT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fo=e}function xg(e){if(e!==Fo)return!1;if(!gr)return pT(e),gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o1(e.type,e.memoizedProps)),t&&(t=Oo)){if(c1(e))throw kI(),Error(rt(418));for(;t;)PI(e,t),t=Dl(t.nextSibling)}if(pT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oo=Dl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oo=null}}else Oo=Fo?Dl(e.stateNode.nextSibling):null;return!0}function kI(){for(var e=Oo;e;)e=Dl(e.nextSibling)}function Eh(){Oo=Fo=null,gr=!1}function Xb(e){zs===null?zs=[e]:zs.push(e)}var RB=Ya.ReactCurrentBatchConfig;function cp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var i=n.stateNode}if(!i)throw Error(rt(147,e));var l=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var a=l.refs;p===null?delete a[h]:a[h]=p},t._stringRef=h,t)}if(typeof e!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,e))}return e}function bg(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fT(e){var t=e._init;return t(e._payload)}function AI(e){function t(L,V){if(e){var N=L.deletions;N===null?(L.deletions=[V],L.flags|=16):N.push(V)}}function n(L,V){if(!e)return null;for(;V!==null;)t(L,V),V=V.sibling;return null}function i(L,V){for(L=new Map;V!==null;)V.key!==null?L.set(V.key,V):L.set(V.index,V),V=V.sibling;return L}function l(L,V){return L=Fl(L,V),L.index=0,L.sibling=null,L}function h(L,V,N){return L.index=N,e?(N=L.alternate,N!==null?(N=N.index,N<V?(L.flags|=2,V):N):(L.flags|=2,V)):(L.flags|=1048576,V)}function p(L){return e&&L.alternate===null&&(L.flags|=2),L}function a(L,V,N,K){return V===null||V.tag!==6?(V=tx(N,L.mode,K),V.return=L,V):(V=l(V,N),V.return=L,V)}function b(L,V,N,K){var ee=N.type;return ee===qu?T(L,V,N.props.children,K,N.key):V!==null&&(V.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===wl&&fT(ee)===V.type)?(K=l(V,N.props),K.ref=cp(L,V,N),K.return=L,K):(K=Qg(N.type,N.key,N.props,null,L.mode,K),K.ref=cp(L,V,N),K.return=L,K)}function w(L,V,N,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==N.containerInfo||V.stateNode.implementation!==N.implementation?(V=nx(N,L.mode,K),V.return=L,V):(V=l(V,N.children||[]),V.return=L,V)}function T(L,V,N,K,ee){return V===null||V.tag!==7?(V=Dc(N,L.mode,K,ee),V.return=L,V):(V=l(V,N),V.return=L,V)}function P(L,V,N){if(typeof V=="string"&&V!==""||typeof V=="number")return V=tx(""+V,L.mode,N),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ug:return N=Qg(V.type,V.key,V.props,null,L.mode,N),N.ref=cp(L,null,V),N.return=L,N;case Hu:return V=nx(V,L.mode,N),V.return=L,V;case wl:var K=V._init;return P(L,K(V._payload),N)}if(wp(V)||ip(V))return V=Dc(V,L.mode,N,null),V.return=L,V;bg(L,V)}return null}function I(L,V,N,K){var ee=V!==null?V.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ee!==null?null:a(L,V,""+N,K);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ug:return N.key===ee?b(L,V,N,K):null;case Hu:return N.key===ee?w(L,V,N,K):null;case wl:return ee=N._init,I(L,V,ee(N._payload),K)}if(wp(N)||ip(N))return ee!==null?null:T(L,V,N,K,null);bg(L,N)}return null}function D(L,V,N,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(N)||null,a(V,L,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ug:return L=L.get(K.key===null?N:K.key)||null,b(V,L,K,ee);case Hu:return L=L.get(K.key===null?N:K.key)||null,w(V,L,K,ee);case wl:var ue=K._init;return D(L,V,N,ue(K._payload),ee)}if(wp(K)||ip(K))return L=L.get(N)||null,T(V,L,K,ee,null);bg(V,K)}return null}function O(L,V,N,K){for(var ee=null,ue=null,ge=V,he=V=0,Pe=null;ge!==null&&he<N.length;he++){ge.index>he?(Pe=ge,ge=null):Pe=ge.sibling;var G=I(L,ge,N[he],K);if(G===null){ge===null&&(ge=Pe);break}e&&ge&&G.alternate===null&&t(L,ge),V=h(G,V,he),ue===null?ee=G:ue.sibling=G,ue=G,ge=Pe}if(he===N.length)return n(L,ge),gr&&xc(L,he),ee;if(ge===null){for(;he<N.length;he++)ge=P(L,N[he],K),ge!==null&&(V=h(ge,V,he),ue===null?ee=ge:ue.sibling=ge,ue=ge);return gr&&xc(L,he),ee}for(ge=i(L,ge);he<N.length;he++)Pe=D(ge,L,he,N[he],K),Pe!==null&&(e&&Pe.alternate!==null&&ge.delete(Pe.key===null?he:Pe.key),V=h(Pe,V,he),ue===null?ee=Pe:ue.sibling=Pe,ue=Pe);return e&&ge.forEach(function(Te){return t(L,Te)}),gr&&xc(L,he),ee}function j(L,V,N,K){var ee=ip(N);if(typeof ee!="function")throw Error(rt(150));if(N=ee.call(N),N==null)throw Error(rt(151));for(var ue=ee=null,ge=V,he=V=0,Pe=null,G=N.next();ge!==null&&!G.done;he++,G=N.next()){ge.index>he?(Pe=ge,ge=null):Pe=ge.sibling;var Te=I(L,ge,G.value,K);if(Te===null){ge===null&&(ge=Pe);break}e&&ge&&Te.alternate===null&&t(L,ge),V=h(Te,V,he),ue===null?ee=Te:ue.sibling=Te,ue=Te,ge=Pe}if(G.done)return n(L,ge),gr&&xc(L,he),ee;if(ge===null){for(;!G.done;he++,G=N.next())G=P(L,G.value,K),G!==null&&(V=h(G,V,he),ue===null?ee=G:ue.sibling=G,ue=G);return gr&&xc(L,he),ee}for(ge=i(L,ge);!G.done;he++,G=N.next())G=D(ge,L,he,G.value,K),G!==null&&(e&&G.alternate!==null&&ge.delete(G.key===null?he:G.key),V=h(G,V,he),ue===null?ee=G:ue.sibling=G,ue=G);return e&&ge.forEach(function(Le){return t(L,Le)}),gr&&xc(L,he),ee}function q(L,V,N,K){if(typeof N=="object"&&N!==null&&N.type===qu&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ug:e:{for(var ee=N.key,ue=V;ue!==null;){if(ue.key===ee){if(ee=N.type,ee===qu){if(ue.tag===7){n(L,ue.sibling),V=l(ue,N.props.children),V.return=L,L=V;break e}}else if(ue.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===wl&&fT(ee)===ue.type){n(L,ue.sibling),V=l(ue,N.props),V.ref=cp(L,ue,N),V.return=L,L=V;break e}n(L,ue);break}else t(L,ue);ue=ue.sibling}N.type===qu?(V=Dc(N.props.children,L.mode,K,N.key),V.return=L,L=V):(K=Qg(N.type,N.key,N.props,null,L.mode,K),K.ref=cp(L,V,N),K.return=L,L=K)}return p(L);case Hu:e:{for(ue=N.key;V!==null;){if(V.key===ue)if(V.tag===4&&V.stateNode.containerInfo===N.containerInfo&&V.stateNode.implementation===N.implementation){n(L,V.sibling),V=l(V,N.children||[]),V.return=L,L=V;break e}else{n(L,V);break}else t(L,V);V=V.sibling}V=nx(N,L.mode,K),V.return=L,L=V}return p(L);case wl:return ue=N._init,q(L,V,ue(N._payload),K)}if(wp(N))return O(L,V,N,K);if(ip(N))return j(L,V,N,K);bg(L,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,V!==null&&V.tag===6?(n(L,V.sibling),V=l(V,N),V.return=L,L=V):(n(L,V),V=tx(N,L.mode,K),V.return=L,L=V),p(L)):n(L,V)}return q}var Ph=AI(!0),II=AI(!1),Ay=ql(null),Iy=null,th=null,Yb=null;function Jb(){Yb=th=Iy=null}function Qb(e){var t=Ay.current;hr(Ay),e._currentValue=t}function h1(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function mh(e,t){Iy=e,Yb=th=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bo=!0),e.firstContext=null)}function ps(e){var t=e._currentValue;if(Yb!==e)if(e={context:e,memoizedValue:t,next:null},th===null){if(Iy===null)throw Error(rt(308));th=e,Iy.dependencies={lanes:0,firstContext:e}}else th=th.next=e;return t}var Pc=null;function ew(e){Pc===null?Pc=[e]:Pc.push(e)}function MI(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,ew(t)):(n.next=l.next,l.next=n),t.interleaved=n,Wa(e,i)}function Wa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sl=!1;function tw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zl(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,In&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Wa(e,n)}return l=i.interleaved,l===null?(t.next=t,ew(i)):(t.next=l.next,l.next=t),i.interleaved=t,Wa(e,n)}function qg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$b(e,n)}}function mT(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?l=h=p:h=h.next=p,n=n.next}while(n!==null);h===null?l=h=t:h=h.next=t}else l=h=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function My(e,t,n,i){var l=e.updateQueue;Sl=!1;var h=l.firstBaseUpdate,p=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var b=a,w=b.next;b.next=null,p===null?h=w:p.next=w,p=b;var T=e.alternate;T!==null&&(T=T.updateQueue,a=T.lastBaseUpdate,a!==p&&(a===null?T.firstBaseUpdate=w:a.next=w,T.lastBaseUpdate=b))}if(h!==null){var P=l.baseState;p=0,T=w=b=null,a=h;do{var I=a.lane,D=a.eventTime;if((i&I)===I){T!==null&&(T=T.next={eventTime:D,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var O=e,j=a;switch(I=t,D=n,j.tag){case 1:if(O=j.payload,typeof O=="function"){P=O.call(D,P,I);break e}P=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=j.payload,I=typeof O=="function"?O.call(D,P,I):O,I==null)break e;P=Sr({},P,I);break e;case 2:Sl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[a]:I.push(a))}else D={eventTime:D,lane:I,tag:a.tag,payload:a.payload,callback:a.callback,next:null},T===null?(w=T=D,b=P):T=T.next=D,p|=I;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;I=a,a=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(1);if(T===null&&(b=P),l.baseState=b,l.firstBaseUpdate=w,l.lastBaseUpdate=T,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else h===null&&(l.shared.lanes=0);$c|=p,e.lanes=p,e.memoizedState=P}}function gT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(rt(191,l));l.call(i)}}}var Ff={},ua=ql(Ff),af=ql(Ff),lf=ql(Ff);function kc(e){if(e===Ff)throw Error(rt(174));return e}function nw(e,t){switch(ir(lf,t),ir(af,e),ir(ua,Ff),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gx(t,e)}hr(ua),ir(ua,t)}function kh(){hr(ua),hr(af),hr(lf)}function LI(e){kc(lf.current);var t=kc(ua.current),n=Gx(t,e.type);t!==n&&(ir(af,e),ir(ua,n))}function rw(e){af.current===e&&(hr(ua),hr(af))}var xr=ql(0);function Ry(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var K_=[];function iw(){for(var e=0;e<K_.length;e++)K_[e]._workInProgressVersionPrimary=null;K_.length=0}var Zg=Ya.ReactCurrentDispatcher,X_=Ya.ReactCurrentBatchConfig,Nc=0,wr=null,Qr=null,ci=null,Ly=!1,Bp=!1,cf=0,LB=0;function Fi(){throw Error(rt(321))}function ow(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$s(e[n],t[n]))return!1;return!0}function sw(e,t,n,i,l,h){if(Nc=h,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zg.current=e===null||e.memoizedState===null?OB:FB,e=n(i,l),Bp){h=0;do{if(Bp=!1,cf=0,25<=h)throw Error(rt(301));h+=1,ci=Qr=null,t.updateQueue=null,Zg.current=NB,e=n(i,l)}while(Bp)}if(Zg.current=Dy,t=Qr!==null&&Qr.next!==null,Nc=0,ci=Qr=wr=null,Ly=!1,t)throw Error(rt(300));return e}function aw(){var e=cf!==0;return cf=0,e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?wr.memoizedState=ci=e:ci=ci.next=e,ci}function fs(){if(Qr===null){var e=wr.alternate;e=e!==null?e.memoizedState:null}else e=Qr.next;var t=ci===null?wr.memoizedState:ci.next;if(t!==null)ci=t,Qr=e;else{if(e===null)throw Error(rt(310));Qr=e,e={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},ci===null?wr.memoizedState=ci=e:ci=ci.next=e}return ci}function uf(e,t){return typeof t=="function"?t(e):t}function Y_(e){var t=fs(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var i=Qr,l=i.baseQueue,h=n.pending;if(h!==null){if(l!==null){var p=l.next;l.next=h.next,h.next=p}i.baseQueue=l=h,n.pending=null}if(l!==null){h=l.next,i=i.baseState;var a=p=null,b=null,w=h;do{var T=w.lane;if((Nc&T)===T)b!==null&&(b=b.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),i=w.hasEagerState?w.eagerState:e(i,w.action);else{var P={lane:T,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};b===null?(a=b=P,p=i):b=b.next=P,wr.lanes|=T,$c|=T}w=w.next}while(w!==null&&w!==h);b===null?p=i:b.next=a,$s(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=b,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do h=l.lane,wr.lanes|=h,$c|=h,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function J_(e){var t=fs(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,h=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do h=e(h,p.action),p=p.next;while(p!==l);$s(h,t.memoizedState)||(bo=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function DI(){}function zI(e,t){var n=wr,i=fs(),l=t(),h=!$s(i.memoizedState,l);if(h&&(i.memoizedState=l,bo=!0),i=i.queue,lw(FI.bind(null,n,i,e),[e]),i.getSnapshot!==t||h||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,hf(9,OI.bind(null,n,i,l,t),void 0,null),ui===null)throw Error(rt(349));Nc&30||BI(n,t,l)}return l}function BI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OI(e,t,n,i){t.value=n,t.getSnapshot=i,NI(t)&&$I(e)}function FI(e,t,n){return n(function(){NI(t)&&$I(e)})}function NI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$s(e,n)}catch{return!0}}function $I(e){var t=Wa(e,1);t!==null&&Fs(t,e,1,-1)}function yT(e){var t=ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:e},t.queue=e,e=e.dispatch=BB.bind(null,wr,e),[t.memoizedState,e]}function hf(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function jI(){return fs().memoizedState}function Kg(e,t,n,i){var l=ra();wr.flags|=e,l.memoizedState=hf(1|t,n,void 0,i===void 0?null:i)}function f0(e,t,n,i){var l=fs();i=i===void 0?null:i;var h=void 0;if(Qr!==null){var p=Qr.memoizedState;if(h=p.destroy,i!==null&&ow(i,p.deps)){l.memoizedState=hf(t,n,h,i);return}}wr.flags|=e,l.memoizedState=hf(1|t,n,h,i)}function vT(e,t){return Kg(8390656,8,e,t)}function lw(e,t){return f0(2048,8,e,t)}function VI(e,t){return f0(4,2,e,t)}function UI(e,t){return f0(4,4,e,t)}function WI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GI(e,t,n){return n=n!=null?n.concat([e]):null,f0(4,4,WI.bind(null,t,e),n)}function cw(){}function HI(e,t){var n=fs();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ow(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function qI(e,t){var n=fs();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ow(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ZI(e,t,n){return Nc&21?($s(n,t)||(n=QA(),wr.lanes|=n,$c|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n)}function DB(e,t){var n=Un;Un=n!==0&&4>n?n:4,e(!0);var i=X_.transition;X_.transition={};try{e(!1),t()}finally{Un=n,X_.transition=i}}function KI(){return fs().memoizedState}function zB(e,t,n){var i=Ol(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},XI(e))YI(t,n);else if(n=MI(e,t,n,i),n!==null){var l=lo();Fs(n,e,i,l),JI(n,t,i)}}function BB(e,t,n){var i=Ol(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(XI(e))YI(t,l);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,a=h(p,n);if(l.hasEagerState=!0,l.eagerState=a,$s(a,p)){var b=t.interleaved;b===null?(l.next=l,ew(t)):(l.next=b.next,b.next=l),t.interleaved=l;return}}catch{}finally{}n=MI(e,t,l,i),n!==null&&(l=lo(),Fs(n,e,i,l),JI(n,t,i))}}function XI(e){var t=e.alternate;return e===wr||t!==null&&t===wr}function YI(e,t){Bp=Ly=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function JI(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$b(e,n)}}var Dy={readContext:ps,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},OB={readContext:ps,useCallback:function(e,t){return ra().memoizedState=[e,t===void 0?null:t],e},useContext:ps,useEffect:vT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kg(4194308,4,WI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kg(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ra();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=zB.bind(null,wr,e),[i.memoizedState,e]},useRef:function(e){var t=ra();return e={current:e},t.memoizedState=e},useState:yT,useDebugValue:cw,useDeferredValue:function(e){return ra().memoizedState=e},useTransition:function(){var e=yT(!1),t=e[0];return e=DB.bind(null,e[1]),ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=wr,l=ra();if(gr){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),ui===null)throw Error(rt(349));Nc&30||BI(i,t,n)}l.memoizedState=n;var h={value:n,getSnapshot:t};return l.queue=h,vT(FI.bind(null,i,h,e),[e]),i.flags|=2048,hf(9,OI.bind(null,i,h,n,t),void 0,null),n},useId:function(){var e=ra(),t=ui.identifierPrefix;if(gr){var n=$a,i=Na;n=(i&~(1<<32-Os(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=cf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FB={readContext:ps,useCallback:HI,useContext:ps,useEffect:lw,useImperativeHandle:GI,useInsertionEffect:VI,useLayoutEffect:UI,useMemo:qI,useReducer:Y_,useRef:jI,useState:function(){return Y_(uf)},useDebugValue:cw,useDeferredValue:function(e){var t=fs();return ZI(t,Qr.memoizedState,e)},useTransition:function(){var e=Y_(uf)[0],t=fs().memoizedState;return[e,t]},useMutableSource:DI,useSyncExternalStore:zI,useId:KI,unstable_isNewReconciler:!1},NB={readContext:ps,useCallback:HI,useContext:ps,useEffect:lw,useImperativeHandle:GI,useInsertionEffect:VI,useLayoutEffect:UI,useMemo:qI,useReducer:J_,useRef:jI,useState:function(){return J_(uf)},useDebugValue:cw,useDeferredValue:function(e){var t=fs();return Qr===null?t.memoizedState=e:ZI(t,Qr.memoizedState,e)},useTransition:function(){var e=J_(uf)[0],t=fs().memoizedState;return[e,t]},useMutableSource:DI,useSyncExternalStore:zI,useId:KI,unstable_isNewReconciler:!1};function Rs(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function d1(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var m0={isMounted:function(e){return(e=e._reactInternals)?Gc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=lo(),l=Ol(e),h=ja(i,l);h.payload=t,n!=null&&(h.callback=n),t=zl(e,h,l),t!==null&&(Fs(t,e,l,i),qg(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=lo(),l=Ol(e),h=ja(i,l);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=zl(e,h,l),t!==null&&(Fs(t,e,l,i),qg(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lo(),i=Ol(e),l=ja(n,i);l.tag=2,t!=null&&(l.callback=t),t=zl(e,l,i),t!==null&&(Fs(t,e,i,n),qg(t,e,i))}};function _T(e,t,n,i,l,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,p):t.prototype&&t.prototype.isPureReactComponent?!nf(n,i)||!nf(l,h):!0}function QI(e,t,n){var i=!1,l=Vl,h=t.contextType;return typeof h=="object"&&h!==null?h=ps(h):(l=So(t)?Oc:Zi.current,i=t.contextTypes,h=(i=i!=null)?Th(e,l):Vl),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=m0,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=h),t}function xT(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&m0.enqueueReplaceState(t,t.state,null)}function p1(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},tw(e);var h=t.contextType;typeof h=="object"&&h!==null?l.context=ps(h):(h=So(t)?Oc:Zi.current,l.context=Th(e,h)),l.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(d1(e,t,h,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&m0.enqueueReplaceState(l,l.state,null),My(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ah(e,t){try{var n="",i=t;do n+=p4(i),i=i.return;while(i);var l=n}catch(h){l=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:l,digest:null}}function Q_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function f1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $B=typeof WeakMap=="function"?WeakMap:Map;function eM(e,t,n){n=ja(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){By||(By=!0,C1=i),f1(e,t)},n}function tM(e,t,n){n=ja(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){f1(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){f1(e,t),typeof i!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function bT(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $B;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=eO.bind(null,e,t,n),t.then(e,e))}function wT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ST(e,t,n,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ja(-1,1),t.tag=2,zl(n,t,1))),n.lanes|=1),e)}var jB=Ya.ReactCurrentOwner,bo=!1;function oo(e,t,n,i){t.child=e===null?II(t,null,n,i):Ph(t,e.child,n,i)}function CT(e,t,n,i,l){n=n.render;var h=t.ref;return mh(t,l),i=sw(e,t,n,i,h,l),n=aw(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ga(e,t,l)):(gr&&n&&Zb(t),t.flags|=1,oo(e,t,i,l),t.child)}function TT(e,t,n,i,l){if(e===null){var h=n.type;return typeof h=="function"&&!yw(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,nM(e,t,h,i,l)):(e=Qg(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&l)){var p=h.memoizedProps;if(n=n.compare,n=n!==null?n:nf,n(p,i)&&e.ref===t.ref)return Ga(e,t,l)}return t.flags|=1,e=Fl(h,i),e.ref=t.ref,e.return=t,t.child=e}function nM(e,t,n,i,l){if(e!==null){var h=e.memoizedProps;if(nf(h,i)&&e.ref===t.ref)if(bo=!1,t.pendingProps=i=h,(e.lanes&l)!==0)e.flags&131072&&(bo=!0);else return t.lanes=e.lanes,Ga(e,t,l)}return m1(e,t,n,i,l)}function rM(e,t,n){var i=t.pendingProps,l=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(rh,Do),Do|=n;else{if(!(n&1073741824))return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ir(rh,Do),Do|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:n,ir(rh,Do),Do|=i}else h!==null?(i=h.baseLanes|n,t.memoizedState=null):i=n,ir(rh,Do),Do|=i;return oo(e,t,l,n),t.child}function iM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function m1(e,t,n,i,l){var h=So(n)?Oc:Zi.current;return h=Th(t,h),mh(t,l),n=sw(e,t,n,i,h,l),i=aw(),e!==null&&!bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ga(e,t,l)):(gr&&i&&Zb(t),t.flags|=1,oo(e,t,n,l),t.child)}function ET(e,t,n,i,l){if(So(n)){var h=!0;Ey(t)}else h=!1;if(mh(t,l),t.stateNode===null)Xg(e,t),QI(t,n,i),p1(t,n,i,l),i=!0;else if(e===null){var p=t.stateNode,a=t.memoizedProps;p.props=a;var b=p.context,w=n.contextType;typeof w=="object"&&w!==null?w=ps(w):(w=So(n)?Oc:Zi.current,w=Th(t,w));var T=n.getDerivedStateFromProps,P=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function";P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==i||b!==w)&&xT(t,p,i,w),Sl=!1;var I=t.memoizedState;p.state=I,My(t,i,p,l),b=t.memoizedState,a!==i||I!==b||wo.current||Sl?(typeof T=="function"&&(d1(t,n,T,i),b=t.memoizedState),(a=Sl||_T(t,n,a,i,I,b,w))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=b),p.props=i,p.state=b,p.context=w,i=a):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,RI(e,t),a=t.memoizedProps,w=t.type===t.elementType?a:Rs(t.type,a),p.props=w,P=t.pendingProps,I=p.context,b=n.contextType,typeof b=="object"&&b!==null?b=ps(b):(b=So(n)?Oc:Zi.current,b=Th(t,b));var D=n.getDerivedStateFromProps;(T=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==P||I!==b)&&xT(t,p,i,b),Sl=!1,I=t.memoizedState,p.state=I,My(t,i,p,l);var O=t.memoizedState;a!==P||I!==O||wo.current||Sl?(typeof D=="function"&&(d1(t,n,D,i),O=t.memoizedState),(w=Sl||_T(t,n,w,i,I,O,b)||!1)?(T||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,O,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,O,b)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=O),p.props=i,p.state=O,p.context=b,i=w):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return g1(e,t,n,i,h,l)}function g1(e,t,n,i,l,h){iM(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return l&&hT(t,n,!1),Ga(e,t,h);i=t.stateNode,jB.current=t;var a=p&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Ph(t,e.child,null,h),t.child=Ph(t,null,a,h)):oo(e,t,a,h),t.memoizedState=i.state,l&&hT(t,n,!0),t.child}function oM(e){var t=e.stateNode;t.pendingContext?uT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uT(e,t.context,!1),nw(e,t.containerInfo)}function PT(e,t,n,i,l){return Eh(),Xb(l),t.flags|=256,oo(e,t,n,i),t.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function v1(e){return{baseLanes:e,cachePool:null,transitions:null}}function sM(e,t,n){var i=t.pendingProps,l=xr.current,h=!1,p=(t.flags&128)!==0,a;if((a=p)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ir(xr,l&1),e===null)return u1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=i.children,e=i.fallback,h?(i=t.mode,h=t.child,p={mode:"hidden",children:p},!(i&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=v0(p,i,0,null),e=Dc(e,i,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=v1(n),t.memoizedState=y1,e):uw(t,p));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return VB(e,t,p,i,a,l,n);if(h){h=i.fallback,p=t.mode,l=e.child,a=l.sibling;var b={mode:"hidden",children:i.children};return!(p&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=b,t.deletions=null):(i=Fl(l,b),i.subtreeFlags=l.subtreeFlags&14680064),a!==null?h=Fl(a,h):(h=Dc(h,p,n,null),h.flags|=2),h.return=t,i.return=t,i.sibling=h,t.child=i,i=h,h=t.child,p=e.child.memoizedState,p=p===null?v1(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~n,t.memoizedState=y1,i}return h=e.child,e=h.sibling,i=Fl(h,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function uw(e,t){return t=v0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wg(e,t,n,i){return i!==null&&Xb(i),Ph(t,e.child,null,n),e=uw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VB(e,t,n,i,l,h,p){if(n)return t.flags&256?(t.flags&=-257,i=Q_(Error(rt(422))),wg(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,l=t.mode,i=v0({mode:"visible",children:i.children},l,0,null),h=Dc(h,l,p,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,t.mode&1&&Ph(t,e.child,null,p),t.child.memoizedState=v1(p),t.memoizedState=y1,h);if(!(t.mode&1))return wg(e,t,p,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var a=i.dgst;return i=a,h=Error(rt(419)),i=Q_(h,i,void 0),wg(e,t,p,i)}if(a=(p&e.childLanes)!==0,bo||a){if(i=ui,i!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|p)?0:l,l!==0&&l!==h.retryLane&&(h.retryLane=l,Wa(e,l),Fs(i,e,l,-1))}return gw(),i=Q_(Error(rt(421))),wg(e,t,p,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=tO.bind(null,e),l._reactRetry=t,null):(e=h.treeContext,Oo=Dl(l.nextSibling),Fo=t,gr=!0,zs=null,e!==null&&(ss[as++]=Na,ss[as++]=$a,ss[as++]=Fc,Na=e.id,$a=e.overflow,Fc=t),t=uw(t,i.children),t.flags|=4096,t)}function kT(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),h1(e.return,t,n)}function ex(e,t,n,i,l){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=l)}function aM(e,t,n){var i=t.pendingProps,l=i.revealOrder,h=i.tail;if(oo(e,t,i.children,n),i=xr.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kT(e,n,t);else if(e.tag===19)kT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ir(xr,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ry(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ex(t,!1,l,n,h);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ry(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ex(t,!0,n,null,h);break;case"together":ex(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$c|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=Fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UB(e,t,n){switch(t.tag){case 3:oM(t),Eh();break;case 5:LI(t);break;case 1:So(t.type)&&Ey(t);break;case 4:nw(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;ir(Ay,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ir(xr,xr.current&1),t.flags|=128,null):n&t.child.childLanes?sM(e,t,n):(ir(xr,xr.current&1),e=Ga(e,t,n),e!==null?e.sibling:null);ir(xr,xr.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return aM(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ir(xr,xr.current),i)break;return null;case 22:case 23:return t.lanes=0,rM(e,t,n)}return Ga(e,t,n)}var lM,_1,cM,uM;lM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_1=function(){};cM=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,kc(ua.current);var h=null;switch(n){case"input":l=jx(e,l),i=jx(e,i),h=[];break;case"select":l=Sr({},l,{value:void 0}),i=Sr({},i,{value:void 0}),h=[];break;case"textarea":l=Wx(e,l),i=Wx(e,i),h=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Cy)}Hx(n,i);var p;n=null;for(w in l)if(!i.hasOwnProperty(w)&&l.hasOwnProperty(w)&&l[w]!=null)if(w==="style"){var a=l[w];for(p in a)a.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Kp.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in i){var b=i[w];if(a=l!=null?l[w]:void 0,i.hasOwnProperty(w)&&b!==a&&(b!=null||a!=null))if(w==="style")if(a){for(p in a)!a.hasOwnProperty(p)||b&&b.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in b)b.hasOwnProperty(p)&&a[p]!==b[p]&&(n||(n={}),n[p]=b[p])}else n||(h||(h=[]),h.push(w,n)),n=b;else w==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,a=a?a.__html:void 0,b!=null&&a!==b&&(h=h||[]).push(w,b)):w==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(w,""+b):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Kp.hasOwnProperty(w)?(b!=null&&w==="onScroll"&&ur("scroll",e),h||a===b||(h=[])):(h=h||[]).push(w,b))}n&&(h=h||[]).push("style",n);var w=h;(t.updateQueue=w)&&(t.flags|=4)}};uM=function(e,t,n,i){n!==i&&(t.flags|=4)};function up(e,t){if(!gr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function WB(e,t,n){var i=t.pendingProps;switch(Kb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(t),null;case 1:return So(t.type)&&Ty(),Ni(t),null;case 3:return i=t.stateNode,kh(),hr(wo),hr(Zi),iw(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zs!==null&&(P1(zs),zs=null))),_1(e,t),Ni(t),null;case 5:rw(t);var l=kc(lf.current);if(n=t.type,e!==null&&t.stateNode!=null)cM(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(rt(166));return Ni(t),null}if(e=kc(ua.current),xg(t)){i=t.stateNode,n=t.type;var h=t.memoizedProps;switch(i[sa]=t,i[sf]=h,e=(t.mode&1)!==0,n){case"dialog":ur("cancel",i),ur("close",i);break;case"iframe":case"object":case"embed":ur("load",i);break;case"video":case"audio":for(l=0;l<Cp.length;l++)ur(Cp[l],i);break;case"source":ur("error",i);break;case"img":case"image":case"link":ur("error",i),ur("load",i);break;case"details":ur("toggle",i);break;case"input":OC(i,h),ur("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},ur("invalid",i);break;case"textarea":NC(i,h),ur("invalid",i)}Hx(n,h),l=null;for(var p in h)if(h.hasOwnProperty(p)){var a=h[p];p==="children"?typeof a=="string"?i.textContent!==a&&(h.suppressHydrationWarning!==!0&&_g(i.textContent,a,e),l=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(h.suppressHydrationWarning!==!0&&_g(i.textContent,a,e),l=["children",""+a]):Kp.hasOwnProperty(p)&&a!=null&&p==="onScroll"&&ur("scroll",i)}switch(n){case"input":hg(i),FC(i,h,!0);break;case"textarea":hg(i),$C(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Cy)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(n,{is:i.is}):(e=p.createElement(n),n==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,n),e[sa]=t,e[sf]=i,lM(e,t,!1,!1),t.stateNode=e;e:{switch(p=qx(n,i),n){case"dialog":ur("cancel",e),ur("close",e),l=i;break;case"iframe":case"object":case"embed":ur("load",e),l=i;break;case"video":case"audio":for(l=0;l<Cp.length;l++)ur(Cp[l],e);l=i;break;case"source":ur("error",e),l=i;break;case"img":case"image":case"link":ur("error",e),ur("load",e),l=i;break;case"details":ur("toggle",e),l=i;break;case"input":OC(e,i),l=jx(e,i),ur("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=Sr({},i,{value:void 0}),ur("invalid",e);break;case"textarea":NC(e,i),l=Wx(e,i),ur("invalid",e);break;default:l=i}Hx(n,l),a=l;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];h==="style"?jA(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&NA(e,b)):h==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&Xp(e,b):typeof b=="number"&&Xp(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Kp.hasOwnProperty(h)?b!=null&&h==="onScroll"&&ur("scroll",e):b!=null&&Db(e,h,b,p))}switch(n){case"input":hg(e),FC(e,i,!1);break;case"textarea":hg(e),$C(e);break;case"option":i.value!=null&&e.setAttribute("value",""+jl(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?hh(e,!!i.multiple,h,!1):i.defaultValue!=null&&hh(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Cy)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ni(t),null;case 6:if(e&&t.stateNode!=null)uM(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(rt(166));if(n=kc(lf.current),kc(ua.current),xg(t)){if(i=t.stateNode,n=t.memoizedProps,i[sa]=t,(h=i.nodeValue!==n)&&(e=Fo,e!==null))switch(e.tag){case 3:_g(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_g(i.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[sa]=t,t.stateNode=i}return Ni(t),null;case 13:if(hr(xr),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gr&&Oo!==null&&t.mode&1&&!(t.flags&128))kI(),Eh(),t.flags|=98560,h=!1;else if(h=xg(t),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(rt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(rt(317));h[sa]=t}else Eh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ni(t),h=!1}else zs!==null&&(P1(zs),zs=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||xr.current&1?ei===0&&(ei=3):gw())),t.updateQueue!==null&&(t.flags|=4),Ni(t),null);case 4:return kh(),_1(e,t),e===null&&rf(t.stateNode.containerInfo),Ni(t),null;case 10:return Qb(t.type._context),Ni(t),null;case 17:return So(t.type)&&Ty(),Ni(t),null;case 19:if(hr(xr),h=t.memoizedState,h===null)return Ni(t),null;if(i=(t.flags&128)!==0,p=h.rendering,p===null)if(i)up(h,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=Ry(e),p!==null){for(t.flags|=128,up(h,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)h=n,e=i,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ir(xr,xr.current&1|2),t.child}e=e.sibling}h.tail!==null&&jr()>Ih&&(t.flags|=128,i=!0,up(h,!1),t.lanes=4194304)}else{if(!i)if(e=Ry(p),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),up(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!gr)return Ni(t),null}else 2*jr()-h.renderingStartTime>Ih&&n!==1073741824&&(t.flags|=128,i=!0,up(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(n=h.last,n!==null?n.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=jr(),t.sibling=null,n=xr.current,ir(xr,i?n&1|2:n&1),t):(Ni(t),null);case 22:case 23:return mw(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Do&1073741824&&(Ni(t),t.subtreeFlags&6&&(t.flags|=8192)):Ni(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function GB(e,t){switch(Kb(t),t.tag){case 1:return So(t.type)&&Ty(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kh(),hr(wo),hr(Zi),iw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rw(t),null;case 13:if(hr(xr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));Eh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hr(xr),null;case 4:return kh(),null;case 10:return Qb(t.type._context),null;case 22:case 23:return mw(),null;case 24:return null;default:return null}}var Sg=!1,Vi=!1,HB=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function nh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Mr(e,t,i)}else n.current=null}function x1(e,t,n){try{n()}catch(i){Mr(e,t,i)}}var AT=!1;function qB(e,t){if(r1=by,e=mI(),qb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var p=0,a=-1,b=-1,w=0,T=0,P=e,I=null;t:for(;;){for(var D;P!==n||l!==0&&P.nodeType!==3||(a=p+l),P!==h||i!==0&&P.nodeType!==3||(b=p+i),P.nodeType===3&&(p+=P.nodeValue.length),(D=P.firstChild)!==null;)I=P,P=D;for(;;){if(P===e)break t;if(I===n&&++w===l&&(a=p),I===h&&++T===i&&(b=p),(D=P.nextSibling)!==null)break;P=I,I=P.parentNode}P=D}n=a===-1||b===-1?null:{start:a,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(i1={focusedElem:e,selectionRange:n},by=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){t=Tt;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var j=O.memoizedProps,q=O.memoizedState,L=t.stateNode,V=L.getSnapshotBeforeUpdate(t.elementType===t.type?j:Rs(t.type,j),q);L.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(K){Mr(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}return O=AT,AT=!1,O}function Op(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var h=l.destroy;l.destroy=void 0,h!==void 0&&x1(t,n,h)}l=l.next}while(l!==i)}}function g0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function b1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hM(e){var t=e.alternate;t!==null&&(e.alternate=null,hM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sa],delete t[sf],delete t[a1],delete t[AB],delete t[IB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dM(e){return e.tag===5||e.tag===3||e.tag===4}function IT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function w1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cy));else if(i!==4&&(e=e.child,e!==null))for(w1(e,t,n),e=e.sibling;e!==null;)w1(e,t,n),e=e.sibling}function S1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(S1(e,t,n),e=e.sibling;e!==null;)S1(e,t,n),e=e.sibling}var bi=null,Ls=!1;function _l(e,t,n){for(n=n.child;n!==null;)pM(e,t,n),n=n.sibling}function pM(e,t,n){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(l0,n)}catch{}switch(n.tag){case 5:Vi||nh(n,t);case 6:var i=bi,l=Ls;bi=null,_l(e,t,n),bi=i,Ls=l,bi!==null&&(Ls?(e=bi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bi.removeChild(n.stateNode));break;case 18:bi!==null&&(Ls?(e=bi,n=n.stateNode,e.nodeType===8?q_(e.parentNode,n):e.nodeType===1&&q_(e,n),ef(e)):q_(bi,n.stateNode));break;case 4:i=bi,l=Ls,bi=n.stateNode.containerInfo,Ls=!0,_l(e,t,n),bi=i,Ls=l;break;case 0:case 11:case 14:case 15:if(!Vi&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var h=l,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&x1(n,t,p),l=l.next}while(l!==i)}_l(e,t,n);break;case 1:if(!Vi&&(nh(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Mr(n,t,a)}_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:n.mode&1?(Vi=(i=Vi)||n.memoizedState!==null,_l(e,t,n),Vi=i):_l(e,t,n);break;default:_l(e,t,n)}}function MT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HB),t.forEach(function(i){var l=nO.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function Is(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var h=e,p=t,a=p;e:for(;a!==null;){switch(a.tag){case 5:bi=a.stateNode,Ls=!1;break e;case 3:bi=a.stateNode.containerInfo,Ls=!0;break e;case 4:bi=a.stateNode.containerInfo,Ls=!0;break e}a=a.return}if(bi===null)throw Error(rt(160));pM(h,p,l),bi=null,Ls=!1;var b=l.alternate;b!==null&&(b.return=null),l.return=null}catch(w){Mr(l,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fM(t,e),t=t.sibling}function fM(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Is(t,e),Ys(e),i&4){try{Op(3,e,e.return),g0(3,e)}catch(j){Mr(e,e.return,j)}try{Op(5,e,e.return)}catch(j){Mr(e,e.return,j)}}break;case 1:Is(t,e),Ys(e),i&512&&n!==null&&nh(n,n.return);break;case 5:if(Is(t,e),Ys(e),i&512&&n!==null&&nh(n,n.return),e.flags&32){var l=e.stateNode;try{Xp(l,"")}catch(j){Mr(e,e.return,j)}}if(i&4&&(l=e.stateNode,l!=null)){var h=e.memoizedProps,p=n!==null?n.memoizedProps:h,a=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{a==="input"&&h.type==="radio"&&h.name!=null&&BA(l,h),qx(a,p);var w=qx(a,h);for(p=0;p<b.length;p+=2){var T=b[p],P=b[p+1];T==="style"?jA(l,P):T==="dangerouslySetInnerHTML"?NA(l,P):T==="children"?Xp(l,P):Db(l,T,P,w)}switch(a){case"input":Vx(l,h);break;case"textarea":OA(l,h);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!h.multiple;var D=h.value;D!=null?hh(l,!!h.multiple,D,!1):I!==!!h.multiple&&(h.defaultValue!=null?hh(l,!!h.multiple,h.defaultValue,!0):hh(l,!!h.multiple,h.multiple?[]:"",!1))}l[sf]=h}catch(j){Mr(e,e.return,j)}}break;case 6:if(Is(t,e),Ys(e),i&4){if(e.stateNode===null)throw Error(rt(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(j){Mr(e,e.return,j)}}break;case 3:if(Is(t,e),Ys(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(j){Mr(e,e.return,j)}break;case 4:Is(t,e),Ys(e);break;case 13:Is(t,e),Ys(e),l=e.child,l.flags&8192&&(h=l.memoizedState!==null,l.stateNode.isHidden=h,!h||l.alternate!==null&&l.alternate.memoizedState!==null||(pw=jr())),i&4&&MT(e);break;case 22:if(T=n!==null&&n.memoizedState!==null,e.mode&1?(Vi=(w=Vi)||T,Is(t,e),Vi=w):Is(t,e),Ys(e),i&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!T&&e.mode&1)for(Tt=e,T=e.child;T!==null;){for(P=Tt=T;Tt!==null;){switch(I=Tt,D=I.child,I.tag){case 0:case 11:case 14:case 15:Op(4,I,I.return);break;case 1:nh(I,I.return);var O=I.stateNode;if(typeof O.componentWillUnmount=="function"){i=I,n=I.return;try{t=i,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(j){Mr(i,n,j)}}break;case 5:nh(I,I.return);break;case 22:if(I.memoizedState!==null){LT(P);continue}}D!==null?(D.return=I,Tt=D):LT(P)}T=T.sibling}e:for(T=null,P=e;;){if(P.tag===5){if(T===null){T=P;try{l=P.stateNode,w?(h=l.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(a=P.stateNode,b=P.memoizedProps.style,p=b!=null&&b.hasOwnProperty("display")?b.display:null,a.style.display=$A("display",p))}catch(j){Mr(e,e.return,j)}}}else if(P.tag===6){if(T===null)try{P.stateNode.nodeValue=w?"":P.memoizedProps}catch(j){Mr(e,e.return,j)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;T===P&&(T=null),P=P.return}T===P&&(T=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Is(t,e),Ys(e),i&4&&MT(e);break;case 21:break;default:Is(t,e),Ys(e)}}function Ys(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dM(n)){var i=n;break e}n=n.return}throw Error(rt(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(Xp(l,""),i.flags&=-33);var h=IT(e);S1(e,h,l);break;case 3:case 4:var p=i.stateNode.containerInfo,a=IT(e);w1(e,a,p);break;default:throw Error(rt(161))}}catch(b){Mr(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZB(e,t,n){Tt=e,mM(e)}function mM(e,t,n){for(var i=(e.mode&1)!==0;Tt!==null;){var l=Tt,h=l.child;if(l.tag===22&&i){var p=l.memoizedState!==null||Sg;if(!p){var a=l.alternate,b=a!==null&&a.memoizedState!==null||Vi;a=Sg;var w=Vi;if(Sg=p,(Vi=b)&&!w)for(Tt=l;Tt!==null;)p=Tt,b=p.child,p.tag===22&&p.memoizedState!==null?DT(l):b!==null?(b.return=p,Tt=b):DT(l);for(;h!==null;)Tt=h,mM(h),h=h.sibling;Tt=l,Sg=a,Vi=w}RT(e)}else l.subtreeFlags&8772&&h!==null?(h.return=l,Tt=h):RT(e)}}function RT(e){for(;Tt!==null;){var t=Tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vi||g0(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Vi)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Rs(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&gT(t,h,i);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gT(t,p,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var T=w.memoizedState;if(T!==null){var P=T.dehydrated;P!==null&&ef(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Vi||t.flags&512&&b1(t)}catch(I){Mr(t,t.return,I)}}if(t===e){Tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function LT(e){for(;Tt!==null;){var t=Tt;if(t===e){Tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function DT(e){for(;Tt!==null;){var t=Tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{g0(4,t)}catch(b){Mr(t,n,b)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(b){Mr(t,l,b)}}var h=t.return;try{b1(t)}catch(b){Mr(t,h,b)}break;case 5:var p=t.return;try{b1(t)}catch(b){Mr(t,p,b)}}}catch(b){Mr(t,t.return,b)}if(t===e){Tt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Tt=a;break}Tt=t.return}}var KB=Math.ceil,zy=Ya.ReactCurrentDispatcher,hw=Ya.ReactCurrentOwner,hs=Ya.ReactCurrentBatchConfig,In=0,ui=null,Gr=null,Pi=0,Do=0,rh=ql(0),ei=0,df=null,$c=0,y0=0,dw=0,Fp=null,xo=null,pw=0,Ih=1/0,Oa=null,By=!1,C1=null,Bl=null,Cg=!1,Pl=null,Oy=0,Np=0,T1=null,Yg=-1,Jg=0;function lo(){return In&6?jr():Yg!==-1?Yg:Yg=jr()}function Ol(e){return e.mode&1?In&2&&Pi!==0?Pi&-Pi:RB.transition!==null?(Jg===0&&(Jg=QA()),Jg):(e=Un,e!==0||(e=window.event,e=e===void 0?16:sI(e.type)),e):1}function Fs(e,t,n,i){if(50<Np)throw Np=0,T1=null,Error(rt(185));zf(e,n,i),(!(In&2)||e!==ui)&&(e===ui&&(!(In&2)&&(y0|=n),ei===4&&Tl(e,Pi)),Co(e,i),n===1&&In===0&&!(t.mode&1)&&(Ih=jr()+500,p0&&Zl()))}function Co(e,t){var n=e.callbackNode;R4(e,t);var i=xy(e,e===ui?Pi:0);if(i===0)n!==null&&UC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&UC(n),t===1)e.tag===0?MB(zT.bind(null,e)):TI(zT.bind(null,e)),PB(function(){!(In&6)&&Zl()}),n=null;else{switch(eI(i)){case 1:n=Nb;break;case 4:n=YA;break;case 16:n=_y;break;case 536870912:n=JA;break;default:n=_y}n=SM(n,gM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gM(e,t){if(Yg=-1,Jg=0,In&6)throw Error(rt(327));var n=e.callbackNode;if(gh()&&e.callbackNode!==n)return null;var i=xy(e,e===ui?Pi:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Fy(e,i);else{t=i;var l=In;In|=2;var h=vM();(ui!==e||Pi!==t)&&(Oa=null,Ih=jr()+500,Lc(e,t));do try{JB();break}catch(a){yM(e,a)}while(1);Jb(),zy.current=h,In=l,Gr!==null?t=0:(ui=null,Pi=0,t=ei)}if(t!==0){if(t===2&&(l=Jx(e),l!==0&&(i=l,t=E1(e,l))),t===1)throw n=df,Lc(e,0),Tl(e,i),Co(e,jr()),n;if(t===6)Tl(e,i);else{if(l=e.current.alternate,!(i&30)&&!XB(l)&&(t=Fy(e,i),t===2&&(h=Jx(e),h!==0&&(i=h,t=E1(e,h))),t===1))throw n=df,Lc(e,0),Tl(e,i),Co(e,jr()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(rt(345));case 2:bc(e,xo,Oa);break;case 3:if(Tl(e,i),(i&130023424)===i&&(t=pw+500-jr(),10<t)){if(xy(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){lo(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=s1(bc.bind(null,e,xo,Oa),t);break}bc(e,xo,Oa);break;case 4:if(Tl(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var p=31-Os(i);h=1<<p,p=t[p],p>l&&(l=p),i&=~h}if(i=l,i=jr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*KB(i/1960))-i,10<i){e.timeoutHandle=s1(bc.bind(null,e,xo,Oa),i);break}bc(e,xo,Oa);break;case 5:bc(e,xo,Oa);break;default:throw Error(rt(329))}}}return Co(e,jr()),e.callbackNode===n?gM.bind(null,e):null}function E1(e,t){var n=Fp;return e.current.memoizedState.isDehydrated&&(Lc(e,t).flags|=256),e=Fy(e,t),e!==2&&(t=xo,xo=n,t!==null&&P1(t)),e}function P1(e){xo===null?xo=e:xo.push.apply(xo,e)}function XB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],h=l.getSnapshot;l=l.value;try{if(!$s(h(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tl(e,t){for(t&=~dw,t&=~y0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Os(t),i=1<<n;e[n]=-1,t&=~i}}function zT(e){if(In&6)throw Error(rt(327));gh();var t=xy(e,0);if(!(t&1))return Co(e,jr()),null;var n=Fy(e,t);if(e.tag!==0&&n===2){var i=Jx(e);i!==0&&(t=i,n=E1(e,i))}if(n===1)throw n=df,Lc(e,0),Tl(e,t),Co(e,jr()),n;if(n===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,xo,Oa),Co(e,jr()),null}function fw(e,t){var n=In;In|=1;try{return e(t)}finally{In=n,In===0&&(Ih=jr()+500,p0&&Zl())}}function jc(e){Pl!==null&&Pl.tag===0&&!(In&6)&&gh();var t=In;In|=1;var n=hs.transition,i=Un;try{if(hs.transition=null,Un=1,e)return e()}finally{Un=i,hs.transition=n,In=t,!(In&6)&&Zl()}}function mw(){Do=rh.current,hr(rh)}function Lc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,EB(n)),Gr!==null)for(n=Gr.return;n!==null;){var i=n;switch(Kb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ty();break;case 3:kh(),hr(wo),hr(Zi),iw();break;case 5:rw(i);break;case 4:kh();break;case 13:hr(xr);break;case 19:hr(xr);break;case 10:Qb(i.type._context);break;case 22:case 23:mw()}n=n.return}if(ui=e,Gr=e=Fl(e.current,null),Pi=Do=t,ei=0,df=null,dw=y0=$c=0,xo=Fp=null,Pc!==null){for(t=0;t<Pc.length;t++)if(n=Pc[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,h=n.pending;if(h!==null){var p=h.next;h.next=l,i.next=p}n.pending=i}Pc=null}return e}function yM(e,t){do{var n=Gr;try{if(Jb(),Zg.current=Dy,Ly){for(var i=wr.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ly=!1}if(Nc=0,ci=Qr=wr=null,Bp=!1,cf=0,hw.current=null,n===null||n.return===null){ei=1,df=t,Gr=null;break}e:{var h=e,p=n.return,a=n,b=t;if(t=Pi,a.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var w=b,T=a,P=T.tag;if(!(T.mode&1)&&(P===0||P===11||P===15)){var I=T.alternate;I?(T.updateQueue=I.updateQueue,T.memoizedState=I.memoizedState,T.lanes=I.lanes):(T.updateQueue=null,T.memoizedState=null)}var D=wT(p);if(D!==null){D.flags&=-257,ST(D,p,a,h,t),D.mode&1&&bT(h,w,t),t=D,b=w;var O=t.updateQueue;if(O===null){var j=new Set;j.add(b),t.updateQueue=j}else O.add(b);break e}else{if(!(t&1)){bT(h,w,t),gw();break e}b=Error(rt(426))}}else if(gr&&a.mode&1){var q=wT(p);if(q!==null){!(q.flags&65536)&&(q.flags|=256),ST(q,p,a,h,t),Xb(Ah(b,a));break e}}h=b=Ah(b,a),ei!==4&&(ei=2),Fp===null?Fp=[h]:Fp.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var L=eM(h,b,t);mT(h,L);break e;case 1:a=b;var V=h.type,N=h.stateNode;if(!(h.flags&128)&&(typeof V.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Bl===null||!Bl.has(N)))){h.flags|=65536,t&=-t,h.lanes|=t;var K=tM(h,a,t);mT(h,K);break e}}h=h.return}while(h!==null)}xM(n)}catch(ee){t=ee,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(1)}function vM(){var e=zy.current;return zy.current=Dy,e===null?Dy:e}function gw(){(ei===0||ei===3||ei===2)&&(ei=4),ui===null||!($c&268435455)&&!(y0&268435455)||Tl(ui,Pi)}function Fy(e,t){var n=In;In|=2;var i=vM();(ui!==e||Pi!==t)&&(Oa=null,Lc(e,t));do try{YB();break}catch(l){yM(e,l)}while(1);if(Jb(),In=n,zy.current=i,Gr!==null)throw Error(rt(261));return ui=null,Pi=0,ei}function YB(){for(;Gr!==null;)_M(Gr)}function JB(){for(;Gr!==null&&!S4();)_M(Gr)}function _M(e){var t=wM(e.alternate,e,Do);e.memoizedProps=e.pendingProps,t===null?xM(e):Gr=t,hw.current=null}function xM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GB(n,t),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Gr=null;return}}else if(n=WB(n,t,Do),n!==null){Gr=n;return}if(t=t.sibling,t!==null){Gr=t;return}Gr=t=e}while(t!==null);ei===0&&(ei=5)}function bc(e,t,n){var i=Un,l=hs.transition;try{hs.transition=null,Un=1,QB(e,t,n,i)}finally{hs.transition=l,Un=i}return null}function QB(e,t,n,i){do gh();while(Pl!==null);if(In&6)throw Error(rt(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(L4(e,h),e===ui&&(Gr=ui=null,Pi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cg||(Cg=!0,SM(_y,function(){return gh(),null})),h=(n.flags&15990)!==0,n.subtreeFlags&15990||h){h=hs.transition,hs.transition=null;var p=Un;Un=1;var a=In;In|=4,hw.current=null,qB(e,n),fM(n,e),_B(i1),by=!!r1,i1=r1=null,e.current=n,ZB(n),C4(),In=a,Un=p,hs.transition=h}else e.current=n;if(Cg&&(Cg=!1,Pl=e,Oy=l),h=e.pendingLanes,h===0&&(Bl=null),P4(n.stateNode),Co(e,jr()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(By)throw By=!1,e=C1,C1=null,e;return Oy&1&&e.tag!==0&&gh(),h=e.pendingLanes,h&1?e===T1?Np++:(Np=0,T1=e):Np=0,Zl(),null}function gh(){if(Pl!==null){var e=eI(Oy),t=hs.transition,n=Un;try{if(hs.transition=null,Un=16>e?16:e,Pl===null)var i=!1;else{if(e=Pl,Pl=null,Oy=0,In&6)throw Error(rt(331));var l=In;for(In|=4,Tt=e.current;Tt!==null;){var h=Tt,p=h.child;if(Tt.flags&16){var a=h.deletions;if(a!==null){for(var b=0;b<a.length;b++){var w=a[b];for(Tt=w;Tt!==null;){var T=Tt;switch(T.tag){case 0:case 11:case 15:Op(8,T,h)}var P=T.child;if(P!==null)P.return=T,Tt=P;else for(;Tt!==null;){T=Tt;var I=T.sibling,D=T.return;if(hM(T),T===w){Tt=null;break}if(I!==null){I.return=D,Tt=I;break}Tt=D}}}var O=h.alternate;if(O!==null){var j=O.child;if(j!==null){O.child=null;do{var q=j.sibling;j.sibling=null,j=q}while(j!==null)}}Tt=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,Tt=p;else e:for(;Tt!==null;){if(h=Tt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Op(9,h,h.return)}var L=h.sibling;if(L!==null){L.return=h.return,Tt=L;break e}Tt=h.return}}var V=e.current;for(Tt=V;Tt!==null;){p=Tt;var N=p.child;if(p.subtreeFlags&2064&&N!==null)N.return=p,Tt=N;else e:for(p=V;Tt!==null;){if(a=Tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:g0(9,a)}}catch(ee){Mr(a,a.return,ee)}if(a===p){Tt=null;break e}var K=a.sibling;if(K!==null){K.return=a.return,Tt=K;break e}Tt=a.return}}if(In=l,Zl(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(l0,e)}catch{}i=!0}return i}finally{Un=n,hs.transition=t}}return!1}function BT(e,t,n){t=Ah(n,t),t=eM(e,t,1),e=zl(e,t,1),t=lo(),e!==null&&(zf(e,1,t),Co(e,t))}function Mr(e,t,n){if(e.tag===3)BT(e,e,n);else for(;t!==null;){if(t.tag===3){BT(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bl===null||!Bl.has(i))){e=Ah(n,e),e=tM(t,e,1),t=zl(t,e,1),e=lo(),t!==null&&(zf(t,1,e),Co(t,e));break}}t=t.return}}function eO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=lo(),e.pingedLanes|=e.suspendedLanes&n,ui===e&&(Pi&n)===n&&(ei===4||ei===3&&(Pi&130023424)===Pi&&500>jr()-pw?Lc(e,0):dw|=n),Co(e,t)}function bM(e,t){t===0&&(e.mode&1?(t=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):t=1);var n=lo();e=Wa(e,t),e!==null&&(zf(e,t,n),Co(e,n))}function tO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bM(e,n)}function nO(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(rt(314))}i!==null&&i.delete(t),bM(e,n)}var wM;wM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wo.current)bo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bo=!1,UB(e,t,n);bo=!!(e.flags&131072)}else bo=!1,gr&&t.flags&1048576&&EI(t,ky,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xg(e,t),e=t.pendingProps;var l=Th(t,Zi.current);mh(t,n),l=sw(null,t,i,e,l,n);var h=aw();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,So(i)?(h=!0,Ey(t)):h=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,tw(t),l.updater=m0,t.stateNode=l,l._reactInternals=t,p1(t,i,e,n),t=g1(null,t,i,!0,h,n)):(t.tag=0,gr&&h&&Zb(t),oo(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Xg(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=iO(i),e=Rs(i,e),l){case 0:t=m1(null,t,i,e,n);break e;case 1:t=ET(null,t,i,e,n);break e;case 11:t=CT(null,t,i,e,n);break e;case 14:t=TT(null,t,i,Rs(i.type,e),n);break e}throw Error(rt(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Rs(i,l),m1(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Rs(i,l),ET(e,t,i,l,n);case 3:e:{if(oM(t),e===null)throw Error(rt(387));i=t.pendingProps,h=t.memoizedState,l=h.element,RI(e,t),My(t,i,null,n);var p=t.memoizedState;if(i=p.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){l=Ah(Error(rt(423)),t),t=PT(e,t,i,n,l);break e}else if(i!==l){l=Ah(Error(rt(424)),t),t=PT(e,t,i,n,l);break e}else for(Oo=Dl(t.stateNode.containerInfo.firstChild),Fo=t,gr=!0,zs=null,n=II(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eh(),i===l){t=Ga(e,t,n);break e}oo(e,t,i,n)}t=t.child}return t;case 5:return LI(t),e===null&&u1(t),i=t.type,l=t.pendingProps,h=e!==null?e.memoizedProps:null,p=l.children,o1(i,l)?p=null:h!==null&&o1(i,h)&&(t.flags|=32),iM(e,t),oo(e,t,p,n),t.child;case 6:return e===null&&u1(t),null;case 13:return sM(e,t,n);case 4:return nw(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ph(t,null,i,n):oo(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Rs(i,l),CT(e,t,i,l,n);case 7:return oo(e,t,t.pendingProps,n),t.child;case 8:return oo(e,t,t.pendingProps.children,n),t.child;case 12:return oo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,h=t.memoizedProps,p=l.value,ir(Ay,i._currentValue),i._currentValue=p,h!==null)if($s(h.value,p)){if(h.children===l.children&&!wo.current){t=Ga(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var a=h.dependencies;if(a!==null){p=h.child;for(var b=a.firstContext;b!==null;){if(b.context===i){if(h.tag===1){b=ja(-1,n&-n),b.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var T=w.pending;T===null?b.next=b:(b.next=T.next,T.next=b),w.pending=b}}h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),h1(h.return,n,t),a.lanes|=n;break}b=b.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(rt(341));p.lanes|=n,a=p.alternate,a!==null&&(a.lanes|=n),h1(p,n,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}oo(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,mh(t,n),l=ps(l),i=i(l),t.flags|=1,oo(e,t,i,n),t.child;case 14:return i=t.type,l=Rs(i,t.pendingProps),l=Rs(i.type,l),TT(e,t,i,l,n);case 15:return nM(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Rs(i,l),Xg(e,t),t.tag=1,So(i)?(e=!0,Ey(t)):e=!1,mh(t,n),QI(t,i,l),p1(t,i,l,n),g1(null,t,i,!0,e,n);case 19:return aM(e,t,n);case 22:return rM(e,t,n)}throw Error(rt(156,t.tag))};function SM(e,t){return XA(e,t)}function rO(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,t,n,i){return new rO(e,t,n,i)}function yw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iO(e){if(typeof e=="function")return yw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bb)return 11;if(e===Ob)return 14}return 2}function Fl(e,t){var n=e.alternate;return n===null?(n=us(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qg(e,t,n,i,l,h){var p=2;if(i=e,typeof e=="function")yw(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case qu:return Dc(n.children,l,h,t);case zb:p=8,l|=8;break;case Ox:return e=us(12,n,t,l|2),e.elementType=Ox,e.lanes=h,e;case Fx:return e=us(13,n,t,l),e.elementType=Fx,e.lanes=h,e;case Nx:return e=us(19,n,t,l),e.elementType=Nx,e.lanes=h,e;case LA:return v0(n,l,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MA:p=10;break e;case RA:p=9;break e;case Bb:p=11;break e;case Ob:p=14;break e;case wl:p=16,i=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=us(p,n,t,l),t.elementType=e,t.type=i,t.lanes=h,t}function Dc(e,t,n,i){return e=us(7,e,i,t),e.lanes=n,e}function v0(e,t,n,i){return e=us(22,e,i,t),e.elementType=LA,e.lanes=n,e.stateNode={isHidden:!1},e}function tx(e,t,n){return e=us(6,e,null,t),e.lanes=n,e}function nx(e,t,n){return t=us(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oO(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=B_(0),this.expirationTimes=B_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B_(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function vw(e,t,n,i,l,h,p,a,b){return e=new oO(e,t,n,a,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=us(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tw(h),e}function sO(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hu,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function CM(e){if(!e)return Vl;e=e._reactInternals;e:{if(Gc(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(So(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var n=e.type;if(So(n))return CI(e,n,t)}return t}function TM(e,t,n,i,l,h,p,a,b){return e=vw(n,i,!0,e,l,h,p,a,b),e.context=CM(null),n=e.current,i=lo(),l=Ol(n),h=ja(i,l),h.callback=t??null,zl(n,h,l),e.current.lanes=l,zf(e,l,i),Co(e,i),e}function _0(e,t,n,i){var l=t.current,h=lo(),p=Ol(l);return n=CM(n),t.context===null?t.context=n:t.pendingContext=n,t=ja(h,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=zl(l,t,p),e!==null&&(Fs(e,l,p,h),qg(e,l,p)),p}function Ny(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function OT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _w(e,t){OT(e,t),(e=e.alternate)&&OT(e,t)}function aO(){return null}var EM=typeof reportError=="function"?reportError:function(e){console.error(e)};function xw(e){this._internalRoot=e}x0.prototype.render=xw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));_0(e,t,null,null)};x0.prototype.unmount=xw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jc(function(){_0(null,e,null,null)}),t[Ua]=null}};function x0(e){this._internalRoot=e}x0.prototype.unstable_scheduleHydration=function(e){if(e){var t=rI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cl.length&&t!==0&&t<Cl[n].priority;n++);Cl.splice(n,0,e),n===0&&oI(e)}};function bw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function FT(){}function lO(e,t,n,i,l){if(l){if(typeof i=="function"){var h=i;i=function(){var w=Ny(p);h.call(w)}}var p=TM(t,i,e,0,null,!1,!1,"",FT);return e._reactRootContainer=p,e[Ua]=p.current,rf(e.nodeType===8?e.parentNode:e),jc(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var a=i;i=function(){var w=Ny(b);a.call(w)}}var b=vw(e,0,!1,null,null,!1,!1,"",FT);return e._reactRootContainer=b,e[Ua]=b.current,rf(e.nodeType===8?e.parentNode:e),jc(function(){_0(t,b,n,i)}),b}function w0(e,t,n,i,l){var h=n._reactRootContainer;if(h){var p=h;if(typeof l=="function"){var a=l;l=function(){var b=Ny(p);a.call(b)}}_0(t,p,e,l)}else p=lO(n,t,e,l,i);return Ny(p)}tI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sp(t.pendingLanes);n!==0&&($b(t,n|1),Co(t,jr()),!(In&6)&&(Ih=jr()+500,Zl()))}break;case 13:jc(function(){var i=Wa(e,1);if(i!==null){var l=lo();Fs(i,e,1,l)}}),_w(e,1)}};jb=function(e){if(e.tag===13){var t=Wa(e,134217728);if(t!==null){var n=lo();Fs(t,e,134217728,n)}_w(e,134217728)}};nI=function(e){if(e.tag===13){var t=Ol(e),n=Wa(e,t);if(n!==null){var i=lo();Fs(n,e,t,i)}_w(e,t)}};rI=function(){return Un};iI=function(e,t){var n=Un;try{return Un=e,t()}finally{Un=n}};Kx=function(e,t,n){switch(t){case"input":if(Vx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=d0(i);if(!l)throw Error(rt(90));zA(i),Vx(i,l)}}}break;case"textarea":OA(e,n);break;case"select":t=n.value,t!=null&&hh(e,!!n.multiple,t,!1)}};WA=fw;GA=jc;var cO={usingClientEntryPoint:!1,Events:[Of,Yu,d0,VA,UA,fw]},hp={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uO={bundleType:hp.bundleType,version:hp.version,rendererPackageName:hp.rendererPackageName,rendererConfig:hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZA(e),e===null?null:e.stateNode},findFiberByHostInstance:hp.findFiberByHostInstance||aO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{l0=Tg.inject(uO),ca=Tg}catch{}}Vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cO;Vo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bw(t))throw Error(rt(200));return sO(e,t,null,n)};Vo.createRoot=function(e,t){if(!bw(e))throw Error(rt(299));var n=!1,i="",l=EM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=vw(e,1,!1,null,null,n,!1,i,l),e[Ua]=t.current,rf(e.nodeType===8?e.parentNode:e),new xw(t)};Vo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=ZA(t),e=e===null?null:e.stateNode,e};Vo.flushSync=function(e){return jc(e)};Vo.hydrate=function(e,t,n){if(!b0(t))throw Error(rt(200));return w0(null,e,t,!0,n)};Vo.hydrateRoot=function(e,t,n){if(!bw(e))throw Error(rt(405));var i=n!=null&&n.hydratedSources||null,l=!1,h="",p=EM;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=TM(t,null,e,1,n??null,l,!1,h,p),e[Ua]=t.current,rf(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new x0(t)};Vo.render=function(e,t,n){if(!b0(t))throw Error(rt(200));return w0(null,e,t,!1,n)};Vo.unmountComponentAtNode=function(e){if(!b0(e))throw Error(rt(40));return e._reactRootContainer?(jc(function(){w0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};Vo.unstable_batchedUpdates=fw;Vo.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!b0(n))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return w0(e,t,n,!1,i)};Vo.version="18.3.1-next-f1338f8080-20240426";function PM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PM)}catch(e){console.error(e)}}PM(),PA.exports=Vo;var ww=PA.exports;const Eg=s0(ww);var NT=ww;zx.createRoot=NT.createRoot,zx.hydrateRoot=NT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pf.apply(this,arguments)}var kl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kl||(kl={}));const $T="popstate";function hO(e){e===void 0&&(e={});function t(l,h){let{pathname:p="/",search:a="",hash:b=""}=Hc(l.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),k1("",{pathname:p,search:a,hash:b},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function n(l,h){let p=l.document.querySelector("base"),a="";if(p&&p.getAttribute("href")){let b=l.location.href,w=b.indexOf("#");a=w===-1?b:b.slice(0,w)}return a+"#"+(typeof h=="string"?h:$y(h))}function i(l,h){Sw(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return pO(t,n,i,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dO(){return Math.random().toString(36).substr(2,8)}function jT(e,t){return{usr:e.state,key:e.key,idx:t}}function k1(e,t,n,i){return n===void 0&&(n=null),pf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hc(t):t,{state:n,key:t&&t.key||i||dO()})}function $y(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Hc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function pO(e,t,n,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:h=!1}=i,p=l.history,a=kl.Pop,b=null,w=T();w==null&&(w=0,p.replaceState(pf({},p.state,{idx:w}),""));function T(){return(p.state||{idx:null}).idx}function P(){a=kl.Pop;let q=T(),L=q==null?null:q-w;w=q,b&&b({action:a,location:j.location,delta:L})}function I(q,L){a=kl.Push;let V=k1(j.location,q,L);n&&n(V,q),w=T()+1;let N=jT(V,w),K=j.createHref(V);try{p.pushState(N,"",K)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;l.location.assign(K)}h&&b&&b({action:a,location:j.location,delta:1})}function D(q,L){a=kl.Replace;let V=k1(j.location,q,L);n&&n(V,q),w=T();let N=jT(V,w),K=j.createHref(V);p.replaceState(N,"",K),h&&b&&b({action:a,location:j.location,delta:0})}function O(q){let L=l.location.origin!=="null"?l.location.origin:l.location.href,V=typeof q=="string"?q:$y(q);return V=V.replace(/ $/,"%20"),Hr(L,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,L)}let j={get action(){return a},get location(){return e(l,p)},listen(q){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener($T,P),b=q,()=>{l.removeEventListener($T,P),b=null}},createHref(q){return t(l,q)},createURL:O,encodeLocation(q){let L=O(q);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:I,replace:D,go(q){return p.go(q)}};return j}var VT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VT||(VT={}));function fO(e,t,n){return n===void 0&&(n="/"),mO(e,t,n,!1)}function mO(e,t,n,i){let l=typeof t=="string"?Hc(t):t,h=Cw(l.pathname||"/",n);if(h==null)return null;let p=kM(e);gO(p);let a=null;for(let b=0;a==null&&b<p.length;++b){let w=PO(h);a=TO(p[b],w,i)}return a}function kM(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let l=(h,p,a)=>{let b={relativePath:a===void 0?h.path||"":a,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};b.relativePath.startsWith("/")&&(Hr(b.relativePath.startsWith(i),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(i.length));let w=Nl([i,b.relativePath]),T=n.concat(b);h.children&&h.children.length>0&&(Hr(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),kM(h.children,t,T,w)),!(h.path==null&&!h.index)&&t.push({path:w,score:SO(w,h.index),routesMeta:T})};return e.forEach((h,p)=>{var a;if(h.path===""||!((a=h.path)!=null&&a.includes("?")))l(h,p);else for(let b of AM(h.path))l(h,p,b)}),t}function AM(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(i.length===0)return l?[h,""]:[h];let p=AM(i.join("/")),a=[];return a.push(...p.map(b=>b===""?h:[h,b].join("/"))),l&&a.push(...p),a.map(b=>e.startsWith("/")&&b===""?"/":b)}function gO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CO(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const yO=/^:[\w-]+$/,vO=3,_O=2,xO=1,bO=10,wO=-2,UT=e=>e==="*";function SO(e,t){let n=e.split("/"),i=n.length;return n.some(UT)&&(i+=wO),t&&(i+=_O),n.filter(l=>!UT(l)).reduce((l,h)=>l+(yO.test(h)?vO:h===""?xO:bO),i)}function CO(e,t){return e.length===t.length&&e.slice(0,-1).every((i,l)=>i===t[l])?e[e.length-1]-t[t.length-1]:0}function TO(e,t,n){n===void 0&&(n=!1);let{routesMeta:i}=e,l={},h="/",p=[];for(let a=0;a<i.length;++a){let b=i[a],w=a===i.length-1,T=h==="/"?t:t.slice(h.length)||"/",P=WT({path:b.relativePath,caseSensitive:b.caseSensitive,end:w},T),I=b.route;if(!P&&w&&n&&!i[i.length-1].route.index&&(P=WT({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},T)),!P)return null;Object.assign(l,P.params),p.push({params:l,pathname:Nl([h,P.pathname]),pathnameBase:MO(Nl([h,P.pathnameBase])),route:I}),P.pathnameBase!=="/"&&(h=Nl([h,P.pathnameBase]))}return p}function WT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=EO(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let h=l[0],p=h.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:i.reduce((w,T,P)=>{let{paramName:I,isOptional:D}=T;if(I==="*"){let j=a[P]||"";p=h.slice(0,h.length-j.length).replace(/(.)\/+$/,"$1")}const O=a[P];return D&&!O?w[I]=void 0:w[I]=(O||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:p,pattern:e}}function EO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,a,b)=>(i.push({paramName:a,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function PO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function kO(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:l=""}=typeof e=="string"?Hc(e):e;return{pathname:n?n.startsWith("/")?n:AO(n,t):t,search:RO(i),hash:LO(l)}}function AO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function rx(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function IM(e,t){let n=IO(e);return t?n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function MM(e,t,n,i){i===void 0&&(i=!1);let l;typeof e=="string"?l=Hc(e):(l=pf({},e),Hr(!l.pathname||!l.pathname.includes("?"),rx("?","pathname","search",l)),Hr(!l.pathname||!l.pathname.includes("#"),rx("#","pathname","hash",l)),Hr(!l.search||!l.search.includes("#"),rx("#","search","hash",l)));let h=e===""||l.pathname==="",p=h?"/":l.pathname,a;if(p==null)a=n;else{let P=t.length-1;if(!i&&p.startsWith("..")){let I=p.split("/");for(;I[0]==="..";)I.shift(),P-=1;l.pathname=I.join("/")}a=P>=0?t[P]:"/"}let b=kO(l,a),w=p&&p!=="/"&&p.endsWith("/"),T=(h||p===".")&&n.endsWith("/");return!b.pathname.endsWith("/")&&(w||T)&&(b.pathname+="/"),b}const Nl=e=>e.join("/").replace(/\/\/+/g,"/"),MO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RM=["post","put","patch","delete"];new Set(RM);const zO=["get",...RM];new Set(zO);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ff.apply(this,arguments)}const Tw=U.createContext(null),BO=U.createContext(null),qc=U.createContext(null),S0=U.createContext(null),Zc=U.createContext({outlet:null,matches:[],isDataRoute:!1}),LM=U.createContext(null);function OO(e,t){let{relative:n}=t===void 0?{}:t;Nf()||Hr(!1);let{basename:i,navigator:l}=U.useContext(qc),{hash:h,pathname:p,search:a}=zM(e,{relative:n}),b=p;return i!=="/"&&(b=p==="/"?i:Nl([i,p])),l.createHref({pathname:b,search:a,hash:h})}function Nf(){return U.useContext(S0)!=null}function $f(){return Nf()||Hr(!1),U.useContext(S0).location}function DM(e){U.useContext(qc).static||U.useLayoutEffect(e)}function C0(){let{isDataRoute:e}=U.useContext(Zc);return e?XO():FO()}function FO(){Nf()||Hr(!1);let e=U.useContext(Tw),{basename:t,future:n,navigator:i}=U.useContext(qc),{matches:l}=U.useContext(Zc),{pathname:h}=$f(),p=JSON.stringify(IM(l,n.v7_relativeSplatPath)),a=U.useRef(!1);return DM(()=>{a.current=!0}),U.useCallback(function(w,T){if(T===void 0&&(T={}),!a.current)return;if(typeof w=="number"){i.go(w);return}let P=MM(w,JSON.parse(p),h,T.relative==="path");e==null&&t!=="/"&&(P.pathname=P.pathname==="/"?t:Nl([t,P.pathname])),(T.replace?i.replace:i.push)(P,T.state,T)},[t,i,p,h,e])}function zM(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=U.useContext(qc),{matches:l}=U.useContext(Zc),{pathname:h}=$f(),p=JSON.stringify(IM(l,i.v7_relativeSplatPath));return U.useMemo(()=>MM(e,JSON.parse(p),h,n==="path"),[e,p,h,n])}function NO(e,t){return $O(e,t)}function $O(e,t,n,i){Nf()||Hr(!1);let{navigator:l,static:h}=U.useContext(qc),{matches:p}=U.useContext(Zc),a=p[p.length-1],b=a?a.params:{};a&&a.pathname;let w=a?a.pathnameBase:"/";a&&a.route;let T=$f(),P;if(t){var I;let L=typeof t=="string"?Hc(t):t;w==="/"||(I=L.pathname)!=null&&I.startsWith(w)||Hr(!1),P=L}else P=T;let D=P.pathname||"/",O=D;if(w!=="/"){let L=w.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let j=!h&&n&&n.matches&&n.matches.length>0?n.matches:fO(e,{pathname:O}),q=GO(j&&j.map(L=>Object.assign({},L,{params:Object.assign({},b,L.params),pathname:Nl([w,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?w:Nl([w,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),p,n,i);return t&&q?U.createElement(S0.Provider,{value:{location:ff({pathname:"/",search:"",hash:"",state:null,key:"default"},P),navigationType:kl.Pop}},q):q}function jO(){let e=KO(),t=DO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:l},n):null,h)}const VO=U.createElement(jO,null);class UO extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?U.createElement(Zc.Provider,{value:this.props.routeContext},U.createElement(LM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WO(e){let{routeContext:t,match:n,children:i}=e,l=U.useContext(Tw);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Zc.Provider,{value:t},i)}function GO(e,t,n,i){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var h;if(!n)return null;if(n.errors)e=n.matches;else if((h=i)!=null&&h.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let p=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let T=p.findIndex(P=>P.route.id&&(a==null?void 0:a[P.route.id])!==void 0);T>=0||Hr(!1),p=p.slice(0,Math.min(p.length,T+1))}let b=!1,w=-1;if(n&&i&&i.v7_partialHydration)for(let T=0;T<p.length;T++){let P=p[T];if((P.route.HydrateFallback||P.route.hydrateFallbackElement)&&(w=T),P.route.id){let{loaderData:I,errors:D}=n,O=P.route.loader&&I[P.route.id]===void 0&&(!D||D[P.route.id]===void 0);if(P.route.lazy||O){b=!0,w>=0?p=p.slice(0,w+1):p=[p[0]];break}}}return p.reduceRight((T,P,I)=>{let D,O=!1,j=null,q=null;n&&(D=a&&P.route.id?a[P.route.id]:void 0,j=P.route.errorElement||VO,b&&(w<0&&I===0?(YO("route-fallback",!1),O=!0,q=null):w===I&&(O=!0,q=P.route.hydrateFallbackElement||null)));let L=t.concat(p.slice(0,I+1)),V=()=>{let N;return D?N=j:O?N=q:P.route.Component?N=U.createElement(P.route.Component,null):P.route.element?N=P.route.element:N=T,U.createElement(WO,{match:P,routeContext:{outlet:T,matches:L,isDataRoute:n!=null},children:N})};return n&&(P.route.ErrorBoundary||P.route.errorElement||I===0)?U.createElement(UO,{location:n.location,revalidation:n.revalidation,component:j,error:D,children:V(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):V()},null)}var BM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BM||{}),jy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jy||{});function HO(e){let t=U.useContext(Tw);return t||Hr(!1),t}function qO(e){let t=U.useContext(BO);return t||Hr(!1),t}function ZO(e){let t=U.useContext(Zc);return t||Hr(!1),t}function OM(e){let t=ZO(),n=t.matches[t.matches.length-1];return n.route.id||Hr(!1),n.route.id}function KO(){var e;let t=U.useContext(LM),n=qO(jy.UseRouteError),i=OM(jy.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function XO(){let{router:e}=HO(BM.UseNavigateStable),t=OM(jy.UseNavigateStable),n=U.useRef(!1);return DM(()=>{n.current=!0}),U.useCallback(function(l,h){h===void 0&&(h={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,ff({fromRouteId:t},h)))},[e,t])}const GT={};function YO(e,t,n){!t&&!GT[e]&&(GT[e]=!0)}function JO(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Uu(e){Hr(!1)}function QO(e){let{basename:t="/",children:n=null,location:i,navigationType:l=kl.Pop,navigator:h,static:p=!1,future:a}=e;Nf()&&Hr(!1);let b=t.replace(/^\/*/,"/"),w=U.useMemo(()=>({basename:b,navigator:h,static:p,future:ff({v7_relativeSplatPath:!1},a)}),[b,a,h,p]);typeof i=="string"&&(i=Hc(i));let{pathname:T="/",search:P="",hash:I="",state:D=null,key:O="default"}=i,j=U.useMemo(()=>{let q=Cw(T,b);return q==null?null:{location:{pathname:q,search:P,hash:I,state:D,key:O},navigationType:l}},[b,T,P,I,D,O,l]);return j==null?null:U.createElement(qc.Provider,{value:w},U.createElement(S0.Provider,{children:n,value:j}))}function eF(e){let{children:t,location:n}=e;return NO(A1(t),n)}new Promise(()=>{});function A1(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(i,l)=>{if(!U.isValidElement(i))return;let h=[...t,l];if(i.type===U.Fragment){n.push.apply(n,A1(i.props.children,h));return}i.type!==Uu&&Hr(!1),!i.props.index||!i.props.children||Hr(!1);let p={id:i.props.id||h.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(p.children=A1(i.props.children,h)),n.push(p)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},I1.apply(this,arguments)}function tF(e,t){if(e==null)return{};var n={},i=Object.keys(e),l,h;for(h=0;h<i.length;h++)l=i[h],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function nF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rF(e,t){return e.button===0&&(!t||t==="_self")&&!nF(e)}const iF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oF="6";try{window.__reactRouterVersion=oF}catch{}const sF="startTransition",HT=my[sF];function aF(e){let{basename:t,children:n,future:i,window:l}=e,h=U.useRef();h.current==null&&(h.current=hO({window:l,v5Compat:!0}));let p=h.current,[a,b]=U.useState({action:p.action,location:p.location}),{v7_startTransition:w}=i||{},T=U.useCallback(P=>{w&&HT?HT(()=>b(P)):b(P)},[b,w]);return U.useLayoutEffect(()=>p.listen(T),[p,T]),U.useEffect(()=>JO(i),[i]),U.createElement(QO,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:p,future:i})}const lF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=U.forwardRef(function(t,n){let{onClick:i,relative:l,reloadDocument:h,replace:p,state:a,target:b,to:w,preventScrollReset:T,viewTransition:P}=t,I=tF(t,iF),{basename:D}=U.useContext(qc),O,j=!1;if(typeof w=="string"&&cF.test(w)&&(O=w,lF))try{let N=new URL(window.location.href),K=w.startsWith("//")?new URL(N.protocol+w):new URL(w),ee=Cw(K.pathname,D);K.origin===N.origin&&ee!=null?w=ee+K.search+K.hash:j=!0}catch{}let q=OO(w,{relative:l}),L=uF(w,{replace:p,state:a,target:b,preventScrollReset:T,relative:l,viewTransition:P});function V(N){i&&i(N),N.defaultPrevented||L(N)}return U.createElement("a",I1({},I,{href:O||q,onClick:j||h?i:V,ref:n,target:b}))});var qT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qT||(qT={}));var ZT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZT||(ZT={}));function uF(e,t){let{target:n,replace:i,state:l,preventScrollReset:h,relative:p,viewTransition:a}=t===void 0?{}:t,b=C0(),w=$f(),T=zM(e,{relative:p});return U.useCallback(P=>{if(rF(P,n)){P.preventDefault();let I=i!==void 0?i:$y(w)===$y(T);b(e,{replace:I,state:l,preventScrollReset:h,relative:p,viewTransition:a})}},[w,b,T,i,l,n,e,h,p,a])}function Ha(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(i=>n.searchParams.append("args[]",i)),`Minified MUI error #${e}; visit ${n} for the full message.`}const ha="$$material";function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vy.apply(null,arguments)}var hF=!1;function dF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function pF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var fF=function(){function e(n){var i=this;this._insertTag=function(l){var h;i.tags.length===0?i.insertionPoint?h=i.insertionPoint.nextSibling:i.prepend?h=i.container.firstChild:h=i.before:h=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(l,h),i.tags.push(l)},this.isSpeedy=n.speedy===void 0?!hF:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pF(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var h=dF(l);try{h.insertRule(i,h.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var l;return(l=i.parentNode)==null?void 0:l.removeChild(i)}),this.tags=[],this.ctr=0},e}(),$i="-ms-",Uy="-moz-",Bn="-webkit-",FM="comm",Ew="rule",Pw="decl",mF="@import",NM="@keyframes",gF="@layer",yF=Math.abs,T0=String.fromCharCode,vF=Object.assign;function _F(e,t){return Ti(e,0)^45?(((t<<2^Ti(e,0))<<2^Ti(e,1))<<2^Ti(e,2))<<2^Ti(e,3):0}function $M(e){return e.trim()}function xF(e,t){return(e=t.exec(e))?e[0]:e}function On(e,t,n){return e.replace(t,n)}function M1(e,t){return e.indexOf(t)}function Ti(e,t){return e.charCodeAt(t)|0}function mf(e,t,n){return e.slice(t,n)}function ia(e){return e.length}function kw(e){return e.length}function Pg(e,t){return t.push(e),e}function bF(e,t){return e.map(t).join("")}var E0=1,Mh=1,jM=0,Eo=0,Wr=0,jh="";function P0(e,t,n,i,l,h,p){return{value:e,root:t,parent:n,type:i,props:l,children:h,line:E0,column:Mh,length:p,return:""}}function dp(e,t){return vF(P0("",null,null,"",null,null,0),e,{length:-e.length},t)}function wF(){return Wr}function SF(){return Wr=Eo>0?Ti(jh,--Eo):0,Mh--,Wr===10&&(Mh=1,E0--),Wr}function No(){return Wr=Eo<jM?Ti(jh,Eo++):0,Mh++,Wr===10&&(Mh=1,E0++),Wr}function da(){return Ti(jh,Eo)}function ey(){return Eo}function jf(e,t){return mf(jh,e,t)}function gf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VM(e){return E0=Mh=1,jM=ia(jh=e),Eo=0,[]}function UM(e){return jh="",e}function ty(e){return $M(jf(Eo-1,R1(e===91?e+2:e===40?e+1:e)))}function CF(e){for(;(Wr=da())&&Wr<33;)No();return gf(e)>2||gf(Wr)>3?"":" "}function TF(e,t){for(;--t&&No()&&!(Wr<48||Wr>102||Wr>57&&Wr<65||Wr>70&&Wr<97););return jf(e,ey()+(t<6&&da()==32&&No()==32))}function R1(e){for(;No();)switch(Wr){case e:return Eo;case 34:case 39:e!==34&&e!==39&&R1(Wr);break;case 40:e===41&&R1(e);break;case 92:No();break}return Eo}function EF(e,t){for(;No()&&e+Wr!==47+10;)if(e+Wr===42+42&&da()===47)break;return"/*"+jf(t,Eo-1)+"*"+T0(e===47?e:No())}function PF(e){for(;!gf(da());)No();return jf(e,Eo)}function kF(e){return UM(ny("",null,null,null,[""],e=VM(e),0,[0],e))}function ny(e,t,n,i,l,h,p,a,b){for(var w=0,T=0,P=p,I=0,D=0,O=0,j=1,q=1,L=1,V=0,N="",K=l,ee=h,ue=i,ge=N;q;)switch(O=V,V=No()){case 40:if(O!=108&&Ti(ge,P-1)==58){M1(ge+=On(ty(V),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:ge+=ty(V);break;case 9:case 10:case 13:case 32:ge+=CF(O);break;case 92:ge+=TF(ey()-1,7);continue;case 47:switch(da()){case 42:case 47:Pg(AF(EF(No(),ey()),t,n),b);break;default:ge+="/"}break;case 123*j:a[w++]=ia(ge)*L;case 125*j:case 59:case 0:switch(V){case 0:case 125:q=0;case 59+T:L==-1&&(ge=On(ge,/\f/g,"")),D>0&&ia(ge)-P&&Pg(D>32?XT(ge+";",i,n,P-1):XT(On(ge," ","")+";",i,n,P-2),b);break;case 59:ge+=";";default:if(Pg(ue=KT(ge,t,n,w,T,l,a,N,K=[],ee=[],P),h),V===123)if(T===0)ny(ge,t,ue,ue,K,h,P,a,ee);else switch(I===99&&Ti(ge,3)===110?100:I){case 100:case 108:case 109:case 115:ny(e,ue,ue,i&&Pg(KT(e,ue,ue,0,0,l,a,N,l,K=[],P),ee),l,ee,P,a,i?K:ee);break;default:ny(ge,ue,ue,ue,[""],ee,0,a,ee)}}w=T=D=0,j=L=1,N=ge="",P=p;break;case 58:P=1+ia(ge),D=O;default:if(j<1){if(V==123)--j;else if(V==125&&j++==0&&SF()==125)continue}switch(ge+=T0(V),V*j){case 38:L=T>0?1:(ge+="\f",-1);break;case 44:a[w++]=(ia(ge)-1)*L,L=1;break;case 64:da()===45&&(ge+=ty(No())),I=da(),T=P=ia(N=ge+=PF(ey())),V++;break;case 45:O===45&&ia(ge)==2&&(j=0)}}return h}function KT(e,t,n,i,l,h,p,a,b,w,T){for(var P=l-1,I=l===0?h:[""],D=kw(I),O=0,j=0,q=0;O<i;++O)for(var L=0,V=mf(e,P+1,P=yF(j=p[O])),N=e;L<D;++L)(N=$M(j>0?I[L]+" "+V:On(V,/&\f/g,I[L])))&&(b[q++]=N);return P0(e,t,n,l===0?Ew:a,b,w,T)}function AF(e,t,n){return P0(e,t,n,FM,T0(wF()),mf(e,2,-2),0)}function XT(e,t,n,i){return P0(e,t,n,Pw,mf(e,0,i),mf(e,i+1,-1),i)}function yh(e,t){for(var n="",i=kw(e),l=0;l<i;l++)n+=t(e[l],l,e,t)||"";return n}function IF(e,t,n,i){switch(e.type){case gF:if(e.children.length)break;case mF:case Pw:return e.return=e.return||e.value;case FM:return"";case NM:return e.return=e.value+"{"+yh(e.children,i)+"}";case Ew:e.value=e.props.join(",")}return ia(n=yh(e.children,i))?e.return=e.value+"{"+n+"}":""}function MF(e){var t=kw(e);return function(n,i,l,h){for(var p="",a=0;a<t;a++)p+=e[a](n,i,l,h)||"";return p}}function RF(e){return function(t){t.root||(t=t.return)&&e(t)}}function WM(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var LF=function(t,n,i){for(var l=0,h=0;l=h,h=da(),l===38&&h===12&&(n[i]=1),!gf(h);)No();return jf(t,Eo)},DF=function(t,n){var i=-1,l=44;do switch(gf(l)){case 0:l===38&&da()===12&&(n[i]=1),t[i]+=LF(Eo-1,n,i);break;case 2:t[i]+=ty(l);break;case 4:if(l===44){t[++i]=da()===58?"&\f":"",n[i]=t[i].length;break}default:t[i]+=T0(l)}while(l=No());return t},zF=function(t,n){return UM(DF(VM(t),n))},YT=new WeakMap,BF=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,i=t.parent,l=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!YT.get(i))&&!l){YT.set(t,!0);for(var h=[],p=zF(n,h),a=i.props,b=0,w=0;b<p.length;b++)for(var T=0;T<a.length;T++,w++)t.props[w]=h[b]?p[b].replace(/&\f/g,a[T]):a[T]+" "+p[b]}}},OF=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function GM(e,t){switch(_F(e,t)){case 5103:return Bn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Bn+e+Uy+e+$i+e+e;case 6828:case 4268:return Bn+e+$i+e+e;case 6165:return Bn+e+$i+"flex-"+e+e;case 5187:return Bn+e+On(e,/(\w+).+(:[^]+)/,Bn+"box-$1$2"+$i+"flex-$1$2")+e;case 5443:return Bn+e+$i+"flex-item-"+On(e,/flex-|-self/,"")+e;case 4675:return Bn+e+$i+"flex-line-pack"+On(e,/align-content|flex-|-self/,"")+e;case 5548:return Bn+e+$i+On(e,"shrink","negative")+e;case 5292:return Bn+e+$i+On(e,"basis","preferred-size")+e;case 6060:return Bn+"box-"+On(e,"-grow","")+Bn+e+$i+On(e,"grow","positive")+e;case 4554:return Bn+On(e,/([^-])(transform)/g,"$1"+Bn+"$2")+e;case 6187:return On(On(On(e,/(zoom-|grab)/,Bn+"$1"),/(image-set)/,Bn+"$1"),e,"")+e;case 5495:case 3959:return On(e,/(image-set\([^]*)/,Bn+"$1$`$1");case 4968:return On(On(e,/(.+:)(flex-)?(.*)/,Bn+"box-pack:$3"+$i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bn+e+e;case 4095:case 3583:case 4068:case 2532:return On(e,/(.+)-inline(.+)/,Bn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ia(e)-1-t>6)switch(Ti(e,t+1)){case 109:if(Ti(e,t+4)!==45)break;case 102:return On(e,/(.+:)(.+)-([^]+)/,"$1"+Bn+"$2-$3$1"+Uy+(Ti(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~M1(e,"stretch")?GM(On(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ti(e,t+1)!==115)break;case 6444:switch(Ti(e,ia(e)-3-(~M1(e,"!important")&&10))){case 107:return On(e,":",":"+Bn)+e;case 101:return On(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Bn+(Ti(e,14)===45?"inline-":"")+"box$3$1"+Bn+"$2$3$1"+$i+"$2box$3")+e}break;case 5936:switch(Ti(e,t+11)){case 114:return Bn+e+$i+On(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Bn+e+$i+On(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Bn+e+$i+On(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Bn+e+$i+e+e}return e}var FF=function(t,n,i,l){if(t.length>-1&&!t.return)switch(t.type){case Pw:t.return=GM(t.value,t.length);break;case NM:return yh([dp(t,{value:On(t.value,"@","@"+Bn)})],l);case Ew:if(t.length)return bF(t.props,function(h){switch(xF(h,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yh([dp(t,{props:[On(h,/:(read-\w+)/,":"+Uy+"$1")]})],l);case"::placeholder":return yh([dp(t,{props:[On(h,/:(plac\w+)/,":"+Bn+"input-$1")]}),dp(t,{props:[On(h,/:(plac\w+)/,":"+Uy+"$1")]}),dp(t,{props:[On(h,/:(plac\w+)/,$i+"input-$1")]})],l)}return""})}},NF=[FF],$F=function(t){var n=t.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(j){var q=j.getAttribute("data-emotion");q.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var l=t.stylisPlugins||NF,h={},p,a=[];p=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(j){for(var q=j.getAttribute("data-emotion").split(" "),L=1;L<q.length;L++)h[q[L]]=!0;a.push(j)});var b,w=[BF,OF];{var T,P=[IF,RF(function(j){T.insert(j)})],I=MF(w.concat(l,P)),D=function(q){return yh(kF(q),I)};b=function(q,L,V,N){T=V,D(q?q+"{"+L.styles+"}":L.styles),N&&(O.inserted[L.name]=!0)}}var O={key:n,sheet:new fF({key:n,container:p,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:h,registered:{},insert:b};return O.sheet.hydrate(a),O},HM={exports:{}},Wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=typeof Symbol=="function"&&Symbol.for,Aw=hi?Symbol.for("react.element"):60103,Iw=hi?Symbol.for("react.portal"):60106,k0=hi?Symbol.for("react.fragment"):60107,A0=hi?Symbol.for("react.strict_mode"):60108,I0=hi?Symbol.for("react.profiler"):60114,M0=hi?Symbol.for("react.provider"):60109,R0=hi?Symbol.for("react.context"):60110,Mw=hi?Symbol.for("react.async_mode"):60111,L0=hi?Symbol.for("react.concurrent_mode"):60111,D0=hi?Symbol.for("react.forward_ref"):60112,z0=hi?Symbol.for("react.suspense"):60113,jF=hi?Symbol.for("react.suspense_list"):60120,B0=hi?Symbol.for("react.memo"):60115,O0=hi?Symbol.for("react.lazy"):60116,VF=hi?Symbol.for("react.block"):60121,UF=hi?Symbol.for("react.fundamental"):60117,WF=hi?Symbol.for("react.responder"):60118,GF=hi?Symbol.for("react.scope"):60119;function Wo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Aw:switch(e=e.type,e){case Mw:case L0:case k0:case I0:case A0:case z0:return e;default:switch(e=e&&e.$$typeof,e){case R0:case D0:case O0:case B0:case M0:return e;default:return t}}case Iw:return t}}}function qM(e){return Wo(e)===L0}Wn.AsyncMode=Mw;Wn.ConcurrentMode=L0;Wn.ContextConsumer=R0;Wn.ContextProvider=M0;Wn.Element=Aw;Wn.ForwardRef=D0;Wn.Fragment=k0;Wn.Lazy=O0;Wn.Memo=B0;Wn.Portal=Iw;Wn.Profiler=I0;Wn.StrictMode=A0;Wn.Suspense=z0;Wn.isAsyncMode=function(e){return qM(e)||Wo(e)===Mw};Wn.isConcurrentMode=qM;Wn.isContextConsumer=function(e){return Wo(e)===R0};Wn.isContextProvider=function(e){return Wo(e)===M0};Wn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aw};Wn.isForwardRef=function(e){return Wo(e)===D0};Wn.isFragment=function(e){return Wo(e)===k0};Wn.isLazy=function(e){return Wo(e)===O0};Wn.isMemo=function(e){return Wo(e)===B0};Wn.isPortal=function(e){return Wo(e)===Iw};Wn.isProfiler=function(e){return Wo(e)===I0};Wn.isStrictMode=function(e){return Wo(e)===A0};Wn.isSuspense=function(e){return Wo(e)===z0};Wn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===k0||e===L0||e===I0||e===A0||e===z0||e===jF||typeof e=="object"&&e!==null&&(e.$$typeof===O0||e.$$typeof===B0||e.$$typeof===M0||e.$$typeof===R0||e.$$typeof===D0||e.$$typeof===UF||e.$$typeof===WF||e.$$typeof===GF||e.$$typeof===VF)};Wn.typeOf=Wo;HM.exports=Wn;var HF=HM.exports,ZM=HF,qF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KM={};KM[ZM.ForwardRef]=qF;KM[ZM.Memo]=ZF;var KF=!0;function XM(e,t,n){var i="";return n.split(" ").forEach(function(l){e[l]!==void 0?t.push(e[l]+";"):l&&(i+=l+" ")}),i}var Rw=function(t,n,i){var l=t.key+"-"+n.name;(i===!1||KF===!1)&&t.registered[l]===void 0&&(t.registered[l]=n.styles)},Lw=function(t,n,i){Rw(t,n,i);var l=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var h=n;do t.insert(n===h?"."+l:"",h,t.sheet,!0),h=h.next;while(h!==void 0)}};function XF(e){for(var t=0,n,i=0,l=e.length;l>=4;++i,l-=4)n=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(l){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var YF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JF=!1,QF=/[A-Z]|^ms/g,eN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YM=function(t){return t.charCodeAt(1)===45},JT=function(t){return t!=null&&typeof t!="boolean"},ox=WM(function(e){return YM(e)?e:e.replace(QF,"-$&").toLowerCase()}),QT=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(eN,function(i,l,h){return oa={name:l,styles:h,next:oa},l})}return YF[t]!==1&&!YM(t)&&typeof n=="number"&&n!==0?n+"px":n},tN="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function yf(e,t,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var l=n;if(l.anim===1)return oa={name:l.name,styles:l.styles,next:oa},l.name;var h=n;if(h.styles!==void 0){var p=h.next;if(p!==void 0)for(;p!==void 0;)oa={name:p.name,styles:p.styles,next:oa},p=p.next;var a=h.styles+";";return a}return nN(e,t,n)}case"function":{if(e!==void 0){var b=oa,w=n(e);return oa=b,yf(e,t,w)}break}}var T=n;if(t==null)return T;var P=t[T];return P!==void 0?P:T}function nN(e,t,n){var i="";if(Array.isArray(n))for(var l=0;l<n.length;l++)i+=yf(e,t,n[l])+";";else for(var h in n){var p=n[h];if(typeof p!="object"){var a=p;t!=null&&t[a]!==void 0?i+=h+"{"+t[a]+"}":JT(a)&&(i+=ox(h)+":"+QT(h,a)+";")}else{if(h==="NO_COMPONENT_SELECTOR"&&JF)throw new Error(tN);if(Array.isArray(p)&&typeof p[0]=="string"&&(t==null||t[p[0]]===void 0))for(var b=0;b<p.length;b++)JT(p[b])&&(i+=ox(h)+":"+QT(h,p[b])+";");else{var w=yf(e,t,p);switch(h){case"animation":case"animationName":{i+=ox(h)+":"+w+";";break}default:i+=h+"{"+w+"}"}}}}return i}var eE=/label:\s*([^\s;{]+)\s*(;|$)/g,oa;function Vf(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,l="";oa=void 0;var h=e[0];if(h==null||h.raw===void 0)i=!1,l+=yf(n,t,h);else{var p=h;l+=p[0]}for(var a=1;a<e.length;a++)if(l+=yf(n,t,e[a]),i){var b=h;l+=b[a]}eE.lastIndex=0;for(var w="",T;(T=eE.exec(l))!==null;)w+="-"+T[1];var P=XF(l)+w;return{name:P,styles:l,next:oa}}var rN=function(t){return t()},JM=my["useInsertionEffect"]?my["useInsertionEffect"]:!1,QM=JM||rN,tE=JM||U.useLayoutEffect,iN=!1,eR=U.createContext(typeof HTMLElement<"u"?$F({key:"css"}):null);eR.Provider;var Dw=function(t){return U.forwardRef(function(n,i){var l=U.useContext(eR);return t(n,l,i)})},Uf=U.createContext({}),zw={}.hasOwnProperty,L1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oN=function(t,n){var i={};for(var l in n)zw.call(n,l)&&(i[l]=n[l]);return i[L1]=t,i},sN=function(t){var n=t.cache,i=t.serialized,l=t.isStringTag;return Rw(n,i,l),QM(function(){return Lw(n,i,l)}),null},aN=Dw(function(e,t,n){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var l=e[L1],h=[i],p="";typeof e.className=="string"?p=XM(t.registered,h,e.className):e.className!=null&&(p=e.className+" ");var a=Vf(h,void 0,U.useContext(Uf));p+=t.key+"-"+a.name;var b={};for(var w in e)zw.call(e,w)&&w!=="css"&&w!==L1&&!iN&&(b[w]=e[w]);return b.className=p,n&&(b.ref=n),U.createElement(U.Fragment,null,U.createElement(sN,{cache:t,serialized:a,isStringTag:typeof l=="string"}),U.createElement(l,b))}),lN=aN,nE=function(t,n){var i=arguments;if(n==null||!zw.call(n,"css"))return U.createElement.apply(void 0,i);var l=i.length,h=new Array(l);h[0]=lN,h[1]=oN(t,n);for(var p=2;p<l;p++)h[p]=i[p];return U.createElement.apply(null,h)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(nE||(nE={}));var cN=Dw(function(e,t){var n=e.styles,i=Vf([n],void 0,U.useContext(Uf)),l=U.useRef();return tE(function(){var h=t.key+"-global",p=new t.sheet.constructor({key:h,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,b=document.querySelector('style[data-emotion="'+h+" "+i.name+'"]');return t.sheet.tags.length&&(p.before=t.sheet.tags[0]),b!==null&&(a=!0,b.setAttribute("data-emotion",h),p.hydrate([b])),l.current=[p,a],function(){p.flush()}},[t]),tE(function(){var h=l.current,p=h[0],a=h[1];if(a){h[1]=!1;return}if(i.next!==void 0&&Lw(t,i.next,!0),p.tags.length){var b=p.tags[p.tags.length-1].nextElementSibling;p.before=b,p.flush()}t.insert("",i,p,!1)},[t,i.name]),null});function Bw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vf(t)}function Wf(){var e=Bw.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var uN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hN=WM(function(e){return uN.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),dN=!1,pN=hN,fN=function(t){return t!=="theme"},rE=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?pN:fN},iE=function(t,n,i){var l;if(n){var h=n.shouldForwardProp;l=t.__emotion_forwardProp&&h?function(p){return t.__emotion_forwardProp(p)&&h(p)}:h}return typeof l!="function"&&i&&(l=t.__emotion_forwardProp),l},mN=function(t){var n=t.cache,i=t.serialized,l=t.isStringTag;return Rw(n,i,l),QM(function(){return Lw(n,i,l)}),null},gN=function e(t,n){var i=t.__emotion_real===t,l=i&&t.__emotion_base||t,h,p;n!==void 0&&(h=n.label,p=n.target);var a=iE(t,n,i),b=a||rE(l),w=!b("as");return function(){var T=arguments,P=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(h!==void 0&&P.push("label:"+h+";"),T[0]==null||T[0].raw===void 0)P.push.apply(P,T);else{var I=T[0];P.push(I[0]);for(var D=T.length,O=1;O<D;O++)P.push(T[O],I[O])}var j=Dw(function(q,L,V){var N=w&&q.as||l,K="",ee=[],ue=q;if(q.theme==null){ue={};for(var ge in q)ue[ge]=q[ge];ue.theme=U.useContext(Uf)}typeof q.className=="string"?K=XM(L.registered,ee,q.className):q.className!=null&&(K=q.className+" ");var he=Vf(P.concat(ee),L.registered,ue);K+=L.key+"-"+he.name,p!==void 0&&(K+=" "+p);var Pe=w&&a===void 0?rE(N):b,G={};for(var Te in q)w&&Te==="as"||Pe(Te)&&(G[Te]=q[Te]);return G.className=K,V&&(G.ref=V),U.createElement(U.Fragment,null,U.createElement(mN,{cache:L,serialized:he,isStringTag:typeof N=="string"}),U.createElement(N,G))});return j.displayName=h!==void 0?h:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",j.defaultProps=t.defaultProps,j.__emotion_real=j,j.__emotion_base=l,j.__emotion_styles=P,j.__emotion_forwardProp=a,Object.defineProperty(j,"toString",{value:function(){return p===void 0&&dN?"NO_COMPONENT_SELECTOR":"."+p}}),j.withComponent=function(q,L){var V=e(q,Vy({},n,L,{shouldForwardProp:iE(j,L,!0)}));return V.apply(void 0,P)},j}},yN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],D1=gN.bind(null);yN.forEach(function(e){D1[e]=D1(e)});function vN(e){return e==null||Object.keys(e).length===0}function tR(e){const{styles:t,defaultTheme:n={}}=e,i=typeof t=="function"?l=>t(vN(l)?n:l):t;return Q.jsx(cN,{styles:i})}/**
 * @mui/styled-engine v7.0.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nR(e,t){return D1(e,t)}function _N(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const oE=[];function sE(e){return oE[0]=e,Vf(oE)}var rR={exports:{}},Qn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=Symbol.for("react.transitional.element"),Fw=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),$0=Symbol.for("react.profiler"),j0=Symbol.for("react.consumer"),V0=Symbol.for("react.context"),U0=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),H0=Symbol.for("react.memo"),q0=Symbol.for("react.lazy"),xN=Symbol.for("react.view_transition"),bN=Symbol.for("react.client.reference");function ms(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ow:switch(e=e.type,e){case F0:case $0:case N0:case W0:case G0:case xN:return e;default:switch(e=e&&e.$$typeof,e){case V0:case U0:case q0:case H0:return e;case j0:return e;default:return t}}case Fw:return t}}}Qn.ContextConsumer=j0;Qn.ContextProvider=V0;Qn.Element=Ow;Qn.ForwardRef=U0;Qn.Fragment=F0;Qn.Lazy=q0;Qn.Memo=H0;Qn.Portal=Fw;Qn.Profiler=$0;Qn.StrictMode=N0;Qn.Suspense=W0;Qn.SuspenseList=G0;Qn.isContextConsumer=function(e){return ms(e)===j0};Qn.isContextProvider=function(e){return ms(e)===V0};Qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ow};Qn.isForwardRef=function(e){return ms(e)===U0};Qn.isFragment=function(e){return ms(e)===F0};Qn.isLazy=function(e){return ms(e)===q0};Qn.isMemo=function(e){return ms(e)===H0};Qn.isPortal=function(e){return ms(e)===Fw};Qn.isProfiler=function(e){return ms(e)===$0};Qn.isStrictMode=function(e){return ms(e)===N0};Qn.isSuspense=function(e){return ms(e)===W0};Qn.isSuspenseList=function(e){return ms(e)===G0};Qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===F0||e===$0||e===N0||e===W0||e===G0||typeof e=="object"&&e!==null&&(e.$$typeof===q0||e.$$typeof===H0||e.$$typeof===V0||e.$$typeof===j0||e.$$typeof===U0||e.$$typeof===bN||e.getModuleId!==void 0)};Qn.typeOf=ms;rR.exports=Qn;var iR=rR.exports;function aa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oR(e){if(U.isValidElement(e)||iR.isValidElementType(e)||!aa(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=oR(e[n])}),t}function Hi(e,t,n={clone:!0}){const i=n.clone?{...e}:e;return aa(e)&&aa(t)&&Object.keys(t).forEach(l=>{U.isValidElement(t[l])||iR.isValidElementType(t[l])?i[l]=t[l]:aa(t[l])&&Object.prototype.hasOwnProperty.call(e,l)&&aa(e[l])?i[l]=Hi(e[l],t[l],n):n.clone?i[l]=aa(t[l])?oR(t[l]):t[l]:i[l]=t[l]}),i}const wN=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,i)=>n.val-i.val),t.reduce((n,i)=>({...n,[i.key]:i.val}),{})};function SN(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...l}=e,h=wN(t),p=Object.keys(h);function a(I){return`@media (min-width:${typeof t[I]=="number"?t[I]:I}${n})`}function b(I){return`@media (max-width:${(typeof t[I]=="number"?t[I]:I)-i/100}${n})`}function w(I,D){const O=p.indexOf(D);return`@media (min-width:${typeof t[I]=="number"?t[I]:I}${n}) and (max-width:${(O!==-1&&typeof t[p[O]]=="number"?t[p[O]]:D)-i/100}${n})`}function T(I){return p.indexOf(I)+1<p.length?w(I,p[p.indexOf(I)+1]):a(I)}function P(I){const D=p.indexOf(I);return D===0?a(p[1]):D===p.length-1?b(p[D]):w(I,p[p.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:p,values:h,up:a,down:b,between:w,only:T,not:P,unit:n,...l}}function CN(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,l)=>{var p,a;const h=/min-width:\s*([0-9.]+)/;return+(((p=i.match(h))==null?void 0:p[1])||0)-+(((a=l.match(h))==null?void 0:a[1])||0)});return n.length?n.reduce((i,l)=>{const h=t[l];return delete i[l],i[l]=h,i},{...t}):t}function TN(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function EN(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,i,l]=n,h=Number.isNaN(+i)?i||0:+i;return e.containerQueries(l).up(h)}function PN(e){const t=(h,p)=>h.replace("@media",p?`@container ${p}`:"@container");function n(h,p){h.up=(...a)=>t(e.breakpoints.up(...a),p),h.down=(...a)=>t(e.breakpoints.down(...a),p),h.between=(...a)=>t(e.breakpoints.between(...a),p),h.only=(...a)=>t(e.breakpoints.only(...a),p),h.not=(...a)=>{const b=t(e.breakpoints.not(...a),p);return b.includes("not all and")?b.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):b}}const i={},l=h=>(n(i,h),i);return n(l),{...e,containerQueries:l}}const kN={borderRadius:4},AN=kN;function $p(e,t){return t?Hi(e,t,{clone:!1}):e}const Z0={xs:0,sm:600,md:900,lg:1200,xl:1536},aE={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Z0[e]}px)`},IN={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Z0[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function qa(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const h=i.breakpoints||aE;return t.reduce((p,a,b)=>(p[h.up(h.keys[b])]=n(t[b]),p),{})}if(typeof t=="object"){const h=i.breakpoints||aE;return Object.keys(t).reduce((p,a)=>{if(TN(h.keys,a)){const b=EN(i.containerQueries?i:IN,a);b&&(p[b]=n(t[a],a))}else if(Object.keys(h.values||Z0).includes(a)){const b=h.up(a);p[b]=n(t[a],a)}else{const b=a;p[b]=t[b]}return p},{})}return n(t)}function MN(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((i,l)=>{const h=e.up(l);return i[h]={},i},{}))||{}}function RN(e,t){return e.reduce((n,i)=>{const l=n[i];return(!l||Object.keys(l).length===0)&&delete n[i],n},t)}function Qe(e){if(typeof e!="string")throw new Error(Ha(7));return e.charAt(0).toUpperCase()+e.slice(1)}function K0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const i=`vars.${t}`.split(".").reduce((l,h)=>l&&l[h]?l[h]:null,e);if(i!=null)return i}return t.split(".").reduce((i,l)=>i&&i[l]!=null?i[l]:null,e)}function Wy(e,t,n,i=n){let l;return typeof e=="function"?l=e(n):Array.isArray(e)?l=e[n]||i:l=K0(e,n)||i,t&&(l=t(l,i,e)),l}function Vr(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:l}=e,h=p=>{if(p[t]==null)return null;const a=p[t],b=p.theme,w=K0(b,i)||{};return qa(p,a,P=>{let I=Wy(w,l,P);return P===I&&typeof P=="string"&&(I=Wy(w,l,`${t}${P==="default"?"":Qe(P)}`,P)),n===!1?I:{[n]:I}})};return h.propTypes={},h.filterProps=[t],h}function LN(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const DN={m:"margin",p:"padding"},zN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BN=LN(e=>{if(e.length>2)if(lE[e])e=lE[e];else return[e];const[t,n]=e.split(""),i=DN[t],l=zN[n]||"";return Array.isArray(l)?l.map(h=>i+h):[i+l]}),Nw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$w=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Nw,...$w];function Gf(e,t,n,i){const l=K0(e,t,!0)??n;return typeof l=="number"||typeof l=="string"?h=>typeof h=="string"?h:typeof l=="string"?l.startsWith("var(")&&h===0?0:l.startsWith("var(")&&h===1?l:`calc(${h} * ${l})`:l*h:Array.isArray(l)?h=>{if(typeof h=="string")return h;const p=Math.abs(h),a=l[p];return h>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof l=="function"?l:()=>{}}function jw(e){return Gf(e,"spacing",8)}function Hf(e,t){return typeof t=="string"||t==null?t:e(t)}function ON(e,t){return n=>e.reduce((i,l)=>(i[l]=Hf(t,n),i),{})}function FN(e,t,n,i){if(!t.includes(n))return null;const l=BN(n),h=ON(l,i),p=e[n];return qa(e,p,h)}function sR(e,t){const n=jw(e.theme);return Object.keys(e).map(i=>FN(e,t,i,n)).reduce($p,{})}function kr(e){return sR(e,Nw)}kr.propTypes={};kr.filterProps=Nw;function Ar(e){return sR(e,$w)}Ar.propTypes={};Ar.filterProps=$w;function aR(e=8,t=jw({spacing:e})){if(e.mui)return e;const n=(...i)=>(i.length===0?[1]:i).map(h=>{const p=t(h);return typeof p=="number"?`${p}px`:p}).join(" ");return n.mui=!0,n}function X0(...e){const t=e.reduce((i,l)=>(l.filterProps.forEach(h=>{i[h]=l}),i),{}),n=i=>Object.keys(i).reduce((l,h)=>t[h]?$p(l,t[h](i)):l,{});return n.propTypes={},n.filterProps=e.reduce((i,l)=>i.concat(l.filterProps),[]),n}function ls(e){return typeof e!="number"?e:`${e}px solid`}function gs(e,t){return Vr({prop:e,themeKey:"borders",transform:t})}const NN=gs("border",ls),$N=gs("borderTop",ls),jN=gs("borderRight",ls),VN=gs("borderBottom",ls),UN=gs("borderLeft",ls),WN=gs("borderColor"),GN=gs("borderTopColor"),HN=gs("borderRightColor"),qN=gs("borderBottomColor"),ZN=gs("borderLeftColor"),KN=gs("outline",ls),XN=gs("outlineColor"),Y0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Gf(e.theme,"shape.borderRadius",4),n=i=>({borderRadius:Hf(t,i)});return qa(e,e.borderRadius,n)}return null};Y0.propTypes={};Y0.filterProps=["borderRadius"];X0(NN,$N,jN,VN,UN,WN,GN,HN,qN,ZN,Y0,KN,XN);const J0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Gf(e.theme,"spacing",8),n=i=>({gap:Hf(t,i)});return qa(e,e.gap,n)}return null};J0.propTypes={};J0.filterProps=["gap"];const Q0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Gf(e.theme,"spacing",8),n=i=>({columnGap:Hf(t,i)});return qa(e,e.columnGap,n)}return null};Q0.propTypes={};Q0.filterProps=["columnGap"];const ev=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Gf(e.theme,"spacing",8),n=i=>({rowGap:Hf(t,i)});return qa(e,e.rowGap,n)}return null};ev.propTypes={};ev.filterProps=["rowGap"];const YN=Vr({prop:"gridColumn"}),JN=Vr({prop:"gridRow"}),QN=Vr({prop:"gridAutoFlow"}),e$=Vr({prop:"gridAutoColumns"}),t$=Vr({prop:"gridAutoRows"}),n$=Vr({prop:"gridTemplateColumns"}),r$=Vr({prop:"gridTemplateRows"}),i$=Vr({prop:"gridTemplateAreas"}),o$=Vr({prop:"gridArea"});X0(J0,Q0,ev,YN,JN,QN,e$,t$,n$,r$,i$,o$);function vh(e,t){return t==="grey"?t:e}const s$=Vr({prop:"color",themeKey:"palette",transform:vh}),a$=Vr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vh}),l$=Vr({prop:"backgroundColor",themeKey:"palette",transform:vh});X0(s$,a$,l$);function Bo(e){return e<=1&&e!==0?`${e*100}%`:e}const c$=Vr({prop:"width",transform:Bo}),Vw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var l,h,p,a,b;const i=((p=(h=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:h.values)==null?void 0:p[n])||Z0[n];return i?((b=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:b.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Bo(n)}};return qa(e,e.maxWidth,t)}return null};Vw.filterProps=["maxWidth"];const u$=Vr({prop:"minWidth",transform:Bo}),h$=Vr({prop:"height",transform:Bo}),d$=Vr({prop:"maxHeight",transform:Bo}),p$=Vr({prop:"minHeight",transform:Bo});Vr({prop:"size",cssProperty:"width",transform:Bo});Vr({prop:"size",cssProperty:"height",transform:Bo});const f$=Vr({prop:"boxSizing"});X0(c$,Vw,u$,h$,d$,p$,f$);const m$={border:{themeKey:"borders",transform:ls},borderTop:{themeKey:"borders",transform:ls},borderRight:{themeKey:"borders",transform:ls},borderBottom:{themeKey:"borders",transform:ls},borderLeft:{themeKey:"borders",transform:ls},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ls},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Y0},color:{themeKey:"palette",transform:vh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vh},backgroundColor:{themeKey:"palette",transform:vh},p:{style:Ar},pt:{style:Ar},pr:{style:Ar},pb:{style:Ar},pl:{style:Ar},px:{style:Ar},py:{style:Ar},padding:{style:Ar},paddingTop:{style:Ar},paddingRight:{style:Ar},paddingBottom:{style:Ar},paddingLeft:{style:Ar},paddingX:{style:Ar},paddingY:{style:Ar},paddingInline:{style:Ar},paddingInlineStart:{style:Ar},paddingInlineEnd:{style:Ar},paddingBlock:{style:Ar},paddingBlockStart:{style:Ar},paddingBlockEnd:{style:Ar},m:{style:kr},mt:{style:kr},mr:{style:kr},mb:{style:kr},ml:{style:kr},mx:{style:kr},my:{style:kr},margin:{style:kr},marginTop:{style:kr},marginRight:{style:kr},marginBottom:{style:kr},marginLeft:{style:kr},marginX:{style:kr},marginY:{style:kr},marginInline:{style:kr},marginInlineStart:{style:kr},marginInlineEnd:{style:kr},marginBlock:{style:kr},marginBlockStart:{style:kr},marginBlockEnd:{style:kr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:J0},rowGap:{style:ev},columnGap:{style:Q0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bo},maxWidth:{style:Vw},minWidth:{transform:Bo},height:{transform:Bo},maxHeight:{transform:Bo},minHeight:{transform:Bo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},qf=m$;function g$(...e){const t=e.reduce((i,l)=>i.concat(Object.keys(l)),[]),n=new Set(t);return e.every(i=>n.size===Object.keys(i).length)}function y$(e,t){return typeof e=="function"?e(t):e}function v$(){function e(n,i,l,h){const p={[n]:i,theme:l},a=h[n];if(!a)return{[n]:i};const{cssProperty:b=n,themeKey:w,transform:T,style:P}=a;if(i==null)return null;if(w==="typography"&&i==="inherit")return{[n]:i};const I=K0(l,w)||{};return P?P(p):qa(p,i,O=>{let j=Wy(I,T,O);return O===j&&typeof O=="string"&&(j=Wy(I,T,`${n}${O==="default"?"":Qe(O)}`,O)),b===!1?j:{[b]:j}})}function t(n){const{sx:i,theme:l={}}=n||{};if(!i)return null;const h=l.unstable_sxConfig??qf;function p(a){let b=a;if(typeof a=="function")b=a(l);else if(typeof a!="object")return a;if(!b)return null;const w=MN(l.breakpoints),T=Object.keys(w);let P=w;return Object.keys(b).forEach(I=>{const D=y$(b[I],l);if(D!=null)if(typeof D=="object")if(h[I])P=$p(P,e(I,D,l,h));else{const O=qa({theme:l},D,j=>({[I]:j}));g$(O,D)?P[I]=t({sx:D,theme:l}):P=$p(P,O)}else P=$p(P,e(I,D,l,h))}),CN(l,RN(T,P))}return Array.isArray(i)?i.map(p):p(i)}return t}const lR=v$();lR.filterProps=["sx"];const Vc=lR;function _$(e,t){var i;const n=this;if(n.vars){if(!((i=n.colorSchemes)!=null&&i[e])||typeof n.getColorSchemeSelector!="function")return{};let l=n.getColorSchemeSelector(e);return l==="&"?t:((l.includes("data-")||l.includes("."))&&(l=`*:where(${l.replace(/\s*&$/,"")}) &`),{[l]:t})}return n.palette.mode===e?t:{}}function Zf(e={},...t){const{breakpoints:n={},palette:i={},spacing:l,shape:h={},...p}=e,a=SN(n),b=aR(l);let w=Hi({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:b,shape:{...AN,...h}},p);return w=PN(w),w.applyStyles=_$,w=t.reduce((T,P)=>Hi(T,P),w),w.unstable_sxConfig={...qf,...p==null?void 0:p.unstable_sxConfig},w.unstable_sx=function(P){return Vc({sx:P,theme:this})},w}function x$(e){return Object.keys(e).length===0}function cR(e=null){const t=U.useContext(Uf);return!t||x$(t)?e:t}const b$=Zf();function Kf(e=b$){return cR(e)}function w$({styles:e,themeId:t,defaultTheme:n={}}){const i=Kf(n),l=typeof e=="function"?e(t&&i[t]||i):e;return Q.jsx(tR,{styles:l})}const S$=e=>{var i;const t={systemProps:{},otherProps:{}},n=((i=e==null?void 0:e.theme)==null?void 0:i.unstable_sxConfig)??qf;return Object.keys(e).forEach(l=>{n[l]?t.systemProps[l]=e[l]:t.otherProps[l]=e[l]}),t};function Uw(e){const{sx:t,...n}=e,{systemProps:i,otherProps:l}=S$(n);let h;return Array.isArray(t)?h=[i,...t]:typeof t=="function"?h=(...p)=>{const a=t(...p);return aa(a)?{...i,...a}:i}:h={...i,...t},{...l,sx:h}}const cE=e=>e,C$=()=>{let e=cE;return{configure(t){e=t},generate(t){return e(t)},reset(){e=cE}}},T$=C$(),uR=T$;function hR(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=hR(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function wt(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=hR(e))&&(i&&(i+=" "),i+=t);return i}function E$(e={}){const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:l}=e,h=nR("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Vc);return U.forwardRef(function(b,w){const T=Kf(n),{className:P,component:I="div",...D}=Uw(b);return Q.jsx(h,{as:I,ref:w,className:wt(P,l?l(i):i),theme:t&&T[t]||T,...D})})}const P$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xt(e,t,n="Mui"){const i=P$[t];return i?`${n}-${i}`:`${uR.generate(e)}-${t}`}function Ht(e,t,n="Mui"){const i={};return t.forEach(l=>{i[l]=Xt(e,l,n)}),i}function dR(e){const{variants:t,...n}=e,i={variants:t,style:sE(n),isProcessed:!0};return i.style===n||t&&t.forEach(l=>{typeof l.style!="function"&&(l.style=sE(l.style))}),i}const k$=Zf();function sx(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function A$(e){return e?(t,n)=>n[e]:null}function I$(e,t,n){e.theme=R$(e.theme)?n:e.theme[t]||e.theme}function ry(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(i=>ry(e,i));if(Array.isArray(n==null?void 0:n.variants)){let i;if(n.isProcessed)i=n.style;else{const{variants:l,...h}=n;i=h}return pR(e,n.variants,[i])}return n!=null&&n.isProcessed?n.style:n}function pR(e,t,n=[]){var l;let i;e:for(let h=0;h<t.length;h+=1){const p=t[h];if(typeof p.props=="function"){if(i??(i={...e,...e.ownerState,ownerState:e.ownerState}),!p.props(i))continue}else for(const a in p.props)if(e[a]!==p.props[a]&&((l=e.ownerState)==null?void 0:l[a])!==p.props[a])continue e;typeof p.style=="function"?(i??(i={...e,...e.ownerState,ownerState:e.ownerState}),n.push(p.style(i))):n.push(p.style)}return n}function fR(e={}){const{themeId:t,defaultTheme:n=k$,rootShouldForwardProp:i=sx,slotShouldForwardProp:l=sx}=e;function h(a){I$(a,t,n)}return(a,b={})=>{_N(a,ee=>ee.filter(ue=>ue!==Vc));const{name:w,slot:T,skipVariantsResolver:P,skipSx:I,overridesResolver:D=A$(D$(T)),...O}=b,j=P!==void 0?P:T&&T!=="Root"&&T!=="root"||!1,q=I||!1;let L=sx;T==="Root"||T==="root"?L=i:T?L=l:L$(a)&&(L=void 0);const V=nR(a,{shouldForwardProp:L,label:M$(),...O}),N=ee=>{if(typeof ee=="function"&&ee.__emotion_real!==ee)return function(ge){return ry(ge,ee)};if(aa(ee)){const ue=dR(ee);return ue.variants?function(he){return ry(he,ue)}:ue.style}return ee},K=(...ee)=>{const ue=[],ge=ee.map(N),he=[];if(ue.push(h),w&&D&&he.push(function(Le){var Ve,qe;const Ne=(qe=(Ve=Le.theme.components)==null?void 0:Ve[w])==null?void 0:qe.styleOverrides;if(!Ne)return null;const ze={};for(const De in Ne)ze[De]=ry(Le,Ne[De]);return D(Le,ze)}),w&&!j&&he.push(function(Le){var ze,Ve;const Be=Le.theme,Ne=(Ve=(ze=Be==null?void 0:Be.components)==null?void 0:ze[w])==null?void 0:Ve.variants;return Ne?pR(Le,Ne):null}),q||he.push(Vc),Array.isArray(ge[0])){const Te=ge.shift(),Le=new Array(ue.length).fill(""),Be=new Array(he.length).fill("");let Ne;Ne=[...Le,...Te,...Be],Ne.raw=[...Le,...Te.raw,...Be],ue.unshift(Ne)}const Pe=[...ue,...ge,...he],G=V(...Pe);return a.muiName&&(G.muiName=a.muiName),G};return V.withConfig&&(K.withConfig=V.withConfig),K}}function M$(e,t){let n;return n}function R$(e){for(const t in e)return!1;return!0}function L$(e){return typeof e=="string"&&e.charCodeAt(0)>96}function D$(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const z$=fR(),mR=z$;function vf(e,t){const n={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const l=i;if(l==="components"||l==="slots")n[l]={...e[l],...n[l]};else if(l==="componentsProps"||l==="slotProps"){const h=e[l],p=t[l];if(!p)n[l]=h||{};else if(!h)n[l]=p;else{n[l]={...p};for(const a in h)if(Object.prototype.hasOwnProperty.call(h,a)){const b=a;n[l][b]=vf(h[b],p[b])}}}else n[l]===void 0&&(n[l]=e[l])}return n}function B$(e){const{theme:t,name:n,props:i}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?i:vf(t.components[n].defaultProps,i)}function gR({props:e,name:t,defaultTheme:n,themeId:i}){let l=Kf(n);return i&&(l=l[i]||l),B$({theme:l,name:t,props:e})}const O$=typeof window<"u"?U.useLayoutEffect:U.useEffect,Za=O$;function F$(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Ww(e,t=0,n=1){return F$(e,t,n)}function N$(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,l)=>l<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Ul(e){if(e.type)return e;if(e.charAt(0)==="#")return Ul(N$(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ha(9,e));let i=e.substring(t+1,e.length-1),l;if(n==="color"){if(i=i.split(" "),l=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(l))throw new Error(Ha(10,l))}else i=i.split(",");return i=i.map(h=>parseFloat(h)),{type:n,values:i,colorSpace:l}}const $$=e=>{const t=Ul(e);return t.values.slice(0,3).map((n,i)=>t.type.includes("hsl")&&i!==0?`${n}%`:n).join(" ")},Tp=(e,t)=>{try{return $$(e)}catch{return e}};function tv(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return t.includes("rgb")?i=i.map((l,h)=>h<3?parseInt(l,10):l):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function yR(e){e=Ul(e);const{values:t}=e,n=t[0],i=t[1]/100,l=t[2]/100,h=i*Math.min(l,1-l),p=(w,T=(w+n/30)%12)=>l-h*Math.max(Math.min(T-3,9-T,1),-1);let a="rgb";const b=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return e.type==="hsla"&&(a+="a",b.push(t[3])),tv({type:a,values:b})}function z1(e){e=Ul(e);let t=e.type==="hsl"||e.type==="hsla"?Ul(yR(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function j$(e,t){const n=z1(e),i=z1(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function Vn(e,t){return e=Ul(e),t=Ww(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,tv(e)}function kg(e,t,n){try{return Vn(e,t)}catch{return e}}function Rh(e,t){if(e=Ul(e),t=Ww(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return tv(e)}function Yn(e,t,n){try{return Rh(e,t)}catch{return e}}function Lh(e,t){if(e=Ul(e),t=Ww(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return tv(e)}function Jn(e,t,n){try{return Lh(e,t)}catch{return e}}function vR(e,t=.15){return z1(e)>.5?Rh(e,t):Lh(e,t)}function Ag(e,t,n){try{return vR(e,t)}catch{return e}}function uE(...e){return e.reduce((t,n)=>n==null?t:function(...l){t.apply(this,l),n.apply(this,l)},()=>{})}function _R(e,t=166){let n;function i(...l){const h=()=>{e.apply(this,l)};clearTimeout(n),n=setTimeout(h,t)}return i.clear=()=>{clearTimeout(n)},i}function jp(e,t){var n,i,l;return U.isValidElement(e)&&t.indexOf(e.type.muiName??((l=(i=(n=e.type)==null?void 0:n._payload)==null?void 0:i.value)==null?void 0:l.muiName))!==-1}function To(e){return e&&e.ownerDocument||document}function Ka(e){return To(e).defaultView||window}function hE(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let dE=0;function V$(e){const[t,n]=U.useState(e),i=e||t;return U.useEffect(()=>{t==null&&(dE+=1,n(`mui-${dE}`))},[t]),i}const U$={...my},pE=U$.useId;function Xf(e){if(pE!==void 0){const t=pE();return e??t}return V$(e)}function fE({controlled:e,default:t,name:n,state:i="value"}){const{current:l}=U.useRef(e!==void 0),[h,p]=U.useState(t),a=l?e:h,b=U.useCallback(w=>{l||p(w)},[]);return[a,b]}function pa(e){const t=U.useRef(e);return Za(()=>{t.current=e}),U.useRef((...n)=>(0,t.current)(...n)).current}function ti(...e){const t=U.useRef(void 0),n=U.useCallback(i=>{const l=e.map(h=>{if(h==null)return null;if(typeof h=="function"){const p=h,a=p(i);return typeof a=="function"?a:()=>{p(null)}}return h.current=i,()=>{h.current=null}});return()=>{l.forEach(h=>h==null?void 0:h())}},e);return U.useMemo(()=>e.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=n(i))},e)}const mE={};function xR(e,t){const n=U.useRef(mE);return n.current===mE&&(n.current=e(t)),n}const W$=[];function G$(e){U.useEffect(e,W$)}class Gw{constructor(){rp(this,"currentId",null);rp(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});rp(this,"disposeEffect",()=>this.clear)}static create(){return new Gw}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function nv(){const e=xR(Gw.create).current;return G$(e.disposeEffect),e}function gE(e){try{return e.matches(":focus-visible")}catch{}return!1}function bR(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Yt(e,t,n=void 0){const i={};for(const l in e){const h=e[l];let p="",a=!0;for(let b=0;b<h.length;b+=1){const w=h[b];w&&(p+=(a===!0?"":" ")+t(w),a=!1,n&&n[w]&&(p+=" "+n[w]))}i[l]=p}return i}function H$(e){return typeof e=="string"}function wR(e,t,n){return e===void 0||H$(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Gy(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(i=>i.match(/^on[A-Z]/)&&typeof e[i]=="function"&&!t.includes(i)).forEach(i=>{n[i]=e[i]}),n}function yE(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function SR(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:l,className:h}=e;if(!t){const D=wt(n==null?void 0:n.className,h,l==null?void 0:l.className,i==null?void 0:i.className),O={...n==null?void 0:n.style,...l==null?void 0:l.style,...i==null?void 0:i.style},j={...n,...l,...i};return D.length>0&&(j.className=D),Object.keys(O).length>0&&(j.style=O),{props:j,internalRef:void 0}}const p=Gy({...l,...i}),a=yE(i),b=yE(l),w=t(p),T=wt(w==null?void 0:w.className,n==null?void 0:n.className,h,l==null?void 0:l.className,i==null?void 0:i.className),P={...w==null?void 0:w.style,...n==null?void 0:n.style,...l==null?void 0:l.style,...i==null?void 0:i.style},I={...w,...n,...b,...a};return T.length>0&&(I.className=T),Object.keys(P).length>0&&(I.style=P),{props:I,internalRef:w.ref}}function CR(e,t,n){return typeof e=="function"?e(t,n):e}function q$(e){var P;const{elementType:t,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:l=!1,...h}=e,p=l?{}:CR(n,i),{props:a,internalRef:b}=SR({...h,externalSlotProps:p}),w=ti(b,p==null?void 0:p.ref,(P=e.additionalProps)==null?void 0:P.ref);return wR(t,{...a,ref:w},i)}function Vh(e){var t;return parseInt(U.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const Z$=U.createContext(null),TR=Z$;function Hw(){return U.useContext(TR)}const K$=typeof Symbol=="function"&&Symbol.for,X$=K$?Symbol.for("mui.nested"):"__THEME_NESTED__";function Y$(e,t){return typeof t=="function"?t(e):{...e,...t}}function J$(e){const{children:t,theme:n}=e,i=Hw(),l=U.useMemo(()=>{const h=i===null?{...n}:Y$(i,n);return h!=null&&(h[X$]=i!==null),h},[n,i]);return Q.jsx(TR.Provider,{value:l,children:t})}const ER=U.createContext();function Q$({value:e,...t}){return Q.jsx(ER.Provider,{value:e??!0,...t})}const e6=()=>U.useContext(ER)??!1,PR=U.createContext(void 0);function t6({value:e,children:t}){return Q.jsx(PR.Provider,{value:e,children:t})}function n6(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const l=t.components[n];return l.defaultProps?vf(l.defaultProps,i):!l.styleOverrides&&!l.variants?vf(l,i):i}function r6({props:e,name:t}){const n=U.useContext(PR);return n6({props:e,name:t,theme:{components:n}})}const vE={};function _E(e,t,n,i=!1){return U.useMemo(()=>{const l=e&&t[e]||t;if(typeof n=="function"){const h=n(l),p=e?{...t,[e]:h}:h;return i?()=>p:p}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,i])}function kR(e){const{children:t,theme:n,themeId:i}=e,l=cR(vE),h=Hw()||vE,p=_E(i,l,n),a=_E(i,h,n,!0),b=(i?p[i]:p).direction==="rtl";return Q.jsx(J$,{theme:a,children:Q.jsx(Uf.Provider,{value:p,children:Q.jsx(Q$,{value:b,children:Q.jsx(t6,{value:i?p[i].components:p.components,children:t})})})})}const xE={theme:void 0};function i6(e){let t,n;return function(l){let h=t;return(h===void 0||l.theme!==n)&&(xE.theme=l.theme,h=dR(e(xE)),t=h,n=l.theme),h}}const qw="mode",Zw="color-scheme",o6="data-color-scheme";function s6(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:i="dark",modeStorageKey:l=qw,colorSchemeStorageKey:h=Zw,attribute:p=o6,colorSchemeNode:a="document.documentElement",nonce:b}=e||{};let w="",T=p;if(p==="class"&&(T=".%s"),p==="data"&&(T="[data-%s]"),T.startsWith(".")){const I=T.substring(1);w+=`${a}.classList.remove('${I}'.replace('%s', light), '${I}'.replace('%s', dark));
      ${a}.classList.add('${I}'.replace('%s', colorScheme));`}const P=T.match(/\[([^\]]+)\]/);if(P){const[I,D]=P[1].split("=");D||(w+=`${a}.removeAttribute('${I}'.replace('%s', light));
      ${a}.removeAttribute('${I}'.replace('%s', dark));`),w+=`
      ${a}.setAttribute('${I}'.replace('%s', colorScheme), ${D?`${D}.replace('%s', colorScheme)`:'""'});`}else w+=`${a}.setAttribute('${T}', colorScheme);`;return Q.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?b:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${l}') || '${t}';
  const dark = localStorage.getItem('${h}-dark') || '${i}';
  const light = localStorage.getItem('${h}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${w}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function a6(){}const l6=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let i;try{i=t.localStorage.getItem(e)}catch{}return i||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return a6;const i=l=>{const h=l.newValue;l.key===e&&n(h)};return t.addEventListener("storage",i),()=>{t.removeEventListener("storage",i)}}}),c6=l6;function ax(){}function bE(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function AR(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function u6(e){return AR(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function h6(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:i,supportedColorSchemes:l=[],modeStorageKey:h=qw,colorSchemeStorageKey:p=Zw,storageWindow:a=typeof window>"u"?void 0:window,storageManager:b=c6,noSsr:w=!1}=e,T=l.join(","),P=l.length>1,I=U.useMemo(()=>b==null?void 0:b({key:h,storageWindow:a}),[b,h,a]),D=U.useMemo(()=>b==null?void 0:b({key:`${p}-light`,storageWindow:a}),[b,p,a]),O=U.useMemo(()=>b==null?void 0:b({key:`${p}-dark`,storageWindow:a}),[b,p,a]),[j,q]=U.useState(()=>{const he=(I==null?void 0:I.get(t))||t,Pe=(D==null?void 0:D.get(n))||n,G=(O==null?void 0:O.get(i))||i;return{mode:he,systemMode:bE(he),lightColorScheme:Pe,darkColorScheme:G}}),[L,V]=U.useState(w||!P);U.useEffect(()=>{V(!0)},[]);const N=u6(j),K=U.useCallback(he=>{q(Pe=>{if(he===Pe.mode)return Pe;const G=he??t;return I==null||I.set(G),{...Pe,mode:G,systemMode:bE(G)}})},[I,t]),ee=U.useCallback(he=>{he?typeof he=="string"?he&&!T.includes(he)?console.error(`\`${he}\` does not exist in \`theme.colorSchemes\`.`):q(Pe=>{const G={...Pe};return AR(Pe,Te=>{Te==="light"&&(D==null||D.set(he),G.lightColorScheme=he),Te==="dark"&&(O==null||O.set(he),G.darkColorScheme=he)}),G}):q(Pe=>{const G={...Pe},Te=he.light===null?n:he.light,Le=he.dark===null?i:he.dark;return Te&&(T.includes(Te)?(G.lightColorScheme=Te,D==null||D.set(Te)):console.error(`\`${Te}\` does not exist in \`theme.colorSchemes\`.`)),Le&&(T.includes(Le)?(G.darkColorScheme=Le,O==null||O.set(Le)):console.error(`\`${Le}\` does not exist in \`theme.colorSchemes\`.`)),G}):q(Pe=>(D==null||D.set(n),O==null||O.set(i),{...Pe,lightColorScheme:n,darkColorScheme:i}))},[T,D,O,n,i]),ue=U.useCallback(he=>{j.mode==="system"&&q(Pe=>{const G=he!=null&&he.matches?"dark":"light";return Pe.systemMode===G?Pe:{...Pe,systemMode:G}})},[j.mode]),ge=U.useRef(ue);return ge.current=ue,U.useEffect(()=>{if(typeof window.matchMedia!="function"||!P)return;const he=(...G)=>ge.current(...G),Pe=window.matchMedia("(prefers-color-scheme: dark)");return Pe.addListener(he),he(Pe),()=>{Pe.removeListener(he)}},[P]),U.useEffect(()=>{if(P){const he=(I==null?void 0:I.subscribe(Te=>{(!Te||["light","dark","system"].includes(Te))&&K(Te||t)}))||ax,Pe=(D==null?void 0:D.subscribe(Te=>{(!Te||T.match(Te))&&ee({light:Te})}))||ax,G=(O==null?void 0:O.subscribe(Te=>{(!Te||T.match(Te))&&ee({dark:Te})}))||ax;return()=>{he(),Pe(),G()}}},[ee,K,T,t,a,P,I,D,O]),{...j,mode:L?j.mode:void 0,systemMode:L?j.systemMode:void 0,colorScheme:L?N:void 0,setMode:K,setColorScheme:ee}}const d6="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function p6(e){const{themeId:t,theme:n={},modeStorageKey:i=qw,colorSchemeStorageKey:l=Zw,disableTransitionOnChange:h=!1,defaultColorScheme:p,resolveTheme:a}=e,b={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},w=U.createContext(void 0),T=()=>U.useContext(w)||b,P={},I={};function D(L){var di,Ur,Ai,ni;const{children:V,theme:N,modeStorageKey:K=i,colorSchemeStorageKey:ee=l,disableTransitionOnChange:ue=h,storageManager:ge,storageWindow:he=typeof window>"u"?void 0:window,documentNode:Pe=typeof document>"u"?void 0:document,colorSchemeNode:G=typeof document>"u"?void 0:document.documentElement,disableNestedContext:Te=!1,disableStyleSheetGeneration:Le=!1,defaultMode:Be="system",forceThemeRerender:Ne=!1,noSsr:ze}=L,Ve=U.useRef(!1),qe=Hw(),De=U.useContext(w),Ae=!!De&&!Te,tt=U.useMemo(()=>N||(typeof n=="function"?n():n),[N]),ft=tt[t],ht=ft||tt,{colorSchemes:ut=P,components:Dt=I,cssVarPrefix:qt}=ht,xt=Object.keys(ut).filter(Pn=>!!ut[Pn]).join(","),Ot=U.useMemo(()=>xt.split(","),[xt]),nn=typeof p=="string"?p:p.light,Vt=typeof p=="string"?p:p.dark,mt=ut[nn]&&ut[Vt]?Be:((Ur=(di=ut[ht.defaultColorScheme])==null?void 0:di.palette)==null?void 0:Ur.mode)||((Ai=ht.palette)==null?void 0:Ai.mode),{mode:Zt,setMode:Gt,systemMode:Ut,lightColorScheme:At,darkColorScheme:en,colorScheme:sr,setColorScheme:Fn}=h6({supportedColorSchemes:Ot,defaultLightColorScheme:nn,defaultDarkColorScheme:Vt,modeStorageKey:K,colorSchemeStorageKey:ee,defaultMode:mt,storageManager:ge,storageWindow:he,noSsr:ze});let En=Zt,Mn=sr;Ae&&(En=De.mode,Mn=De.colorScheme);let Me=Mn||ht.defaultColorScheme;ht.vars&&!Ne&&(Me=ht.defaultColorScheme);const on=U.useMemo(()=>{var Ke;const Pn=((Ke=ht.generateThemeVars)==null?void 0:Ke.call(ht))||ht.vars,zt={...ht,components:Dt,colorSchemes:ut,cssVarPrefix:qt,vars:Pn};if(typeof zt.generateSpacing=="function"&&(zt.spacing=zt.generateSpacing()),Me){const Nn=ut[Me];Nn&&typeof Nn=="object"&&Object.keys(Nn).forEach(dn=>{Nn[dn]&&typeof Nn[dn]=="object"?zt[dn]={...zt[dn],...Nn[dn]}:zt[dn]=Nn[dn]})}return a?a(zt):zt},[ht,Me,Dt,ut,qt]),gt=ht.colorSchemeSelector;Za(()=>{if(Mn&&G&&gt&&gt!=="media"){const Pn=gt;let zt=gt;if(Pn==="class"&&(zt=".%s"),Pn==="data"&&(zt="[data-%s]"),Pn!=null&&Pn.startsWith("data-")&&!Pn.includes("%s")&&(zt=`[${Pn}="%s"]`),zt.startsWith("."))G.classList.remove(...Ot.map(Ke=>zt.substring(1).replace("%s",Ke))),G.classList.add(zt.substring(1).replace("%s",Mn));else{const Ke=zt.replace("%s",Mn).match(/\[([^\]]+)\]/);if(Ke){const[Nn,dn]=Ke[1].split("=");dn||Ot.forEach(It=>{G.removeAttribute(Nn.replace(Mn,It))}),G.setAttribute(Nn,dn?dn.replace(/"|'/g,""):"")}else G.setAttribute(zt,Mn)}}},[Mn,gt,G,Ot]),U.useEffect(()=>{let Pn;if(ue&&Ve.current&&Pe){const zt=Pe.createElement("style");zt.appendChild(Pe.createTextNode(d6)),Pe.head.appendChild(zt),window.getComputedStyle(Pe.body),Pn=setTimeout(()=>{Pe.head.removeChild(zt)},1)}return()=>{clearTimeout(Pn)}},[Mn,ue,Pe]),U.useEffect(()=>(Ve.current=!0,()=>{Ve.current=!1}),[]);const un=U.useMemo(()=>({allColorSchemes:Ot,colorScheme:Mn,darkColorScheme:en,lightColorScheme:At,mode:En,setColorScheme:Fn,setMode:Gt,systemMode:Ut}),[Ot,Mn,en,At,En,Fn,Gt,Ut,on.colorSchemeSelector]);let Lt=!0;(Le||ht.cssVariables===!1||Ae&&(qe==null?void 0:qe.cssVarPrefix)===qt)&&(Lt=!1);const Cr=Q.jsxs(U.Fragment,{children:[Q.jsx(kR,{themeId:ft?t:void 0,theme:on,children:V}),Lt&&Q.jsx(tR,{styles:((ni=on.generateStyleSheets)==null?void 0:ni.call(on))||[]})]});return Ae?Cr:Q.jsx(w.Provider,{value:un,children:Cr})}const O=typeof p=="string"?p:p.light,j=typeof p=="string"?p:p.dark;return{CssVarsProvider:D,useColorScheme:T,getInitColorSchemeScript:L=>s6({colorSchemeStorageKey:l,defaultLightColorScheme:O,defaultDarkColorScheme:j,modeStorageKey:i,...L})}}function f6(e=""){function t(...i){if(!i.length)return"";const l=i[0];return typeof l=="string"&&!l.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${l}${t(...i.slice(1))})`:`, ${l}`}return(i,...l)=>`var(--${e?`${e}-`:""}${i}${t(...l)})`}const wE=(e,t,n,i=[])=>{let l=e;t.forEach((h,p)=>{p===t.length-1?Array.isArray(l)?l[Number(h)]=n:l&&typeof l=="object"&&(l[h]=n):l&&typeof l=="object"&&(l[h]||(l[h]=i.includes(h)?[]:{}),l=l[h])})},m6=(e,t,n)=>{function i(l,h=[],p=[]){Object.entries(l).forEach(([a,b])=>{(!n||n&&!n([...h,a]))&&b!=null&&(typeof b=="object"&&Object.keys(b).length>0?i(b,[...h,a],Array.isArray(b)?[...p,a]:p):t([...h,a],b,p))})}i(e)},g6=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>e.includes(i))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function lx(e,t){const{prefix:n,shouldSkipGeneratingVar:i}=t||{},l={},h={},p={};return m6(e,(a,b,w)=>{if((typeof b=="string"||typeof b=="number")&&(!i||!i(a,b))){const T=`--${n?`${n}-`:""}${a.join("-")}`,P=g6(a,b);Object.assign(l,{[T]:P}),wE(h,a,`var(${T})`,w),wE(p,a,`var(${T}, ${P})`,w)}},a=>a[0]==="vars"),{css:l,vars:h,varsWithDefaults:p}}function y6(e,t={}){const{getSelector:n=q,disableCssColorScheme:i,colorSchemeSelector:l}=t,{colorSchemes:h={},components:p,defaultColorScheme:a="light",...b}=e,{vars:w,css:T,varsWithDefaults:P}=lx(b,t);let I=P;const D={},{[a]:O,...j}=h;if(Object.entries(j||{}).forEach(([N,K])=>{const{vars:ee,css:ue,varsWithDefaults:ge}=lx(K,t);I=Hi(I,ge),D[N]={css:ue,vars:ee}}),O){const{css:N,vars:K,varsWithDefaults:ee}=lx(O,t);I=Hi(I,ee),D[a]={css:N,vars:K}}function q(N,K){var ue,ge;let ee=l;if(l==="class"&&(ee=".%s"),l==="data"&&(ee="[data-%s]"),l!=null&&l.startsWith("data-")&&!l.includes("%s")&&(ee=`[${l}="%s"]`),N){if(ee==="media")return e.defaultColorScheme===N?":root":{[`@media (prefers-color-scheme: ${((ge=(ue=h[N])==null?void 0:ue.palette)==null?void 0:ge.mode)||N})`]:{":root":K}};if(ee)return e.defaultColorScheme===N?`:root, ${ee.replace("%s",String(N))}`:ee.replace("%s",String(N))}return":root"}return{vars:I,generateThemeVars:()=>{let N={...w};return Object.entries(D).forEach(([,{vars:K}])=>{N=Hi(N,K)}),N},generateStyleSheets:()=>{var he,Pe;const N=[],K=e.defaultColorScheme||"light";function ee(G,Te){Object.keys(Te).length&&N.push(typeof G=="string"?{[G]:{...Te}}:G)}ee(n(void 0,{...T}),T);const{[K]:ue,...ge}=D;if(ue){const{css:G}=ue,Te=(Pe=(he=h[K])==null?void 0:he.palette)==null?void 0:Pe.mode,Le=!i&&Te?{colorScheme:Te,...G}:{...G};ee(n(K,{...Le}),Le)}return Object.entries(ge).forEach(([G,{css:Te}])=>{var Ne,ze;const Le=(ze=(Ne=h[G])==null?void 0:Ne.palette)==null?void 0:ze.mode,Be=!i&&Le?{colorScheme:Le,...Te}:{...Te};ee(n(G,{...Be}),Be)}),N}}}function v6(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const _6=Zf(),x6=mR("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Qe(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),b6=e=>gR({props:e,name:"MuiContainer",defaultTheme:_6}),w6=(e,t)=>{const n=b=>Xt(t,b),{classes:i,fixed:l,disableGutters:h,maxWidth:p}=e,a={root:["root",p&&`maxWidth${Qe(String(p))}`,l&&"fixed",h&&"disableGutters"]};return Yt(a,n,i)};function S6(e={}){const{createStyledComponent:t=x6,useThemeProps:n=b6,componentName:i="MuiContainer"}=e,l=t(({theme:p,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:p.spacing(2),paddingRight:p.spacing(2),[p.breakpoints.up("sm")]:{paddingLeft:p.spacing(3),paddingRight:p.spacing(3)}}}),({theme:p,ownerState:a})=>a.fixed&&Object.keys(p.breakpoints.values).reduce((b,w)=>{const T=w,P=p.breakpoints.values[T];return P!==0&&(b[p.breakpoints.up(T)]={maxWidth:`${P}${p.breakpoints.unit}`}),b},{}),({theme:p,ownerState:a})=>({...a.maxWidth==="xs"&&{[p.breakpoints.up("xs")]:{maxWidth:Math.max(p.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[p.breakpoints.up(a.maxWidth)]:{maxWidth:`${p.breakpoints.values[a.maxWidth]}${p.breakpoints.unit}`}}}));return U.forwardRef(function(a,b){const w=n(a),{className:T,component:P="div",disableGutters:I=!1,fixed:D=!1,maxWidth:O="lg",classes:j,...q}=w,L={...w,component:P,disableGutters:I,fixed:D,maxWidth:O},V=w6(L,i);return Q.jsx(l,{as:P,ownerState:L,className:wt(V.root,T),ref:b,...q})})}const C6=(e,t)=>e.filter(n=>t.includes(n)),Uh=(e,t,n)=>{const i=e.keys[0];Array.isArray(t)?t.forEach((l,h)=>{n((p,a)=>{h<=e.keys.length-1&&(h===0?Object.assign(p,a):p[e.up(e.keys[h])]=a)},l)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:C6(e.keys,Object.keys(t))).forEach(h=>{if(e.keys.includes(h)){const p=t[h];p!==void 0&&n((a,b)=>{i===h?Object.assign(a,b):a[e.up(h)]=b},p)}}):(typeof t=="number"||typeof t=="string")&&n((l,h)=>{Object.assign(l,h)},t)};function Hy(e){return`--Grid-${e}Spacing`}function rv(e){return`--Grid-parent-${e}Spacing`}const SE="--Grid-columns",_h="--Grid-parent-columns",T6=({theme:e,ownerState:t})=>{const n={};return Uh(e.breakpoints,t.size,(i,l)=>{let h={};l==="grow"&&(h={flexBasis:0,flexGrow:1,maxWidth:"100%"}),l==="auto"&&(h={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof l=="number"&&(h={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${l} / var(${_h}) - (var(${_h}) - ${l}) * (var(${rv("column")}) / var(${_h})))`}),i(n,h)}),n},E6=({theme:e,ownerState:t})=>{const n={};return Uh(e.breakpoints,t.offset,(i,l)=>{let h={};l==="auto"&&(h={marginLeft:"auto"}),typeof l=="number"&&(h={marginLeft:l===0?"0px":`calc(100% * ${l} / var(${_h}) + var(${rv("column")}) * ${l} / var(${_h}))`}),i(n,h)}),n},P6=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={[SE]:12};return Uh(e.breakpoints,t.columns,(i,l)=>{const h=l??12;i(n,{[SE]:h,"> *":{[_h]:h}})}),n},k6=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Uh(e.breakpoints,t.rowSpacing,(i,l)=>{var p;const h=typeof l=="string"?l:(p=e.spacing)==null?void 0:p.call(e,l);i(n,{[Hy("row")]:h,"> *":{[rv("row")]:h}})}),n},A6=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Uh(e.breakpoints,t.columnSpacing,(i,l)=>{var p;const h=typeof l=="string"?l:(p=e.spacing)==null?void 0:p.call(e,l);i(n,{[Hy("column")]:h,"> *":{[rv("column")]:h}})}),n},I6=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Uh(e.breakpoints,t.direction,(i,l)=>{i(n,{flexDirection:l})}),n},M6=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${Hy("row")}) var(${Hy("column")})`}}),R6=e=>{const t=[];return Object.entries(e).forEach(([n,i])=>{i!==!1&&i!==void 0&&t.push(`grid-${n}-${String(i)}`)}),t},L6=(e,t="xs")=>{function n(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const i=[];return Object.entries(e).forEach(([l,h])=>{n(h)&&i.push(`spacing-${l}-${String(h)}`)}),i}return[]},D6=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`];function z6(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(n=>{e[n]!==void 0&&delete e[n]})}const B6=Zf(),O6=mR("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function F6(e){return gR({props:e,name:"MuiGrid",defaultTheme:B6})}function N6(e={}){const{createStyledComponent:t=O6,useThemeProps:n=F6,useTheme:i=Kf,componentName:l="MuiGrid"}=e,h=(w,T)=>{const{container:P,direction:I,spacing:D,wrap:O,size:j}=w,q={root:["root",P&&"container",O!=="wrap"&&`wrap-xs-${String(O)}`,...D6(I),...R6(j),...P?L6(D,T.breakpoints.keys[0]):[]]};return Yt(q,L=>Xt(l,L),{})};function p(w,T,P=()=>!0){const I={};return w===null||(Array.isArray(w)?w.forEach((D,O)=>{D!==null&&P(D)&&T.keys[O]&&(I[T.keys[O]]=D)}):typeof w=="object"?Object.keys(w).forEach(D=>{const O=w[D];O!=null&&P(O)&&(I[D]=O)}):I[T.keys[0]]=w),I}const a=t(P6,A6,k6,T6,I6,M6,E6),b=U.forwardRef(function(T,P){const I=i(),D=n(T),O=Uw(D);z6(O,I.breakpoints);const{className:j,children:q,columns:L=12,container:V=!1,component:N="div",direction:K="row",wrap:ee="wrap",size:ue={},offset:ge={},spacing:he=0,rowSpacing:Pe=he,columnSpacing:G=he,unstable_level:Te=0,...Le}=O,Be=p(ue,I.breakpoints,ft=>ft!==!1),Ne=p(ge,I.breakpoints),ze=T.columns??(Te?void 0:L),Ve=T.spacing??(Te?void 0:he),qe=T.rowSpacing??T.spacing??(Te?void 0:Pe),De=T.columnSpacing??T.spacing??(Te?void 0:G),Ae={...O,level:Te,columns:ze,container:V,direction:K,wrap:ee,spacing:Ve,rowSpacing:qe,columnSpacing:De,size:Be,offset:Ne},tt=h(Ae,I);return Q.jsx(a,{ref:P,as:N,ownerState:Ae,className:wt(tt.root,j),...Le,children:U.Children.map(q,ft=>{var ht;return U.isValidElement(ft)&&jp(ft,["Grid"])&&V&&ft.props.container?U.cloneElement(ft,{unstable_level:((ht=ft.props)==null?void 0:ht.unstable_level)??Te+1}):ft})})});return b.muiName="Grid",b}const $6={black:"#000",white:"#fff"},_f=$6,j6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},V6=j6,U6={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ou=U6,W6={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Fu=W6,G6={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},pp=G6,H6={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Nu=H6,q6={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$u=q6,Z6={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ju=Z6;function IR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_f.white,default:_f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const K6=IR();function MR(){return{text:{primary:_f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const CE=MR();function TE(e,t,n,i){const l=i.light||i,h=i.dark||i*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Lh(e.main,l):t==="dark"&&(e.dark=Rh(e.main,h)))}function X6(e="light"){return e==="dark"?{main:Nu[200],light:Nu[50],dark:Nu[400]}:{main:Nu[700],light:Nu[400],dark:Nu[800]}}function Y6(e="light"){return e==="dark"?{main:Ou[200],light:Ou[50],dark:Ou[400]}:{main:Ou[500],light:Ou[300],dark:Ou[700]}}function J6(e="light"){return e==="dark"?{main:Fu[500],light:Fu[300],dark:Fu[700]}:{main:Fu[700],light:Fu[400],dark:Fu[800]}}function Q6(e="light"){return e==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:$u[700],light:$u[500],dark:$u[900]}}function ej(e="light"){return e==="dark"?{main:ju[400],light:ju[300],dark:ju[700]}:{main:ju[800],light:ju[500],dark:ju[900]}}function tj(e="light"){return e==="dark"?{main:pp[400],light:pp[300],dark:pp[700]}:{main:"#ed6c02",light:pp[500],dark:pp[900]}}function Kw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2,...l}=e,h=e.primary||X6(t),p=e.secondary||Y6(t),a=e.error||J6(t),b=e.info||Q6(t),w=e.success||ej(t),T=e.warning||tj(t);function P(j){return j$(j,CE.text.primary)>=n?CE.text.primary:K6.text.primary}const I=({color:j,name:q,mainShade:L=500,lightShade:V=300,darkShade:N=700})=>{if(j={...j},!j.main&&j[L]&&(j.main=j[L]),!j.hasOwnProperty("main"))throw new Error(Ha(11,q?` (${q})`:"",L));if(typeof j.main!="string")throw new Error(Ha(12,q?` (${q})`:"",JSON.stringify(j.main)));return TE(j,"light",V,i),TE(j,"dark",N,i),j.contrastText||(j.contrastText=P(j.main)),j};let D;return t==="light"?D=IR():t==="dark"&&(D=MR()),Hi({common:{..._f},mode:t,primary:I({color:h,name:"primary"}),secondary:I({color:p,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:a,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:b,name:"info"}),success:I({color:w,name:"success"}),grey:V6,contrastThreshold:n,getContrastText:P,augmentColor:I,tonalOffset:i,...D},l)}function nj(e){const t={};return Object.entries(e).forEach(i=>{const[l,h]=i;typeof h=="object"&&(t[l]=`${h.fontStyle?`${h.fontStyle} `:""}${h.fontVariant?`${h.fontVariant} `:""}${h.fontWeight?`${h.fontWeight} `:""}${h.fontStretch?`${h.fontStretch} `:""}${h.fontSize||""}${h.lineHeight?`/${h.lineHeight} `:""}${h.fontFamily||""}`)}),t}function rj(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function ij(e){return Math.round(e*1e5)/1e5}const EE={textTransform:"uppercase"},PE='"Roboto", "Helvetica", "Arial", sans-serif';function RR(e,t){const{fontFamily:n=PE,fontSize:i=14,fontWeightLight:l=300,fontWeightRegular:h=400,fontWeightMedium:p=500,fontWeightBold:a=700,htmlFontSize:b=16,allVariants:w,pxToRem:T,...P}=typeof t=="function"?t(e):t,I=i/14,D=T||(q=>`${q/b*I}rem`),O=(q,L,V,N,K)=>({fontFamily:n,fontWeight:q,fontSize:D(L),lineHeight:V,...n===PE?{letterSpacing:`${ij(N/L)}em`}:{},...K,...w}),j={h1:O(l,96,1.167,-1.5),h2:O(l,60,1.2,-.5),h3:O(h,48,1.167,0),h4:O(h,34,1.235,.25),h5:O(h,24,1.334,0),h6:O(p,20,1.6,.15),subtitle1:O(h,16,1.75,.15),subtitle2:O(p,14,1.57,.1),body1:O(h,16,1.5,.15),body2:O(h,14,1.43,.15),button:O(p,14,1.75,.4,EE),caption:O(h,12,1.66,.4),overline:O(h,12,2.66,1,EE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Hi({htmlFontSize:b,pxToRem:D,fontFamily:n,fontSize:i,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:a,...j},P,{clone:!1})}const oj=.2,sj=.14,aj=.12;function mr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${oj})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${sj})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${aj})`].join(",")}const lj=["none",mr(0,2,1,-1,0,1,1,0,0,1,3,0),mr(0,3,1,-2,0,2,2,0,0,1,5,0),mr(0,3,3,-2,0,3,4,0,0,1,8,0),mr(0,2,4,-1,0,4,5,0,0,1,10,0),mr(0,3,5,-1,0,5,8,0,0,1,14,0),mr(0,3,5,-1,0,6,10,0,0,1,18,0),mr(0,4,5,-2,0,7,10,1,0,2,16,1),mr(0,5,5,-3,0,8,10,1,0,3,14,2),mr(0,5,6,-3,0,9,12,1,0,3,16,2),mr(0,6,6,-3,0,10,14,1,0,4,18,3),mr(0,6,7,-4,0,11,15,1,0,4,20,3),mr(0,7,8,-4,0,12,17,2,0,5,22,4),mr(0,7,8,-4,0,13,19,2,0,5,24,4),mr(0,7,9,-4,0,14,21,2,0,5,26,4),mr(0,8,9,-5,0,15,22,2,0,6,28,5),mr(0,8,10,-5,0,16,24,2,0,6,30,5),mr(0,8,11,-5,0,17,26,2,0,6,32,5),mr(0,9,11,-5,0,18,28,2,0,7,34,6),mr(0,9,12,-6,0,19,29,2,0,7,36,6),mr(0,10,13,-6,0,20,31,3,0,8,38,7),mr(0,10,13,-6,0,21,33,3,0,8,40,7),mr(0,10,14,-6,0,22,35,3,0,8,42,7),mr(0,11,14,-7,0,23,36,3,0,9,44,8),mr(0,11,15,-7,0,24,38,3,0,9,46,8)],cj=lj,uj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},LR={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kE(e){return`${Math.round(e)}ms`}function hj(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function dj(e){const t={...uj,...e.easing},n={...LR,...e.duration};return{getAutoHeightDuration:hj,create:(l=["all"],h={})=>{const{duration:p=n.standard,easing:a=t.easeInOut,delay:b=0,...w}=h;return(Array.isArray(l)?l:[l]).map(T=>`${T} ${typeof p=="string"?p:kE(p)} ${a} ${typeof b=="string"?b:kE(b)}`).join(",")},...e,easing:t,duration:n}}const pj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fj=pj;function mj(e){return aa(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function DR(e={}){const t={...e};function n(i){const l=Object.entries(i);for(let h=0;h<l.length;h++){const[p,a]=l[h];!mj(a)||p.startsWith("unstable_")?delete i[p]:aa(a)&&(i[p]={...a},n(i[p]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function B1(e={},...t){const{breakpoints:n,mixins:i={},spacing:l,palette:h={},transitions:p={},typography:a={},shape:b,...w}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Ha(20));const T=Kw(h),P=Zf(e);let I=Hi(P,{mixins:rj(P.breakpoints,i),palette:T,shadows:cj.slice(),typography:RR(T,a),transitions:dj(p),zIndex:{...fj}});return I=Hi(I,w),I=t.reduce((D,O)=>Hi(D,O),I),I.unstable_sxConfig={...qf,...w==null?void 0:w.unstable_sxConfig},I.unstable_sx=function(O){return Vc({sx:O,theme:this})},I.toRuntimeSource=DR,I}function O1(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const gj=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=O1(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function zR(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function BR(e){return e==="dark"?gj:[]}function yj(e){const{palette:t={mode:"light"},opacity:n,overlays:i,...l}=e,h=Kw(t);return{palette:h,opacity:{...zR(h.mode),...n},overlays:i||BR(h.mode),...l}}function vj(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const _j=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],xj=_j,bj=e=>(t,n)=>{const i=e.rootSelector||":root",l=e.colorSchemeSelector;let h=l;if(l==="class"&&(h=".%s"),l==="data"&&(h="[data-%s]"),l!=null&&l.startsWith("data-")&&!l.includes("%s")&&(h=`[${l}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const p={};return xj(e.cssVarPrefix).forEach(a=>{p[a]=n[a],delete n[a]}),h==="media"?{[i]:n,"@media (prefers-color-scheme: dark)":{[i]:p}}:h?{[h.replace("%s",t)]:p,[`${i}, ${h.replace("%s",t)}`]:n}:{[i]:{...n,...p}}}if(h&&h!=="media")return`${i}, ${h.replace("%s",String(t))}`}else if(t){if(h==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:n}};if(h)return h.replace("%s",String(t))}return i};function wj(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Ue(e,t,n){!e[t]&&n&&(e[t]=n)}function Ep(e){return typeof e!="string"||!e.startsWith("hsl")?e:yR(e)}function Da(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Tp(Ep(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Sj(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Js=e=>{try{return e()}catch{}},Cj=(e="mui")=>f6(e);function cx(e,t,n,i){if(!t)return;t=t===!0?{}:t;const l=i==="dark"?"dark":"light";if(!n){e[i]=yj({...t,palette:{mode:l,...t==null?void 0:t.palette}});return}const{palette:h,...p}=B1({...n,palette:{mode:l,...t==null?void 0:t.palette}});return e[i]={...t,palette:h,opacity:{...zR(l),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||BR(l)},p}function Tj(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:i,disableCssColorScheme:l=!1,cssVarPrefix:h="mui",shouldSkipGeneratingVar:p=vj,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:b=":root",...w}=e,T=Object.keys(n)[0],P=i||(n.light&&T!=="light"?"light":T),I=Cj(h),{[P]:D,light:O,dark:j,...q}=n,L={...q};let V=D;if((P==="dark"&&!("dark"in n)||P==="light"&&!("light"in n))&&(V=!0),!V)throw new Error(Ha(21,P));const N=cx(L,V,w,P);O&&!L.light&&cx(L,O,void 0,"light"),j&&!L.dark&&cx(L,j,void 0,"dark");let K={defaultColorScheme:P,...N,cssVarPrefix:h,colorSchemeSelector:a,rootSelector:b,getCssVar:I,colorSchemes:L,font:{...nj(N.typography),...N.font},spacing:Sj(w.spacing)};Object.keys(K.colorSchemes).forEach(Pe=>{const G=K.colorSchemes[Pe].palette,Te=Le=>{const Be=Le.split("-"),Ne=Be[1],ze=Be[2];return I(Le,G[Ne][ze])};if(G.mode==="light"&&(Ue(G.common,"background","#fff"),Ue(G.common,"onBackground","#000")),G.mode==="dark"&&(Ue(G.common,"background","#000"),Ue(G.common,"onBackground","#fff")),wj(G,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),G.mode==="light"){Ue(G.Alert,"errorColor",Yn(G.error.light,.6)),Ue(G.Alert,"infoColor",Yn(G.info.light,.6)),Ue(G.Alert,"successColor",Yn(G.success.light,.6)),Ue(G.Alert,"warningColor",Yn(G.warning.light,.6)),Ue(G.Alert,"errorFilledBg",Te("palette-error-main")),Ue(G.Alert,"infoFilledBg",Te("palette-info-main")),Ue(G.Alert,"successFilledBg",Te("palette-success-main")),Ue(G.Alert,"warningFilledBg",Te("palette-warning-main")),Ue(G.Alert,"errorFilledColor",Js(()=>G.getContrastText(G.error.main))),Ue(G.Alert,"infoFilledColor",Js(()=>G.getContrastText(G.info.main))),Ue(G.Alert,"successFilledColor",Js(()=>G.getContrastText(G.success.main))),Ue(G.Alert,"warningFilledColor",Js(()=>G.getContrastText(G.warning.main))),Ue(G.Alert,"errorStandardBg",Jn(G.error.light,.9)),Ue(G.Alert,"infoStandardBg",Jn(G.info.light,.9)),Ue(G.Alert,"successStandardBg",Jn(G.success.light,.9)),Ue(G.Alert,"warningStandardBg",Jn(G.warning.light,.9)),Ue(G.Alert,"errorIconColor",Te("palette-error-main")),Ue(G.Alert,"infoIconColor",Te("palette-info-main")),Ue(G.Alert,"successIconColor",Te("palette-success-main")),Ue(G.Alert,"warningIconColor",Te("palette-warning-main")),Ue(G.AppBar,"defaultBg",Te("palette-grey-100")),Ue(G.Avatar,"defaultBg",Te("palette-grey-400")),Ue(G.Button,"inheritContainedBg",Te("palette-grey-300")),Ue(G.Button,"inheritContainedHoverBg",Te("palette-grey-A100")),Ue(G.Chip,"defaultBorder",Te("palette-grey-400")),Ue(G.Chip,"defaultAvatarColor",Te("palette-grey-700")),Ue(G.Chip,"defaultIconColor",Te("palette-grey-700")),Ue(G.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ue(G.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ue(G.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ue(G.LinearProgress,"primaryBg",Jn(G.primary.main,.62)),Ue(G.LinearProgress,"secondaryBg",Jn(G.secondary.main,.62)),Ue(G.LinearProgress,"errorBg",Jn(G.error.main,.62)),Ue(G.LinearProgress,"infoBg",Jn(G.info.main,.62)),Ue(G.LinearProgress,"successBg",Jn(G.success.main,.62)),Ue(G.LinearProgress,"warningBg",Jn(G.warning.main,.62)),Ue(G.Skeleton,"bg",`rgba(${Te("palette-text-primaryChannel")} / 0.11)`),Ue(G.Slider,"primaryTrack",Jn(G.primary.main,.62)),Ue(G.Slider,"secondaryTrack",Jn(G.secondary.main,.62)),Ue(G.Slider,"errorTrack",Jn(G.error.main,.62)),Ue(G.Slider,"infoTrack",Jn(G.info.main,.62)),Ue(G.Slider,"successTrack",Jn(G.success.main,.62)),Ue(G.Slider,"warningTrack",Jn(G.warning.main,.62));const Le=Ag(G.background.default,.8);Ue(G.SnackbarContent,"bg",Le),Ue(G.SnackbarContent,"color",Js(()=>G.getContrastText(Le))),Ue(G.SpeedDialAction,"fabHoverBg",Ag(G.background.paper,.15)),Ue(G.StepConnector,"border",Te("palette-grey-400")),Ue(G.StepContent,"border",Te("palette-grey-400")),Ue(G.Switch,"defaultColor",Te("palette-common-white")),Ue(G.Switch,"defaultDisabledColor",Te("palette-grey-100")),Ue(G.Switch,"primaryDisabledColor",Jn(G.primary.main,.62)),Ue(G.Switch,"secondaryDisabledColor",Jn(G.secondary.main,.62)),Ue(G.Switch,"errorDisabledColor",Jn(G.error.main,.62)),Ue(G.Switch,"infoDisabledColor",Jn(G.info.main,.62)),Ue(G.Switch,"successDisabledColor",Jn(G.success.main,.62)),Ue(G.Switch,"warningDisabledColor",Jn(G.warning.main,.62)),Ue(G.TableCell,"border",Jn(kg(G.divider,1),.88)),Ue(G.Tooltip,"bg",kg(G.grey[700],.92))}if(G.mode==="dark"){Ue(G.Alert,"errorColor",Jn(G.error.light,.6)),Ue(G.Alert,"infoColor",Jn(G.info.light,.6)),Ue(G.Alert,"successColor",Jn(G.success.light,.6)),Ue(G.Alert,"warningColor",Jn(G.warning.light,.6)),Ue(G.Alert,"errorFilledBg",Te("palette-error-dark")),Ue(G.Alert,"infoFilledBg",Te("palette-info-dark")),Ue(G.Alert,"successFilledBg",Te("palette-success-dark")),Ue(G.Alert,"warningFilledBg",Te("palette-warning-dark")),Ue(G.Alert,"errorFilledColor",Js(()=>G.getContrastText(G.error.dark))),Ue(G.Alert,"infoFilledColor",Js(()=>G.getContrastText(G.info.dark))),Ue(G.Alert,"successFilledColor",Js(()=>G.getContrastText(G.success.dark))),Ue(G.Alert,"warningFilledColor",Js(()=>G.getContrastText(G.warning.dark))),Ue(G.Alert,"errorStandardBg",Yn(G.error.light,.9)),Ue(G.Alert,"infoStandardBg",Yn(G.info.light,.9)),Ue(G.Alert,"successStandardBg",Yn(G.success.light,.9)),Ue(G.Alert,"warningStandardBg",Yn(G.warning.light,.9)),Ue(G.Alert,"errorIconColor",Te("palette-error-main")),Ue(G.Alert,"infoIconColor",Te("palette-info-main")),Ue(G.Alert,"successIconColor",Te("palette-success-main")),Ue(G.Alert,"warningIconColor",Te("palette-warning-main")),Ue(G.AppBar,"defaultBg",Te("palette-grey-900")),Ue(G.AppBar,"darkBg",Te("palette-background-paper")),Ue(G.AppBar,"darkColor",Te("palette-text-primary")),Ue(G.Avatar,"defaultBg",Te("palette-grey-600")),Ue(G.Button,"inheritContainedBg",Te("palette-grey-800")),Ue(G.Button,"inheritContainedHoverBg",Te("palette-grey-700")),Ue(G.Chip,"defaultBorder",Te("palette-grey-700")),Ue(G.Chip,"defaultAvatarColor",Te("palette-grey-300")),Ue(G.Chip,"defaultIconColor",Te("palette-grey-300")),Ue(G.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ue(G.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ue(G.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ue(G.LinearProgress,"primaryBg",Yn(G.primary.main,.5)),Ue(G.LinearProgress,"secondaryBg",Yn(G.secondary.main,.5)),Ue(G.LinearProgress,"errorBg",Yn(G.error.main,.5)),Ue(G.LinearProgress,"infoBg",Yn(G.info.main,.5)),Ue(G.LinearProgress,"successBg",Yn(G.success.main,.5)),Ue(G.LinearProgress,"warningBg",Yn(G.warning.main,.5)),Ue(G.Skeleton,"bg",`rgba(${Te("palette-text-primaryChannel")} / 0.13)`),Ue(G.Slider,"primaryTrack",Yn(G.primary.main,.5)),Ue(G.Slider,"secondaryTrack",Yn(G.secondary.main,.5)),Ue(G.Slider,"errorTrack",Yn(G.error.main,.5)),Ue(G.Slider,"infoTrack",Yn(G.info.main,.5)),Ue(G.Slider,"successTrack",Yn(G.success.main,.5)),Ue(G.Slider,"warningTrack",Yn(G.warning.main,.5));const Le=Ag(G.background.default,.98);Ue(G.SnackbarContent,"bg",Le),Ue(G.SnackbarContent,"color",Js(()=>G.getContrastText(Le))),Ue(G.SpeedDialAction,"fabHoverBg",Ag(G.background.paper,.15)),Ue(G.StepConnector,"border",Te("palette-grey-600")),Ue(G.StepContent,"border",Te("palette-grey-600")),Ue(G.Switch,"defaultColor",Te("palette-grey-300")),Ue(G.Switch,"defaultDisabledColor",Te("palette-grey-600")),Ue(G.Switch,"primaryDisabledColor",Yn(G.primary.main,.55)),Ue(G.Switch,"secondaryDisabledColor",Yn(G.secondary.main,.55)),Ue(G.Switch,"errorDisabledColor",Yn(G.error.main,.55)),Ue(G.Switch,"infoDisabledColor",Yn(G.info.main,.55)),Ue(G.Switch,"successDisabledColor",Yn(G.success.main,.55)),Ue(G.Switch,"warningDisabledColor",Yn(G.warning.main,.55)),Ue(G.TableCell,"border",Yn(kg(G.divider,1),.68)),Ue(G.Tooltip,"bg",kg(G.grey[700],.92))}Da(G.background,"default"),Da(G.background,"paper"),Da(G.common,"background"),Da(G.common,"onBackground"),Da(G,"divider"),Object.keys(G).forEach(Le=>{const Be=G[Le];Le!=="tonalOffset"&&Be&&typeof Be=="object"&&(Be.main&&Ue(G[Le],"mainChannel",Tp(Ep(Be.main))),Be.light&&Ue(G[Le],"lightChannel",Tp(Ep(Be.light))),Be.dark&&Ue(G[Le],"darkChannel",Tp(Ep(Be.dark))),Be.contrastText&&Ue(G[Le],"contrastTextChannel",Tp(Ep(Be.contrastText))),Le==="text"&&(Da(G[Le],"primary"),Da(G[Le],"secondary")),Le==="action"&&(Be.active&&Da(G[Le],"active"),Be.selected&&Da(G[Le],"selected")))})}),K=t.reduce((Pe,G)=>Hi(Pe,G),K);const ee={prefix:h,disableCssColorScheme:l,shouldSkipGeneratingVar:p,getSelector:bj(K)},{vars:ue,generateThemeVars:ge,generateStyleSheets:he}=y6(K,ee);return K.vars=ue,Object.entries(K.colorSchemes[K.defaultColorScheme]).forEach(([Pe,G])=>{K[Pe]=G}),K.generateThemeVars=ge,K.generateStyleSheets=he,K.generateSpacing=function(){return aR(w.spacing,jw(this))},K.getColorSchemeSelector=v6(a),K.spacing=K.generateSpacing(),K.shouldSkipGeneratingVar=p,K.unstable_sxConfig={...qf,...w==null?void 0:w.unstable_sxConfig},K.unstable_sx=function(G){return Vc({sx:G,theme:this})},K.toRuntimeSource=DR,K}function AE(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Kw({...n===!0?{}:n.palette,mode:t})})}function iv(e={},...t){const{palette:n,cssVariables:i=!1,colorSchemes:l=n?void 0:{light:!0},defaultColorScheme:h=n==null?void 0:n.mode,...p}=e,a=h||"light",b=l==null?void 0:l[a],w={...l,...n?{[a]:{...typeof b!="boolean"&&b,palette:n}}:void 0};if(i===!1){if(!("colorSchemes"in e))return B1(e,...t);let T=n;"palette"in e||w[a]&&(w[a]!==!0?T=w[a].palette:a==="dark"&&(T={mode:"dark"}));const P=B1({...e,palette:T},...t);return P.defaultColorScheme=a,P.colorSchemes=w,P.palette.mode==="light"&&(P.colorSchemes.light={...w.light!==!0&&w.light,palette:P.palette},AE(P,"dark",w.dark)),P.palette.mode==="dark"&&(P.colorSchemes.dark={...w.dark!==!0&&w.dark,palette:P.palette},AE(P,"light",w.light)),P}return!n&&!("light"in w)&&a==="light"&&(w.light=!0),Tj({...p,colorSchemes:w,defaultColorScheme:a,...typeof i!="boolean"&&i},...t)}const Ej=iv(),Xw=Ej;function Kc(){const e=Kf(Xw);return e[ha]||e}function OR(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Pj=e=>OR(e)&&e!=="classes",ys=Pj,kj=fR({themeId:ha,defaultTheme:Xw,rootShouldForwardProp:ys}),et=kj;function ux({theme:e,...t}){const n=ha in e?e[ha]:void 0;return Q.jsx(kR,{...t,themeId:n?ha:void 0,theme:n||e})}const Ig={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Aj,useColorScheme:vQ,getInitColorSchemeScript:_Q}=p6({themeId:ha,theme:()=>iv({cssVariables:!0}),colorSchemeStorageKey:Ig.colorSchemeStorageKey,modeStorageKey:Ig.modeStorageKey,defaultColorScheme:{light:Ig.defaultLightColorScheme,dark:Ig.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:RR(e.palette,e.typography)};return t.unstable_sx=function(i){return Vc({sx:i,theme:this})},t}}),Ij=Aj;function Mj({theme:e,...t}){if(typeof e=="function")return Q.jsx(ux,{theme:e,...t});const n=ha in e?e[ha]:e;return"colorSchemes"in n?Q.jsx(Ij,{theme:e,...t}):"vars"in n?Q.jsx(ux,{theme:e,...t}):Q.jsx(ux,{theme:{...e,vars:null},...t})}function Rj(e){return Q.jsx(w$,{...e,defaultTheme:Xw,themeId:ha})}function Yw(e){return function(n){return Q.jsx(Rj,{styles:typeof e=="function"?i=>e({theme:i,...n}):e})}}function Lj(){return Uw}const Dj=i6,yn=Dj;function Jt(e){return r6(e)}function zj(e){return Xt("MuiSvgIcon",e)}Ht("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Bj=e=>{const{color:t,fontSize:n,classes:i}=e,l={root:["root",t!=="inherit"&&`color${Qe(t)}`,`fontSize${Qe(n)}`]};return Yt(l,zj,i)},Oj=et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Qe(n.color)}`],t[`fontSize${Qe(n.fontSize)}`]]}})(yn(({theme:e})=>{var t,n,i,l,h,p,a,b,w,T,P,I,D,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(l=(t=e.transitions)==null?void 0:t.create)==null?void 0:l.call(t,"fill",{duration:(i=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:i.shorter}),variants:[{props:j=>!j.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((p=(h=e.typography)==null?void 0:h.pxToRem)==null?void 0:p.call(h,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((b=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:b.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((T=(w=e.typography)==null?void 0:w.pxToRem)==null?void 0:T.call(w,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,j])=>j&&j.main).map(([j])=>{var q,L;return{props:{color:j},style:{color:(L=(q=(e.vars??e).palette)==null?void 0:q[j])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(I=(P=(e.vars??e).palette)==null?void 0:P.action)==null?void 0:I.active}},{props:{color:"disabled"},style:{color:(O=(D=(e.vars??e).palette)==null?void 0:D.action)==null?void 0:O.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),FR=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiSvgIcon"}),{children:l,className:h,color:p="inherit",component:a="svg",fontSize:b="medium",htmlColor:w,inheritViewBox:T=!1,titleAccess:P,viewBox:I="0 0 24 24",...D}=i,O=U.isValidElement(l)&&l.type==="svg",j={...i,color:p,component:a,fontSize:b,instanceFontSize:t.fontSize,inheritViewBox:T,viewBox:I,hasSvgAsChild:O},q={};T||(q.viewBox=I);const L=Bj(j);return Q.jsxs(Oj,{as:a,className:wt(L.root,h),focusable:"false",color:w,"aria-hidden":P?void 0:!0,role:P?"img":void 0,ref:n,...q,...D,...O&&l.props,ownerState:j,children:[O?l.props.children:l,P?Q.jsx("title",{children:P}):null]})});FR.muiName="SvgIcon";const IE=FR;function vs(e,t){function n(i,l){return Q.jsx(IE,{"data-testid":void 0,ref:l,...i,children:e})}return n.muiName=IE.muiName,U.memo(U.forwardRef(n))}function Fj(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function Nj(e,t){if(!e)return t;function n(p,a){const b={};return Object.keys(a).forEach(w=>{Fj(w,a[w])&&typeof p[w]=="function"&&(b[w]=(...T)=>{p[w](...T),a[w](...T)})}),b}if(typeof e=="function"||typeof t=="function")return p=>{const a=typeof t=="function"?t(p):t,b=typeof e=="function"?e({...p,...a}):e,w=wt(p==null?void 0:p.className,a==null?void 0:a.className,b==null?void 0:b.className),T=n(b,a);return{...a,...b,...T,...!!w&&{className:w},...(a==null?void 0:a.style)&&(b==null?void 0:b.style)&&{style:{...a.style,...b.style}},...(a==null?void 0:a.sx)&&(b==null?void 0:b.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(b.sx)?b.sx:[b.sx]]}}};const i=t,l=n(e,i),h=wt(i==null?void 0:i.className,e==null?void 0:e.className);return{...t,...e,...l,...!!h&&{className:h},...(i==null?void 0:i.style)&&(e==null?void 0:e.style)&&{style:{...i.style,...e.style}},...(i==null?void 0:i.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function NR(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F1(e,t)}function $R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F1(e,t)}const ME={disabled:!1},qy=Bs.createContext(null);var $j=function(t){return t.scrollTop},Pp="unmounted",wc="exited",Sc="entering",Wu="entered",N1="exiting",Ja=function(e){$R(t,e);function t(i,l){var h;h=e.call(this,i,l)||this;var p=l,a=p&&!p.isMounting?i.enter:i.appear,b;return h.appearStatus=null,i.in?a?(b=wc,h.appearStatus=Sc):b=Wu:i.unmountOnExit||i.mountOnEnter?b=Pp:b=wc,h.state={status:b},h.nextCallback=null,h}t.getDerivedStateFromProps=function(l,h){var p=l.in;return p&&h.status===Pp?{status:wc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(l){var h=null;if(l!==this.props){var p=this.state.status;this.props.in?p!==Sc&&p!==Wu&&(h=Sc):(p===Sc||p===Wu)&&(h=N1)}this.updateStatus(!1,h)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var l=this.props.timeout,h,p,a;return h=p=a=l,l!=null&&typeof l!="number"&&(h=l.exit,p=l.enter,a=l.appear!==void 0?l.appear:p),{exit:h,enter:p,appear:a}},n.updateStatus=function(l,h){if(l===void 0&&(l=!1),h!==null)if(this.cancelNextCallback(),h===Sc){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:Eg.findDOMNode(this);p&&$j(p)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wc&&this.setState({status:Pp})},n.performEnter=function(l){var h=this,p=this.props.enter,a=this.context?this.context.isMounting:l,b=this.props.nodeRef?[a]:[Eg.findDOMNode(this),a],w=b[0],T=b[1],P=this.getTimeouts(),I=a?P.appear:P.enter;if(!l&&!p||ME.disabled){this.safeSetState({status:Wu},function(){h.props.onEntered(w)});return}this.props.onEnter(w,T),this.safeSetState({status:Sc},function(){h.props.onEntering(w,T),h.onTransitionEnd(I,function(){h.safeSetState({status:Wu},function(){h.props.onEntered(w,T)})})})},n.performExit=function(){var l=this,h=this.props.exit,p=this.getTimeouts(),a=this.props.nodeRef?void 0:Eg.findDOMNode(this);if(!h||ME.disabled){this.safeSetState({status:wc},function(){l.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:N1},function(){l.props.onExiting(a),l.onTransitionEnd(p.exit,function(){l.safeSetState({status:wc},function(){l.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(l,h){h=this.setNextCallback(h),this.setState(l,h)},n.setNextCallback=function(l){var h=this,p=!0;return this.nextCallback=function(a){p&&(p=!1,h.nextCallback=null,l(a))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},n.onTransitionEnd=function(l,h){this.setNextCallback(h);var p=this.props.nodeRef?this.props.nodeRef.current:Eg.findDOMNode(this),a=l==null&&!this.props.addEndListener;if(!p||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],w=b[0],T=b[1];this.props.addEndListener(w,T)}l!=null&&setTimeout(this.nextCallback,l)},n.render=function(){var l=this.state.status;if(l===Pp)return null;var h=this.props,p=h.children;h.in,h.mountOnEnter,h.unmountOnExit,h.appear,h.enter,h.exit,h.timeout,h.addEndListener,h.onEnter,h.onEntering,h.onEntered,h.onExit,h.onExiting,h.onExited,h.nodeRef;var a=NR(h,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bs.createElement(qy.Provider,{value:null},typeof p=="function"?p(l,a):Bs.cloneElement(Bs.Children.only(p),a))},t}(Bs.Component);Ja.contextType=qy;Ja.propTypes={};function Vu(){}Ja.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vu,onEntering:Vu,onEntered:Vu,onExit:Vu,onExiting:Vu,onExited:Vu};Ja.UNMOUNTED=Pp;Ja.EXITED=wc;Ja.ENTERING=Sc;Ja.ENTERED=Wu;Ja.EXITING=N1;const Jw=Ja;function jj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qw(e,t){var n=function(h){return t&&U.isValidElement(h)?t(h):h},i=Object.create(null);return e&&U.Children.map(e,function(l){return l}).forEach(function(l){i[l.key]=n(l)}),i}function Vj(e,t){e=e||{},t=t||{};function n(T){return T in t?t[T]:e[T]}var i=Object.create(null),l=[];for(var h in e)h in t?l.length&&(i[h]=l,l=[]):l.push(h);var p,a={};for(var b in t){if(i[b])for(p=0;p<i[b].length;p++){var w=i[b][p];a[i[b][p]]=n(w)}a[b]=n(b)}for(p=0;p<l.length;p++)a[l[p]]=n(l[p]);return a}function Ac(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Uj(e,t){return Qw(e.children,function(n){return U.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ac(n,"appear",e),enter:Ac(n,"enter",e),exit:Ac(n,"exit",e)})})}function Wj(e,t,n){var i=Qw(e.children),l=Vj(t,i);return Object.keys(l).forEach(function(h){var p=l[h];if(U.isValidElement(p)){var a=h in t,b=h in i,w=t[h],T=U.isValidElement(w)&&!w.props.in;b&&(!a||T)?l[h]=U.cloneElement(p,{onExited:n.bind(null,p),in:!0,exit:Ac(p,"exit",e),enter:Ac(p,"enter",e)}):!b&&a&&!T?l[h]=U.cloneElement(p,{in:!1}):b&&a&&U.isValidElement(w)&&(l[h]=U.cloneElement(p,{onExited:n.bind(null,p),in:w.props.in,exit:Ac(p,"exit",e),enter:Ac(p,"enter",e)}))}}),l}var Gj=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Hj={component:"div",childFactory:function(t){return t}},eS=function(e){$R(t,e);function t(i,l){var h;h=e.call(this,i,l)||this;var p=h.handleExited.bind(jj(h));return h.state={contextValue:{isMounting:!0},handleExited:p,firstRender:!0},h}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(l,h){var p=h.children,a=h.handleExited,b=h.firstRender;return{children:b?Uj(l,a):Wj(l,p,a),firstRender:!1}},n.handleExited=function(l,h){var p=Qw(this.props.children);l.key in p||(l.props.onExited&&l.props.onExited(h),this.mounted&&this.setState(function(a){var b=Vy({},a.children);return delete b[l.key],{children:b}}))},n.render=function(){var l=this.props,h=l.component,p=l.childFactory,a=NR(l,["component","childFactory"]),b=this.state.contextValue,w=Gj(this.state.children).map(p);return delete a.appear,delete a.enter,delete a.exit,h===null?Bs.createElement(qy.Provider,{value:b},w):Bs.createElement(qy.Provider,{value:b},Bs.createElement(h,a,w))},t}(Bs.Component);eS.propTypes={};eS.defaultProps=Hj;const qj=eS,jR=e=>e.scrollTop;function Dh(e,t){const{timeout:n,easing:i,style:l={}}=e;return{duration:l.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:l.transitionTimingFunction??(typeof i=="object"?i[t.mode]:i),delay:l.transitionDelay}}function Zj(e){return Xt("MuiCollapse",e)}Ht("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Kj=e=>{const{orientation:t,classes:n}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Yt(i,Zj,n)},Xj=et("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(yn(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Yj=et("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Jj=et("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),$1=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiCollapse"}),{addEndListener:l,children:h,className:p,collapsedSize:a="0px",component:b,easing:w,in:T,onEnter:P,onEntered:I,onEntering:D,onExit:O,onExited:j,onExiting:q,orientation:L="vertical",style:V,timeout:N=LR.standard,TransitionComponent:K=Jw,...ee}=i,ue={...i,orientation:L,collapsedSize:a},ge=Kj(ue),he=Kc(),Pe=nv(),G=U.useRef(null),Te=U.useRef(),Le=typeof a=="number"?`${a}px`:a,Be=L==="horizontal",Ne=Be?"width":"height",ze=U.useRef(null),Ve=ti(n,ze),qe=xt=>Ot=>{if(xt){const nn=ze.current;Ot===void 0?xt(nn):xt(nn,Ot)}},De=()=>G.current?G.current[Be?"clientWidth":"clientHeight"]:0,Ae=qe((xt,Ot)=>{G.current&&Be&&(G.current.style.position="absolute"),xt.style[Ne]=Le,P&&P(xt,Ot)}),tt=qe((xt,Ot)=>{const nn=De();G.current&&Be&&(G.current.style.position="");const{duration:Vt,easing:mt}=Dh({style:V,timeout:N,easing:w},{mode:"enter"});if(N==="auto"){const Zt=he.transitions.getAutoHeightDuration(nn);xt.style.transitionDuration=`${Zt}ms`,Te.current=Zt}else xt.style.transitionDuration=typeof Vt=="string"?Vt:`${Vt}ms`;xt.style[Ne]=`${nn}px`,xt.style.transitionTimingFunction=mt,D&&D(xt,Ot)}),ft=qe((xt,Ot)=>{xt.style[Ne]="auto",I&&I(xt,Ot)}),ht=qe(xt=>{xt.style[Ne]=`${De()}px`,O&&O(xt)}),ut=qe(j),Dt=qe(xt=>{const Ot=De(),{duration:nn,easing:Vt}=Dh({style:V,timeout:N,easing:w},{mode:"exit"});if(N==="auto"){const mt=he.transitions.getAutoHeightDuration(Ot);xt.style.transitionDuration=`${mt}ms`,Te.current=mt}else xt.style.transitionDuration=typeof nn=="string"?nn:`${nn}ms`;xt.style[Ne]=Le,xt.style.transitionTimingFunction=Vt,q&&q(xt)}),qt=xt=>{N==="auto"&&Pe.start(Te.current||0,xt),l&&l(ze.current,xt)};return Q.jsx(K,{in:T,onEnter:Ae,onEntered:ft,onEntering:tt,onExit:ht,onExited:ut,onExiting:Dt,addEndListener:qt,nodeRef:ze,timeout:N==="auto"?null:N,...ee,children:(xt,{ownerState:Ot,...nn})=>Q.jsx(Xj,{as:b,className:wt(ge.root,p,{entered:ge.entered,exited:!T&&Le==="0px"&&ge.hidden}[xt]),style:{[Be?"minWidth":"minHeight"]:Le,...V},ref:Ve,ownerState:{...ue,state:xt},...nn,children:Q.jsx(Yj,{ownerState:{...ue,state:xt},className:ge.wrapper,ref:G,children:Q.jsx(Jj,{ownerState:{...ue,state:xt},className:ge.wrapperInner,children:h})})})})});$1&&($1.muiSupportAuto=!0);const RE=$1;function Qj(e){return Xt("MuiPaper",e)}Ht("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const eV=e=>{const{square:t,elevation:n,variant:i,classes:l}=e,h={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${n}`]};return Yt(h,Qj,l)},tV=et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(yn(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),nV=U.forwardRef(function(t,n){var D;const i=Jt({props:t,name:"MuiPaper"}),l=Kc(),{className:h,component:p="div",elevation:a=1,square:b=!1,variant:w="elevation",...T}=i,P={...i,component:p,elevation:a,square:b,variant:w},I=eV(P);return Q.jsx(tV,{as:p,ownerState:P,className:wt(I.root,h),ref:n,...T,style:{...w==="elevation"&&{"--Paper-shadow":(l.vars||l).shadows[a],...l.vars&&{"--Paper-overlay":(D=l.vars.overlays)==null?void 0:D[a]},...!l.vars&&l.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vn("#fff",O1(a))}, ${Vn("#fff",O1(a))})`}},...T.style}})}),qi=nV;function An(e,t){const{className:n,elementType:i,ownerState:l,externalForwardedProps:h,internalForwardedProps:p,shouldForwardComponentProp:a=!1,...b}=t,{component:w,slots:T={[e]:void 0},slotProps:P={[e]:void 0},...I}=h,D=T[e]||i,O=CR(P[e],l),{props:{component:j,...q},internalRef:L}=SR({className:n,...b,externalForwardedProps:e==="root"?I:void 0,externalSlotProps:O}),V=ti(L,O==null?void 0:O.ref,t.ref),N=e==="root"?j||w:j,K=wR(D,{...e==="root"&&!w&&!T[e]&&p,...e!=="root"&&!T[e]&&p,...q,...N&&!a&&{as:N},...N&&a&&{component:N},ref:V},l);return[D,K]}class Zy{constructor(){rp(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Zy}static use(){const t=xR(Zy.create).current,[n,i]=U.useState(!1);return t.shouldMount=n,t.setShouldMount=i,U.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=iV(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function rV(){return Zy.use()}function iV(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});return n.resolve=e,n.reject=t,n}function oV(e){const{className:t,classes:n,pulsate:i=!1,rippleX:l,rippleY:h,rippleSize:p,in:a,onExited:b,timeout:w}=e,[T,P]=U.useState(!1),I=wt(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),D={width:p,height:p,top:-(p/2)+h,left:-(p/2)+l},O=wt(n.child,T&&n.childLeaving,i&&n.childPulsate);return!a&&!T&&P(!0),U.useEffect(()=>{if(!a&&b!=null){const j=setTimeout(b,w);return()=>{clearTimeout(j)}}},[b,a,w]),Q.jsx("span",{className:I,style:D,children:Q.jsx("span",{className:O})})}const sV=Ht("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),os=sV,j1=550,aV=80,lV=Wf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,cV=Wf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,uV=Wf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,hV=et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dV=et(oV,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${os.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${lV};
    animation-duration: ${j1}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${os.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${os.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${os.childLeaving} {
    opacity: 0;
    animation-name: ${cV};
    animation-duration: ${j1}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${os.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${uV};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,pV=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTouchRipple"}),{center:l=!1,classes:h={},className:p,...a}=i,[b,w]=U.useState([]),T=U.useRef(0),P=U.useRef(null);U.useEffect(()=>{P.current&&(P.current(),P.current=null)},[b]);const I=U.useRef(!1),D=nv(),O=U.useRef(null),j=U.useRef(null),q=U.useCallback(K=>{const{pulsate:ee,rippleX:ue,rippleY:ge,rippleSize:he,cb:Pe}=K;w(G=>[...G,Q.jsx(dV,{classes:{ripple:wt(h.ripple,os.ripple),rippleVisible:wt(h.rippleVisible,os.rippleVisible),ripplePulsate:wt(h.ripplePulsate,os.ripplePulsate),child:wt(h.child,os.child),childLeaving:wt(h.childLeaving,os.childLeaving),childPulsate:wt(h.childPulsate,os.childPulsate)},timeout:j1,pulsate:ee,rippleX:ue,rippleY:ge,rippleSize:he},T.current)]),T.current+=1,P.current=Pe},[h]),L=U.useCallback((K={},ee={},ue=()=>{})=>{const{pulsate:ge=!1,center:he=l||ee.pulsate,fakeElement:Pe=!1}=ee;if((K==null?void 0:K.type)==="mousedown"&&I.current){I.current=!1;return}(K==null?void 0:K.type)==="touchstart"&&(I.current=!0);const G=Pe?null:j.current,Te=G?G.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Le,Be,Ne;if(he||K===void 0||K.clientX===0&&K.clientY===0||!K.clientX&&!K.touches)Le=Math.round(Te.width/2),Be=Math.round(Te.height/2);else{const{clientX:ze,clientY:Ve}=K.touches&&K.touches.length>0?K.touches[0]:K;Le=Math.round(ze-Te.left),Be=Math.round(Ve-Te.top)}if(he)Ne=Math.sqrt((2*Te.width**2+Te.height**2)/3),Ne%2===0&&(Ne+=1);else{const ze=Math.max(Math.abs((G?G.clientWidth:0)-Le),Le)*2+2,Ve=Math.max(Math.abs((G?G.clientHeight:0)-Be),Be)*2+2;Ne=Math.sqrt(ze**2+Ve**2)}K!=null&&K.touches?O.current===null&&(O.current=()=>{q({pulsate:ge,rippleX:Le,rippleY:Be,rippleSize:Ne,cb:ue})},D.start(aV,()=>{O.current&&(O.current(),O.current=null)})):q({pulsate:ge,rippleX:Le,rippleY:Be,rippleSize:Ne,cb:ue})},[l,q,D]),V=U.useCallback(()=>{L({},{pulsate:!0})},[L]),N=U.useCallback((K,ee)=>{if(D.clear(),(K==null?void 0:K.type)==="touchend"&&O.current){O.current(),O.current=null,D.start(0,()=>{N(K,ee)});return}O.current=null,w(ue=>ue.length>0?ue.slice(1):ue),P.current=ee},[D]);return U.useImperativeHandle(n,()=>({pulsate:V,start:L,stop:N}),[V,L,N]),Q.jsx(hV,{className:wt(os.root,h.root,p),ref:j,...a,children:Q.jsx(qj,{component:null,exit:!0,children:b})})}),fV=pV;function mV(e){return Xt("MuiButtonBase",e)}const gV=Ht("MuiButtonBase",["root","disabled","focusVisible"]),yV=gV,vV=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:l}=e,p=Yt({root:["root",t&&"disabled",n&&"focusVisible"]},mV,l);return n&&i&&(p.root+=` ${i}`),p},_V=et("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),xV=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiButtonBase"}),{action:l,centerRipple:h=!1,children:p,className:a,component:b="button",disabled:w=!1,disableRipple:T=!1,disableTouchRipple:P=!1,focusRipple:I=!1,focusVisibleClassName:D,LinkComponent:O="a",onBlur:j,onClick:q,onContextMenu:L,onDragLeave:V,onFocus:N,onFocusVisible:K,onKeyDown:ee,onKeyUp:ue,onMouseDown:ge,onMouseLeave:he,onMouseUp:Pe,onTouchEnd:G,onTouchMove:Te,onTouchStart:Le,tabIndex:Be=0,TouchRippleProps:Ne,touchRippleRef:ze,type:Ve,...qe}=i,De=U.useRef(null),Ae=rV(),tt=ti(Ae.ref,ze),[ft,ht]=U.useState(!1);w&&ft&&ht(!1),U.useImperativeHandle(l,()=>({focusVisible:()=>{ht(!0),De.current.focus()}}),[]);const ut=Ae.shouldMount&&!T&&!w;U.useEffect(()=>{ft&&I&&!T&&Ae.pulsate()},[T,I,ft,Ae]);const Dt=za(Ae,"start",ge,P),qt=za(Ae,"stop",L,P),xt=za(Ae,"stop",V,P),Ot=za(Ae,"stop",Pe,P),nn=za(Ae,"stop",gt=>{ft&&gt.preventDefault(),he&&he(gt)},P),Vt=za(Ae,"start",Le,P),mt=za(Ae,"stop",G,P),Zt=za(Ae,"stop",Te,P),Gt=za(Ae,"stop",gt=>{gE(gt.target)||ht(!1),j&&j(gt)},!1),Ut=pa(gt=>{De.current||(De.current=gt.currentTarget),gE(gt.target)&&(ht(!0),K&&K(gt)),N&&N(gt)}),At=()=>{const gt=De.current;return b&&b!=="button"&&!(gt.tagName==="A"&&gt.href)},en=pa(gt=>{I&&!gt.repeat&&ft&&gt.key===" "&&Ae.stop(gt,()=>{Ae.start(gt)}),gt.target===gt.currentTarget&&At()&&gt.key===" "&&gt.preventDefault(),ee&&ee(gt),gt.target===gt.currentTarget&&At()&&gt.key==="Enter"&&!w&&(gt.preventDefault(),q&&q(gt))}),sr=pa(gt=>{I&&gt.key===" "&&ft&&!gt.defaultPrevented&&Ae.stop(gt,()=>{Ae.pulsate(gt)}),ue&&ue(gt),q&&gt.target===gt.currentTarget&&At()&&gt.key===" "&&!gt.defaultPrevented&&q(gt)});let Fn=b;Fn==="button"&&(qe.href||qe.to)&&(Fn=O);const En={};Fn==="button"?(En.type=Ve===void 0?"button":Ve,En.disabled=w):(!qe.href&&!qe.to&&(En.role="button"),w&&(En["aria-disabled"]=w));const Mn=ti(n,De),Me={...i,centerRipple:h,component:b,disabled:w,disableRipple:T,disableTouchRipple:P,focusRipple:I,tabIndex:Be,focusVisible:ft},on=vV(Me);return Q.jsxs(_V,{as:Fn,className:wt(on.root,a),ownerState:Me,onBlur:Gt,onClick:q,onContextMenu:qt,onFocus:Ut,onKeyDown:en,onKeyUp:sr,onMouseDown:Dt,onMouseLeave:nn,onMouseUp:Ot,onDragLeave:xt,onTouchEnd:mt,onTouchMove:Zt,onTouchStart:Vt,ref:Mn,tabIndex:w?-1:Be,type:Ve,...En,...qe,children:[p,ut?Q.jsx(fV,{ref:tt,center:h,...Ne}):null]})});function za(e,t,n,i=!1){return pa(l=>(n&&n(l),i||e[t](l),!0))}const xf=xV;function bV(e){return typeof e.main=="string"}function wV(e,t=[]){if(!bV(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Ei(e=[]){return([,t])=>t&&wV(t,e)}function SV(e){return Xt("MuiAlert",e)}const CV=Ht("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),LE=CV;function TV(e){return Xt("MuiCircularProgress",e)}Ht("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xl=44,V1=Wf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,U1=Wf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,EV=typeof V1!="string"?Bw`
        animation: ${V1} 1.4s linear infinite;
      `:null,PV=typeof U1!="string"?Bw`
        animation: ${U1} 1.4s ease-in-out infinite;
      `:null,kV=e=>{const{classes:t,variant:n,color:i,disableShrink:l}=e,h={root:["root",n,`color${Qe(i)}`],svg:["svg"],circle:["circle",`circle${Qe(n)}`,l&&"circleDisableShrink"]};return Yt(h,TV,t)},AV=et("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Qe(n.color)}`]]}})(yn(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:EV||{animation:`${V1} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Ei()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),IV=et("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),MV=et("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Qe(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(yn(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:PV||{animation:`${U1} 1.4s ease-in-out infinite`}}]}))),RV=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiCircularProgress"}),{className:l,color:h="primary",disableShrink:p=!1,size:a=40,style:b,thickness:w=3.6,value:T=0,variant:P="indeterminate",...I}=i,D={...i,color:h,disableShrink:p,size:a,thickness:w,value:T,variant:P},O=kV(D),j={},q={},L={};if(P==="determinate"){const V=2*Math.PI*((xl-w)/2);j.strokeDasharray=V.toFixed(3),L["aria-valuenow"]=Math.round(T),j.strokeDashoffset=`${((100-T)/100*V).toFixed(3)}px`,q.transform="rotate(-90deg)"}return Q.jsx(AV,{className:wt(O.root,l),style:{width:a,height:a,...q,...b},ownerState:D,ref:n,role:"progressbar",...L,...I,children:Q.jsx(IV,{className:O.svg,ownerState:D,viewBox:`${xl/2} ${xl/2} ${xl} ${xl}`,children:Q.jsx(MV,{className:O.circle,style:j,ownerState:D,cx:xl,cy:xl,r:(xl-w)/2,fill:"none",strokeWidth:w})})})}),VR=RV;function LV(e){return Xt("MuiIconButton",e)}const DV=Ht("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),DE=DV,zV=e=>{const{classes:t,disabled:n,color:i,edge:l,size:h,loading:p}=e,a={root:["root",p&&"loading",n&&"disabled",i!=="default"&&`color${Qe(i)}`,l&&`edge${Qe(l)}`,`size${Qe(h)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Yt(a,LV,t)},BV=et(xf,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Qe(n.color)}`],n.edge&&t[`edge${Qe(n.edge)}`],t[`size${Qe(n.size)}`]]}})(yn(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),yn(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Ei()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Ei()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${DE.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${DE.loading}`]:{color:"transparent"}}))),OV=et("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),FV=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiIconButton"}),{edge:l=!1,children:h,className:p,color:a="default",disabled:b=!1,disableFocusRipple:w=!1,size:T="medium",id:P,loading:I=null,loadingIndicator:D,...O}=i,j=Xf(P),q=D??Q.jsx(VR,{"aria-labelledby":j,color:"inherit",size:16}),L={...i,edge:l,color:a,disabled:b,disableFocusRipple:w,loading:I,loadingIndicator:q,size:T},V=zV(L);return Q.jsxs(BV,{id:I?j:P,className:wt(V.root,p),centerRipple:!0,focusRipple:!w,disabled:b||I,ref:n,...O,ownerState:L,children:[typeof I=="boolean"&&Q.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:Q.jsx(OV,{className:V.loadingIndicator,ownerState:L,children:I&&q})}),h]})}),NV=FV,$V=vs(Q.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),jV=vs(Q.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),VV=vs(Q.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),UV=vs(Q.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),WV=vs(Q.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),GV=e=>{const{variant:t,color:n,severity:i,classes:l}=e,h={root:["root",`color${Qe(n||i)}`,`${t}${Qe(n||i)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Yt(h,SV,l)},HV=et(qi,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Qe(n.color||n.severity)}`]]}})(yn(({theme:e})=>{const t=e.palette.mode==="light"?Rh:Lh,n=e.palette.mode==="light"?Lh:Rh;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(Ei(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${i}Color`]:t(e.palette[i].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${i}StandardBg`]:n(e.palette[i].light,.9),[`& .${LE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}}})),...Object.entries(e.palette).filter(Ei(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${i}Color`]:t(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${LE.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}}})),...Object.entries(e.palette).filter(Ei(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${i}FilledColor`],backgroundColor:e.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[i].dark:e.palette[i].main,color:e.palette.getContrastText(e.palette[i].main)}}}))]}})),qV=et("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ZV=et("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),KV=et("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),zE={success:Q.jsx($V,{fontSize:"inherit"}),warning:Q.jsx(jV,{fontSize:"inherit"}),error:Q.jsx(VV,{fontSize:"inherit"}),info:Q.jsx(UV,{fontSize:"inherit"})},XV=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiAlert"}),{action:l,children:h,className:p,closeText:a="Close",color:b,components:w={},componentsProps:T={},icon:P,iconMapping:I=zE,onClose:D,role:O="alert",severity:j="success",slotProps:q={},slots:L={},variant:V="standard",...N}=i,K={...i,color:b,severity:j,variant:V,colorSeverity:b||j},ee=GV(K),ue={slots:{closeButton:w.CloseButton,closeIcon:w.CloseIcon,...L},slotProps:{...T,...q}},[ge,he]=An("root",{ref:n,shouldForwardComponentProp:!0,className:wt(ee.root,p),elementType:HV,externalForwardedProps:{...ue,...N},ownerState:K,additionalProps:{role:O,elevation:0}}),[Pe,G]=An("icon",{className:ee.icon,elementType:qV,externalForwardedProps:ue,ownerState:K}),[Te,Le]=An("message",{className:ee.message,elementType:ZV,externalForwardedProps:ue,ownerState:K}),[Be,Ne]=An("action",{className:ee.action,elementType:KV,externalForwardedProps:ue,ownerState:K}),[ze,Ve]=An("closeButton",{elementType:NV,externalForwardedProps:ue,ownerState:K}),[qe,De]=An("closeIcon",{elementType:WV,externalForwardedProps:ue,ownerState:K});return Q.jsxs(ge,{...he,children:[P!==!1?Q.jsx(Pe,{...G,children:P||I[j]||zE[j]}):null,Q.jsx(Te,{...Le,children:h}),l!=null?Q.jsx(Be,{...Ne,children:l}):null,l==null&&D?Q.jsx(Be,{...Ne,children:Q.jsx(ze,{size:"small","aria-label":a,title:a,color:"inherit",onClick:D,...Ve,children:Q.jsx(qe,{fontSize:"small",...De})})}):null]})}),bf=XV;function YV(e){return Xt("MuiTypography",e)}const JV=Ht("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),BE=JV,QV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},e8=Lj(),t8=e=>{const{align:t,gutterBottom:n,noWrap:i,paragraph:l,variant:h,classes:p}=e,a={root:["root",h,e.align!=="inherit"&&`align${Qe(t)}`,n&&"gutterBottom",i&&"noWrap",l&&"paragraph"]};return Yt(a,YV,p)},n8=et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Qe(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(yn(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,i])=>n!=="inherit"&&i&&typeof i=="object").map(([n,i])=>({props:{variant:n},style:i})),...Object.entries(e.palette).filter(Ei()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Qe(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),OE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},r8=U.forwardRef(function(t,n){const{color:i,...l}=Jt({props:t,name:"MuiTypography"}),h=!QV[i],p=e8({...l,...h&&{color:i}}),{align:a="inherit",className:b,component:w,gutterBottom:T=!1,noWrap:P=!1,paragraph:I=!1,variant:D="body1",variantMapping:O=OE,...j}=p,q={...p,align:a,color:i,className:b,component:w,gutterBottom:T,noWrap:P,paragraph:I,variant:D,variantMapping:O},L=w||(I?"p":O[D]||OE[D])||"span",V=t8(q);return Q.jsx(n8,{as:L,ref:n,className:wt(V.root,b),...j,ownerState:q,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...j.style}})}),Ui=r8;function i8(e){return Xt("MuiAppBar",e)}Ht("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const o8=e=>{const{color:t,position:n,classes:i}=e,l={root:["root",`color${Qe(t)}`,`position${Qe(n)}`]};return Yt(l,i8,i)},FE=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,s8=et(qi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Qe(n.position)}`],t[`color${Qe(n.color)}`]]}})(yn(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ei(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?FE(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?FE(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),a8=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiAppBar"}),{className:l,color:h="primary",enableColorOnDark:p=!1,position:a="fixed",...b}=i,w={...i,color:h,position:a,enableColorOnDark:p},T=o8(w);return Q.jsx(s8,{square:!0,component:"header",ownerState:w,elevation:4,className:wt(T.root,l,a==="fixed"&&"mui-fixed"),ref:n,...b})}),UR=a8;function l8(e){return typeof e=="function"?e():e}const c8=U.forwardRef(function(t,n){const{children:i,container:l,disablePortal:h=!1}=t,[p,a]=U.useState(null),b=ti(U.isValidElement(i)?Vh(i):null,n);if(Za(()=>{h||a(l8(l)||document.body)},[l,h]),Za(()=>{if(p&&!h)return hE(n,p),()=>{hE(n,null)}},[n,p,h]),h){if(U.isValidElement(i)){const w={ref:b};return U.cloneElement(i,w)}return i}return p&&ww.createPortal(i,p)}),u8=c8,h8=vs(Q.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function d8(e){return Xt("MuiChip",e)}const p8=Ht("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_n=p8,f8=e=>{const{classes:t,disabled:n,size:i,color:l,iconColor:h,onDelete:p,clickable:a,variant:b}=e,w={root:["root",b,n&&"disabled",`size${Qe(i)}`,`color${Qe(l)}`,a&&"clickable",a&&`clickableColor${Qe(l)}`,p&&"deletable",p&&`deletableColor${Qe(l)}`,`${b}${Qe(l)}`],label:["label",`label${Qe(i)}`],avatar:["avatar",`avatar${Qe(i)}`,`avatarColor${Qe(l)}`],icon:["icon",`icon${Qe(i)}`,`iconColor${Qe(h)}`],deleteIcon:["deleteIcon",`deleteIcon${Qe(i)}`,`deleteIconColor${Qe(l)}`,`deleteIcon${Qe(b)}Color${Qe(l)}`]};return Yt(w,d8,t)},m8=et("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:i,iconColor:l,clickable:h,onDelete:p,size:a,variant:b}=n;return[{[`& .${_n.avatar}`]:t.avatar},{[`& .${_n.avatar}`]:t[`avatar${Qe(a)}`]},{[`& .${_n.avatar}`]:t[`avatarColor${Qe(i)}`]},{[`& .${_n.icon}`]:t.icon},{[`& .${_n.icon}`]:t[`icon${Qe(a)}`]},{[`& .${_n.icon}`]:t[`iconColor${Qe(l)}`]},{[`& .${_n.deleteIcon}`]:t.deleteIcon},{[`& .${_n.deleteIcon}`]:t[`deleteIcon${Qe(a)}`]},{[`& .${_n.deleteIcon}`]:t[`deleteIconColor${Qe(i)}`]},{[`& .${_n.deleteIcon}`]:t[`deleteIcon${Qe(b)}Color${Qe(i)}`]},t.root,t[`size${Qe(a)}`],t[`color${Qe(i)}`],h&&t.clickable,h&&i!=="default"&&t[`clickableColor${Qe(i)})`],p&&t.deletable,p&&i!=="default"&&t[`deletableColor${Qe(i)}`],t[b],t[`${b}${Qe(i)}`]]}})(yn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${_n.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${_n.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${_n.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${_n.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${_n.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${_n.icon}`]:{marginLeft:5,marginRight:-6},[`& .${_n.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Vn(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Vn(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${_n.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${_n.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Ei(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${_n.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].contrastTextChannel} / 0.7)`:Vn(e.palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${_n.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${_n.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${_n.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Vn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(Ei(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${_n.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Vn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${_n.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Vn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Ei(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${_n.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${_n.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${_n.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${_n.avatar}`]:{marginLeft:4},[`& .${_n.avatarSmall}`]:{marginLeft:2},[`& .${_n.icon}`]:{marginLeft:4},[`& .${_n.iconSmall}`]:{marginLeft:2},[`& .${_n.deleteIcon}`]:{marginRight:5},[`& .${_n.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Ei()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Vn(e.palette[n].main,.7)}`,[`&.${_n.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette[n].main,e.palette.action.hoverOpacity)},[`&.${_n.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Vn(e.palette[n].main,e.palette.action.focusOpacity)},[`& .${_n.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.7)`:Vn(e.palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),g8=et("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${Qe(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function NE(e){return e.key==="Backspace"||e.key==="Delete"}const y8=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiChip"}),{avatar:l,className:h,clickable:p,color:a="default",component:b,deleteIcon:w,disabled:T=!1,icon:P,label:I,onClick:D,onDelete:O,onKeyDown:j,onKeyUp:q,size:L="medium",variant:V="filled",tabIndex:N,skipFocusWhenDisabled:K=!1,...ee}=i,ue=U.useRef(null),ge=ti(ue,n),he=Ae=>{Ae.stopPropagation(),O&&O(Ae)},Pe=Ae=>{Ae.currentTarget===Ae.target&&NE(Ae)&&Ae.preventDefault(),j&&j(Ae)},G=Ae=>{Ae.currentTarget===Ae.target&&O&&NE(Ae)&&O(Ae),q&&q(Ae)},Te=p!==!1&&D?!0:p,Le=Te||O?xf:b||"div",Be={...i,component:Le,disabled:T,size:L,color:a,iconColor:U.isValidElement(P)&&P.props.color||a,onDelete:!!O,clickable:Te,variant:V},Ne=f8(Be),ze=Le===xf?{component:b||"div",focusVisibleClassName:Ne.focusVisible,...O&&{disableRipple:!0}}:{};let Ve=null;O&&(Ve=w&&U.isValidElement(w)?U.cloneElement(w,{className:wt(w.props.className,Ne.deleteIcon),onClick:he}):Q.jsx(h8,{className:wt(Ne.deleteIcon),onClick:he}));let qe=null;l&&U.isValidElement(l)&&(qe=U.cloneElement(l,{className:wt(Ne.avatar,l.props.className)}));let De=null;return P&&U.isValidElement(P)&&(De=U.cloneElement(P,{className:wt(Ne.icon,P.props.className)})),Q.jsxs(m8,{as:Le,className:wt(Ne.root,h),disabled:Te&&T?!0:void 0,onClick:D,onKeyDown:Pe,onKeyUp:G,ref:ge,tabIndex:K&&T?-1:N,ownerState:Be,...ze,...ee,children:[qe||De,Q.jsx(g8,{className:wt(Ne.label),ownerState:Be,children:I}),Ve]})}),v8=y8;function Mg(e){return parseInt(e,10)||0}const _8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function x8(e){for(const t in e)return!1;return!0}function $E(e){return x8(e)||e.outerHeightStyle===0&&!e.overflowing}const b8=U.forwardRef(function(t,n){const{onChange:i,maxRows:l,minRows:h=1,style:p,value:a,...b}=t,{current:w}=U.useRef(a!=null),T=U.useRef(null),P=ti(n,T),I=U.useRef(null),D=U.useRef(null),O=U.useCallback(()=>{const N=T.current,K=D.current;if(!N||!K)return;const ue=Ka(N).getComputedStyle(N);if(ue.width==="0px")return{outerHeightStyle:0,overflowing:!1};K.style.width=ue.width,K.value=N.value||t.placeholder||"x",K.value.slice(-1)===`
`&&(K.value+=" ");const ge=ue.boxSizing,he=Mg(ue.paddingBottom)+Mg(ue.paddingTop),Pe=Mg(ue.borderBottomWidth)+Mg(ue.borderTopWidth),G=K.scrollHeight;K.value="x";const Te=K.scrollHeight;let Le=G;h&&(Le=Math.max(Number(h)*Te,Le)),l&&(Le=Math.min(Number(l)*Te,Le)),Le=Math.max(Le,Te);const Be=Le+(ge==="border-box"?he+Pe:0),Ne=Math.abs(Le-G)<=1;return{outerHeightStyle:Be,overflowing:Ne}},[l,h,t.placeholder]),j=pa(()=>{const N=T.current,K=O();if(!N||!K||$E(K))return!1;const ee=K.outerHeightStyle;return I.current!=null&&I.current!==ee}),q=U.useCallback(()=>{const N=T.current,K=O();if(!N||!K||$E(K))return;const ee=K.outerHeightStyle;I.current!==ee&&(I.current=ee,N.style.height=`${ee}px`),N.style.overflow=K.overflowing?"hidden":""},[O]),L=U.useRef(-1);Za(()=>{const N=_R(q),K=T==null?void 0:T.current;if(!K)return;const ee=Ka(K);ee.addEventListener("resize",N);let ue;return typeof ResizeObserver<"u"&&(ue=new ResizeObserver(()=>{j()&&(ue.unobserve(K),cancelAnimationFrame(L.current),q(),L.current=requestAnimationFrame(()=>{ue.observe(K)}))}),ue.observe(K)),()=>{N.clear(),cancelAnimationFrame(L.current),ee.removeEventListener("resize",N),ue&&ue.disconnect()}},[O,q,j]),Za(()=>{q()});const V=N=>{w||q(),i&&i(N)};return Q.jsxs(U.Fragment,{children:[Q.jsx("textarea",{value:a,onChange:V,ref:P,rows:h,style:p,...b}),Q.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:D,tabIndex:-1,style:{..._8.shadow,...p,paddingTop:0,paddingBottom:0}})]})}),w8=b8;function wf(e){return typeof e=="string"}function Wh({props:e,states:t,muiFormControl:n}){return t.reduce((i,l)=>(i[l]=e[l],n&&typeof e[l]>"u"&&(i[l]=n[l]),i),{})}const S8=U.createContext(void 0),tS=S8;function Gh(){return U.useContext(tS)}function jE(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Ky(e,t=!1){return e&&(jE(e.value)&&e.value!==""||t&&jE(e.defaultValue)&&e.defaultValue!=="")}function C8(e){return e.startAdornment}function T8(e){return Xt("MuiInputBase",e)}const E8=Ht("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),zh=E8;var VE;const ov=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Qe(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},sv=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},P8=e=>{const{classes:t,color:n,disabled:i,error:l,endAdornment:h,focused:p,formControl:a,fullWidth:b,hiddenLabel:w,multiline:T,readOnly:P,size:I,startAdornment:D,type:O}=e,j={root:["root",`color${Qe(n)}`,i&&"disabled",l&&"error",b&&"fullWidth",p&&"focused",a&&"formControl",I&&I!=="medium"&&`size${Qe(I)}`,T&&"multiline",D&&"adornedStart",h&&"adornedEnd",w&&"hiddenLabel",P&&"readOnly"],input:["input",i&&"disabled",O==="search"&&"inputTypeSearch",T&&"inputMultiline",I==="small"&&"inputSizeSmall",w&&"inputHiddenLabel",D&&"inputAdornedStart",h&&"inputAdornedEnd",P&&"readOnly"]};return Yt(j,T8,t)},av=et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ov})(yn(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zh.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),lv=et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:sv})(yn(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},l=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zh.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${zh.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:h})=>!h.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:h})=>h.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),UE=Yw({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),k8=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:h,autoFocus:p,className:a,color:b,components:w={},componentsProps:T={},defaultValue:P,disabled:I,disableInjectingGlobalStyles:D,endAdornment:O,error:j,fullWidth:q=!1,id:L,inputComponent:V="input",inputProps:N={},inputRef:K,margin:ee,maxRows:ue,minRows:ge,multiline:he=!1,name:Pe,onBlur:G,onChange:Te,onClick:Le,onFocus:Be,onKeyDown:Ne,onKeyUp:ze,placeholder:Ve,readOnly:qe,renderSuffix:De,rows:Ae,size:tt,slotProps:ft={},slots:ht={},startAdornment:ut,type:Dt="text",value:qt,...xt}=i,Ot=N.value!=null?N.value:qt,{current:nn}=U.useRef(Ot!=null),Vt=U.useRef(),mt=U.useCallback(zt=>{},[]),Zt=ti(Vt,K,N.ref,mt),[Gt,Ut]=U.useState(!1),At=Gh(),en=Wh({props:i,muiFormControl:At,states:["color","disabled","error","hiddenLabel","size","required","filled"]});en.focused=At?At.focused:Gt,U.useEffect(()=>{!At&&I&&Gt&&(Ut(!1),G&&G())},[At,I,Gt,G]);const sr=At&&At.onFilled,Fn=At&&At.onEmpty,En=U.useCallback(zt=>{Ky(zt)?sr&&sr():Fn&&Fn()},[sr,Fn]);Za(()=>{nn&&En({value:Ot})},[Ot,En,nn]);const Mn=zt=>{Be&&Be(zt),N.onFocus&&N.onFocus(zt),At&&At.onFocus?At.onFocus(zt):Ut(!0)},Me=zt=>{G&&G(zt),N.onBlur&&N.onBlur(zt),At&&At.onBlur?At.onBlur(zt):Ut(!1)},on=(zt,...Ke)=>{if(!nn){const Nn=zt.target||Vt.current;if(Nn==null)throw new Error(Ha(1));En({value:Nn.value})}N.onChange&&N.onChange(zt,...Ke),Te&&Te(zt,...Ke)};U.useEffect(()=>{En(Vt.current)},[]);const gt=zt=>{Vt.current&&zt.currentTarget===zt.target&&Vt.current.focus(),Le&&Le(zt)};let un=V,Lt=N;he&&un==="input"&&(Ae?Lt={type:void 0,minRows:Ae,maxRows:Ae,...Lt}:Lt={type:void 0,maxRows:ue,minRows:ge,...Lt},un=w8);const Cr=zt=>{En(zt.animationName==="mui-auto-fill-cancel"?Vt.current:{value:"x"})};U.useEffect(()=>{At&&At.setAdornedStart(!!ut)},[At,ut]);const di={...i,color:en.color||"primary",disabled:en.disabled,endAdornment:O,error:en.error,focused:en.focused,formControl:At,fullWidth:q,hiddenLabel:en.hiddenLabel,multiline:he,size:en.size,startAdornment:ut,type:Dt},Ur=P8(di),Ai=ht.root||w.Root||av,ni=ft.root||T.root||{},Pn=ht.input||w.Input||lv;return Lt={...Lt,...ft.input??T.input},Q.jsxs(U.Fragment,{children:[!D&&typeof UE=="function"&&(VE||(VE=Q.jsx(UE,{}))),Q.jsxs(Ai,{...ni,ref:n,onClick:gt,...xt,...!wf(Ai)&&{ownerState:{...di,...ni.ownerState}},className:wt(Ur.root,ni.className,a,qe&&"MuiInputBase-readOnly"),children:[ut,Q.jsx(tS.Provider,{value:null,children:Q.jsx(Pn,{"aria-invalid":en.error,"aria-describedby":l,autoComplete:h,autoFocus:p,defaultValue:P,disabled:en.disabled,id:L,onAnimationStart:Cr,name:Pe,placeholder:Ve,readOnly:qe,required:en.required,rows:Ae,value:Ot,onKeyDown:Ne,onKeyUp:ze,type:Dt,...Lt,...!wf(Pn)&&{as:un,ownerState:{...di,...Lt.ownerState}},ref:Zt,className:wt(Ur.input,Lt.className,qe&&"MuiInputBase-readOnly"),onBlur:Me,onChange:on,onFocus:Mn})}),O,De?De({...en,startAdornment:ut}):null]})]})}),nS=k8;function A8(e){return Xt("MuiInput",e)}const I8={...zh,...Ht("MuiInput",["root","underline","input"])},fp=I8;function M8(e){return Xt("MuiOutlinedInput",e)}const R8={...zh,...Ht("MuiOutlinedInput",["root","notchedOutline","input"])},Qs=R8;function L8(e){return Xt("MuiFilledInput",e)}const D8={...zh,...Ht("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},yc=D8,z8=vs(Q.jsx("path",{d:"M7 10l5 5 5-5z"})),B8={entering:{opacity:1},entered:{opacity:1}},O8=U.forwardRef(function(t,n){const i=Kc(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:h,appear:p=!0,children:a,easing:b,in:w,onEnter:T,onEntered:P,onEntering:I,onExit:D,onExited:O,onExiting:j,style:q,timeout:L=l,TransitionComponent:V=Jw,...N}=t,K=U.useRef(null),ee=ti(K,Vh(a),n),ue=Ne=>ze=>{if(Ne){const Ve=K.current;ze===void 0?Ne(Ve):Ne(Ve,ze)}},ge=ue(I),he=ue((Ne,ze)=>{jR(Ne);const Ve=Dh({style:q,timeout:L,easing:b},{mode:"enter"});Ne.style.webkitTransition=i.transitions.create("opacity",Ve),Ne.style.transition=i.transitions.create("opacity",Ve),T&&T(Ne,ze)}),Pe=ue(P),G=ue(j),Te=ue(Ne=>{const ze=Dh({style:q,timeout:L,easing:b},{mode:"exit"});Ne.style.webkitTransition=i.transitions.create("opacity",ze),Ne.style.transition=i.transitions.create("opacity",ze),D&&D(Ne)}),Le=ue(O),Be=Ne=>{h&&h(K.current,Ne)};return Q.jsx(V,{appear:p,in:w,nodeRef:K,onEnter:he,onEntered:Pe,onEntering:ge,onExit:Te,onExited:Le,onExiting:G,addEndListener:Be,timeout:L,...N,children:(Ne,{ownerState:ze,...Ve})=>U.cloneElement(a,{style:{opacity:0,visibility:Ne==="exited"&&!w?"hidden":void 0,...B8[Ne],...q,...a.props.style},ref:ee,...Ve})})}),W1=O8;function F8(e){return Xt("MuiBackdrop",e)}Ht("MuiBackdrop",["root","invisible"]);const N8=e=>{const{classes:t,invisible:n}=e;return Yt({root:["root",n&&"invisible"]},F8,t)},$8=et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),j8=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiBackdrop"}),{children:l,className:h,component:p="div",invisible:a=!1,open:b,components:w={},componentsProps:T={},slotProps:P={},slots:I={},TransitionComponent:D,transitionDuration:O,...j}=i,q={...i,component:p,invisible:a},L=N8(q),V={transition:D,root:w.Root,...I},N={...T,...P},K={slots:V,slotProps:N},[ee,ue]=An("root",{elementType:$8,externalForwardedProps:K,className:wt(L.root,h),ownerState:q}),[ge,he]=An("transition",{elementType:W1,externalForwardedProps:K,ownerState:q});return Q.jsx(ge,{in:b,timeout:O,...j,...he,children:Q.jsx(ee,{"aria-hidden":!0,...ue,classes:L,ref:n,children:l})})}),WR=j8,V8=Ht("MuiBox",["root"]),U8=V8,W8=iv(),G8=E$({themeId:ha,defaultTheme:W8,defaultClassName:U8.root,generateClassName:uR.generate}),Ci=G8;function H8(e){return Xt("MuiButton",e)}const q8=Ht("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),vc=q8,Z8=U.createContext({}),K8=Z8,X8=U.createContext(void 0),Y8=X8,J8=e=>{const{color:t,disableElevation:n,fullWidth:i,size:l,variant:h,loading:p,loadingPosition:a,classes:b}=e,w={root:["root",p&&"loading",h,`${h}${Qe(t)}`,`size${Qe(l)}`,`${h}Size${Qe(l)}`,`color${Qe(t)}`,n&&"disableElevation",i&&"fullWidth",p&&`loadingPosition${Qe(a)}`],startIcon:["icon","startIcon",`iconSize${Qe(l)}`],endIcon:["icon","endIcon",`iconSize${Qe(l)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},T=Yt(w,H8,b);return{...b,...T}},GR=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Q8=et(xf,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Qe(n.color)}`],t[`size${Qe(n.size)}`],t[`${n.variant}Size${Qe(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(yn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${vc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${vc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Ei()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(e.vars||e).palette[i].main,"--variant-outlinedColor":(e.vars||e).palette[i].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[i].mainChannel} / 0.5)`:Vn(e.palette[i].main,.5),"--variant-containedColor":(e.vars||e).palette[i].contrastText,"--variant-containedBg":(e.vars||e).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[i].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette[i].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[i].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[i].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette[i].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Vn(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${vc.loading}`]:{color:"transparent"}}}]}})),eU=et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Qe(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...GR]})),tU=et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Qe(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...GR]})),nU=et("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),WE=et("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),rU=U.forwardRef(function(t,n){const i=U.useContext(K8),l=U.useContext(Y8),h=vf(i,t),p=Jt({props:h,name:"MuiButton"}),{children:a,color:b="primary",component:w="button",className:T,disabled:P=!1,disableElevation:I=!1,disableFocusRipple:D=!1,endIcon:O,focusVisibleClassName:j,fullWidth:q=!1,id:L,loading:V=null,loadingIndicator:N,loadingPosition:K="center",size:ee="medium",startIcon:ue,type:ge,variant:he="text",...Pe}=p,G=Xf(L),Te=N??Q.jsx(VR,{"aria-labelledby":G,color:"inherit",size:16}),Le={...p,color:b,component:w,disabled:P,disableElevation:I,disableFocusRipple:D,fullWidth:q,loading:V,loadingIndicator:Te,loadingPosition:K,size:ee,type:ge,variant:he},Be=J8(Le),Ne=(ue||V&&K==="start")&&Q.jsx(eU,{className:Be.startIcon,ownerState:Le,children:ue||Q.jsx(WE,{className:Be.loadingIconPlaceholder,ownerState:Le})}),ze=(O||V&&K==="end")&&Q.jsx(tU,{className:Be.endIcon,ownerState:Le,children:O||Q.jsx(WE,{className:Be.loadingIconPlaceholder,ownerState:Le})}),Ve=l||"",qe=typeof V=="boolean"?Q.jsx("span",{className:Be.loadingWrapper,style:{display:"contents"},children:V&&Q.jsx(nU,{className:Be.loadingIndicator,ownerState:Le,children:Te})}):null;return Q.jsxs(Q8,{ownerState:Le,className:wt(i.className,Be.root,T,Ve),component:w,disabled:P||V,focusRipple:!D,focusVisibleClassName:wt(Be.focusVisible,j),ref:n,type:ge,id:V?G:L,...Pe,classes:Be,children:[Ne,K!=="end"&&qe,a,K==="end"&&qe,ze]})}),so=rU;function GE(e){return e.substring(2).toLowerCase()}function iU(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function oU(e){const{children:t,disableReactTree:n=!1,mouseEvent:i="onClick",onClickAway:l,touchEvent:h="onTouchEnd"}=e,p=U.useRef(!1),a=U.useRef(null),b=U.useRef(!1),w=U.useRef(!1);U.useEffect(()=>(setTimeout(()=>{b.current=!0},0),()=>{b.current=!1}),[]);const T=ti(Vh(t),a),P=pa(O=>{const j=w.current;w.current=!1;const q=To(a.current);if(!b.current||!a.current||"clientX"in O&&iU(O,q))return;if(p.current){p.current=!1;return}let L;O.composedPath?L=O.composedPath().includes(a.current):L=!q.documentElement.contains(O.target)||a.current.contains(O.target),!L&&(n||!j)&&l(O)}),I=O=>j=>{w.current=!0;const q=t.props[O];q&&q(j)},D={ref:T};return h!==!1&&(D[h]=I(h)),U.useEffect(()=>{if(h!==!1){const O=GE(h),j=To(a.current),q=()=>{p.current=!0};return j.addEventListener(O,P),j.addEventListener("touchmove",q),()=>{j.removeEventListener(O,P),j.removeEventListener("touchmove",q)}}},[P,h]),i!==!1&&(D[i]=I(i)),U.useEffect(()=>{if(i!==!1){const O=GE(i),j=To(a.current);return j.addEventListener(O,P),()=>{j.removeEventListener(O,P)}}},[P,i]),U.cloneElement(t,D)}const sU=S6({createStyledComponent:et("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Qe(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Jt({props:e,name:"MuiContainer"})}),HR=sU,G1=typeof Yw({})=="function",aU=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),lU=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),qR=(e,t=!1)=>{var h,p;const n={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([a,b])=>{var T,P;const w=e.getColorSchemeSelector(a);w.startsWith("@")?n[w]={":root":{colorScheme:(T=b.palette)==null?void 0:T.mode}}:n[w.replace(/\s*&/,"")]={colorScheme:(P=b.palette)==null?void 0:P.mode}});let i={html:aU(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...lU(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const l=(p=(h=e.components)==null?void 0:h.MuiCssBaseline)==null?void 0:p.styleOverrides;return l&&(i=[i,l]),i},iy="mui-ecs",cU=e=>{const t=qR(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${iy})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([i,l])=>{var p,a;const h=e.getColorSchemeSelector(i);h.startsWith("@")?n[h]={[`:root:not(:has(.${iy}))`]:{colorScheme:(p=l.palette)==null?void 0:p.mode}}:n[h.replace(/\s*&/,"")]={[`&:not(:has(.${iy}))`]:{colorScheme:(a=l.palette)==null?void 0:a.mode}}}),t},uU=Yw(G1?({theme:e,enableColorScheme:t})=>qR(e,t):({theme:e})=>cU(e));function hU(e){const t=Jt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=t;return Q.jsxs(U.Fragment,{children:[G1&&Q.jsx(uU,{enableColorScheme:i}),!G1&&!i&&Q.jsx("span",{className:iy,style:{display:"none"}}),n]})}function dU(e){const t=To(e);return t.body===e?Ka(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Vp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function HE(e){return parseInt(Ka(e).getComputedStyle(e).paddingRight,10)||0}function pU(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),i=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||i}function qE(e,t,n,i,l){const h=[t,n,...i];[].forEach.call(e.children,p=>{const a=!h.includes(p),b=!pU(p);a&&b&&Vp(p,l)})}function hx(e,t){let n=-1;return e.some((i,l)=>t(i)?(n=l,!0):!1),n}function fU(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(dU(i)){const p=bR(Ka(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${HE(i)+p}px`;const a=To(i).querySelectorAll(".mui-fixed");[].forEach.call(a,b=>{n.push({value:b.style.paddingRight,property:"padding-right",el:b}),b.style.paddingRight=`${HE(b)+p}px`})}let h;if(i.parentNode instanceof DocumentFragment)h=To(i).body;else{const p=i.parentElement,a=Ka(i);h=(p==null?void 0:p.nodeName)==="HTML"&&a.getComputedStyle(p).overflowY==="scroll"?p:i}n.push({value:h.style.overflow,property:"overflow",el:h},{value:h.style.overflowX,property:"overflow-x",el:h},{value:h.style.overflowY,property:"overflow-y",el:h}),h.style.overflow="hidden"}return()=>{n.forEach(({value:h,el:p,property:a})=>{h?p.style.setProperty(a,h):p.style.removeProperty(a)})}}function mU(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class gU{constructor(){this.modals=[],this.containers=[]}add(t,n){let i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&Vp(t.modalRef,!1);const l=mU(n);qE(n,t.mount,t.modalRef,l,!0);const h=hx(this.containers,p=>p.container===n);return h!==-1?(this.containers[h].modals.push(t),i):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:l}),i)}mount(t,n){const i=hx(this.containers,h=>h.modals.includes(t)),l=this.containers[i];l.restore||(l.restore=fU(l,n))}remove(t,n=!0){const i=this.modals.indexOf(t);if(i===-1)return i;const l=hx(this.containers,p=>p.modals.includes(t)),h=this.containers[l];if(h.modals.splice(h.modals.indexOf(t),1),this.modals.splice(i,1),h.modals.length===0)h.restore&&h.restore(),t.modalRef&&Vp(t.modalRef,n),qE(h.container,t.mount,t.modalRef,h.hiddenSiblings,!1),this.containers.splice(l,1);else{const p=h.modals[h.modals.length-1];p.modalRef&&Vp(p.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const yU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vU(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function _U(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=i=>e.ownerDocument.querySelector(`input[type="radio"]${i}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function xU(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||_U(e))}function bU(e){const t=[],n=[];return Array.from(e.querySelectorAll(yU)).forEach((i,l)=>{const h=vU(i);h===-1||!xU(i)||(h===0?t.push(i):n.push({documentOrder:l,tabIndex:h,node:i}))}),n.sort((i,l)=>i.tabIndex===l.tabIndex?i.documentOrder-l.documentOrder:i.tabIndex-l.tabIndex).map(i=>i.node).concat(t)}function wU(){return!0}function SU(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:l=!1,getTabbable:h=bU,isEnabled:p=wU,open:a}=e,b=U.useRef(!1),w=U.useRef(null),T=U.useRef(null),P=U.useRef(null),I=U.useRef(null),D=U.useRef(!1),O=U.useRef(null),j=ti(Vh(t),O),q=U.useRef(null);U.useEffect(()=>{!a||!O.current||(D.current=!n)},[n,a]),U.useEffect(()=>{if(!a||!O.current)return;const N=To(O.current);return O.current.contains(N.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),D.current&&O.current.focus()),()=>{l||(P.current&&P.current.focus&&(b.current=!0,P.current.focus()),P.current=null)}},[a]),U.useEffect(()=>{if(!a||!O.current)return;const N=To(O.current),K=ge=>{q.current=ge,!(i||!p()||ge.key!=="Tab")&&N.activeElement===O.current&&ge.shiftKey&&(b.current=!0,T.current&&T.current.focus())},ee=()=>{var Pe,G;const ge=O.current;if(ge===null)return;if(!N.hasFocus()||!p()||b.current){b.current=!1;return}if(ge.contains(N.activeElement)||i&&N.activeElement!==w.current&&N.activeElement!==T.current)return;if(N.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!D.current)return;let he=[];if((N.activeElement===w.current||N.activeElement===T.current)&&(he=h(O.current)),he.length>0){const Te=!!((Pe=q.current)!=null&&Pe.shiftKey&&((G=q.current)==null?void 0:G.key)==="Tab"),Le=he[0],Be=he[he.length-1];typeof Le!="string"&&typeof Be!="string"&&(Te?Be.focus():Le.focus())}else ge.focus()};N.addEventListener("focusin",ee),N.addEventListener("keydown",K,!0);const ue=setInterval(()=>{N.activeElement&&N.activeElement.tagName==="BODY"&&ee()},50);return()=>{clearInterval(ue),N.removeEventListener("focusin",ee),N.removeEventListener("keydown",K,!0)}},[n,i,l,p,a,h]);const L=N=>{P.current===null&&(P.current=N.relatedTarget),D.current=!0,I.current=N.target;const K=t.props.onFocus;K&&K(N)},V=N=>{P.current===null&&(P.current=N.relatedTarget),D.current=!0};return Q.jsxs(U.Fragment,{children:[Q.jsx("div",{tabIndex:a?0:-1,onFocus:V,ref:w,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:j,onFocus:L}),Q.jsx("div",{tabIndex:a?0:-1,onFocus:V,ref:T,"data-testid":"sentinelEnd"})]})}function CU(e){return typeof e=="function"?e():e}function TU(e){return e?e.props.hasOwnProperty("in"):!1}const ZE=()=>{},Rg=new gU;function EU(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,closeAfterTransition:l=!1,onTransitionEnter:h,onTransitionExited:p,children:a,onClose:b,open:w,rootRef:T}=e,P=U.useRef({}),I=U.useRef(null),D=U.useRef(null),O=ti(D,T),[j,q]=U.useState(!w),L=TU(a);let V=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(V=!1);const N=()=>To(I.current),K=()=>(P.current.modalRef=D.current,P.current.mount=I.current,P.current),ee=()=>{Rg.mount(K(),{disableScrollLock:i}),D.current&&(D.current.scrollTop=0)},ue=pa(()=>{const ze=CU(t)||N().body;Rg.add(K(),ze),D.current&&ee()}),ge=()=>Rg.isTopModal(K()),he=pa(ze=>{I.current=ze,ze&&(w&&ge()?ee():D.current&&Vp(D.current,V))}),Pe=U.useCallback(()=>{Rg.remove(K(),V)},[V]);U.useEffect(()=>()=>{Pe()},[Pe]),U.useEffect(()=>{w?ue():(!L||!l)&&Pe()},[w,Pe,L,l,ue]);const G=ze=>Ve=>{var qe;(qe=ze.onKeyDown)==null||qe.call(ze,Ve),!(Ve.key!=="Escape"||Ve.which===229||!ge())&&(n||(Ve.stopPropagation(),b&&b(Ve,"escapeKeyDown")))},Te=ze=>Ve=>{var qe;(qe=ze.onClick)==null||qe.call(ze,Ve),Ve.target===Ve.currentTarget&&b&&b(Ve,"backdropClick")};return{getRootProps:(ze={})=>{const Ve=Gy(e);delete Ve.onTransitionEnter,delete Ve.onTransitionExited;const qe={...Ve,...ze};return{role:"presentation",...qe,onKeyDown:G(qe),ref:O}},getBackdropProps:(ze={})=>{const Ve=ze;return{"aria-hidden":!0,...Ve,onClick:Te(Ve),open:w}},getTransitionProps:()=>{const ze=()=>{q(!1),h&&h()},Ve=()=>{q(!0),p&&p(),l&&Pe()};return{onEnter:uE(ze,(a==null?void 0:a.props.onEnter)??ZE),onExited:uE(Ve,(a==null?void 0:a.props.onExited)??ZE)}},rootRef:O,portalRef:he,isTopModal:ge,exited:j,hasTransition:L}}function PU(e){return Xt("MuiModal",e)}Ht("MuiModal",["root","hidden","backdrop"]);const kU=e=>{const{open:t,exited:n,classes:i}=e;return Yt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},PU,i)},AU=et("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(yn(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),IU=et(WR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),MU=U.forwardRef(function(t,n){const i=Jt({name:"MuiModal",props:t}),{BackdropComponent:l=IU,BackdropProps:h,classes:p,className:a,closeAfterTransition:b=!1,children:w,container:T,component:P,components:I={},componentsProps:D={},disableAutoFocus:O=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:q=!1,disablePortal:L=!1,disableRestoreFocus:V=!1,disableScrollLock:N=!1,hideBackdrop:K=!1,keepMounted:ee=!1,onClose:ue,onTransitionEnter:ge,onTransitionExited:he,open:Pe,slotProps:G={},slots:Te={},theme:Le,...Be}=i,Ne={...i,closeAfterTransition:b,disableAutoFocus:O,disableEnforceFocus:j,disableEscapeKeyDown:q,disablePortal:L,disableRestoreFocus:V,disableScrollLock:N,hideBackdrop:K,keepMounted:ee},{getRootProps:ze,getBackdropProps:Ve,getTransitionProps:qe,portalRef:De,isTopModal:Ae,exited:tt,hasTransition:ft}=EU({...Ne,rootRef:n}),ht={...Ne,exited:tt},ut=kU(ht),Dt={};if(w.props.tabIndex===void 0&&(Dt.tabIndex="-1"),ft){const{onEnter:mt,onExited:Zt}=qe();Dt.onEnter=mt,Dt.onExited=Zt}const qt={slots:{root:I.Root,backdrop:I.Backdrop,...Te},slotProps:{...D,...G}},[xt,Ot]=An("root",{ref:n,elementType:AU,externalForwardedProps:{...qt,...Be,component:P},getSlotProps:ze,ownerState:ht,className:wt(a,ut==null?void 0:ut.root,!ht.open&&ht.exited&&(ut==null?void 0:ut.hidden))}),[nn,Vt]=An("backdrop",{ref:h==null?void 0:h.ref,elementType:l,externalForwardedProps:qt,shouldForwardComponentProp:!0,additionalProps:h,getSlotProps:mt=>Ve({...mt,onClick:Zt=>{mt!=null&&mt.onClick&&mt.onClick(Zt)}}),className:wt(h==null?void 0:h.className,ut==null?void 0:ut.backdrop),ownerState:ht});return!ee&&!Pe&&(!ft||tt)?null:Q.jsx(u8,{ref:De,container:T,disablePortal:L,children:Q.jsxs(xt,{...Ot,children:[!K&&l?Q.jsx(nn,{...Vt}):null,Q.jsx(SU,{disableEnforceFocus:j,disableAutoFocus:O,disableRestoreFocus:V,isEnabled:Ae,open:Pe,children:U.cloneElement(w,Dt)})]})})}),ZR=MU;function RU(e){return Xt("MuiDialog",e)}const LU=Ht("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dx=LU,DU=U.createContext({}),KR=DU,zU=et(WR,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),BU=e=>{const{classes:t,scroll:n,maxWidth:i,fullWidth:l,fullScreen:h}=e,p={root:["root"],container:["container",`scroll${Qe(n)}`],paper:["paper",`paperScroll${Qe(n)}`,`paperWidth${Qe(String(i))}`,l&&"paperFullWidth",h&&"paperFullScreen"]};return Yt(p,RU,t)},OU=et(ZR,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),FU=et("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Qe(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),NU=et(qi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Qe(n.scroll)}`],t[`paperWidth${Qe(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(yn(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${dx.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${dx.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),$U=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiDialog"}),l=Kc(),h={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":a,"aria-modal":b=!0,BackdropComponent:w,BackdropProps:T,children:P,className:I,disableEscapeKeyDown:D=!1,fullScreen:O=!1,fullWidth:j=!1,maxWidth:q="sm",onClick:L,onClose:V,open:N,PaperComponent:K=qi,PaperProps:ee={},scroll:ue="paper",slots:ge={},slotProps:he={},TransitionComponent:Pe=W1,transitionDuration:G=h,TransitionProps:Te,...Le}=i,Be={...i,disableEscapeKeyDown:D,fullScreen:O,fullWidth:j,maxWidth:q,scroll:ue},Ne=BU(Be),ze=U.useRef(),Ve=Ut=>{ze.current=Ut.target===Ut.currentTarget},qe=Ut=>{L&&L(Ut),ze.current&&(ze.current=null,V&&V(Ut,"backdropClick"))},De=Xf(a),Ae=U.useMemo(()=>({titleId:De}),[De]),tt={transition:Pe,...ge},ft={transition:Te,paper:ee,backdrop:T,...he},ht={slots:tt,slotProps:ft},[ut,Dt]=An("root",{elementType:OU,shouldForwardComponentProp:!0,externalForwardedProps:ht,ownerState:Be,className:wt(Ne.root,I),ref:n}),[qt,xt]=An("backdrop",{elementType:zU,shouldForwardComponentProp:!0,externalForwardedProps:ht,ownerState:Be}),[Ot,nn]=An("paper",{elementType:NU,shouldForwardComponentProp:!0,externalForwardedProps:ht,ownerState:Be,className:wt(Ne.paper,ee.className)}),[Vt,mt]=An("container",{elementType:FU,externalForwardedProps:ht,ownerState:Be,className:wt(Ne.container)}),[Zt,Gt]=An("transition",{elementType:W1,externalForwardedProps:ht,ownerState:Be,additionalProps:{appear:!0,in:N,timeout:G,role:"presentation"}});return Q.jsx(ut,{closeAfterTransition:!0,slots:{backdrop:qt},slotProps:{backdrop:{transitionDuration:G,as:w,...xt}},disableEscapeKeyDown:D,onClose:V,open:N,onClick:qe,...Dt,...Le,children:Q.jsx(Zt,{...Gt,children:Q.jsx(Vt,{onMouseDown:Ve,...mt,children:Q.jsx(Ot,{as:K,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":De,"aria-modal":b,...nn,children:Q.jsx(KR.Provider,{value:Ae,children:P})})})})})}),jU=$U;function VU(e){return Xt("MuiDialogActions",e)}Ht("MuiDialogActions",["root","spacing"]);const UU=e=>{const{classes:t,disableSpacing:n}=e;return Yt({root:["root",!n&&"spacing"]},VU,t)},WU=et("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),GU=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiDialogActions"}),{className:l,disableSpacing:h=!1,...p}=i,a={...i,disableSpacing:h},b=UU(a);return Q.jsx(WU,{className:wt(b.root,l),ownerState:a,ref:n,...p})}),HU=GU;function qU(e){return Xt("MuiDialogContent",e)}Ht("MuiDialogContent",["root","dividers"]);function ZU(e){return Xt("MuiDialogTitle",e)}const KU=Ht("MuiDialogTitle",["root"]),XU=KU,YU=e=>{const{classes:t,dividers:n}=e;return Yt({root:["root",n&&"dividers"]},qU,t)},JU=et("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(yn(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${XU.root} + &`]:{paddingTop:0}}}]}))),QU=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiDialogContent"}),{className:l,dividers:h=!1,...p}=i,a={...i,dividers:h},b=YU(a);return Q.jsx(JU,{className:wt(b.root,l),ownerState:a,ref:n,...p})}),e9=QU,t9=e=>{const{classes:t}=e;return Yt({root:["root"]},ZU,t)},n9=et(Ui,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),r9=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiDialogTitle"}),{className:l,id:h,...p}=i,a=i,b=t9(a),{titleId:w=h}=U.useContext(KR);return Q.jsx(n9,{component:"h2",className:wt(b.root,l),ownerState:a,ref:n,variant:"h6",id:h??w,...p})}),i9=r9;function o9(e){return Xt("MuiDivider",e)}const s9=Ht("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),KE=s9,a9=e=>{const{absolute:t,children:n,classes:i,flexItem:l,light:h,orientation:p,textAlign:a,variant:b}=e;return Yt({root:["root",t&&"absolute",b,h&&"light",p==="vertical"&&"vertical",l&&"flexItem",n&&"withChildren",n&&p==="vertical"&&"withChildrenVertical",a==="right"&&p!=="vertical"&&"textAlignRight",a==="left"&&p!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",p==="vertical"&&"wrapperVertical"]},o9,i)},l9=et("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(yn(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Vn(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),c9=et("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(yn(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),H1=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiDivider"}),{absolute:l=!1,children:h,className:p,orientation:a="horizontal",component:b=h||a==="vertical"?"div":"hr",flexItem:w=!1,light:T=!1,role:P=b!=="hr"?"separator":void 0,textAlign:I="center",variant:D="fullWidth",...O}=i,j={...i,absolute:l,component:b,flexItem:w,light:T,orientation:a,role:P,textAlign:I,variant:D},q=a9(j);return Q.jsx(l9,{as:b,className:wt(q.root,p),role:P,ref:n,ownerState:j,"aria-orientation":P==="separator"&&(b!=="hr"||a==="vertical")?a:void 0,...O,children:h?Q.jsx(c9,{className:q.wrapper,ownerState:j,children:h}):null})});H1&&(H1.muiSkipListHighlight=!0);const u9=H1,h9=e=>{const{classes:t,disableUnderline:n,startAdornment:i,endAdornment:l,size:h,hiddenLabel:p,multiline:a}=e,b={root:["root",!n&&"underline",i&&"adornedStart",l&&"adornedEnd",h==="small"&&`size${Qe(h)}`,p&&"hiddenLabel",a&&"multiline"],input:["input"]},w=Yt(b,L8,t);return{...t,...w}},d9=et(av,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ov(e,t),!n.disableUnderline&&t.underline]}})(yn(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${yc.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${yc.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:h},variants:[{props:({ownerState:p})=>!p.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yc.disabled}, .${yc.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${yc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ei()).map(([p])=>{var a;return{props:{disableUnderline:!1,color:p},style:{"&::after":{borderBottom:`2px solid ${(a=(e.vars||e).palette[p])==null?void 0:a.main}`}}}}),{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:12}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:12}},{props:({ownerState:p})=>p.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:p,size:a})=>p.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:p})=>p.multiline&&p.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:p})=>p.multiline&&p.hiddenLabel&&p.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),p9=et(lv,{name:"MuiFilledInput",slot:"Input",overridesResolver:sv})(yn(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),XR=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiFilledInput"}),{disableUnderline:l=!1,components:h={},componentsProps:p,fullWidth:a=!1,hiddenLabel:b,inputComponent:w="input",multiline:T=!1,slotProps:P,slots:I={},type:D="text",...O}=i,j={...i,disableUnderline:l,fullWidth:a,inputComponent:w,multiline:T,type:D},q=h9(i),L={root:{ownerState:j},input:{ownerState:j}},V=P??p?Hi(L,P??p):L,N=I.root??h.Root??d9,K=I.input??h.Input??p9;return Q.jsx(nS,{slots:{root:N,input:K},slotProps:V,fullWidth:a,inputComponent:w,multiline:T,ref:n,type:D,...O,classes:q})});XR.muiName="Input";const YR=XR;function f9(e){return Xt("MuiFormControl",e)}Ht("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const m9=e=>{const{classes:t,margin:n,fullWidth:i}=e,l={root:["root",n!=="none"&&`margin${Qe(n)}`,i&&"fullWidth"]};return Yt(l,f9,t)},g9=et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Qe(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),y9=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiFormControl"}),{children:l,className:h,color:p="primary",component:a="div",disabled:b=!1,error:w=!1,focused:T,fullWidth:P=!1,hiddenLabel:I=!1,margin:D="none",required:O=!1,size:j="medium",variant:q="outlined",...L}=i,V={...i,color:p,component:a,disabled:b,error:w,fullWidth:P,hiddenLabel:I,margin:D,required:O,size:j,variant:q},N=m9(V),[K,ee]=U.useState(()=>{let ze=!1;return l&&U.Children.forEach(l,Ve=>{if(!jp(Ve,["Input","Select"]))return;const qe=jp(Ve,["Select"])?Ve.props.input:Ve;qe&&C8(qe.props)&&(ze=!0)}),ze}),[ue,ge]=U.useState(()=>{let ze=!1;return l&&U.Children.forEach(l,Ve=>{jp(Ve,["Input","Select"])&&(Ky(Ve.props,!0)||Ky(Ve.props.inputProps,!0))&&(ze=!0)}),ze}),[he,Pe]=U.useState(!1);b&&he&&Pe(!1);const G=T!==void 0&&!b?T:he;let Te;U.useRef(!1);const Le=U.useCallback(()=>{ge(!0)},[]),Be=U.useCallback(()=>{ge(!1)},[]),Ne=U.useMemo(()=>({adornedStart:K,setAdornedStart:ee,color:p,disabled:b,error:w,filled:ue,focused:G,fullWidth:P,hiddenLabel:I,size:j,onBlur:()=>{Pe(!1)},onFocus:()=>{Pe(!0)},onEmpty:Be,onFilled:Le,registerEffect:Te,required:O,variant:q}),[K,p,b,w,ue,G,P,I,Te,Be,Le,O,j,q]);return Q.jsx(tS.Provider,{value:Ne,children:Q.jsx(g9,{as:a,ownerState:V,className:wt(N.root,h),ref:n,...L,children:l})})}),v9=y9;function _9(e){return Xt("MuiFormHelperText",e)}const x9=Ht("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),XE=x9;var YE;const b9=e=>{const{classes:t,contained:n,size:i,disabled:l,error:h,filled:p,focused:a,required:b}=e,w={root:["root",l&&"disabled",h&&"error",i&&`size${Qe(i)}`,n&&"contained",a&&"focused",p&&"filled",b&&"required"]};return Yt(w,_9,t)},w9=et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Qe(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(yn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${XE.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${XE.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),S9=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiFormHelperText"}),{children:l,className:h,component:p="p",disabled:a,error:b,filled:w,focused:T,margin:P,required:I,variant:D,...O}=i,j=Gh(),q=Wh({props:i,muiFormControl:j,states:["variant","size","disabled","error","filled","focused","required"]}),L={...i,component:p,contained:q.variant==="filled"||q.variant==="outlined",variant:q.variant,size:q.size,disabled:q.disabled,error:q.error,filled:q.filled,focused:q.focused,required:q.required};delete L.ownerState;const V=b9(L);return Q.jsx(w9,{as:p,className:wt(V.root,h),ref:n,...O,ownerState:L,children:l===" "?YE||(YE=Q.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):l})}),C9=S9;function T9(e){return Xt("MuiFormLabel",e)}const E9=Ht("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Up=E9,P9=e=>{const{classes:t,color:n,focused:i,disabled:l,error:h,filled:p,required:a}=e,b={root:["root",`color${Qe(n)}`,l&&"disabled",h&&"error",p&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",h&&"error"]};return Yt(b,T9,t)},k9=et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(yn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Ei()).map(([t])=>({props:{color:t},style:{[`&.${Up.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Up.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Up.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),A9=et("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(yn(({theme:e})=>({[`&.${Up.error}`]:{color:(e.vars||e).palette.error.main}}))),I9=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiFormLabel"}),{children:l,className:h,color:p,component:a="label",disabled:b,error:w,filled:T,focused:P,required:I,...D}=i,O=Gh(),j=Wh({props:i,muiFormControl:O,states:["color","required","focused","disabled","error","filled"]}),q={...i,color:j.color||"primary",component:a,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required},L=P9(q);return Q.jsxs(k9,{as:a,ownerState:q,className:wt(L.root,h),ref:n,...D,children:[l,j.required&&Q.jsxs(A9,{ownerState:q,"aria-hidden":!0,className:L.asterisk,children:[" ","*"]})]})}),M9=I9,R9=N6({createStyledComponent:et("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>Jt({props:e,name:"MuiGrid"}),useTheme:Kc}),Al=R9;function q1(e){return`scale(${e}, ${e**2})`}const L9={entering:{opacity:1,transform:q1(1)},entered:{opacity:1,transform:"none"}},px=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Z1=U.forwardRef(function(t,n){const{addEndListener:i,appear:l=!0,children:h,easing:p,in:a,onEnter:b,onEntered:w,onEntering:T,onExit:P,onExited:I,onExiting:D,style:O,timeout:j="auto",TransitionComponent:q=Jw,...L}=t,V=nv(),N=U.useRef(),K=Kc(),ee=U.useRef(null),ue=ti(ee,Vh(h),n),ge=ze=>Ve=>{if(ze){const qe=ee.current;Ve===void 0?ze(qe):ze(qe,Ve)}},he=ge(T),Pe=ge((ze,Ve)=>{jR(ze);const{duration:qe,delay:De,easing:Ae}=Dh({style:O,timeout:j,easing:p},{mode:"enter"});let tt;j==="auto"?(tt=K.transitions.getAutoHeightDuration(ze.clientHeight),N.current=tt):tt=qe,ze.style.transition=[K.transitions.create("opacity",{duration:tt,delay:De}),K.transitions.create("transform",{duration:px?tt:tt*.666,delay:De,easing:Ae})].join(","),b&&b(ze,Ve)}),G=ge(w),Te=ge(D),Le=ge(ze=>{const{duration:Ve,delay:qe,easing:De}=Dh({style:O,timeout:j,easing:p},{mode:"exit"});let Ae;j==="auto"?(Ae=K.transitions.getAutoHeightDuration(ze.clientHeight),N.current=Ae):Ae=Ve,ze.style.transition=[K.transitions.create("opacity",{duration:Ae,delay:qe}),K.transitions.create("transform",{duration:px?Ae:Ae*.666,delay:px?qe:qe||Ae*.333,easing:De})].join(","),ze.style.opacity=0,ze.style.transform=q1(.75),P&&P(ze)}),Be=ge(I),Ne=ze=>{j==="auto"&&V.start(N.current||0,ze),i&&i(ee.current,ze)};return Q.jsx(q,{appear:l,in:a,nodeRef:ee,onEnter:Pe,onEntered:G,onEntering:he,onExit:Le,onExited:Be,onExiting:Te,addEndListener:Ne,timeout:j==="auto"?null:j,...L,children:(ze,{ownerState:Ve,...qe})=>U.cloneElement(h,{style:{opacity:0,transform:q1(.75),visibility:ze==="exited"&&!a?"hidden":void 0,...L9[ze],...O,...h.props.style},ref:ue,...qe})})});Z1&&(Z1.muiSupportAuto=!0);const JR=Z1,D9=e=>{const{classes:t,disableUnderline:n}=e,l=Yt({root:["root",!n&&"underline"],input:["input"]},A8,t);return{...t,...l}},z9=et(av,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ov(e,t),!n.disableUnderline&&t.underline]}})(yn(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fp.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fp.disabled}, .${fp.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${fp.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ei()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[i].main}`}}}))]}})),B9=et(lv,{name:"MuiInput",slot:"Input",overridesResolver:sv})({}),QR=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiInput"}),{disableUnderline:l=!1,components:h={},componentsProps:p,fullWidth:a=!1,inputComponent:b="input",multiline:w=!1,slotProps:T,slots:P={},type:I="text",...D}=i,O=D9(i),q={root:{ownerState:{disableUnderline:l}}},L=T??p?Hi(T??p,q):q,V=P.root??h.Root??z9,N=P.input??h.Input??B9;return Q.jsx(nS,{slots:{root:V,input:N},slotProps:L,fullWidth:a,inputComponent:b,multiline:w,ref:n,type:I,...D,classes:O})});QR.muiName="Input";const eL=QR;function O9(e){return Xt("MuiInputLabel",e)}Ht("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const F9=e=>{const{classes:t,formControl:n,size:i,shrink:l,disableAnimation:h,variant:p,required:a}=e,b={root:["root",n&&"formControl",!h&&"animated",l&&"shrink",i&&i!=="medium"&&`size${Qe(i)}`,p],asterisk:[a&&"asterisk"]},w=Yt(b,O9,t);return{...t,...w}},N9=et(M9,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Up.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(yn(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:i})=>t==="filled"&&n.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),$9=U.forwardRef(function(t,n){const i=Jt({name:"MuiInputLabel",props:t}),{disableAnimation:l=!1,margin:h,shrink:p,variant:a,className:b,...w}=i,T=Gh();let P=p;typeof P>"u"&&T&&(P=T.filled||T.focused||T.adornedStart);const I=Wh({props:i,muiFormControl:T,states:["size","variant","required","focused"]}),D={...i,disableAnimation:l,formControl:T,shrink:P,size:I.size,variant:I.variant,required:I.required,focused:I.focused},O=F9(D);return Q.jsx(N9,{"data-shrink":P,ref:n,className:wt(O.root,b),...w,ownerState:D,classes:O})}),j9=$9,V9=U.createContext({}),$l=V9;function U9(e){return Xt("MuiList",e)}Ht("MuiList",["root","padding","dense","subheader"]);const W9=e=>{const{classes:t,disablePadding:n,dense:i,subheader:l}=e;return Yt({root:["root",!n&&"padding",i&&"dense",l&&"subheader"]},U9,t)},G9=et("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),H9=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiList"}),{children:l,className:h,component:p="ul",dense:a=!1,disablePadding:b=!1,subheader:w,...T}=i,P=U.useMemo(()=>({dense:a}),[a]),I={...i,component:p,dense:a,disablePadding:b},D=W9(I);return Q.jsx($l.Provider,{value:P,children:Q.jsxs(G9,{as:p,className:wt(D.root,h),ref:n,ownerState:I,...T,children:[w,l]})})}),tL=H9;function q9(e){return Xt("MuiListItem",e)}Ht("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Z9=Ht("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),K9=Z9;function X9(e){return Xt("MuiListItemSecondaryAction",e)}Ht("MuiListItemSecondaryAction",["root","disableGutters"]);const Y9=e=>{const{disableGutters:t,classes:n}=e;return Yt({root:["root",t&&"disableGutters"]},X9,n)},J9=et("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),nL=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiListItemSecondaryAction"}),{className:l,...h}=i,p=U.useContext($l),a={...i,disableGutters:p.disableGutters},b=Y9(a);return Q.jsx(J9,{className:wt(b.root,l),ownerState:a,ref:n,...h})});nL.muiName="ListItemSecondaryAction";const Q9=nL,e7=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},t7=e=>{const{alignItems:t,classes:n,dense:i,disableGutters:l,disablePadding:h,divider:p,hasSecondaryAction:a}=e;return Yt({root:["root",i&&"dense",!l&&"gutters",!h&&"padding",p&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},q9,n)},n7=et("div",{name:"MuiListItem",slot:"Root",overridesResolver:e7})(yn(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${K9.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),r7=et("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),i7=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiListItem"}),{alignItems:l="center",children:h,className:p,component:a,components:b={},componentsProps:w={},ContainerComponent:T="li",ContainerProps:{className:P,...I}={},dense:D=!1,disableGutters:O=!1,disablePadding:j=!1,divider:q=!1,secondaryAction:L,slotProps:V={},slots:N={},...K}=i,ee=U.useContext($l),ue=U.useMemo(()=>({dense:D||ee.dense||!1,alignItems:l,disableGutters:O}),[l,ee.dense,D,O]),ge=U.useRef(null),he=U.Children.toArray(h),Pe=he.length&&jp(he[he.length-1],["ListItemSecondaryAction"]),G={...i,alignItems:l,dense:ue.dense,disableGutters:O,disablePadding:j,divider:q,hasSecondaryAction:Pe},Te=t7(G),Le=ti(ge,n),Be=N.root||b.Root||n7,Ne=V.root||w.root||{},ze={className:wt(Te.root,Ne.className,p),...K};let Ve=a||"li";return Pe?(Ve=!ze.component&&!a?"div":Ve,T==="li"&&(Ve==="li"?Ve="div":ze.component==="li"&&(ze.component="div")),Q.jsx($l.Provider,{value:ue,children:Q.jsxs(r7,{as:T,className:wt(Te.container,P),ref:Le,ownerState:G,...I,children:[Q.jsx(Be,{...Ne,...!wf(Be)&&{as:Ve,ownerState:{...G,...Ne.ownerState}},...ze,children:he}),he.pop()]})})):Q.jsx($l.Provider,{value:ue,children:Q.jsxs(Be,{...Ne,as:Ve,ref:Le,...!wf(Be)&&{ownerState:{...G,...Ne.ownerState}},...ze,children:[he,L&&Q.jsx(Q9,{children:L})]})})}),o7=i7,s7=Ht("MuiListItemIcon",["root","alignItemsFlexStart"]),JE=s7;function a7(e){return Xt("MuiListItemText",e)}const l7=Ht("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ih=l7,c7=e=>{const{classes:t,inset:n,primary:i,secondary:l,dense:h}=e;return Yt({root:["root",n&&"inset",h&&"dense",i&&l&&"multiline"],primary:["primary"],secondary:["secondary"]},a7,t)},u7=et("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ih.primary}`]:t.primary},{[`& .${ih.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${BE.root}:where(& .${ih.primary})`]:{display:"block"},[`.${BE.root}:where(& .${ih.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),h7=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiListItemText"}),{children:l,className:h,disableTypography:p=!1,inset:a=!1,primary:b,primaryTypographyProps:w,secondary:T,secondaryTypographyProps:P,slots:I={},slotProps:D={},...O}=i,{dense:j}=U.useContext($l);let q=b??l,L=T;const V={...i,disableTypography:p,inset:a,primary:!!q,secondary:!!L,dense:j},N=c7(V),K={slots:I,slotProps:{primary:w,secondary:P,...D}},[ee,ue]=An("root",{className:wt(N.root,h),elementType:u7,externalForwardedProps:{...K,...O},ownerState:V,ref:n}),[ge,he]=An("primary",{className:N.primary,elementType:Ui,externalForwardedProps:K,ownerState:V}),[Pe,G]=An("secondary",{className:N.secondary,elementType:Ui,externalForwardedProps:K,ownerState:V});return q!=null&&q.type!==Ui&&!p&&(q=Q.jsx(ge,{variant:j?"body2":"body1",component:he!=null&&he.variant?void 0:"span",...he,children:q})),L!=null&&L.type!==Ui&&!p&&(L=Q.jsx(Pe,{variant:"body2",color:"textSecondary",...G,children:L})),Q.jsxs(ee,{...ue,children:[q,L]})}),d7=h7;function fx(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function QE(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function rL(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function mp(e,t,n,i,l,h){let p=!1,a=l(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(p)return!1;p=!0}const b=i?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!rL(a,h)||b)a=l(e,a,n);else return a.focus(),!0}return!1}const p7=U.forwardRef(function(t,n){const{actions:i,autoFocus:l=!1,autoFocusItem:h=!1,children:p,className:a,disabledItemsFocusable:b=!1,disableListWrap:w=!1,onKeyDown:T,variant:P="selectedMenu",...I}=t,D=U.useRef(null),O=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Za(()=>{l&&D.current.focus()},[l]),U.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(N,{direction:K})=>{const ee=!D.current.style.width;if(N.clientHeight<D.current.clientHeight&&ee){const ue=`${bR(Ka(N))}px`;D.current.style[K==="rtl"?"paddingLeft":"paddingRight"]=ue,D.current.style.width=`calc(100% + ${ue})`}return D.current}}),[]);const j=N=>{const K=D.current,ee=N.key;if(N.ctrlKey||N.metaKey||N.altKey){T&&T(N);return}const ge=To(K).activeElement;if(ee==="ArrowDown")N.preventDefault(),mp(K,ge,w,b,fx);else if(ee==="ArrowUp")N.preventDefault(),mp(K,ge,w,b,QE);else if(ee==="Home")N.preventDefault(),mp(K,null,w,b,fx);else if(ee==="End")N.preventDefault(),mp(K,null,w,b,QE);else if(ee.length===1){const he=O.current,Pe=ee.toLowerCase(),G=performance.now();he.keys.length>0&&(G-he.lastTime>500?(he.keys=[],he.repeating=!0,he.previousKeyMatched=!0):he.repeating&&Pe!==he.keys[0]&&(he.repeating=!1)),he.lastTime=G,he.keys.push(Pe);const Te=ge&&!he.repeating&&rL(ge,he);he.previousKeyMatched&&(Te||mp(K,ge,!1,b,fx,he))?N.preventDefault():he.previousKeyMatched=!1}T&&T(N)},q=ti(D,n);let L=-1;U.Children.forEach(p,(N,K)=>{if(!U.isValidElement(N)){L===K&&(L+=1,L>=p.length&&(L=-1));return}N.props.disabled||(P==="selectedMenu"&&N.props.selected||L===-1)&&(L=K),L===K&&(N.props.disabled||N.props.muiSkipListHighlight||N.type.muiSkipListHighlight)&&(L+=1,L>=p.length&&(L=-1))});const V=U.Children.map(p,(N,K)=>{if(K===L){const ee={};return h&&(ee.autoFocus=!0),N.props.tabIndex===void 0&&P==="selectedMenu"&&(ee.tabIndex=0),U.cloneElement(N,ee)}return N});return Q.jsx(tL,{role:"menu",ref:q,className:a,onKeyDown:j,tabIndex:l?0:-1,...I,children:V})}),f7=p7;function m7(e){return Xt("MuiPopover",e)}Ht("MuiPopover",["root","paper"]);function eP(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function tP(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function nP(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Lg(e){return typeof e=="function"?e():e}const g7=e=>{const{classes:t}=e;return Yt({root:["root"],paper:["paper"]},m7,t)},y7=et(ZR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iL=et(qi,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),v7=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiPopover"}),{action:l,anchorEl:h,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:b="anchorEl",children:w,className:T,container:P,elevation:I=8,marginThreshold:D=16,open:O,PaperProps:j={},slots:q={},slotProps:L={},transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:N,transitionDuration:K="auto",TransitionProps:ee={},disableScrollLock:ue=!1,...ge}=i,he=U.useRef(),Pe={...i,anchorOrigin:p,anchorReference:b,elevation:I,marginThreshold:D,transformOrigin:V,TransitionComponent:N,transitionDuration:K,TransitionProps:ee},G=g7(Pe),Te=U.useCallback(()=>{if(b==="anchorPosition")return a;const mt=Lg(h),Gt=(mt&&mt.nodeType===1?mt:To(he.current).body).getBoundingClientRect();return{top:Gt.top+eP(Gt,p.vertical),left:Gt.left+tP(Gt,p.horizontal)}},[h,p.horizontal,p.vertical,a,b]),Le=U.useCallback(mt=>({vertical:eP(mt,V.vertical),horizontal:tP(mt,V.horizontal)}),[V.horizontal,V.vertical]),Be=U.useCallback(mt=>{const Zt={width:mt.offsetWidth,height:mt.offsetHeight},Gt=Le(Zt);if(b==="none")return{top:null,left:null,transformOrigin:nP(Gt)};const Ut=Te();let At=Ut.top-Gt.vertical,en=Ut.left-Gt.horizontal;const sr=At+Zt.height,Fn=en+Zt.width,En=Ka(Lg(h)),Mn=En.innerHeight-D,Me=En.innerWidth-D;if(D!==null&&At<D){const on=At-D;At-=on,Gt.vertical+=on}else if(D!==null&&sr>Mn){const on=sr-Mn;At-=on,Gt.vertical+=on}if(D!==null&&en<D){const on=en-D;en-=on,Gt.horizontal+=on}else if(Fn>Me){const on=Fn-Me;en-=on,Gt.horizontal+=on}return{top:`${Math.round(At)}px`,left:`${Math.round(en)}px`,transformOrigin:nP(Gt)}},[h,b,Te,Le,D]),[Ne,ze]=U.useState(O),Ve=U.useCallback(()=>{const mt=he.current;if(!mt)return;const Zt=Be(mt);Zt.top!==null&&mt.style.setProperty("top",Zt.top),Zt.left!==null&&(mt.style.left=Zt.left),mt.style.transformOrigin=Zt.transformOrigin,ze(!0)},[Be]);U.useEffect(()=>(ue&&window.addEventListener("scroll",Ve),()=>window.removeEventListener("scroll",Ve)),[h,ue,Ve]);const qe=()=>{Ve()},De=()=>{ze(!1)};U.useEffect(()=>{O&&Ve()}),U.useImperativeHandle(l,()=>O?{updatePosition:()=>{Ve()}}:null,[O,Ve]),U.useEffect(()=>{if(!O)return;const mt=_R(()=>{Ve()}),Zt=Ka(Lg(h));return Zt.addEventListener("resize",mt),()=>{mt.clear(),Zt.removeEventListener("resize",mt)}},[h,O,Ve]);let Ae=K;const tt={slots:{transition:N,...q},slotProps:{transition:ee,paper:j,...L}},[ft,ht]=An("transition",{elementType:JR,externalForwardedProps:tt,ownerState:Pe,getSlotProps:mt=>({...mt,onEntering:(Zt,Gt)=>{var Ut;(Ut=mt.onEntering)==null||Ut.call(mt,Zt,Gt),qe()},onExited:Zt=>{var Gt;(Gt=mt.onExited)==null||Gt.call(mt,Zt),De()}}),additionalProps:{appear:!0,in:O}});K==="auto"&&!ft.muiSupportAuto&&(Ae=void 0);const ut=P||(h?To(Lg(h)).body:void 0),[Dt,{slots:qt,slotProps:xt,...Ot}]=An("root",{ref:n,elementType:y7,externalForwardedProps:{...tt,...ge},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:q.backdrop},slotProps:{backdrop:Nj(typeof L.backdrop=="function"?L.backdrop(Pe):L.backdrop,{invisible:!0})},container:ut,open:O},ownerState:Pe,className:wt(G.root,T)}),[nn,Vt]=An("paper",{ref:he,className:G.paper,elementType:iL,externalForwardedProps:tt,shouldForwardComponentProp:!0,additionalProps:{elevation:I,style:Ne?void 0:{opacity:0}},ownerState:Pe});return Q.jsx(Dt,{...Ot,...!wf(Dt)&&{slots:qt,slotProps:xt,disableScrollLock:ue},children:Q.jsx(ft,{...ht,timeout:Ae,children:Q.jsx(nn,{...Vt,children:w})})})}),_7=v7;function x7(e){return Xt("MuiMenu",e)}Ht("MuiMenu",["root","paper","list"]);const b7={vertical:"top",horizontal:"right"},w7={vertical:"top",horizontal:"left"},S7=e=>{const{classes:t}=e;return Yt({root:["root"],paper:["paper"],list:["list"]},x7,t)},C7=et(_7,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),T7=et(iL,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),E7=et(f7,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),P7=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:h,className:p,disableAutoFocusItem:a=!1,MenuListProps:b={},onClose:w,open:T,PaperProps:P={},PopoverClasses:I,transitionDuration:D="auto",TransitionProps:{onEntering:O,...j}={},variant:q="selectedMenu",slots:L={},slotProps:V={},...N}=i,K=e6(),ee={...i,autoFocus:l,disableAutoFocusItem:a,MenuListProps:b,onEntering:O,PaperProps:P,transitionDuration:D,TransitionProps:j,variant:q},ue=S7(ee),ge=l&&!a&&T,he=U.useRef(null),Pe=(Ae,tt)=>{he.current&&he.current.adjustStyleForScrollbar(Ae,{direction:K?"rtl":"ltr"}),O&&O(Ae,tt)},G=Ae=>{Ae.key==="Tab"&&(Ae.preventDefault(),w&&w(Ae,"tabKeyDown"))};let Te=-1;U.Children.map(h,(Ae,tt)=>{U.isValidElement(Ae)&&(Ae.props.disabled||(q==="selectedMenu"&&Ae.props.selected||Te===-1)&&(Te=tt))});const Le={slots:L,slotProps:{list:b,transition:j,paper:P,...V}},Be=q$({elementType:L.root,externalSlotProps:V.root,ownerState:ee,className:[ue.root,p]}),[Ne,ze]=An("paper",{className:ue.paper,elementType:T7,externalForwardedProps:Le,shouldForwardComponentProp:!0,ownerState:ee}),[Ve,qe]=An("list",{className:wt(ue.list,b.className),elementType:E7,shouldForwardComponentProp:!0,externalForwardedProps:Le,getSlotProps:Ae=>({...Ae,onKeyDown:tt=>{var ft;G(tt),(ft=Ae.onKeyDown)==null||ft.call(Ae,tt)}}),ownerState:ee}),De=typeof Le.slotProps.transition=="function"?Le.slotProps.transition(ee):Le.slotProps.transition;return Q.jsx(C7,{onClose:w,anchorOrigin:{vertical:"bottom",horizontal:K?"right":"left"},transformOrigin:K?b7:w7,slots:{root:L.root,paper:Ne,backdrop:L.backdrop,...L.transition&&{transition:L.transition}},slotProps:{root:Be,paper:ze,backdrop:typeof V.backdrop=="function"?V.backdrop(ee):V.backdrop,transition:{...De,onEntering:(...Ae)=>{var tt;Pe(...Ae),(tt=De==null?void 0:De.onEntering)==null||tt.call(De,...Ae)}}},open:T,ref:n,transitionDuration:D,ownerState:ee,...N,classes:I,children:Q.jsx(Ve,{actions:he,autoFocus:l&&(Te===-1||a),autoFocusItem:ge,variant:q,...qe,children:h})})}),k7=P7;function A7(e){return Xt("MuiMenuItem",e)}const I7=Ht("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),gp=I7,M7=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},R7=e=>{const{disabled:t,dense:n,divider:i,disableGutters:l,selected:h,classes:p}=e,b=Yt({root:["root",n&&"dense",t&&"disabled",!l&&"gutters",i&&"divider",h&&"selected"]},A7,p);return{...p,...b}},L7=et(xf,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:M7})(yn(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gp.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${gp.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${gp.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${gp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${gp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${KE.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${KE.inset}`]:{marginLeft:52},[`& .${ih.root}`]:{marginTop:0,marginBottom:0},[`& .${ih.inset}`]:{paddingLeft:36},[`& .${JE.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${JE.root} svg`]:{fontSize:"1.25rem"}}}]}))),D7=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiMenuItem"}),{autoFocus:l=!1,component:h="li",dense:p=!1,divider:a=!1,disableGutters:b=!1,focusVisibleClassName:w,role:T="menuitem",tabIndex:P,className:I,...D}=i,O=U.useContext($l),j=U.useMemo(()=>({dense:p||O.dense||!1,disableGutters:b}),[O.dense,p,b]),q=U.useRef(null);Za(()=>{l&&q.current&&q.current.focus()},[l]);const L={...i,dense:j.dense,divider:a,disableGutters:b},V=R7(i),N=ti(q,n);let K;return i.disabled||(K=P!==void 0?P:-1),Q.jsx($l.Provider,{value:j,children:Q.jsx(L7,{ref:N,role:T,tabIndex:K,component:h,focusVisibleClassName:wt(V.focusVisible,w),className:wt(V.root,I),...D,ownerState:L,classes:V})})}),zo=D7;function z7(e){return Xt("MuiNativeSelect",e)}const B7=Ht("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rS=B7,O7=e=>{const{classes:t,variant:n,disabled:i,multiple:l,open:h,error:p}=e,a={select:["select",n,i&&"disabled",l&&"multiple",p&&"error"],icon:["icon",`icon${Qe(n)}`,h&&"iconOpen",i&&"disabled"]};return Yt(a,z7,t)},oL=et("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${rS.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),F7=et(oL,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ys,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${rS.multiple}`]:t.multiple}]}})({}),sL=et("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${rS.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),N7=et(sL,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Qe(n.variant)}`],n.open&&t.iconOpen]}})({}),$7=U.forwardRef(function(t,n){const{className:i,disabled:l,error:h,IconComponent:p,inputRef:a,variant:b="standard",...w}=t,T={...t,disabled:l,variant:b,error:h},P=O7(T);return Q.jsxs(U.Fragment,{children:[Q.jsx(F7,{ownerState:T,className:wt(P.select,i),disabled:l,ref:a||n,...w}),t.multiple?null:Q.jsx(N7,{as:p,ownerState:T,className:P.icon})]})}),j7=$7;var rP;const V7=et("fieldset",{shouldForwardProp:ys})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),U7=et("legend",{shouldForwardProp:ys})(yn(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function W7(e){const{children:t,classes:n,className:i,label:l,notched:h,...p}=e,a=l!=null&&l!=="",b={...e,notched:h,withLabel:a};return Q.jsx(V7,{"aria-hidden":!0,className:i,ownerState:b,...p,children:Q.jsx(U7,{ownerState:b,children:a?Q.jsx("span",{children:l}):rP||(rP=Q.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const G7=e=>{const{classes:t}=e,i=Yt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},M8,t);return{...t,...i}},H7=et(av,{shouldForwardProp:e=>ys(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ov})(yn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qs.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Qs.focused} .${Qs.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Ei()).map(([n])=>({props:{color:n},style:{[`&.${Qs.focused} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Qs.error} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Qs.disabled} .${Qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:i})=>n.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),q7=et(W7,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(yn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Z7=et(lv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:sv})(yn(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),aL=U.forwardRef(function(t,n){var i;const l=Jt({props:t,name:"MuiOutlinedInput"}),{components:h={},fullWidth:p=!1,inputComponent:a="input",label:b,multiline:w=!1,notched:T,slots:P={},type:I="text",...D}=l,O=G7(l),j=Gh(),q=Wh({props:l,muiFormControl:j,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L={...l,color:q.color||"primary",disabled:q.disabled,error:q.error,focused:q.focused,formControl:j,fullWidth:p,hiddenLabel:q.hiddenLabel,multiline:w,size:q.size,type:I},V=P.root??h.Root??H7,N=P.input??h.Input??Z7;return Q.jsx(nS,{slots:{root:V,input:N},renderSuffix:K=>Q.jsx(q7,{ownerState:L,className:O.notchedOutline,label:b!=null&&b!==""&&q.required?i||(i=Q.jsxs(U.Fragment,{children:[b," ","*"]})):b,notched:typeof T<"u"?T:!!(K.startAdornment||K.filled||K.focused)}),fullWidth:p,inputComponent:a,multiline:w,ref:n,type:I,...D,classes:{...O,notchedOutline:null}})});aL.muiName="Input";const lL=aL;function cL(e){return Xt("MuiSelect",e)}const yp=Ht("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var iP;const K7=et(oL,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${yp.select}`]:t.select},{[`&.${yp.select}`]:t[n.variant]},{[`&.${yp.error}`]:t.error},{[`&.${yp.multiple}`]:t.multiple}]}})({[`&.${yp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),X7=et(sL,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Qe(n.variant)}`],n.open&&t.iconOpen]}})({}),Y7=et("input",{shouldForwardProp:e=>OR(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function oP(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function J7(e){return e==null||typeof e=="string"&&!e.trim()}const Q7=e=>{const{classes:t,variant:n,disabled:i,multiple:l,open:h,error:p}=e,a={select:["select",n,i&&"disabled",l&&"multiple",p&&"error"],icon:["icon",`icon${Qe(n)}`,h&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Yt(a,cL,t)},eW=U.forwardRef(function(t,n){var dn;const{"aria-describedby":i,"aria-label":l,autoFocus:h,autoWidth:p,children:a,className:b,defaultOpen:w,defaultValue:T,disabled:P,displayEmpty:I,error:D=!1,IconComponent:O,inputRef:j,labelId:q,MenuProps:L={},multiple:V,name:N,onBlur:K,onChange:ee,onClose:ue,onFocus:ge,onOpen:he,open:Pe,readOnly:G,renderValue:Te,required:Le,SelectDisplayProps:Be={},tabIndex:Ne,type:ze,value:Ve,variant:qe="standard",...De}=t,[Ae,tt]=fE({controlled:Ve,default:T,name:"Select"}),[ft,ht]=fE({controlled:Pe,default:w,name:"Select"}),ut=U.useRef(null),Dt=U.useRef(null),[qt,xt]=U.useState(null),{current:Ot}=U.useRef(Pe!=null),[nn,Vt]=U.useState(),mt=ti(n,j),Zt=U.useCallback(It=>{Dt.current=It,It&&xt(It)},[]),Gt=qt==null?void 0:qt.parentNode;U.useImperativeHandle(mt,()=>({focus:()=>{Dt.current.focus()},node:ut.current,value:Ae}),[Ae]),U.useEffect(()=>{w&&ft&&qt&&!Ot&&(Vt(p?null:Gt.clientWidth),Dt.current.focus())},[qt,p]),U.useEffect(()=>{h&&Dt.current.focus()},[h]),U.useEffect(()=>{if(!q)return;const It=To(Dt.current).getElementById(q);if(It){const vn=()=>{getSelection().isCollapsed&&Dt.current.focus()};return It.addEventListener("click",vn),()=>{It.removeEventListener("click",vn)}}},[q]);const Ut=(It,vn)=>{It?he&&he(vn):ue&&ue(vn),Ot||(Vt(p?null:Gt.clientWidth),ht(It))},At=It=>{It.button===0&&(It.preventDefault(),Dt.current.focus(),Ut(!0,It))},en=It=>{Ut(!1,It)},sr=U.Children.toArray(a),Fn=It=>{const vn=sr.find(Ze=>Ze.props.value===It.target.value);vn!==void 0&&(tt(vn.props.value),ee&&ee(It,vn))},En=It=>vn=>{let Ze;if(vn.currentTarget.hasAttribute("tabindex")){if(V){Ze=Array.isArray(Ae)?Ae.slice():[];const $t=Ae.indexOf(It.props.value);$t===-1?Ze.push(It.props.value):Ze.splice($t,1)}else Ze=It.props.value;if(It.props.onClick&&It.props.onClick(vn),Ae!==Ze&&(tt(Ze),ee)){const $t=vn.nativeEvent||vn,Ft=new $t.constructor($t.type,$t);Object.defineProperty(Ft,"target",{writable:!0,value:{value:Ze,name:N}}),ee(Ft,It)}V||Ut(!1,vn)}},Mn=It=>{G||[" ","ArrowUp","ArrowDown","Enter"].includes(It.key)&&(It.preventDefault(),Ut(!0,It))},Me=qt!==null&&ft,on=It=>{!Me&&K&&(Object.defineProperty(It,"target",{writable:!0,value:{value:Ae,name:N}}),K(It))};delete De["aria-invalid"];let gt,un;const Lt=[];let Cr=!1;(Ky({value:Ae})||I)&&(Te?gt=Te(Ae):Cr=!0);const di=sr.map(It=>{if(!U.isValidElement(It))return null;let vn;if(V){if(!Array.isArray(Ae))throw new Error(Ha(2));vn=Ae.some(Ze=>oP(Ze,It.props.value)),vn&&Cr&&Lt.push(It.props.children)}else vn=oP(Ae,It.props.value),vn&&Cr&&(un=It.props.children);return U.cloneElement(It,{"aria-selected":vn?"true":"false",onClick:En(It),onKeyUp:Ze=>{Ze.key===" "&&Ze.preventDefault(),It.props.onKeyUp&&It.props.onKeyUp(Ze)},role:"option",selected:vn,value:void 0,"data-value":It.props.value})});Cr&&(V?Lt.length===0?gt=null:gt=Lt.reduce((It,vn,Ze)=>(It.push(vn),Ze<Lt.length-1&&It.push(", "),It),[]):gt=un);let Ur=nn;!p&&Ot&&qt&&(Ur=Gt.clientWidth);let Ai;typeof Ne<"u"?Ai=Ne:Ai=P?null:0;const ni=Be.id||(N?`mui-component-select-${N}`:void 0),Pn={...t,variant:qe,value:Ae,open:Me,error:D},zt=Q7(Pn),Ke={...L.PaperProps,...(dn=L.slotProps)==null?void 0:dn.paper},Nn=Xf();return Q.jsxs(U.Fragment,{children:[Q.jsx(K7,{as:"div",ref:Zt,tabIndex:Ai,role:"combobox","aria-controls":Me?Nn:void 0,"aria-disabled":P?"true":void 0,"aria-expanded":Me?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[q,ni].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":Le?"true":void 0,"aria-invalid":D?"true":void 0,onKeyDown:Mn,onMouseDown:P||G?null:At,onBlur:on,onFocus:ge,...Be,ownerState:Pn,className:wt(Be.className,zt.select,b),id:ni,children:J7(gt)?iP||(iP=Q.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):gt}),Q.jsx(Y7,{"aria-invalid":D,value:Array.isArray(Ae)?Ae.join(","):Ae,name:N,ref:ut,"aria-hidden":!0,onChange:Fn,tabIndex:-1,disabled:P,className:zt.nativeInput,autoFocus:h,required:Le,...De,ownerState:Pn}),Q.jsx(X7,{as:O,className:zt.icon,ownerState:Pn}),Q.jsx(k7,{id:`menu-${N||""}`,anchorEl:Gt,open:Me,onClose:en,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...L,slotProps:{...L.slotProps,list:{"aria-labelledby":q,role:"listbox","aria-multiselectable":V?"true":void 0,disableListWrap:!0,id:Nn,...L.MenuListProps},paper:{...Ke,style:{minWidth:Ur,...Ke!=null?Ke.style:null}}},children:di})]})}),tW=eW,nW=e=>{const{classes:t}=e,i=Yt({root:["root"]},cL,t);return{...t,...i}},iS={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>ys(e)&&e!=="variant",slot:"Root"},rW=et(eL,iS)(""),iW=et(lL,iS)(""),oW=et(YR,iS)(""),uL=U.forwardRef(function(t,n){const i=Jt({name:"MuiSelect",props:t}),{autoWidth:l=!1,children:h,classes:p={},className:a,defaultOpen:b=!1,displayEmpty:w=!1,IconComponent:T=z8,id:P,input:I,inputProps:D,label:O,labelId:j,MenuProps:q,multiple:L=!1,native:V=!1,onClose:N,onOpen:K,open:ee,renderValue:ue,SelectDisplayProps:ge,variant:he="outlined",...Pe}=i,G=V?j7:tW,Te=Gh(),Le=Wh({props:i,muiFormControl:Te,states:["variant","error"]}),Be=Le.variant||he,Ne={...i,variant:Be,classes:p},ze=nW(Ne),{root:Ve,...qe}=ze,De=I||{standard:Q.jsx(rW,{ownerState:Ne}),outlined:Q.jsx(iW,{label:O,ownerState:Ne}),filled:Q.jsx(oW,{ownerState:Ne})}[Be],Ae=ti(n,Vh(De));return Q.jsx(U.Fragment,{children:U.cloneElement(De,{inputComponent:G,inputProps:{children:h,error:Le.error,IconComponent:T,variant:Be,type:void 0,multiple:L,...V?{id:P}:{autoWidth:l,defaultOpen:b,displayEmpty:w,labelId:j,MenuProps:q,onClose:N,onOpen:K,open:ee,renderValue:ue,SelectDisplayProps:{id:P,...ge}},...D,classes:D?Hi(qe,D.classes):qe,...I?I.props.inputProps:{}},...(L&&V||w)&&Be==="outlined"?{notched:!0}:{},ref:Ae,className:wt(De.props.className,a,ze.root),...!I&&{variant:Be},...Pe})})});uL.muiName="Select";const sW=uL;function aW(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:i,open:l,resumeHideDuration:h}=e,p=nv();U.useEffect(()=>{if(!l)return;function L(V){V.defaultPrevented||V.key==="Escape"&&(i==null||i(V,"escapeKeyDown"))}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[l,i]);const a=pa((L,V)=>{i==null||i(L,V)}),b=pa(L=>{!i||L==null||p.start(L,()=>{a(null,"timeout")})});U.useEffect(()=>(l&&b(t),p.clear),[l,t,b,p]);const w=L=>{i==null||i(L,"clickaway")},T=p.clear,P=U.useCallback(()=>{t!=null&&b(h??t*.5)},[t,h,b]),I=L=>V=>{const N=L.onBlur;N==null||N(V),P()},D=L=>V=>{const N=L.onFocus;N==null||N(V),T()},O=L=>V=>{const N=L.onMouseEnter;N==null||N(V),T()},j=L=>V=>{const N=L.onMouseLeave;N==null||N(V),P()};return U.useEffect(()=>{if(!n&&l)return window.addEventListener("focus",P),window.addEventListener("blur",T),()=>{window.removeEventListener("focus",P),window.removeEventListener("blur",T)}},[n,l,P,T]),{getRootProps:(L={})=>{const V={...Gy(e),...Gy(L)};return{role:"presentation",...L,...V,onBlur:I(V),onFocus:D(V),onMouseEnter:O(V),onMouseLeave:j(V)}},onClickAway:w}}function lW(e){return Xt("MuiSnackbarContent",e)}Ht("MuiSnackbarContent",["root","message","action"]);const cW=e=>{const{classes:t}=e;return Yt({root:["root"],action:["action"],message:["message"]},lW,t)},uW=et(qi,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(yn(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=vR(e.palette.background.default,t);return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),hW=et("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),dW=et("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),pW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiSnackbarContent"}),{action:l,className:h,message:p,role:a="alert",...b}=i,w=i,T=cW(w);return Q.jsxs(uW,{role:a,square:!0,elevation:6,className:wt(T.root,h),ownerState:w,ref:n,...b,children:[Q.jsx(hW,{className:T.message,ownerState:w,children:p}),l?Q.jsx(dW,{className:T.action,ownerState:w,children:l}):null]})}),fW=pW;function mW(e){return Xt("MuiSnackbar",e)}Ht("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const gW=e=>{const{classes:t,anchorOrigin:n}=e,i={root:["root",`anchorOrigin${Qe(n.vertical)}${Qe(n.horizontal)}`]};return Yt(i,mW,t)},yW=et("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Qe(n.anchorOrigin.vertical)}${Qe(n.anchorOrigin.horizontal)}`]]}})(yn(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),vW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiSnackbar"}),l=Kc(),h={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:a,horizontal:b}={vertical:"bottom",horizontal:"left"},autoHideDuration:w=null,children:T,className:P,ClickAwayListenerProps:I,ContentProps:D,disableWindowBlurListener:O=!1,message:j,onBlur:q,onClose:L,onFocus:V,onMouseEnter:N,onMouseLeave:K,open:ee,resumeHideDuration:ue,slots:ge={},slotProps:he={},TransitionComponent:Pe,transitionDuration:G=h,TransitionProps:{onEnter:Te,onExited:Le,...Be}={},...Ne}=i,ze={...i,anchorOrigin:{vertical:a,horizontal:b},autoHideDuration:w,disableWindowBlurListener:O,TransitionComponent:Pe,transitionDuration:G},Ve=gW(ze),{getRootProps:qe,onClickAway:De}=aW({...ze}),[Ae,tt]=U.useState(!0),ft=Ut=>{tt(!0),Le&&Le(Ut)},ht=(Ut,At)=>{tt(!1),Te&&Te(Ut,At)},ut={slots:{transition:Pe,...ge},slotProps:{content:D,clickAwayListener:I,transition:Be,...he}},[Dt,qt]=An("root",{ref:n,className:[Ve.root,P],elementType:yW,getSlotProps:qe,externalForwardedProps:{...ut,...Ne},ownerState:ze}),[xt,{ownerState:Ot,...nn}]=An("clickAwayListener",{elementType:oU,externalForwardedProps:ut,getSlotProps:Ut=>({onClickAway:(...At)=>{var en;(en=Ut.onClickAway)==null||en.call(Ut,...At),De(...At)}}),ownerState:ze}),[Vt,mt]=An("content",{elementType:fW,shouldForwardComponentProp:!0,externalForwardedProps:ut,additionalProps:{message:j,action:p},ownerState:ze}),[Zt,Gt]=An("transition",{elementType:JR,externalForwardedProps:ut,getSlotProps:Ut=>({onEnter:(...At)=>{var en;(en=Ut.onEnter)==null||en.call(Ut,...At),ht(...At)},onExited:(...At)=>{var en;(en=Ut.onExited)==null||en.call(Ut,...At),ft(...At)}}),additionalProps:{appear:!0,in:ee,timeout:G,direction:a==="top"?"down":"up"},ownerState:ze});return!ee&&Ae?null:Q.jsx(xt,{...nn,...ge.clickAwayListener&&{ownerState:Ot},children:Q.jsx(Dt,{...qt,children:Q.jsx(Zt,{...Gt,children:T||Q.jsx(Vt,{...mt})})})})}),Sf=vW,_W=U.createContext(),hL=_W;function xW(e){return Xt("MuiTable",e)}Ht("MuiTable",["root","stickyHeader"]);const bW=e=>{const{classes:t,stickyHeader:n}=e;return Yt({root:["root",n&&"stickyHeader"]},xW,t)},wW=et("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(yn(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),sP="table",SW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTable"}),{className:l,component:h=sP,padding:p="normal",size:a="medium",stickyHeader:b=!1,...w}=i,T={...i,component:h,padding:p,size:a,stickyHeader:b},P=bW(T),I=U.useMemo(()=>({padding:p,size:a,stickyHeader:b}),[p,a,b]);return Q.jsx(hL.Provider,{value:I,children:Q.jsx(wW,{as:h,role:h===sP?null:"table",ref:n,className:wt(P.root,l),ownerState:T,...w})})}),CW=SW,TW=U.createContext(),cv=TW;function EW(e){return Xt("MuiTableBody",e)}Ht("MuiTableBody",["root"]);const PW=e=>{const{classes:t}=e;return Yt({root:["root"]},EW,t)},kW=et("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),AW={variant:"body"},aP="tbody",IW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTableBody"}),{className:l,component:h=aP,...p}=i,a={...i,component:h},b=PW(a);return Q.jsx(cv.Provider,{value:AW,children:Q.jsx(kW,{className:wt(b.root,l),as:h,ref:n,role:h===aP?null:"rowgroup",ownerState:a,...p})})}),MW=IW;function RW(e){return Xt("MuiTableCell",e)}const LW=Ht("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),DW=LW,zW=e=>{const{classes:t,variant:n,align:i,padding:l,size:h,stickyHeader:p}=e,a={root:["root",n,p&&"stickyHeader",i!=="inherit"&&`align${Qe(i)}`,l!=="normal"&&`padding${Qe(l)}`,`size${Qe(h)}`]};return Yt(a,RW,t)},BW=et("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Qe(n.size)}`],n.padding!=="normal"&&t[`padding${Qe(n.padding)}`],n.align!=="inherit"&&t[`align${Qe(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(yn(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Lh(Vn(e.palette.divider,1),.88):Rh(Vn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${DW.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),OW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTableCell"}),{align:l="inherit",className:h,component:p,padding:a,scope:b,size:w,sortDirection:T,variant:P,...I}=i,D=U.useContext(hL),O=U.useContext(cv),j=O&&O.variant==="head";let q;p?q=p:q=j?"th":"td";let L=b;q==="td"?L=void 0:!L&&j&&(L="col");const V=P||O&&O.variant,N={...i,align:l,component:q,padding:a||(D&&D.padding?D.padding:"normal"),size:w||(D&&D.size?D.size:"medium"),sortDirection:T,stickyHeader:V==="head"&&D&&D.stickyHeader,variant:V},K=zW(N);let ee=null;return T&&(ee=T==="asc"?"ascending":"descending"),Q.jsx(BW,{as:q,ref:n,className:wt(K.root,h),"aria-sort":ee,scope:L,ownerState:N,...I})}),es=OW;function FW(e){return Xt("MuiTableContainer",e)}Ht("MuiTableContainer",["root"]);const NW=e=>{const{classes:t}=e;return Yt({root:["root"]},FW,t)},$W=et("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),jW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTableContainer"}),{className:l,component:h="div",...p}=i,a={...i,component:h},b=NW(a);return Q.jsx($W,{ref:n,as:h,className:wt(b.root,l),ownerState:a,...p})}),VW=jW;function UW(e){return Xt("MuiTableHead",e)}Ht("MuiTableHead",["root"]);const WW=e=>{const{classes:t}=e;return Yt({root:["root"]},UW,t)},GW=et("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),HW={variant:"head"},lP="thead",qW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTableHead"}),{className:l,component:h=lP,...p}=i,a={...i,component:h},b=WW(a);return Q.jsx(cv.Provider,{value:HW,children:Q.jsx(GW,{as:h,className:wt(b.root,l),ref:n,role:h===lP?null:"rowgroup",ownerState:a,...p})})}),ZW=qW;function KW(e){return Xt("MuiToolbar",e)}Ht("MuiToolbar",["root","gutters","regular","dense"]);const XW=e=>{const{classes:t,disableGutters:n,variant:i}=e;return Yt({root:["root",!n&&"gutters",i]},KW,t)},YW=et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(yn(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),JW=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiToolbar"}),{className:l,component:h="div",disableGutters:p=!1,variant:a="regular",...b}=i,w={...i,component:h,disableGutters:p,variant:a},T=XW(w);return Q.jsx(YW,{as:h,className:wt(T.root,l),ref:n,ownerState:w,...b})}),QW=JW;function eG(e){return Xt("MuiTableRow",e)}const tG=Ht("MuiTableRow",["root","selected","hover","head","footer"]),cP=tG,nG=e=>{const{classes:t,selected:n,hover:i,head:l,footer:h}=e;return Yt({root:["root",n&&"selected",i&&"hover",l&&"head",h&&"footer"]},eG,t)},rG=et("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(yn(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${cP.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${cP.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Vn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),uP="tr",iG=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTableRow"}),{className:l,component:h=uP,hover:p=!1,selected:a=!1,...b}=i,w=U.useContext(cv),T={...i,component:h,hover:p,selected:a,head:w&&w.variant==="head",footer:w&&w.variant==="footer"},P=nG(T);return Q.jsx(rG,{as:h,ref:n,className:wt(P.root,l),role:h===uP?null:"row",ownerState:T,...b})}),hP=iG;function oG(e){return Xt("MuiTextField",e)}Ht("MuiTextField",["root"]);const sG={standard:eL,filled:YR,outlined:lL},aG=e=>{const{classes:t}=e;return Yt({root:["root"]},oG,t)},lG=et(v9,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cG=U.forwardRef(function(t,n){const i=Jt({props:t,name:"MuiTextField"}),{autoComplete:l,autoFocus:h=!1,children:p,className:a,color:b="primary",defaultValue:w,disabled:T=!1,error:P=!1,FormHelperTextProps:I,fullWidth:D=!1,helperText:O,id:j,InputLabelProps:q,inputProps:L,InputProps:V,inputRef:N,label:K,maxRows:ee,minRows:ue,multiline:ge=!1,name:he,onBlur:Pe,onChange:G,onFocus:Te,placeholder:Le,required:Be=!1,rows:Ne,select:ze=!1,SelectProps:Ve,slots:qe={},slotProps:De={},type:Ae,value:tt,variant:ft="outlined",...ht}=i,ut={...i,autoFocus:h,color:b,disabled:T,error:P,fullWidth:D,multiline:ge,required:Be,select:ze,variant:ft},Dt=aG(ut),qt=Xf(j),xt=O&&qt?`${qt}-helper-text`:void 0,Ot=K&&qt?`${qt}-label`:void 0,nn=sG[ft],Vt={slots:qe,slotProps:{input:V,inputLabel:q,htmlInput:L,formHelperText:I,select:Ve,...De}},mt={},Zt=Vt.slotProps.inputLabel;ft==="outlined"&&(Zt&&typeof Zt.shrink<"u"&&(mt.notched=Zt.shrink),mt.label=K),ze&&((!Ve||!Ve.native)&&(mt.id=void 0),mt["aria-describedby"]=void 0);const[Gt,Ut]=An("root",{elementType:lG,shouldForwardComponentProp:!0,externalForwardedProps:{...Vt,...ht},ownerState:ut,className:wt(Dt.root,a),ref:n,additionalProps:{disabled:T,error:P,fullWidth:D,required:Be,color:b,variant:ft}}),[At,en]=An("input",{elementType:nn,externalForwardedProps:Vt,additionalProps:mt,ownerState:ut}),[sr,Fn]=An("inputLabel",{elementType:j9,externalForwardedProps:Vt,ownerState:ut}),[En,Mn]=An("htmlInput",{elementType:"input",externalForwardedProps:Vt,ownerState:ut}),[Me,on]=An("formHelperText",{elementType:C9,externalForwardedProps:Vt,ownerState:ut}),[gt,un]=An("select",{elementType:sW,externalForwardedProps:Vt,ownerState:ut}),Lt=Q.jsx(At,{"aria-describedby":xt,autoComplete:l,autoFocus:h,defaultValue:w,fullWidth:D,multiline:ge,name:he,rows:Ne,maxRows:ee,minRows:ue,type:Ae,value:tt,id:qt,inputRef:N,onBlur:Pe,onChange:G,onFocus:Te,placeholder:Le,inputProps:Mn,slots:{input:qe.htmlInput?En:void 0},...en});return Q.jsxs(Gt,{...Ut,children:[K!=null&&K!==""&&Q.jsx(sr,{htmlFor:qt,id:Ot,...Fn,children:K}),ze?Q.jsx(gt,{"aria-describedby":xt,id:qt,labelId:Ot,value:tt,input:Lt,...un,children:p}):Lt,O&&Q.jsx(Me,{id:xt,...on,children:O})]})}),oh=cG,oS=U.createContext({});function sS(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const aS=typeof window<"u",dL=aS?U.useLayoutEffect:U.useEffect,uv=U.createContext(null),lS=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class uG extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,l=i instanceof HTMLElement&&i.offsetWidth||0,h=this.props.sizeRef.current;h.height=n.offsetHeight||0,h.width=n.offsetWidth||0,h.top=n.offsetTop,h.left=n.offsetLeft,h.right=l-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hG({children:e,isPresent:t,anchorX:n}){const i=U.useId(),l=U.useRef(null),h=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=U.useContext(lS);return U.useInsertionEffect(()=>{const{width:a,height:b,top:w,left:T,right:P}=h.current;if(t||!l.current||!a||!b)return;const I=n==="left"?`left: ${T}`:`right: ${P}`;l.current.dataset.motionPopId=i;const D=document.createElement("style");return p&&(D.nonce=p),document.head.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${w}px !important;
          }
        `),()=>{document.head.removeChild(D)}},[t]),Q.jsx(uG,{isPresent:t,childRef:l,sizeRef:h,children:U.cloneElement(e,{ref:l})})}const dG=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:l,presenceAffectsLayout:h,mode:p,anchorX:a})=>{const b=sS(pG),w=U.useId(),T=U.useCallback(I=>{b.set(I,!0);for(const D of b.values())if(!D)return;i&&i()},[b,i]),P=U.useMemo(()=>({id:w,initial:t,isPresent:n,custom:l,onExitComplete:T,register:I=>(b.set(I,!1),()=>b.delete(I))}),h?[Math.random(),T]:[n,T]);return U.useMemo(()=>{b.forEach((I,D)=>b.set(D,!1))},[n]),U.useEffect(()=>{!n&&!b.size&&i&&i()},[n]),p==="popLayout"&&(e=Q.jsx(hG,{isPresent:n,anchorX:a,children:e})),Q.jsx(uv.Provider,{value:P,children:e})};function pG(){return new Map}function pL(e=!0){const t=U.useContext(uv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:l}=t,h=U.useId();U.useEffect(()=>{if(e)return l(h)},[e]);const p=U.useCallback(()=>e&&i&&i(h),[h,i,e]);return!n&&i?[!1,p]:[!0]}const Dg=e=>e.key||"";function dP(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const fG=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:h="sync",propagate:p=!1,anchorX:a="left"})=>{const[b,w]=pL(p),T=U.useMemo(()=>dP(e),[e]),P=p&&!b?[]:T.map(Dg),I=U.useRef(!0),D=U.useRef(T),O=sS(()=>new Map),[j,q]=U.useState(T),[L,V]=U.useState(T);dL(()=>{I.current=!1,D.current=T;for(let ee=0;ee<L.length;ee++){const ue=Dg(L[ee]);P.includes(ue)?O.delete(ue):O.get(ue)!==!0&&O.set(ue,!1)}},[L,P.length,P.join("-")]);const N=[];if(T!==j){let ee=[...T];for(let ue=0;ue<L.length;ue++){const ge=L[ue],he=Dg(ge);P.includes(he)||(ee.splice(ue,0,ge),N.push(ge))}return h==="wait"&&N.length&&(ee=N),V(dP(ee)),q(T),null}const{forceRender:K}=U.useContext(oS);return Q.jsx(Q.Fragment,{children:L.map(ee=>{const ue=Dg(ee),ge=p&&!b?!1:T===L||P.includes(ue),he=()=>{if(O.has(ue))O.set(ue,!0);else return;let Pe=!0;O.forEach(G=>{G||(Pe=!1)}),Pe&&(K==null||K(),V(D.current),p&&(w==null||w()),i&&i())};return Q.jsx(dG,{isPresent:ge,initial:!I.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:h,onExitComplete:ge?void 0:he,anchorX:a,children:ee},ue)})})};function cS(e,t){e.indexOf(t)===-1&&e.push(t)}function uS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let fL=()=>{};const K1={skipAnimations:!1,useManualTiming:!1};function hS(e){let t;return()=>(t===void 0&&(t=e()),t)}const ds=e=>e,Cf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class dS{constructor(){this.subscriptions=[]}add(t){return cS(this.subscriptions,t),()=>uS(this.subscriptions,t)}notify(t,n,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,i);else for(let h=0;h<l;h++){const p=this.subscriptions[h];p&&p(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fa=e=>e*1e3,ma=e=>e/1e3;function mL(e,t){return t?e*(1e3/t):0}const mG=hS(()=>window.ScrollTimeline!==void 0);class gG{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(l=>{if(mG()&&l.attachTimeline)return l.attachTimeline(t);if(typeof n=="function")return n(l)});return()=>{i.forEach((l,h)=>{l&&l(),this.animations[h].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yG extends gG{then(t,n){return this.finished.finally(t).then(()=>{})}}const pP={value:null,addProjectionMetrics:null},pS=e=>Array.isArray(e)&&typeof e[0]=="number",vG={};function _G(e,t){const n=hS(e);return()=>vG[t]??n()}const Tf=_G(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gL=(e,t,n=10)=>{let i="";const l=Math.max(Math.round(t/n),2);for(let h=0;h<l;h++)i+=e(h/(l-1))+", ";return`linear(${i.substring(0,i.length-2)})`},kp=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,X1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kp([0,.65,.55,1]),circOut:kp([.55,0,1,.45]),backIn:kp([.31,.01,.66,-.59]),backOut:kp([.33,1.53,.69,.99])};function yL(e,t){if(e)return typeof e=="function"&&Tf()?gL(e,t):pS(e)?kp(e):Array.isArray(e)?e.map(n=>yL(n,t)||X1.easeOut):X1[e]}function xG(e,t,n,{delay:i=0,duration:l=300,repeat:h=0,repeatType:p="loop",ease:a="easeInOut",times:b}={},w=void 0){const T={[t]:n};b&&(T.offset=b);const P=yL(a,l);return Array.isArray(P)&&(T.easing=P),e.animate(T,{delay:i,duration:l,easing:Array.isArray(P)?"linear":P,fill:"both",iterations:h+1,direction:p==="reverse"?"alternate":"normal",pseudoElement:w})}function fS(e){return typeof e=="function"&&"applyToOptions"in e}function mS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Xy=2e4;function gS(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Xy;)t+=n,i=e.next(t);return t>=Xy?1/0:t}function bG(e,t=100,n){const i=n({...e,keyframes:[0,t]}),l=Math.min(gS(i),Xy);return{type:"keyframes",ease:h=>i.next(l*h).value/t,duration:ma(l)}}function vL(e){return!!(typeof e=="function"&&Tf()||!e||typeof e=="string"&&(e in X1||Tf())||pS(e)||Array.isArray(e)&&e.every(vL))}function fP(e,t){e.timeline=t,e.onfinish=null}const zg=["read","resolveKeyframes","update","preRender","render","postRender"];function wG(e,t){let n=new Set,i=new Set,l=!1,h=!1;const p=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},b=0;function w(P){p.has(P)&&(T.schedule(P),e()),b++,P(a)}const T={schedule:(P,I=!1,D=!1)=>{const j=D&&l?n:i;return I&&p.add(P),j.has(P)||j.add(P),P},cancel:P=>{i.delete(P),p.delete(P)},process:P=>{if(a=P,l){h=!0;return}l=!0,[n,i]=[i,n],n.forEach(w),t&&pP.value&&pP.value.frameloop[t].push(b),b=0,n.clear(),l=!1,h&&(h=!1,T.process(P))}};return T}const SG=40;function _L(e,t){let n=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},h=()=>n=!0,p=zg.reduce((L,V)=>(L[V]=wG(h,t?V:void 0),L),{}),{read:a,resolveKeyframes:b,update:w,preRender:T,render:P,postRender:I}=p,D=()=>{const L=performance.now();n=!1,l.delta=i?1e3/60:Math.max(Math.min(L-l.timestamp,SG),1),l.timestamp=L,l.isProcessing=!0,a.process(l),b.process(l),w.process(l),T.process(l),P.process(l),I.process(l),l.isProcessing=!1,n&&t&&(i=!1,e(D))},O=()=>{n=!0,i=!0,l.isProcessing||e(D)};return{schedule:zg.reduce((L,V)=>{const N=p[V];return L[V]=(K,ee=!1,ue=!1)=>(n||O(),N.schedule(K,ee,ue)),L},{}),cancel:L=>{for(let V=0;V<zg.length;V++)p[zg[V]].cancel(L)},state:l,steps:p}}const{schedule:yS,cancel:xQ}=_L(queueMicrotask,!1),{schedule:or,cancel:Wl,state:wi,steps:mx}=_L(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let oy;function CG(){oy=void 0}const ga={now:()=>(oy===void 0&&ga.set(wi.isProcessing||K1.useManualTiming?wi.timestamp:performance.now()),oy),set:e=>{oy=e,queueMicrotask(CG)}},Ms={x:!1,y:!1};function xL(){return Ms.x||Ms.y}function TG(e){return e==="x"||e==="y"?Ms[e]?null:(Ms[e]=!0,()=>{Ms[e]=!1}):Ms.x||Ms.y?null:(Ms.x=Ms.y=!0,()=>{Ms.x=Ms.y=!1})}function EG(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);const l=(n==null?void 0:n[e])??i.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function bL(e,t){const n=EG(e),i=new AbortController,l={passive:!0,...t,signal:i.signal};return[n,l,()=>i.abort()]}function mP(e){return!(e.pointerType==="touch"||xL())}function PG(e,t,n={}){const[i,l,h]=bL(e,n),p=a=>{if(!mP(a))return;const{target:b}=a,w=t(b,a);if(typeof w!="function"||!b)return;const T=P=>{mP(P)&&(w(P),b.removeEventListener("pointerleave",T))};b.addEventListener("pointerleave",T,l)};return i.forEach(a=>{a.addEventListener("pointerenter",p,l)}),h}const wL=(e,t)=>t?e===t?!0:wL(e,t.parentElement):!1,vS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AG(e){return kG.has(e.tagName)||e.tabIndex!==-1}const Ap=new WeakSet;function gP(e){return t=>{t.key==="Enter"&&e(t)}}function gx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const IG=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=gP(()=>{if(Ap.has(n))return;gx(n,"down");const l=gP(()=>{gx(n,"up")}),h=()=>gx(n,"cancel");n.addEventListener("keyup",l,t),n.addEventListener("blur",h,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function yP(e){return vS(e)&&!xL()}function MG(e,t,n={}){const[i,l,h]=bL(e,n),p=a=>{const b=a.currentTarget;if(!yP(a)||Ap.has(b))return;Ap.add(b);const w=t(b,a),T=(D,O)=>{window.removeEventListener("pointerup",P),window.removeEventListener("pointercancel",I),!(!yP(D)||!Ap.has(b))&&(Ap.delete(b),typeof w=="function"&&w(D,{success:O}))},P=D=>{T(D,b===window||b===document||n.useGlobalTarget||wL(b,D.target))},I=D=>{T(D,!1)};window.addEventListener("pointerup",P,l),window.addEventListener("pointercancel",I,l)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",p,l),a instanceof HTMLElement&&(a.addEventListener("focus",w=>IG(w,l)),!AG(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),h}const vP=30,RG=e=>!isNaN(parseFloat(e));class LG{constructor(t,n={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,l=!0)=>{const h=ga.now();this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ga.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dS);const i=this.events[t].add(n);return t==="change"?()=>{i(),or.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ga.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vP);return mL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ef(e,t){return new LG(e,t)}const SL=U.createContext({strict:!1}),_P={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bh={};for(const e in _P)Bh[e]={isEnabled:t=>_P[e].some(n=>!!t[n])};function DG(e){for(const t in e)Bh[t]={...Bh[t],...e[t]}}const zG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zG.has(e)}let CL=e=>!Yy(e);function BG(e){e&&(CL=t=>t.startsWith("on")?!Yy(t):e(t))}try{BG(require("@emotion/is-prop-valid").default)}catch{}function OG(e,t,n){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(CL(l)||n===!0&&Yy(l)||!t&&!Yy(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}function FG(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,l)=>l==="create"?e:(t.has(l)||t.set(l,e(l)),t.get(l))})}const hv=U.createContext({});function dv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pf(e){return typeof e=="string"||Array.isArray(e)}const _S=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",..._S];function pv(e){return dv(e.animate)||xS.some(t=>Pf(e[t]))}function TL(e){return!!(pv(e)||e.variants)}function NG(e,t){if(pv(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Pf(n)?n:void 0,animate:Pf(i)?i:void 0}}return e.inherit!==!1?t:{}}function $G(e){const{initial:t,animate:n}=NG(e,U.useContext(hv));return U.useMemo(()=>({initial:t,animate:n}),[xP(t),xP(n)])}function xP(e){return Array.isArray(e)?e.join(" "):e}const jG=Symbol.for("motionComponentSymbol");function sh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VG(e,t,n){return U.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):sh(n)&&(n.current=i))},[t])}const bS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UG="framerAppearId",EL="data-"+bS(UG),PL=U.createContext({});function WG(e,t,n,i,l){var j,q;const{visualElement:h}=U.useContext(hv),p=U.useContext(SL),a=U.useContext(uv),b=U.useContext(lS).reducedMotion,w=U.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(e,{visualState:t,parent:h,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:b}));const T=w.current,P=U.useContext(PL);T&&!T.projection&&l&&(T.type==="html"||T.type==="svg")&&GG(w.current,n,l,P);const I=U.useRef(!1);U.useInsertionEffect(()=>{T&&I.current&&T.update(n,a)});const D=n[EL],O=U.useRef(!!D&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,D))&&((q=window.MotionHasOptimisedAnimation)==null?void 0:q.call(window,D)));return dL(()=>{T&&(I.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),yS.render(T.render),O.current&&T.animationState&&T.animationState.animateChanges())}),U.useEffect(()=>{T&&(!O.current&&T.animationState&&T.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,D)}),O.current=!1))}),T}function GG(e,t,n,i){const{layoutId:l,layout:h,drag:p,dragConstraints:a,layoutScroll:b,layoutRoot:w,layoutCrossfade:T}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kL(e.parent)),e.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!p||a&&sh(a),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,crossfade:T,layoutScroll:b,layoutRoot:w})}function kL(e){if(e)return e.options.allowProjection!==!1?e.projection:kL(e.parent)}function HG({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:l}){e&&DG(e);function h(a,b){let w;const T={...U.useContext(lS),...a,layoutId:qG(a)},{isStatic:P}=T,I=$G(a),D=i(a,P);if(!P&&aS){ZG();const O=KG(T);w=O.MeasureLayout,I.visualElement=WG(l,D,T,t,O.ProjectionNode)}return Q.jsxs(hv.Provider,{value:I,children:[w&&I.visualElement?Q.jsx(w,{visualElement:I.visualElement,...T}):null,n(l,a,VG(D,I.visualElement,b),D,P,I.visualElement)]})}h.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const p=U.forwardRef(h);return p[jG]=l,p}function qG({layoutId:e}){const t=U.useContext(oS).id;return t&&e!==void 0?t+"-"+e:e}function ZG(e,t){U.useContext(SL).strict}function KG(e){const{drag:t,layout:n}=Bh;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const AL=e=>t=>typeof t=="string"&&t.startsWith(e),wS=AL("--"),XG=AL("var(--"),SS=e=>XG(e)?YG.test(e.split("/*")[0].trim()):!1,YG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kf={};function JG(e){for(const t in e)kf[t]=e[t],wS(t)&&(kf[t].isCSSVariable=!0)}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xc=new Set(Hh);function IL(e,{layout:t,layoutId:n}){return Xc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kf[e]||e==="opacity")}const Gi=e=>!!(e&&e.getVelocity),ML=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xa=(e,t,n)=>n>t?t:n<e?e:n,qh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Af={...qh,transform:e=>Xa(0,1,e)},Bg={...qh,default:1},Yf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bl=Yf("deg"),ya=Yf("%"),Wt=Yf("px"),QG=Yf("vh"),eH=Yf("vw"),bP={...ya,parse:e=>ya.parse(e)/100,transform:e=>ya.transform(e*100)},tH={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt},nH={rotate:bl,rotateX:bl,rotateY:bl,rotateZ:bl,scale:Bg,scaleX:Bg,scaleY:Bg,scaleZ:Bg,skew:bl,skewX:bl,skewY:bl,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Af,originX:bP,originY:bP,originZ:Wt},wP={...qh,transform:Math.round},CS={...tH,...nH,zIndex:wP,size:Wt,fillOpacity:Af,strokeOpacity:Af,numOctaves:wP},rH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iH=Hh.length;function oH(e,t,n){let i="",l=!0;for(let h=0;h<iH;h++){const p=Hh[h],a=e[p];if(a===void 0)continue;let b=!0;if(typeof a=="number"?b=a===(p.startsWith("scale")?1:0):b=parseFloat(a)===0,!b||n){const w=ML(a,CS[p]);if(!b){l=!1;const T=rH[p]||p;i+=`${T}(${w}) `}n&&(t[p]=w)}}return i=i.trim(),n?i=n(t,l?"":i):l&&(i="none"),i}function TS(e,t,n){const{style:i,vars:l,transformOrigin:h}=e;let p=!1,a=!1;for(const b in t){const w=t[b];if(Xc.has(b)){p=!0;continue}else if(wS(b)){l[b]=w;continue}else{const T=ML(w,CS[b]);b.startsWith("origin")?(a=!0,h[b]=T):i[b]=T}}if(t.transform||(p||n?i.transform=oH(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:b="50%",originY:w="50%",originZ:T=0}=h;i.transformOrigin=`${b} ${w} ${T}`}}const ES=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RL(e,t,n){for(const i in t)!Gi(t[i])&&!IL(i,n)&&(e[i]=t[i])}function sH({transformTemplate:e},t){return U.useMemo(()=>{const n=ES();return TS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aH(e,t){const n=e.style||{},i={};return RL(i,n,e),Object.assign(i,sH(e,t)),i}function lH(e,t){const n={},i=aH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const cH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PS(e){return typeof e!="string"||e.includes("-")?!1:!!(cH.indexOf(e)>-1||/[A-Z]/u.test(e))}const uH={offset:"stroke-dashoffset",array:"stroke-dasharray"},hH={offset:"strokeDashoffset",array:"strokeDasharray"};function dH(e,t,n=1,i=0,l=!0){e.pathLength=1;const h=l?uH:hH;e[h.offset]=Wt.transform(-i);const p=Wt.transform(t),a=Wt.transform(n);e[h.array]=`${p} ${a}`}function SP(e,t,n){return typeof e=="string"?e:Wt.transform(t+n*e)}function pH(e,t,n){const i=SP(t,e.x,e.width),l=SP(n,e.y,e.height);return`${i} ${l}`}function kS(e,{attrX:t,attrY:n,attrScale:i,originX:l,originY:h,pathLength:p,pathSpacing:a=1,pathOffset:b=0,...w},T,P){if(TS(e,w,P),T){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:I,style:D,dimensions:O}=e;I.transform&&(O&&(D.transform=I.transform),delete I.transform),O&&(l!==void 0||h!==void 0||D.transform)&&(D.transformOrigin=pH(O,l!==void 0?l:.5,h!==void 0?h:.5)),t!==void 0&&(I.x=t),n!==void 0&&(I.y=n),i!==void 0&&(I.scale=i),p!==void 0&&dH(I,p,a,b,!1)}const LL=()=>({...ES(),attrs:{}}),AS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fH(e,t,n,i){const l=U.useMemo(()=>{const h=LL();return kS(h,t,AS(i),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};RL(h,e.style,e),l.style={...h,...l.style}}return l}function mH(e=!1){return(n,i,l,{latestValues:h},p)=>{const b=(PS(n)?fH:lH)(i,h,p,n),w=OG(i,typeof n=="string",e),T=n!==U.Fragment?{...w,...b,ref:l}:{},{children:P}=i,I=U.useMemo(()=>Gi(P)?P.get():P,[P]);return U.createElement(n,{...T,children:I})}}function CP(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function IS(e,t,n,i){if(typeof t=="function"){const[l,h]=CP(i);t=t(n!==void 0?n:e.custom,l,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,h]=CP(i);t=t(n!==void 0?n:e.custom,l,h)}return t}const Y1=e=>Array.isArray(e),gH=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yH=e=>Y1(e)?e[e.length-1]||0:e;function sy(e){const t=Gi(e)?e.get():e;return gH(t)?t.toValue():t}function vH({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,l,h){const p={latestValues:_H(i,l,h,e),renderState:t()};return n&&(p.onMount=a=>n({props:i,current:a,...p}),p.onUpdate=a=>n(a)),p}const DL=e=>(t,n)=>{const i=U.useContext(hv),l=U.useContext(uv),h=()=>vH(e,t,i,l);return n?h():sS(h)};function _H(e,t,n,i){const l={},h=i(e,{});for(const I in h)l[I]=sy(h[I]);let{initial:p,animate:a}=e;const b=pv(e),w=TL(e);t&&w&&!b&&e.inherit!==!1&&(p===void 0&&(p=t.initial),a===void 0&&(a=t.animate));let T=n?n.initial===!1:!1;T=T||p===!1;const P=T?a:p;if(P&&typeof P!="boolean"&&!dv(P)){const I=Array.isArray(P)?P:[P];for(let D=0;D<I.length;D++){const O=IS(e,I[D]);if(O){const{transitionEnd:j,transition:q,...L}=O;for(const V in L){let N=L[V];if(Array.isArray(N)){const K=T?N.length-1:0;N=N[K]}N!==null&&(l[V]=N)}for(const V in j)l[V]=j[V]}}}return l}function MS(e,t,n){var h;const{style:i}=e,l={};for(const p in i)(Gi(i[p])||t.style&&Gi(t.style[p])||IL(p,e)||((h=n==null?void 0:n.getValue(p))==null?void 0:h.liveStyle)!==void 0)&&(l[p]=i[p]);return l}const xH={useVisualState:DL({scrapeMotionValuesFromProps:MS,createRenderState:ES})};function zL(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function BL(e,{style:t,vars:n},i,l){Object.assign(e.style,t,l&&l.getProjectionStyles(i));for(const h in n)e.style.setProperty(h,n[h])}const OL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FL(e,t,n,i){BL(e,t,void 0,i);for(const l in t.attrs)e.setAttribute(OL.has(l)?l:bS(l),t.attrs[l])}function NL(e,t,n){const i=MS(e,t,n);for(const l in e)if(Gi(e[l])||Gi(t[l])){const h=Hh.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[h]=e[l]}return i}const TP=["x","y","width","height","cx","cy","r"],bH={useVisualState:DL({scrapeMotionValuesFromProps:NL,createRenderState:LL,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:l})=>{if(!n)return;let h=!!e.drag;if(!h){for(const a in l)if(Xc.has(a)){h=!0;break}}if(!h)return;let p=!t;if(t)for(let a=0;a<TP.length;a++){const b=TP[a];e[b]!==t[b]&&(p=!0)}p&&or.read(()=>{zL(n,i),or.render(()=>{kS(i,l,AS(n.tagName),e.transformTemplate),FL(n,i)})})}})};function wH(e,t){return function(i,{forwardMotionProps:l}={forwardMotionProps:!1}){const p={...PS(i)?bH:xH,preloadedFeatures:e,useRender:mH(l),createVisualElement:t,Component:i};return HG(p)}}function If(e,t,n){const i=e.getProps();return IS(i,t,n!==void 0?n:i.custom,e)}const $L=new Set(["width","height","top","left","right","bottom",...Hh]);function SH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ef(n))}function CH(e,t){const n=If(e,t);let{transitionEnd:i={},transition:l={},...h}=n||{};h={...h,...i};for(const p in h){const a=yH(h[p]);SH(e,p,a)}}function TH(e){return!!(Gi(e)&&e.add)}function J1(e,t){const n=e.getValue("willChange");if(TH(n))return n.add(t);if(!n&&K1.WillChange){const i=new K1.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function jL(e){return e.props[EL]}const VL=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,EH=1e-7,PH=12;function kH(e,t,n,i,l){let h,p,a=0;do p=t+(n-t)/2,h=VL(p,i,l)-e,h>0?n=p:t=p;while(Math.abs(h)>EH&&++a<PH);return p}function Jf(e,t,n,i){if(e===t&&n===i)return ds;const l=h=>kH(h,0,1,e,n);return h=>h===0||h===1?h:VL(l(h),t,i)}const UL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,WL=e=>t=>1-e(1-t),GL=Jf(.33,1.53,.69,.99),RS=WL(GL),HL=UL(RS),qL=e=>(e*=2)<1?.5*RS(e):.5*(2-Math.pow(2,-10*(e-1))),LS=e=>1-Math.sin(Math.acos(e)),ZL=WL(LS),KL=UL(LS),XL=e=>/^0[^.\s]+$/u.test(e);function AH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XL(e):!0}const Wp=e=>Math.round(e*1e5)/1e5,DS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IH(e){return e==null}const MH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zS=(e,t)=>n=>!!(typeof n=="string"&&MH.test(n)&&n.startsWith(e)||t&&!IH(n)&&Object.prototype.hasOwnProperty.call(n,t)),YL=(e,t,n)=>i=>{if(typeof i!="string")return i;const[l,h,p,a]=i.match(DS);return{[e]:parseFloat(l),[t]:parseFloat(h),[n]:parseFloat(p),alpha:a!==void 0?parseFloat(a):1}},RH=e=>Xa(0,255,e),yx={...qh,transform:e=>Math.round(RH(e))},Ic={test:zS("rgb","red"),parse:YL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+yx.transform(e)+", "+yx.transform(t)+", "+yx.transform(n)+", "+Wp(Af.transform(i))+")"};function LH(e){let t="",n="",i="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,i+=i,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Q1={test:zS("#"),parse:LH,transform:Ic.transform},ah={test:zS("hsl","hue"),parse:YL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ya.transform(Wp(t))+", "+ya.transform(Wp(n))+", "+Wp(Af.transform(i))+")"},ji={test:e=>Ic.test(e)||Q1.test(e)||ah.test(e),parse:e=>Ic.test(e)?Ic.parse(e):ah.test(e)?ah.parse(e):Q1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ic.transform(e):ah.transform(e)},DH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zH(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(DS))==null?void 0:t.length)||0)+(((n=e.match(DH))==null?void 0:n.length)||0)>0}const JL="number",QL="color",BH="var",OH="var(",EP="${}",FH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mf(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},l=[];let h=0;const a=t.replace(FH,b=>(ji.test(b)?(i.color.push(h),l.push(QL),n.push(ji.parse(b))):b.startsWith(OH)?(i.var.push(h),l.push(BH),n.push(b)):(i.number.push(h),l.push(JL),n.push(parseFloat(b))),++h,EP)).split(EP);return{values:n,split:a,indexes:i,types:l}}function e5(e){return Mf(e).values}function t5(e){const{split:t,types:n}=Mf(e),i=t.length;return l=>{let h="";for(let p=0;p<i;p++)if(h+=t[p],l[p]!==void 0){const a=n[p];a===JL?h+=Wp(l[p]):a===QL?h+=ji.transform(l[p]):h+=l[p]}return h}}const NH=e=>typeof e=="number"?0:e;function $H(e){const t=e5(e);return t5(e)(t.map(NH))}const Gl={test:zH,parse:e5,createTransformer:t5,getAnimatableNone:$H},jH=new Set(["brightness","contrast","saturate","opacity"]);function VH(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(DS)||[];if(!i)return e;const l=n.replace(i,"");let h=jH.has(t)?1:0;return i!==n&&(h*=100),t+"("+h+l+")"}const UH=/\b([a-z-]*)\(.*?\)/gu,eb={...Gl,getAnimatableNone:e=>{const t=e.match(UH);return t?t.map(VH).join(" "):e}},WH={...CS,color:ji,backgroundColor:ji,outlineColor:ji,fill:ji,stroke:ji,borderColor:ji,borderTopColor:ji,borderRightColor:ji,borderBottomColor:ji,borderLeftColor:ji,filter:eb,WebkitFilter:eb},n5=e=>WH[e];function r5(e,t){let n=n5(e);return n!==eb&&(n=Gl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const GH=new Set(["auto","none","0"]);function HH(e,t,n){let i=0,l;for(;i<e.length&&!l;){const h=e[i];typeof h=="string"&&!GH.has(h)&&Mf(h).values.length&&(l=e[i]),i++}if(l&&n)for(const h of t)e[h]=r5(n,l)}const Mc=e=>e*180/Math.PI,tb=e=>{const t=Mc(Math.atan2(e[1],e[0]));return nb(t)},qH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tb,rotateZ:tb,skewX:e=>Mc(Math.atan(e[1])),skewY:e=>Mc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},nb=e=>(e=e%360,e<0&&(e+=360),e),PP=tb,kP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),AP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ZH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:kP,scaleY:AP,scale:e=>(kP(e)+AP(e))/2,rotateX:e=>nb(Mc(Math.atan2(e[6],e[5]))),rotateY:e=>nb(Mc(Math.atan2(-e[2],e[0]))),rotateZ:PP,rotate:PP,skewX:e=>Mc(Math.atan(e[4])),skewY:e=>Mc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function IP(e){return e.includes("scale")?1:0}function rb(e,t){if(!e||e==="none")return IP(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(n)i=ZH,l=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=qH,l=a}if(!l)return IP(t);const h=i[t],p=l[1].split(",").map(XH);return typeof h=="function"?h(p):p[h]}const KH=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return rb(n,t)};function XH(e){return parseFloat(e.trim())}const MP=e=>e===qh||e===Wt,YH=new Set(["x","y","z"]),JH=Hh.filter(e=>!YH.has(e));function QH(e){const t=[];return JH.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Oh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rb(t,"x"),y:(e,{transform:t})=>rb(t,"y")};Oh.translateX=Oh.x;Oh.translateY=Oh.y;const zc=new Set;let ib=!1,ob=!1;function i5(){if(ob){const e=Array.from(zc).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const l=QH(i);l.length&&(n.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const l=n.get(i);l&&l.forEach(([h,p])=>{var a;(a=i.getValue(h))==null||a.set(p)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ob=!1,ib=!1,zc.forEach(e=>e.complete()),zc.clear()}function o5(){zc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ob=!0)})}function eq(){o5(),i5()}class BS{constructor(t,n,i,l,h,p=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=l,this.element=h,this.isAsync=p}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zc.add(this),ib||(ib=!0,or.read(o5),or.resolveKeyframes(i5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:l}=this;for(let h=0;h<t.length;h++)if(t[h]===null)if(h===0){const p=l==null?void 0:l.get(),a=t[t.length-1];if(p!==void 0)t[0]=p;else if(i&&n){const b=i.readValue(n,a);b!=null&&(t[0]=b)}t[0]===void 0&&(t[0]=a),l&&p===void 0&&l.set(t[0])}else t[h]=t[h-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const s5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nq(e){const t=tq.exec(e);if(!t)return[,];const[,n,i,l]=t;return[`--${n??i}`,l]}function a5(e,t,n=1){const[i,l]=nq(e);if(!i)return;const h=window.getComputedStyle(t).getPropertyValue(i);if(h){const p=h.trim();return s5(p)?parseFloat(p):p}return SS(l)?a5(l,t,n+1):l}const l5=e=>t=>t.test(e),rq={test:e=>e==="auto",parse:e=>e},c5=[qh,Wt,ya,bl,eH,QG,rq],RP=e=>c5.find(l5(e));class u5 extends BS{constructor(t,n,i,l,h){super(t,n,i,l,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let w=t[b];if(typeof w=="string"&&(w=w.trim(),SS(w))){const T=a5(w,n.current);T!==void 0&&(t[b]=T),b===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!$L.has(i)||t.length!==2)return;const[l,h]=t,p=RP(l),a=RP(h);if(p!==a)if(MP(p)&&MP(a))for(let b=0;b<t.length;b++){const w=t[b];typeof w=="string"&&(t[b]=parseFloat(w))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let l=0;l<t.length;l++)AH(t[l])&&i.push(l);i.length&&HH(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oh[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&t.getValue(i,l).jump(l,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const l=t.getValue(n);l&&l.jump(this.measuredOrigin,!1);const h=i.length-1,p=i[h];i[h]=Oh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([b,w])=>{t.getValue(b).set(w)}),this.resolveNoneKeyframes()}}const LP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gl.test(e)||e==="0")&&!e.startsWith("url("));function iq(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function oq(e,t,n,i){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],p=LP(l,t),a=LP(h,t);return!p||!a?!1:iq(e)||(n==="spring"||fS(n))&&i}const sq=e=>e!==null;function fv(e,{repeat:t,repeatType:n="loop"},i){const l=e.filter(sq),h=t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const aq=40;class h5{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:p="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ga.now(),this.options={autoplay:t,delay:n,type:i,repeat:l,repeatDelay:h,repeatType:p,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aq?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eq(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ga.now(),this.hasAttemptedResolve=!0;const{name:i,type:l,velocity:h,delay:p,onComplete:a,onUpdate:b,isGenerator:w}=this.options;if(!w&&!oq(t,i,l,h))if(p)this.options.duration=0;else{b&&b(fv(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const T=this.initPlayback(t,n);T!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...T},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const br=(e,t,n)=>e+(t-e)*n;function vx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lq({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let l=0,h=0,p=0;if(!t)l=h=p=n;else{const a=n<.5?n*(1+t):n+t-n*t,b=2*n-a;l=vx(b,a,e+1/3),h=vx(b,a,e),p=vx(b,a,e-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(p*255),alpha:i}}function Jy(e,t){return n=>n>0?t:e}const _x=(e,t,n)=>{const i=e*e,l=n*(t*t-i)+i;return l<0?0:Math.sqrt(l)},cq=[Q1,Ic,ah],uq=e=>cq.find(t=>t.test(e));function DP(e){const t=uq(e);if(!t)return!1;let n=t.parse(e);return t===ah&&(n=lq(n)),n}const zP=(e,t)=>{const n=DP(e),i=DP(t);if(!n||!i)return Jy(e,t);const l={...n};return h=>(l.red=_x(n.red,i.red,h),l.green=_x(n.green,i.green,h),l.blue=_x(n.blue,i.blue,h),l.alpha=br(n.alpha,i.alpha,h),Ic.transform(l))},hq=(e,t)=>n=>t(e(n)),Qf=(...e)=>e.reduce(hq),sb=new Set(["none","hidden"]);function dq(e,t){return sb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function pq(e,t){return n=>br(e,t,n)}function OS(e){return typeof e=="number"?pq:typeof e=="string"?SS(e)?Jy:ji.test(e)?zP:gq:Array.isArray(e)?d5:typeof e=="object"?ji.test(e)?zP:fq:Jy}function d5(e,t){const n=[...e],i=n.length,l=e.map((h,p)=>OS(h)(h,t[p]));return h=>{for(let p=0;p<i;p++)n[p]=l[p](h);return n}}function fq(e,t){const n={...e,...t},i={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(i[l]=OS(e[l])(e[l],t[l]));return l=>{for(const h in i)n[h]=i[h](l);return n}}function mq(e,t){const n=[],i={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const h=t.types[l],p=e.indexes[h][i[h]],a=e.values[p]??0;n[l]=a,i[h]++}return n}const gq=(e,t)=>{const n=Gl.createTransformer(t),i=Mf(e),l=Mf(t);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?sb.has(e)&&!l.values.length||sb.has(t)&&!i.values.length?dq(e,t):Qf(d5(mq(i,l),l.values),n):Jy(e,t)};function p5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?br(e,t,n):OS(e)(e,t)}const yq=5;function f5(e,t,n){const i=Math.max(t-yq,0);return mL(n-e(i),t-i)}const Ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xx=.001;function vq({duration:e=Ir.duration,bounce:t=Ir.bounce,velocity:n=Ir.velocity,mass:i=Ir.mass}){let l,h,p=1-t;p=Xa(Ir.minDamping,Ir.maxDamping,p),e=Xa(Ir.minDuration,Ir.maxDuration,ma(e)),p<1?(l=w=>{const T=w*p,P=T*e,I=T-n,D=ab(w,p),O=Math.exp(-P);return xx-I/D*O},h=w=>{const P=w*p*e,I=P*n+n,D=Math.pow(p,2)*Math.pow(w,2)*e,O=Math.exp(-P),j=ab(Math.pow(w,2),p);return(-l(w)+xx>0?-1:1)*((I-D)*O)/j}):(l=w=>{const T=Math.exp(-w*e),P=(w-n)*e+1;return-xx+T*P},h=w=>{const T=Math.exp(-w*e),P=(n-w)*(e*e);return T*P});const a=5/e,b=xq(l,h,a);if(e=fa(e),isNaN(b))return{stiffness:Ir.stiffness,damping:Ir.damping,duration:e};{const w=Math.pow(b,2)*i;return{stiffness:w,damping:p*2*Math.sqrt(i*w),duration:e}}}const _q=12;function xq(e,t,n){let i=n;for(let l=1;l<_q;l++)i=i-e(i)/t(i);return i}function ab(e,t){return e*Math.sqrt(1-t*t)}const bq=["duration","bounce"],wq=["stiffness","damping","mass"];function BP(e,t){return t.some(n=>e[n]!==void 0)}function Sq(e){let t={velocity:Ir.velocity,stiffness:Ir.stiffness,damping:Ir.damping,mass:Ir.mass,isResolvedFromDuration:!1,...e};if(!BP(e,wq)&&BP(e,bq))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),l=i*i,h=2*Xa(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:Ir.mass,stiffness:l,damping:h}}else{const n=vq(e);t={...t,...n,mass:Ir.mass},t.isResolvedFromDuration=!0}return t}function Qy(e=Ir.visualDuration,t=Ir.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:l}=n;const h=n.keyframes[0],p=n.keyframes[n.keyframes.length-1],a={done:!1,value:h},{stiffness:b,damping:w,mass:T,duration:P,velocity:I,isResolvedFromDuration:D}=Sq({...n,velocity:-ma(n.velocity||0)}),O=I||0,j=w/(2*Math.sqrt(b*T)),q=p-h,L=ma(Math.sqrt(b/T)),V=Math.abs(q)<5;i||(i=V?Ir.restSpeed.granular:Ir.restSpeed.default),l||(l=V?Ir.restDelta.granular:Ir.restDelta.default);let N;if(j<1){const ee=ab(L,j);N=ue=>{const ge=Math.exp(-j*L*ue);return p-ge*((O+j*L*q)/ee*Math.sin(ee*ue)+q*Math.cos(ee*ue))}}else if(j===1)N=ee=>p-Math.exp(-L*ee)*(q+(O+L*q)*ee);else{const ee=L*Math.sqrt(j*j-1);N=ue=>{const ge=Math.exp(-j*L*ue),he=Math.min(ee*ue,300);return p-ge*((O+j*L*q)*Math.sinh(he)+ee*q*Math.cosh(he))/ee}}const K={calculatedDuration:D&&P||null,next:ee=>{const ue=N(ee);if(D)a.done=ee>=P;else{let ge=0;j<1&&(ge=ee===0?fa(O):f5(N,ee,ue));const he=Math.abs(ge)<=i,Pe=Math.abs(p-ue)<=l;a.done=he&&Pe}return a.value=a.done?p:ue,a},toString:()=>{const ee=Math.min(gS(K),Xy),ue=gL(ge=>K.next(ee*ge).value,ee,30);return ee+"ms "+ue},toTransition:()=>{}};return K}Qy.applyToOptions=e=>{const t=bG(e,100,Qy);return e.ease=Tf()?t.ease:"easeOut",e.duration=fa(t.duration),e.type="keyframes",e};function OP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:h=500,modifyTarget:p,min:a,max:b,restDelta:w=.5,restSpeed:T}){const P=e[0],I={done:!1,value:P},D=he=>a!==void 0&&he<a||b!==void 0&&he>b,O=he=>a===void 0?b:b===void 0||Math.abs(a-he)<Math.abs(b-he)?a:b;let j=n*t;const q=P+j,L=p===void 0?q:p(q);L!==q&&(j=L-P);const V=he=>-j*Math.exp(-he/i),N=he=>L+V(he),K=he=>{const Pe=V(he),G=N(he);I.done=Math.abs(Pe)<=w,I.value=I.done?L:G};let ee,ue;const ge=he=>{D(I.value)&&(ee=he,ue=Qy({keyframes:[I.value,O(I.value)],velocity:f5(N,he,I.value),damping:l,stiffness:h,restDelta:w,restSpeed:T}))};return ge(0),{calculatedDuration:null,next:he=>{let Pe=!1;return!ue&&ee===void 0&&(Pe=!0,K(he),ge(he)),ee!==void 0&&he>=ee?ue.next(he-ee):(!Pe&&K(he),I)}}}const Cq=Jf(.42,0,1,1),Tq=Jf(0,0,.58,1),m5=Jf(.42,0,.58,1),Eq=e=>Array.isArray(e)&&typeof e[0]!="number",Pq={linear:ds,easeIn:Cq,easeInOut:m5,easeOut:Tq,circIn:LS,circInOut:KL,circOut:ZL,backIn:RS,backInOut:HL,backOut:GL,anticipate:qL},FP=e=>{if(pS(e)){fL(e.length===4);const[t,n,i,l]=e;return Jf(t,n,i,l)}else if(typeof e=="string")return Pq[e];return e};function kq(e,t,n){const i=[],l=n||p5,h=e.length-1;for(let p=0;p<h;p++){let a=l(e[p],e[p+1]);if(t){const b=Array.isArray(t)?t[p]||ds:t;a=Qf(b,a)}i.push(a)}return i}function Aq(e,t,{clamp:n=!0,ease:i,mixer:l}={}){const h=e.length;if(fL(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const p=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=kq(t,i,l),b=a.length,w=T=>{if(p&&T<e[0])return t[0];let P=0;if(b>1)for(;P<e.length-2&&!(T<e[P+1]);P++);const I=Cf(e[P],e[P+1],T);return a[P](I)};return n?T=>w(Xa(e[0],e[h-1],T)):w}function Iq(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const l=Cf(0,t,i);e.push(br(n,1,l))}}function Mq(e){const t=[0];return Iq(t,e.length-1),t}function Rq(e,t){return e.map(n=>n*t)}function Lq(e,t){return e.map(()=>t||m5).splice(0,e.length-1)}function e0({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const l=Eq(i)?i.map(FP):FP(i),h={done:!1,value:t[0]},p=Rq(n&&n.length===t.length?n:Mq(t),e),a=Aq(p,t,{ease:Array.isArray(l)?l:Lq(t,l)});return{calculatedDuration:e,next:b=>(h.value=a(b),h.done=b>=e,h)}}const Dq=e=>{const t=({timestamp:n})=>e(n);return{start:()=>or.update(t,!0),stop:()=>Wl(t),now:()=>wi.isProcessing?wi.timestamp:ga.now()}},zq={decay:OP,inertia:OP,tween:e0,keyframes:e0,spring:Qy},Bq=e=>e/100;class FS extends h5{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:b}=this.options;b&&b()};const{name:n,motionValue:i,element:l,keyframes:h}=this.options,p=(l==null?void 0:l.KeyframeResolver)||BS,a=(b,w)=>this.onKeyframesResolved(b,w);this.resolver=new p(h,a,n,i,l),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:h,velocity:p=0}=this.options,a=fS(n)?n:zq[n]||e0;let b,w;a!==e0&&typeof t[0]!="number"&&(b=Qf(Bq,p5(t[0],t[1])),t=[0,100]);const T=a({...this.options,keyframes:t});h==="mirror"&&(w=a({...this.options,keyframes:[...t].reverse(),velocity:-p})),T.calculatedDuration===null&&(T.calculatedDuration=gS(T));const{calculatedDuration:P}=T,I=P+l,D=I*(i+1)-l;return{generator:T,mirroredGenerator:w,mapPercentToKeyframes:b,calculatedDuration:P,resolvedDuration:I,totalDuration:D}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:he}=this.options;return{done:!0,value:he[he.length-1]}}const{finalKeyframe:l,generator:h,mirroredGenerator:p,mapPercentToKeyframes:a,keyframes:b,calculatedDuration:w,totalDuration:T,resolvedDuration:P}=i;if(this.startTime===null)return h.next(0);const{delay:I,repeat:D,repeatType:O,repeatDelay:j,onUpdate:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-T/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const L=this.currentTime-I*(this.speed>=0?1:-1),V=this.speed>=0?L<0:L>T;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=T);let N=this.currentTime,K=h;if(D){const he=Math.min(this.currentTime,T)/P;let Pe=Math.floor(he),G=he%1;!G&&he>=1&&(G=1),G===1&&Pe--,Pe=Math.min(Pe,D+1),!!(Pe%2)&&(O==="reverse"?(G=1-G,j&&(G-=j/P)):O==="mirror"&&(K=p)),N=Xa(0,1,G)*P}const ee=V?{done:!1,value:b[0]}:K.next(N);a&&(ee.value=a(ee.value));let{done:ue}=ee;!V&&w!==null&&(ue=this.speed>=0?this.currentTime>=T:this.currentTime<=0);const ge=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return ge&&l!==void 0&&(ee.value=fv(b,this.options,l)),q&&q(ee.value),ge&&this.finish(),ee}get duration(){const{resolved:t}=this;return t?ma(t.calculatedDuration):0}get time(){return ma(this.currentTime)}set time(t){t=fa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ma(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Dq,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),n&&n();const l=this.driver.now();this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=l):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const Oq=new Set(["opacity","clipPath","filter","transform"]),Fq=hS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),t0=10,Nq=2e4;function $q(e){return fS(e.type)||e.type==="spring"||!vL(e.ease)}function jq(e,t){const n=new FS({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const l=[];let h=0;for(;!i.done&&h<Nq;)i=n.sample(h),l.push(i.value),h+=t0;return{times:void 0,keyframes:l,duration:h-t0,ease:"linear"}}const g5={anticipate:qL,backInOut:HL,circInOut:KL};function Vq(e){return e in g5}class NP extends h5{constructor(t){super(t);const{name:n,motionValue:i,element:l,keyframes:h}=this.options;this.resolver=new u5(h,(p,a)=>this.onKeyframesResolved(p,a),n,i,l),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:l,ease:h,type:p,motionValue:a,name:b,startTime:w}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof h=="string"&&Tf()&&Vq(h)&&(h=g5[h]),$q(this.options)){const{onComplete:P,onUpdate:I,motionValue:D,element:O,...j}=this.options,q=jq(t,j);t=q.keyframes,t.length===1&&(t[1]=t[0]),i=q.duration,l=q.times,h=q.ease,p="keyframes"}const T=xG(a.owner.current,b,t,{...this.options,duration:i,times:l,ease:h});return T.startTime=w??this.calcStartTime(),this.pendingTimeline?(fP(T,this.pendingTimeline),this.pendingTimeline=void 0):T.onfinish=()=>{const{onComplete:P}=this.options;a.set(fv(t,this.options,n)),P&&P(),this.cancel(),this.resolveFinishedPromise()},{animation:T,duration:i,times:l,type:p,ease:h,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ma(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ma(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=fa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ds;const{animation:i}=n;fP(i,t)}return ds}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:l,type:h,ease:p,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:w,onUpdate:T,onComplete:P,element:I,...D}=this.options,O=new FS({...D,keyframes:i,duration:l,type:h,ease:p,times:a,isGenerator:!0}),j=fa(this.time);w.setWithVelocity(O.sample(j-t0).value,O.sample(j).value,t0)}const{onStop:b}=this.options;b&&b(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:l,repeatType:h,damping:p,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:b,transformTemplate:w}=n.owner.getProps();return Fq()&&i&&Oq.has(i)&&(i!=="transform"||!w)&&!b&&!l&&h!=="mirror"&&p!==0&&a!=="inertia"}}const Uq={type:"spring",stiffness:500,damping:25,restSpeed:10},Wq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Gq={type:"keyframes",duration:.8},Hq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qq=(e,{keyframes:t})=>t.length>2?Gq:Xc.has(e)?e.startsWith("scale")?Wq(t[1]):Uq:Hq;function Zq({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:l,repeat:h,repeatType:p,repeatDelay:a,from:b,elapsed:w,...T}){return!!Object.keys(T).length}const NS=(e,t,n,i={},l,h)=>p=>{const a=mS(i,e)||{},b=a.delay||i.delay||0;let{elapsed:w=0}=i;w=w-fa(b);let T={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-w,onUpdate:I=>{t.set(I),a.onUpdate&&a.onUpdate(I)},onComplete:()=>{p(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:h?void 0:l};Zq(a)||(T={...T,...qq(e,T)}),T.duration&&(T.duration=fa(T.duration)),T.repeatDelay&&(T.repeatDelay=fa(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let P=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(T.duration=0,T.delay===0&&(P=!0)),T.allowFlatten=!a.type&&!a.ease,P&&!h&&t.get()!==void 0){const I=fv(T.keyframes,a);if(I!==void 0)return or.update(()=>{T.onUpdate(I),T.onComplete()}),new yG([])}return!h&&NP.supports(T)?new NP(T):new FS(T)};function Kq({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function y5(e,t,{delay:n=0,transitionOverride:i,type:l}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:p,...a}=t;i&&(h=i);const b=[],w=l&&e.animationState&&e.animationState.getState()[l];for(const T in a){const P=e.getValue(T,e.latestValues[T]??null),I=a[T];if(I===void 0||w&&Kq(w,T))continue;const D={delay:n,...mS(h||{},T)};let O=!1;if(window.MotionHandoffAnimation){const q=jL(e);if(q){const L=window.MotionHandoffAnimation(q,T,or);L!==null&&(D.startTime=L,O=!0)}}J1(e,T),P.start(NS(T,P,I,e.shouldReduceMotion&&$L.has(T)?{type:!1}:D,e,O));const j=P.animation;j&&b.push(j)}return p&&Promise.all(b).then(()=>{or.update(()=>{p&&CH(e,p)})}),b}function lb(e,t,n={}){var b;const i=If(e,t,n.type==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const h=i?()=>Promise.all(y5(e,i,n)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:T=0,staggerChildren:P,staggerDirection:I}=l;return Xq(e,t,T+w,P,I,n)}:()=>Promise.resolve(),{when:a}=l;if(a){const[w,T]=a==="beforeChildren"?[h,p]:[p,h];return w().then(()=>T())}else return Promise.all([h(),p(n.delay)])}function Xq(e,t,n=0,i=0,l=1,h){const p=[],a=(e.variantChildren.size-1)*i,b=l===1?(w=0)=>w*i:(w=0)=>a-w*i;return Array.from(e.variantChildren).sort(Yq).forEach((w,T)=>{w.notify("AnimationStart",t),p.push(lb(w,t,{...h,delay:n+b(T)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(p)}function Yq(e,t){return e.sortNodePosition(t)}function Jq(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const l=t.map(h=>lb(e,h,n));i=Promise.all(l)}else if(typeof t=="string")i=lb(e,t,n);else{const l=typeof t=="function"?If(e,t,n.custom):t;i=Promise.all(y5(e,l,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function v5(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const Qq=xS.length;function _5(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?_5(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Qq;n++){const i=xS[n],l=e.props[i];(Pf(l)||l===!1)&&(t[i]=l)}return t}const eZ=[..._S].reverse(),tZ=_S.length;function nZ(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Jq(e,n,i)))}function rZ(e){let t=nZ(e),n=$P(),i=!0;const l=b=>(w,T)=>{var I;const P=If(e,T,b==="exit"?(I=e.presenceContext)==null?void 0:I.custom:void 0);if(P){const{transition:D,transitionEnd:O,...j}=P;w={...w,...j,...O}}return w};function h(b){t=b(e)}function p(b){const{props:w}=e,T=_5(e.parent)||{},P=[],I=new Set;let D={},O=1/0;for(let q=0;q<tZ;q++){const L=eZ[q],V=n[L],N=w[L]!==void 0?w[L]:T[L],K=Pf(N),ee=L===b?V.isActive:null;ee===!1&&(O=q);let ue=N===T[L]&&N!==w[L]&&K;if(ue&&i&&e.manuallyAnimateOnMount&&(ue=!1),V.protectedKeys={...D},!V.isActive&&ee===null||!N&&!V.prevProp||dv(N)||typeof N=="boolean")continue;const ge=iZ(V.prevProp,N);let he=ge||L===b&&V.isActive&&!ue&&K||q>O&&K,Pe=!1;const G=Array.isArray(N)?N:[N];let Te=G.reduce(l(L),{});ee===!1&&(Te={});const{prevResolvedValues:Le={}}=V,Be={...Le,...Te},Ne=qe=>{he=!0,I.has(qe)&&(Pe=!0,I.delete(qe)),V.needsAnimating[qe]=!0;const De=e.getValue(qe);De&&(De.liveStyle=!1)};for(const qe in Be){const De=Te[qe],Ae=Le[qe];if(D.hasOwnProperty(qe))continue;let tt=!1;Y1(De)&&Y1(Ae)?tt=!v5(De,Ae):tt=De!==Ae,tt?De!=null?Ne(qe):I.add(qe):De!==void 0&&I.has(qe)?Ne(qe):V.protectedKeys[qe]=!0}V.prevProp=N,V.prevResolvedValues=Te,V.isActive&&(D={...D,...Te}),i&&e.blockInitialAnimation&&(he=!1),he&&(!(ue&&ge)||Pe)&&P.push(...G.map(qe=>({animation:qe,options:{type:L}})))}if(I.size){const q={};if(typeof w.initial!="boolean"){const L=If(e,Array.isArray(w.initial)?w.initial[0]:w.initial);L&&L.transition&&(q.transition=L.transition)}I.forEach(L=>{const V=e.getBaseTarget(L),N=e.getValue(L);N&&(N.liveStyle=!0),q[L]=V??null}),P.push({animation:q})}let j=!!P.length;return i&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(j=!1),i=!1,j?t(P):Promise.resolve()}function a(b,w){var P;if(n[b].isActive===w)return Promise.resolve();(P=e.variantChildren)==null||P.forEach(I=>{var D;return(D=I.animationState)==null?void 0:D.setActive(b,w)}),n[b].isActive=w;const T=p(b);for(const I in n)n[I].protectedKeys={};return T}return{animateChanges:p,setActive:a,setAnimateFunction:h,getState:()=>n,reset:()=>{n=$P(),i=!0}}}function iZ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!v5(t,e):!1}function _c(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $P(){return{animate:_c(!0),whileInView:_c(),whileHover:_c(),whileTap:_c(),whileDrag:_c(),whileFocus:_c(),exit:_c()}}class Kl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class oZ extends Kl{constructor(t){super(t),t.animationState||(t.animationState=rZ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let sZ=0;class aZ extends Kl{constructor(){super(...arguments),this.id=sZ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const l=this.node.animationState.setActive("exit",!t);n&&!t&&l.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lZ={animation:{Feature:oZ},exit:{Feature:aZ}};function Rf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function em(e){return{point:{x:e.pageX,y:e.pageY}}}const cZ=e=>t=>vS(t)&&e(t,em(t));function Gp(e,t,n,i){return Rf(e,t,cZ(n),i)}function x5({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function uZ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hZ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const b5=1e-4,dZ=1-b5,pZ=1+b5,w5=.01,fZ=0-w5,mZ=0+w5;function ao(e){return e.max-e.min}function gZ(e,t,n){return Math.abs(e-t)<=n}function jP(e,t,n,i=.5){e.origin=i,e.originPoint=br(t.min,t.max,e.origin),e.scale=ao(n)/ao(t),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(e.scale>=dZ&&e.scale<=pZ||isNaN(e.scale))&&(e.scale=1),(e.translate>=fZ&&e.translate<=mZ||isNaN(e.translate))&&(e.translate=0)}function Hp(e,t,n,i){jP(e.x,t.x,n.x,i?i.originX:void 0),jP(e.y,t.y,n.y,i?i.originY:void 0)}function VP(e,t,n){e.min=n.min+t.min,e.max=e.min+ao(t)}function yZ(e,t,n){VP(e.x,t.x,n.x),VP(e.y,t.y,n.y)}function UP(e,t,n){e.min=t.min-n.min,e.max=e.min+ao(t)}function qp(e,t,n){UP(e.x,t.x,n.x),UP(e.y,t.y,n.y)}const WP=()=>({translate:0,scale:1,origin:0,originPoint:0}),lh=()=>({x:WP(),y:WP()}),GP=()=>({min:0,max:0}),$r=()=>({x:GP(),y:GP()});function rs(e){return[e("x"),e("y")]}function bx(e){return e===void 0||e===1}function cb({scale:e,scaleX:t,scaleY:n}){return!bx(e)||!bx(t)||!bx(n)}function Cc(e){return cb(e)||S5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function S5(e){return HP(e.x)||HP(e.y)}function HP(e){return e&&e!=="0%"}function n0(e,t,n){const i=e-n,l=t*i;return n+l}function qP(e,t,n,i,l){return l!==void 0&&(e=n0(e,l,i)),n0(e,n,i)+t}function ub(e,t=0,n=1,i,l){e.min=qP(e.min,t,n,i,l),e.max=qP(e.max,t,n,i,l)}function C5(e,{x:t,y:n}){ub(e.x,t.translate,t.scale,t.originPoint),ub(e.y,n.translate,n.scale,n.originPoint)}const ZP=.999999999999,KP=1.0000000000001;function vZ(e,t,n,i=!1){const l=n.length;if(!l)return;t.x=t.y=1;let h,p;for(let a=0;a<l;a++){h=n[a],p=h.projectionDelta;const{visualElement:b}=h.options;b&&b.props.style&&b.props.style.display==="contents"||(i&&h.options.layoutScroll&&h.scroll&&h!==h.root&&uh(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,C5(e,p)),i&&Cc(h.latestValues)&&uh(e,h.latestValues))}t.x<KP&&t.x>ZP&&(t.x=1),t.y<KP&&t.y>ZP&&(t.y=1)}function ch(e,t){e.min=e.min+t,e.max=e.max+t}function XP(e,t,n,i,l=.5){const h=br(e.min,e.max,l);ub(e,t,n,h,i)}function uh(e,t){XP(e.x,t.x,t.scaleX,t.scale,t.originX),XP(e.y,t.y,t.scaleY,t.scale,t.originY)}function T5(e,t){return x5(hZ(e.getBoundingClientRect(),t))}function _Z(e,t,n){const i=T5(e,n),{scroll:l}=t;return l&&(ch(i.x,l.offset.x),ch(i.y,l.offset.y)),i}const E5=({current:e})=>e?e.ownerDocument.defaultView:null,YP=(e,t)=>Math.abs(e-t);function xZ(e,t){const n=YP(e.x,t.x),i=YP(e.y,t.y);return Math.sqrt(n**2+i**2)}class P5{constructor(t,n,{transformPagePoint:i,contextWindow:l,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Sx(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,D=xZ(P.offset,{x:0,y:0})>=3;if(!I&&!D)return;const{point:O}=P,{timestamp:j}=wi;this.history.push({...O,timestamp:j});const{onStart:q,onMove:L}=this.handlers;I||(q&&q(this.lastMoveEvent,P),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,P)},this.handlePointerMove=(P,I)=>{this.lastMoveEvent=P,this.lastMoveEventInfo=wx(I,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(P,I)=>{this.end();const{onEnd:D,onSessionEnd:O,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Sx(P.type==="pointercancel"?this.lastMoveEventInfo:wx(I,this.transformPagePoint),this.history);this.startEvent&&D&&D(P,q),O&&O(P,q)},!vS(t))return;this.dragSnapToOrigin=h,this.handlers=n,this.transformPagePoint=i,this.contextWindow=l||window;const p=em(t),a=wx(p,this.transformPagePoint),{point:b}=a,{timestamp:w}=wi;this.history=[{...b,timestamp:w}];const{onSessionStart:T}=n;T&&T(t,Sx(a,this.history)),this.removeListeners=Qf(Gp(this.contextWindow,"pointermove",this.handlePointerMove),Gp(this.contextWindow,"pointerup",this.handlePointerUp),Gp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wl(this.updatePoint)}}function wx(e,t){return t?{point:t(e.point)}:e}function JP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sx({point:e},t){return{point:e,delta:JP(e,k5(t)),offset:JP(e,bZ(t)),velocity:wZ(t,.1)}}function bZ(e){return e[0]}function k5(e){return e[e.length-1]}function wZ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const l=k5(e);for(;n>=0&&(i=e[n],!(l.timestamp-i.timestamp>fa(t)));)n--;if(!i)return{x:0,y:0};const h=ma(l.timestamp-i.timestamp);if(h===0)return{x:0,y:0};const p={x:(l.x-i.x)/h,y:(l.y-i.y)/h};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function SZ(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?br(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?br(n,e,i.max):Math.min(e,n)),e}function QP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function CZ(e,{top:t,left:n,bottom:i,right:l}){return{x:QP(e.x,n,l),y:QP(e.y,t,i)}}function ek(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function TZ(e,t){return{x:ek(e.x,t.x),y:ek(e.y,t.y)}}function EZ(e,t){let n=.5;const i=ao(e),l=ao(t);return l>i?n=Cf(t.min,t.max-i,e.min):i>l&&(n=Cf(e.min,e.max-l,t.min)),Xa(0,1,n)}function PZ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hb=.35;function kZ(e=hb){return e===!1?e=0:e===!0&&(e=hb),{x:tk(e,"left","right"),y:tk(e,"top","bottom")}}function tk(e,t,n){return{min:nk(e,t),max:nk(e,n)}}function nk(e,t){return typeof e=="number"?e:e[t]||0}const AZ=new WeakMap;class IZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:P}=this.getProps();P?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(em(T).point)},h=(T,P)=>{const{drag:I,dragPropagation:D,onDragStart:O}=this.getProps();if(I&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TG(I),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs(q=>{let L=this.getAxisMotionValue(q).get()||0;if(ya.test(L)){const{projection:V}=this.visualElement;if(V&&V.layout){const N=V.layout.layoutBox[q];N&&(L=ao(N)*(parseFloat(L)/100))}}this.originPoint[q]=L}),O&&or.postRender(()=>O(T,P)),J1(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},p=(T,P)=>{const{dragPropagation:I,dragDirectionLock:D,onDirectionLock:O,onDrag:j}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:q}=P;if(D&&this.currentDirection===null){this.currentDirection=MZ(q),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",P.point,q),this.updateAxis("y",P.point,q),this.visualElement.render(),j&&j(T,P)},a=(T,P)=>this.stop(T,P),b=()=>rs(T=>{var P;return this.getAnimationState(T)==="paused"&&((P=this.getAxisMotionValue(T).animation)==null?void 0:P.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new P5(t,{onSessionStart:l,onStart:h,onMove:p,onSessionEnd:a,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:E5(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&or.postRender(()=>h(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:l}=this.getProps();if(!i||!Og(t,l,this.currentDirection))return;const h=this.getAxisMotionValue(t);let p=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(p=SZ(p,this.constraints[t],this.elastic[t])),h.set(p)}resolveConstraints(){var h;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(h=this.visualElement.projection)==null?void 0:h.layout,l=this.constraints;t&&sh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=CZ(i.layoutBox,t):this.constraints=!1,this.elastic=kZ(n),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rs(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=PZ(i.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sh(t))return!1;const i=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=_Z(i,l.root,this.visualElement.getTransformPagePoint());let p=TZ(l.layout.layoutBox,h);if(n){const a=n(uZ(p));this.hasMutatedConstraints=!!a,a&&(p=x5(a))}return p}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:l,dragTransition:h,dragSnapToOrigin:p,onDragTransitionEnd:a}=this.getProps(),b=this.constraints||{},w=rs(T=>{if(!Og(T,n,this.currentDirection))return;let P=b&&b[T]||{};p&&(P={min:0,max:0});const I=l?200:1e6,D=l?40:1e7,O={type:"inertia",velocity:i?t[T]:0,bounceStiffness:I,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,...P};return this.startAxisValueAnimation(T,O)});return Promise.all(w).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return J1(this.visualElement,t),i.start(NS(t,i,0,n,this.visualElement,!1))}stopAnimation(){rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),l=i[n];return l||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){rs(n=>{const{drag:i}=this.getProps();if(!Og(n,i,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(n);if(l&&l.layout){const{min:p,max:a}=l.layout.layoutBox[n];h.set(t[n]-br(p,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!sh(n)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};rs(p=>{const a=this.getAxisMotionValue(p);if(a&&this.constraints!==!1){const b=a.get();l[p]=EZ({min:b,max:b},this.constraints[p])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rs(p=>{if(!Og(p,t,null))return;const a=this.getAxisMotionValue(p),{min:b,max:w}=this.constraints[p];a.set(br(b,w,l[p]))})}addListeners(){if(!this.visualElement.current)return;AZ.set(this.visualElement,this);const t=this.visualElement.current,n=Gp(t,"pointerdown",b=>{const{drag:w,dragListener:T=!0}=this.getProps();w&&T&&this.start(b)}),i=()=>{const{dragConstraints:b}=this.getProps();sh(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,h=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),or.read(i);const p=Rf(window,"resize",()=>this.scalePositionWithinConstraints()),a=l.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w})=>{this.isDragging&&w&&(rs(T=>{const P=this.getAxisMotionValue(T);P&&(this.originPoint[T]+=b[T].translate,P.set(P.get()+b[T].translate))}),this.visualElement.render())});return()=>{p(),n(),h(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:p=hb,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:l,dragConstraints:h,dragElastic:p,dragMomentum:a}}}function Og(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function MZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class RZ extends Kl{constructor(t){super(t),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new IZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const rk=e=>(t,n)=>{e&&or.postRender(()=>e(t,n))};class LZ extends Kl{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(t){this.session=new P5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:rk(t),onStart:rk(n),onMove:i,onEnd:(h,p)=>{delete this.session,l&&or.postRender(()=>l(h,p))}}}mount(){this.removePointerDownListener=Gp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ay={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ik(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=ik(e,t.target.x),i=ik(e,t.target.y);return`${n}% ${i}%`}},DZ={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,l=Gl.parse(e);if(l.length>5)return i;const h=Gl.createTransformer(e),p=typeof l[0]!="number"?1:0,a=n.x.scale*t.x,b=n.y.scale*t.y;l[0+p]/=a,l[1+p]/=b;const w=br(a,b,.5);return typeof l[2+p]=="number"&&(l[2+p]/=w),typeof l[3+p]=="number"&&(l[3+p]/=w),h(l)}};class zZ extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:l}=this.props,{projection:h}=t;JG(BZ),h&&(n.group&&n.group.add(h),i&&i.register&&l&&i.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),ay.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:l,isPresent:h}=this.props,p=i.projection;return p&&(p.isPresent=h,l||t.layoutDependency!==n||n===void 0||t.isPresent!==h?p.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?p.promote():p.relegate()||or.postRender(()=>{const a=p.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function A5(e){const[t,n]=pL(),i=U.useContext(oS);return Q.jsx(zZ,{...e,layoutGroup:i,switchLayoutGroup:U.useContext(PL),isPresent:t,safeToRemove:n})}const BZ={borderRadius:{...vp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vp,borderTopRightRadius:vp,borderBottomLeftRadius:vp,borderBottomRightRadius:vp,boxShadow:DZ};function OZ(e,t,n){const i=Gi(e)?e:Ef(e);return i.start(NS("",i,t,n)),i.animation}function FZ(e){return e instanceof SVGElement&&e.tagName!=="svg"}const NZ=(e,t)=>e.depth-t.depth;class $Z{constructor(){this.children=[],this.isDirty=!1}add(t){cS(this.children,t),this.isDirty=!0}remove(t){uS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NZ),this.isDirty=!1,this.children.forEach(t)}}function jZ(e,t){const n=ga.now(),i=({timestamp:l})=>{const h=l-n;h>=t&&(Wl(i),e(h-t))};return or.read(i,!0),()=>Wl(i)}const I5=["TopLeft","TopRight","BottomLeft","BottomRight"],VZ=I5.length,ok=e=>typeof e=="string"?parseFloat(e):e,sk=e=>typeof e=="number"||Wt.test(e);function UZ(e,t,n,i,l,h){l?(e.opacity=br(0,n.opacity??1,WZ(i)),e.opacityExit=br(t.opacity??1,0,GZ(i))):h&&(e.opacity=br(t.opacity??1,n.opacity??1,i));for(let p=0;p<VZ;p++){const a=`border${I5[p]}Radius`;let b=ak(t,a),w=ak(n,a);if(b===void 0&&w===void 0)continue;b||(b=0),w||(w=0),b===0||w===0||sk(b)===sk(w)?(e[a]=Math.max(br(ok(b),ok(w),i),0),(ya.test(w)||ya.test(b))&&(e[a]+="%")):e[a]=w}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,i))}function ak(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const WZ=M5(0,.5,ZL),GZ=M5(.5,.95,ds);function M5(e,t,n){return i=>i<e?0:i>t?1:n(Cf(e,t,i))}function lk(e,t){e.min=t.min,e.max=t.max}function ts(e,t){lk(e.x,t.x),lk(e.y,t.y)}function ck(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uk(e,t,n,i,l){return e-=t,e=n0(e,1/n,i),l!==void 0&&(e=n0(e,1/l,i)),e}function HZ(e,t=0,n=1,i=.5,l,h=e,p=e){if(ya.test(t)&&(t=parseFloat(t),t=br(p.min,p.max,t/100)-p.min),typeof t!="number")return;let a=br(h.min,h.max,i);e===h&&(a-=t),e.min=uk(e.min,t,n,a,l),e.max=uk(e.max,t,n,a,l)}function hk(e,t,[n,i,l],h,p){HZ(e,t[n],t[i],t[l],t.scale,h,p)}const qZ=["x","scaleX","originX"],ZZ=["y","scaleY","originY"];function dk(e,t,n,i){hk(e.x,t,qZ,n?n.x:void 0,i?i.x:void 0),hk(e.y,t,ZZ,n?n.y:void 0,i?i.y:void 0)}function pk(e){return e.translate===0&&e.scale===1}function R5(e){return pk(e.x)&&pk(e.y)}function fk(e,t){return e.min===t.min&&e.max===t.max}function KZ(e,t){return fk(e.x,t.x)&&fk(e.y,t.y)}function mk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L5(e,t){return mk(e.x,t.x)&&mk(e.y,t.y)}function gk(e){return ao(e.x)/ao(e.y)}function yk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class XZ{constructor(){this.members=[]}add(t){cS(this.members,t),t.scheduleRender()}remove(t){if(uS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let i;for(let l=n;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){i=h;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YZ(e,t,n){let i="";const l=e.x.translate/t.x,h=e.y.translate/t.y,p=(n==null?void 0:n.z)||0;if((l||h||p)&&(i=`translate3d(${l}px, ${h}px, ${p}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:w,rotate:T,rotateX:P,rotateY:I,skewX:D,skewY:O}=n;w&&(i=`perspective(${w}px) ${i}`),T&&(i+=`rotate(${T}deg) `),P&&(i+=`rotateX(${P}deg) `),I&&(i+=`rotateY(${I}deg) `),D&&(i+=`skewX(${D}deg) `),O&&(i+=`skewY(${O}deg) `)}const a=e.x.scale*t.x,b=e.y.scale*t.y;return(a!==1||b!==1)&&(i+=`scale(${a}, ${b})`),i||"none"}const Cx=["","X","Y","Z"],JZ={visibility:"hidden"},vk=1e3;let QZ=0;function Tx(e,t,n,i){const{latestValues:l}=t;l[e]&&(n[e]=l[e],t.setStaticValue(e,0),i&&(i[e]=0))}function D5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",or,!(l||h))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&D5(i)}function z5({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(p={},a=t==null?void 0:t()){this.id=QZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nK),this.nodes.forEach(aK),this.nodes.forEach(lK),this.nodes.forEach(rK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new $Z)}addEventListener(p,a){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new dS),this.eventHandlers.get(p).add(a)}notifyListeners(p,...a){const b=this.eventHandlers.get(p);b&&b.notify(...a)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FZ(p),this.instance=p;const{layoutId:b,layout:w,visualElement:T}=this.options;if(T&&!T.current&&T.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(w||b)&&(this.isLayoutDirty=!0),e){let P;const I=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,P&&P(),P=jZ(I,250),ay.hasAnimatedSinceResize&&(ay.hasAnimatedSinceResize=!1,this.nodes.forEach(xk))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&T&&(b||w)&&this.addEventListener("didUpdate",({delta:P,hasLayoutChanged:I,hasRelativeLayoutChanged:D,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||T.getDefaultTransition()||pK,{onLayoutAnimationStart:q,onLayoutAnimationComplete:L}=T.getProps(),V=!this.targetLayout||!L5(this.targetLayout,O),N=!I&&D;if(this.options.layoutRoot||this.resumeFrom||N||I&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(P,N);const K={...mS(j,"layout"),onPlay:q,onComplete:L};(T.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else I||xk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cK),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const P=this.path[T];P.shouldResetTransform=!0,P.updateScroll("snapshot"),P.options.layoutRoot&&P.willUpdate(!1)}const{layoutId:a,layout:b}=this.options;if(a===void 0&&!b)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_k);return}this.isUpdating||this.nodes.forEach(oK),this.isUpdating=!1,this.nodes.forEach(sK),this.nodes.forEach(eK),this.nodes.forEach(tK),this.clearAllSnapshots();const a=ga.now();wi.delta=Xa(0,1e3/60,a-wi.timestamp),wi.timestamp=a,wi.isProcessing=!0,mx.update.process(wi),mx.preRender.process(wi),mx.render.process(wi),wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iK),this.sharedNodes.forEach(uK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ao(this.snapshot.measuredBox.x)&&!ao(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(a=!1),a){const b=i(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:b,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!l)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!R5(this.projectionDelta),b=this.getTransformTemplate(),w=b?b(this.latestValues,""):void 0,T=w!==this.prevTransformTemplateValue;p&&(a||Cc(this.latestValues)||T)&&(l(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const a=this.measurePageBox();let b=this.removeElementScroll(a);return p&&(b=this.removeTransform(b)),fK(b),{animationId:this.root.animationId,measuredBox:a,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var w;const{visualElement:p}=this.options;if(!p)return $r();const a=p.measureViewportBox();if(!(((w=this.scroll)==null?void 0:w.wasRoot)||this.path.some(mK))){const{scroll:T}=this.root;T&&(ch(a.x,T.offset.x),ch(a.y,T.offset.y))}return a}removeElementScroll(p){var b;const a=$r();if(ts(a,p),(b=this.scroll)!=null&&b.wasRoot)return a;for(let w=0;w<this.path.length;w++){const T=this.path[w],{scroll:P,options:I}=T;T!==this.root&&P&&I.layoutScroll&&(P.wasRoot&&ts(a,p),ch(a.x,P.offset.x),ch(a.y,P.offset.y))}return a}applyTransform(p,a=!1){const b=$r();ts(b,p);for(let w=0;w<this.path.length;w++){const T=this.path[w];!a&&T.options.layoutScroll&&T.scroll&&T!==T.root&&uh(b,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),Cc(T.latestValues)&&uh(b,T.latestValues)}return Cc(this.latestValues)&&uh(b,this.latestValues),b}removeTransform(p){const a=$r();ts(a,p);for(let b=0;b<this.path.length;b++){const w=this.path[b];if(!w.instance||!Cc(w.latestValues))continue;cb(w.latestValues)&&w.updateSnapshot();const T=$r(),P=w.measurePageBox();ts(T,P),dk(a,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,T)}return Cc(this.latestValues)&&dk(a,this.latestValues),a}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var I;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==a;if(!(p||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:P}=this.options;if(!(!this.layout||!(T||P))){if(this.resolvedRelativeTargetAt=wi.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),qp(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ts(this.target,this.layout.layoutBox),C5(this.target,this.targetDelta)):ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),qp(this.relativeTargetOrigin,this.target,D.target),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cb(this.parent.latestValues)||S5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const p=this.getLead(),a=!!this.resumingFrom||this!==p;let b=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(b=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===wi.timestamp&&(b=!1),b)return;const{layout:w,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||T))return;ts(this.layoutCorrected,this.layout.layoutBox);const P=this.treeScale.x,I=this.treeScale.y;vZ(this.layoutCorrected,this.treeScale,this.path,a),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=$r());const{target:D}=p;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ck(this.prevProjectionDelta.x,this.projectionDelta.x),ck(this.prevProjectionDelta.y,this.projectionDelta.y)),Hp(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==P||this.treeScale.y!==I||!yk(this.projectionDelta.x,this.prevProjectionDelta.x)||!yk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),p){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lh(),this.projectionDelta=lh(),this.projectionDeltaWithTransform=lh()}setAnimationOrigin(p,a=!1){const b=this.snapshot,w=b?b.latestValues:{},T={...this.latestValues},P=lh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const I=$r(),D=b?b.source:void 0,O=this.layout?this.layout.source:void 0,j=D!==O,q=this.getStack(),L=!q||q.members.length<=1,V=!!(j&&!L&&this.options.crossfade===!0&&!this.path.some(dK));this.animationProgress=0;let N;this.mixTargetDelta=K=>{const ee=K/1e3;bk(P.x,p.x,ee),bk(P.y,p.y,ee),this.setTargetDelta(P),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qp(I,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hK(this.relativeTarget,this.relativeTargetOrigin,I,ee),N&&KZ(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=$r()),ts(N,this.relativeTarget)),j&&(this.animationValues=T,UZ(T,w,this.latestValues,ee,V,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{ay.hasAnimatedSinceResize=!0,this.currentAnimation=OZ(0,vk,{...p,onUpdate:a=>{this.mixTargetDelta(a),p.onUpdate&&p.onUpdate(a)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:a,target:b,layout:w,latestValues:T}=p;if(!(!a||!b||!w)){if(this!==p&&this.layout&&w&&B5(this.options.animationType,this.layout.layoutBox,w.layoutBox)){b=this.target||$r();const P=ao(this.layout.layoutBox.x);b.x.min=p.target.x.min,b.x.max=b.x.min+P;const I=ao(this.layout.layoutBox.y);b.y.min=p.target.y.min,b.y.max=b.y.min+I}ts(a,b),uh(a,T),Hp(this.projectionDeltaWithTransform,this.layoutCorrected,a,T)}}registerSharedNode(p,a){this.sharedNodes.has(p)||this.sharedNodes.set(p,new XZ),this.sharedNodes.get(p).add(a);const w=a.options.initialPromotionConfig;a.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(a):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var a;const{layoutId:p}=this.options;return p?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:p}=this.options;return p?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:a,preserveFollowOpacity:b}={}){const w=this.getStack();w&&w.promote(this,b),p&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let a=!1;const{latestValues:b}=p;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(a=!0),!a)return;const w={};b.z&&Tx("z",p,w,this.animationValues);for(let T=0;T<Cx.length;T++)Tx(`rotate${Cx[T]}`,p,w,this.animationValues),Tx(`skew${Cx[T]}`,p,w,this.animationValues);p.render();for(const T in w)p.setStaticValue(T,w[T]),this.animationValues&&(this.animationValues[T]=w[T]);p.scheduleRender()}getProjectionStyles(p){if(!this.instance||this.isSVG)return;if(!this.isVisible)return JZ;const a={visibility:""},b=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=sy(p==null?void 0:p.pointerEvents)||"",a.transform=b?b(this.latestValues,""):"none",a;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=sy(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!Cc(this.latestValues)&&(D.transform=b?b({},""):"none",this.hasProjected=!1),D}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),a.transform=YZ(this.projectionDeltaWithTransform,this.treeScale,T),b&&(a.transform=b(T,a.transform));const{x:P,y:I}=this.projectionDelta;a.transformOrigin=`${P.origin*100}% ${I.origin*100}% 0`,w.animationValues?a.opacity=w===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:a.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const D in kf){if(T[D]===void 0)continue;const{correct:O,applyTo:j,isCSSVariable:q}=kf[D],L=a.transform==="none"?T[D]:O(T[D],w);if(j){const V=j.length;for(let N=0;N<V;N++)a[j[N]]=L}else q?this.options.visualElement.renderState.vars[D]=L:a[D]=L}return this.options.layoutId&&(a.pointerEvents=w===this?sy(p==null?void 0:p.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var a;return(a=p.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(_k),this.root.sharedNodes.clear()}}}function eK(e){e.updateLayout()}function tK(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=e.layout,{animationType:h}=e.options,p=t.source!==e.layout.source;h==="size"?rs(P=>{const I=p?t.measuredBox[P]:t.layoutBox[P],D=ao(I);I.min=i[P].min,I.max=I.min+D}):B5(h,t.layoutBox,i)&&rs(P=>{const I=p?t.measuredBox[P]:t.layoutBox[P],D=ao(i[P]);I.max=I.min+D,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[P].max=e.relativeTarget[P].min+D)});const a=lh();Hp(a,i,t.layoutBox);const b=lh();p?Hp(b,e.applyTransform(l,!0),t.measuredBox):Hp(b,i,t.layoutBox);const w=!R5(a);let T=!1;if(!e.resumeFrom){const P=e.getClosestProjectingParent();if(P&&!P.resumeFrom){const{snapshot:I,layout:D}=P;if(I&&D){const O=$r();qp(O,t.layoutBox,I.layoutBox);const j=$r();qp(j,i,D.layoutBox),L5(O,j)||(T=!0),P.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=O,e.relativeParent=P)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:b,layoutDelta:a,hasLayoutChanged:w,hasRelativeLayoutChanged:T})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function nK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iK(e){e.clearSnapshot()}function _k(e){e.clearMeasurements()}function oK(e){e.isLayoutDirty=!1}function sK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aK(e){e.resolveTargetDelta()}function lK(e){e.calcProjection()}function cK(e){e.resetSkewAndRotation()}function uK(e){e.removeLeadSnapshot()}function bk(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wk(e,t,n,i){e.min=br(t.min,n.min,i),e.max=br(t.max,n.max,i)}function hK(e,t,n,i){wk(e.x,t.x,n.x,i),wk(e.y,t.y,n.y,i)}function dK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pK={duration:.45,ease:[.4,0,.1,1]},Sk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ck=Sk("applewebkit/")&&!Sk("chrome/")?Math.round:ds;function Tk(e){e.min=Ck(e.min),e.max=Ck(e.max)}function fK(e){Tk(e.x),Tk(e.y)}function B5(e,t,n){return e==="position"||e==="preserve-aspect"&&!gZ(gk(t),gk(n),.2)}function mK(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const gK=z5({attachResizeListener:(e,t)=>Rf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ex={current:void 0},O5=z5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ex.current){const e=new gK({});e.mount(window),e.setOptions({layoutScroll:!0}),Ex.current=e}return Ex.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yK={pan:{Feature:LZ},drag:{Feature:RZ,ProjectionNode:O5,MeasureLayout:A5}};function Ek(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,h=i[l];h&&or.postRender(()=>h(t,em(t)))}class vK extends Kl{mount(){const{current:t}=this.node;t&&(this.unmount=PG(t,(n,i)=>(Ek(this.node,i,"Start"),l=>Ek(this.node,l,"End"))))}unmount(){}}class _K extends Kl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qf(Rf(this.node.current,"focus",()=>this.onFocus()),Rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pk(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),h=i[l];h&&or.postRender(()=>h(t,em(t)))}class xK extends Kl{mount(){const{current:t}=this.node;t&&(this.unmount=MG(t,(n,i)=>(Pk(this.node,i,"Start"),(l,{success:h})=>Pk(this.node,l,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const db=new WeakMap,Px=new WeakMap,bK=e=>{const t=db.get(e.target);t&&t(e)},wK=e=>{e.forEach(bK)};function SK({root:e,...t}){const n=e||document;Px.has(n)||Px.set(n,{});const i=Px.get(n),l=JSON.stringify(t);return i[l]||(i[l]=new IntersectionObserver(wK,{root:e,...t})),i[l]}function CK(e,t,n){const i=SK(t);return db.set(e,n),i.observe(e),()=>{db.delete(e),i.unobserve(e)}}const TK={some:0,all:1};class EK extends Kl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:l="some",once:h}=t,p={root:n?n.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:TK[l]},a=b=>{const{isIntersecting:w}=b;if(this.isInView===w||(this.isInView=w,h&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:T,onViewportLeave:P}=this.node.getProps(),I=w?T:P;I&&I(b)};return CK(this.node.current,p,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PK(t,n))&&this.startObserver()}unmount(){}}function PK({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kK={inView:{Feature:EK},tap:{Feature:xK},focus:{Feature:_K},hover:{Feature:vK}},AK={layout:{ProjectionNode:O5,MeasureLayout:A5}},pb={current:null},F5={current:!1};function IK(){if(F5.current=!0,!!aS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pb.current=e.matches;e.addListener(t),t()}else pb.current=!1}const MK=[...c5,ji,Gl],RK=e=>MK.find(l5(e)),LK=new WeakMap;function DK(e,t,n){for(const i in t){const l=t[i],h=n[i];if(Gi(l))e.addValue(i,l);else if(Gi(h))e.addValue(i,Ef(l,{owner:e}));else if(h!==l)if(e.hasValue(i)){const p=e.getValue(i);p.liveStyle===!0?p.jump(l):p.hasAnimated||p.set(l)}else{const p=e.getStaticValue(i);e.addValue(i,Ef(p!==void 0?p:l,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const kk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zK{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:h,visualState:p},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=ga.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,or.render(this.render,!1,!0))};const{latestValues:b,renderState:w,onUpdate:T}=p;this.onUpdate=T,this.latestValues=b,this.baseTarget={...b},this.initialValues=n.initial?{...b}:{},this.renderState=w,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=a,this.blockInitialAnimation=!!h,this.isControllingVariants=pv(n),this.isVariantNode=TL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:P,...I}=this.scrapeMotionValuesFromProps(n,{},this);for(const D in I){const O=I[D];b[D]!==void 0&&Gi(O)&&O.set(b[D],!1)}}mount(t){this.current=t,LK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),F5.current||IK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wl(this.notifyUpdate),Wl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Xc.has(t);i&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&or.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),h=n.on("renderRequest",this.scheduleRender);let p;window.MotionCheckAppearSync&&(p=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{l(),h(),p&&p(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bh){const n=Bh[t];if(!n)continue;const{isEnabled:i,Feature:l}=n;if(!this.features[t]&&l&&i(this.props)&&(this.features[t]=new l(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kk.length;i++){const l=kk[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const h="on"+l,p=t[h];p&&(this.propEventSubscriptions[l]=this.on(l,p))}this.prevMotionValues=DK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Ef(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(s5(i)||XL(i))?i=parseFloat(i):!RK(i)&&Gl.test(n)&&(i=r5(t,n)),this.setBaseTarget(t,Gi(i)?i.get():i)),Gi(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var h;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const p=IS(this.props,n,(h=this.presenceContext)==null?void 0:h.custom);p&&(i=p[t])}if(n&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Gi(l)?l:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class N5 extends zK{constructor(){super(...arguments),this.KeyframeResolver=u5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BK(e){return window.getComputedStyle(e)}class OK extends N5{constructor(){super(...arguments),this.type="html",this.renderInstance=BL}readValueFromInstance(t,n){if(Xc.has(n))return KH(t,n);{const i=BK(t),l=(wS(n)?i.getPropertyValue(n):i[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return T5(t,n)}build(t,n,i){TS(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return MS(t,n,i)}}class FK extends N5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$r,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&zL(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xc.has(n)){const i=n5(n);return i&&i.default||0}return n=OL.has(n)?n:bS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return NL(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&or.postRender(this.updateDimensions)}build(t,n,i){kS(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,l){FL(t,n,i,l)}mount(t){this.isSVGTag=AS(t.tagName),super.mount(t)}}const NK=(e,t)=>PS(e)?new FK(t):new OK(t,{allowProjection:e!==U.Fragment}),$K=wH({...lZ,...kK,...yK,...AK},NK),mv=FG($K),jK=vs(Q.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),VK=vs(Q.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),UK=vs(Q.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),WK=iv({palette:{mode:"dark",primary:{main:"#2ea043",light:"#3fb950",dark:"#238636"},background:{default:"#0d1117",paper:"#161b22"},text:{primary:"#c9d1d9",secondary:"#8b949e"}},typography:{fontFamily:'"Inter", sans-serif',h1:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h2:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h3:{fontFamily:'"Roboto", sans-serif',fontWeight:700},h4:{fontFamily:'"Roboto", sans-serif',fontWeight:500},h5:{fontFamily:'"Roboto", sans-serif',fontWeight:500},h6:{fontFamily:'"Roboto", sans-serif',fontWeight:500}},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"none",border:"1px solid #30363d",transition:"border-color 0.2s ease-in-out","&:hover":{borderColor:"#8b949e"}}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:6,transition:"all 0.2s","&:hover":{transform:"translateY(-1px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{backgroundColor:"#0d1117",borderRadius:6,border:"1px solid #30363d",transition:"border-color 0.2s","&:hover":{borderColor:"#8b949e"},"&.Mui-focused":{borderColor:"#2ea043"}}}}}}}),GK=vs(Q.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}));function $5(e,t){return function(){return e.apply(t,arguments)}}const{toString:HK}=Object.prototype,{getPrototypeOf:$S}=Object,gv=(e=>t=>{const n=HK.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),js=e=>(e=e.toLowerCase(),t=>gv(t)===e),yv=e=>t=>typeof t===e,{isArray:Zh}=Array,Lf=yv("undefined");function qK(e){return e!==null&&!Lf(e)&&e.constructor!==null&&!Lf(e.constructor)&&$o(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const j5=js("ArrayBuffer");function ZK(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&j5(e.buffer),t}const KK=yv("string"),$o=yv("function"),V5=yv("number"),vv=e=>e!==null&&typeof e=="object",XK=e=>e===!0||e===!1,ly=e=>{if(gv(e)!=="object")return!1;const t=$S(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YK=js("Date"),JK=js("File"),QK=js("Blob"),eX=js("FileList"),tX=e=>vv(e)&&$o(e.pipe),nX=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$o(e.append)&&((t=gv(e))==="formdata"||t==="object"&&$o(e.toString)&&e.toString()==="[object FormData]"))},rX=js("URLSearchParams"),[iX,oX,sX,aX]=["ReadableStream","Request","Response","Headers"].map(js),lX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,l;if(typeof e!="object"&&(e=[e]),Zh(e))for(i=0,l=e.length;i<l;i++)t.call(null,e[i],i,e);else{const h=n?Object.getOwnPropertyNames(e):Object.keys(e),p=h.length;let a;for(i=0;i<p;i++)a=h[i],t.call(null,e[a],a,e)}}function U5(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,l;for(;i-- >0;)if(l=n[i],t===l.toLowerCase())return l;return null}const Rc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),W5=e=>!Lf(e)&&e!==Rc;function fb(){const{caseless:e}=W5(this)&&this||{},t={},n=(i,l)=>{const h=e&&U5(t,l)||l;ly(t[h])&&ly(i)?t[h]=fb(t[h],i):ly(i)?t[h]=fb({},i):Zh(i)?t[h]=i.slice():t[h]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&tm(arguments[i],n);return t}const cX=(e,t,n,{allOwnKeys:i}={})=>(tm(t,(l,h)=>{n&&$o(l)?e[h]=$5(l,n):e[h]=l},{allOwnKeys:i}),e),uX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hX=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dX=(e,t,n,i)=>{let l,h,p;const a={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),h=l.length;h-- >0;)p=l[h],(!i||i(p,e,t))&&!a[p]&&(t[p]=e[p],a[p]=!0);e=n!==!1&&$S(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pX=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},fX=e=>{if(!e)return null;if(Zh(e))return e;let t=e.length;if(!V5(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mX=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$S(Uint8Array)),gX=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=i.next())&&!l.done;){const h=l.value;t.call(e,h[0],h[1])}},yX=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},vX=js("HTMLFormElement"),_X=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,l){return i.toUpperCase()+l}),Ak=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xX=js("RegExp"),G5=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};tm(n,(l,h)=>{let p;(p=t(l,h,e))!==!1&&(i[h]=p||l)}),Object.defineProperties(e,i)},bX=e=>{G5(e,(t,n)=>{if($o(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if($o(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wX=(e,t)=>{const n={},i=l=>{l.forEach(h=>{n[h]=!0})};return Zh(e)?i(e):i(String(e).split(t)),n},SX=()=>{},CX=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TX(e){return!!(e&&$o(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const EX=e=>{const t=new Array(10),n=(i,l)=>{if(vv(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[l]=i;const h=Zh(i)?[]:{};return tm(i,(p,a)=>{const b=n(p,l+1);!Lf(b)&&(h[a]=b)}),t[l]=void 0,h}}return i};return n(e,0)},PX=js("AsyncFunction"),kX=e=>e&&(vv(e)||$o(e))&&$o(e.then)&&$o(e.catch),H5=((e,t)=>e?setImmediate:t?((n,i)=>(Rc.addEventListener("message",({source:l,data:h})=>{l===Rc&&h===n&&i.length&&i.shift()()},!1),l=>{i.push(l),Rc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$o(Rc.postMessage)),AX=typeof queueMicrotask<"u"?queueMicrotask.bind(Rc):typeof process<"u"&&process.nextTick||H5,Oe={isArray:Zh,isArrayBuffer:j5,isBuffer:qK,isFormData:nX,isArrayBufferView:ZK,isString:KK,isNumber:V5,isBoolean:XK,isObject:vv,isPlainObject:ly,isReadableStream:iX,isRequest:oX,isResponse:sX,isHeaders:aX,isUndefined:Lf,isDate:YK,isFile:JK,isBlob:QK,isRegExp:xX,isFunction:$o,isStream:tX,isURLSearchParams:rX,isTypedArray:mX,isFileList:eX,forEach:tm,merge:fb,extend:cX,trim:lX,stripBOM:uX,inherits:hX,toFlatObject:dX,kindOf:gv,kindOfTest:js,endsWith:pX,toArray:fX,forEachEntry:gX,matchAll:yX,isHTMLForm:vX,hasOwnProperty:Ak,hasOwnProp:Ak,reduceDescriptors:G5,freezeMethods:bX,toObjectSet:wX,toCamelCase:_X,noop:SX,toFiniteNumber:CX,findKey:U5,global:Rc,isContextDefined:W5,isSpecCompliantForm:TX,toJSONObject:EX,isAsyncFn:PX,isThenable:kX,setImmediate:H5,asap:AX};function ln(e,t,n,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}Oe.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const q5=ln.prototype,Z5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Z5[e]={value:e}});Object.defineProperties(ln,Z5);Object.defineProperty(q5,"isAxiosError",{value:!0});ln.from=(e,t,n,i,l,h)=>{const p=Object.create(q5);return Oe.toFlatObject(e,p,function(b){return b!==Error.prototype},a=>a!=="isAxiosError"),ln.call(p,e.message,t,n,i,l),p.cause=e,p.name=e.name,h&&Object.assign(p,h),p};const IX=null;function mb(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function K5(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function Ik(e,t,n){return e?e.concat(t).map(function(l,h){return l=K5(l),!n&&h?"["+l+"]":l}).join(n?".":""):t}function MX(e){return Oe.isArray(e)&&!e.some(mb)}const RX=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function _v(e,t,n){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,q){return!Oe.isUndefined(q[j])});const i=n.metaTokens,l=n.visitor||T,h=n.dots,p=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(l))throw new TypeError("visitor must be a function");function w(O){if(O===null)return"";if(Oe.isDate(O))return O.toISOString();if(!b&&Oe.isBlob(O))throw new ln("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(O)||Oe.isTypedArray(O)?b&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function T(O,j,q){let L=O;if(O&&!q&&typeof O=="object"){if(Oe.endsWith(j,"{}"))j=i?j:j.slice(0,-2),O=JSON.stringify(O);else if(Oe.isArray(O)&&MX(O)||(Oe.isFileList(O)||Oe.endsWith(j,"[]"))&&(L=Oe.toArray(O)))return j=K5(j),L.forEach(function(N,K){!(Oe.isUndefined(N)||N===null)&&t.append(p===!0?Ik([j],K,h):p===null?j:j+"[]",w(N))}),!1}return mb(O)?!0:(t.append(Ik(q,j,h),w(O)),!1)}const P=[],I=Object.assign(RX,{defaultVisitor:T,convertValue:w,isVisitable:mb});function D(O,j){if(!Oe.isUndefined(O)){if(P.indexOf(O)!==-1)throw Error("Circular reference detected in "+j.join("."));P.push(O),Oe.forEach(O,function(L,V){(!(Oe.isUndefined(L)||L===null)&&l.call(t,L,Oe.isString(V)?V.trim():V,j,I))===!0&&D(L,j?j.concat(V):[V])}),P.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return D(e),t}function Mk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function jS(e,t){this._pairs=[],e&&_v(e,this,t)}const X5=jS.prototype;X5.append=function(t,n){this._pairs.push([t,n])};X5.toString=function(t){const n=t?function(i){return t.call(this,i,Mk)}:Mk;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function LX(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y5(e,t,n){if(!t)return e;const i=n&&n.encode||LX;Oe.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let h;if(l?h=l(t,n):h=Oe.isURLSearchParams(t)?t.toString():new jS(t,n).toString(i),h){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class DX{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Rk=DX,J5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zX=typeof URLSearchParams<"u"?URLSearchParams:jS,BX=typeof FormData<"u"?FormData:null,OX=typeof Blob<"u"?Blob:null,FX={isBrowser:!0,classes:{URLSearchParams:zX,FormData:BX,Blob:OX},protocols:["http","https","file","blob","url","data"]},VS=typeof window<"u"&&typeof document<"u",gb=typeof navigator=="object"&&navigator||void 0,NX=VS&&(!gb||["ReactNative","NativeScript","NS"].indexOf(gb.product)<0),$X=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jX=VS&&window.location.href||"http://localhost",VX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VS,hasStandardBrowserEnv:NX,hasStandardBrowserWebWorkerEnv:$X,navigator:gb,origin:jX},Symbol.toStringTag,{value:"Module"})),Wi={...VX,...FX};function UX(e,t){return _v(e,new Wi.classes.URLSearchParams,Object.assign({visitor:function(n,i,l,h){return Wi.isNode&&Oe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function WX(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GX(e){const t={},n=Object.keys(e);let i;const l=n.length;let h;for(i=0;i<l;i++)h=n[i],t[h]=e[h];return t}function Q5(e){function t(n,i,l,h){let p=n[h++];if(p==="__proto__")return!0;const a=Number.isFinite(+p),b=h>=n.length;return p=!p&&Oe.isArray(l)?l.length:p,b?(Oe.hasOwnProp(l,p)?l[p]=[l[p],i]:l[p]=i,!a):((!l[p]||!Oe.isObject(l[p]))&&(l[p]=[]),t(n,i,l[p],h)&&Oe.isArray(l[p])&&(l[p]=GX(l[p])),!a)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const n={};return Oe.forEachEntry(e,(i,l)=>{t(WX(i),l,n,0)}),n}return null}function HX(e,t,n){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const US={transitional:J5,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",l=i.indexOf("application/json")>-1,h=Oe.isObject(t);if(h&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return l?JSON.stringify(Q5(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(h){if(i.indexOf("application/x-www-form-urlencoded")>-1)return UX(t,this.formSerializer).toString();if((a=Oe.isFileList(t))||i.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return _v(a?{"files[]":t}:t,b&&new b,this.formSerializer)}}return h||l?(n.setContentType("application/json",!1),HX(t)):t}],transformResponse:[function(t){const n=this.transitional||US.transitional,i=n&&n.forcedJSONParsing,l=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(i&&!this.responseType||l)){const p=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(a){if(p)throw a.name==="SyntaxError"?ln.from(a,ln.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wi.classes.FormData,Blob:Wi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{US.headers[e]={}});const WS=US,qX=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZX=e=>{const t={};let n,i,l;return e&&e.split(`
`).forEach(function(p){l=p.indexOf(":"),n=p.substring(0,l).trim().toLowerCase(),i=p.substring(l+1).trim(),!(!n||t[n]&&qX[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Lk=Symbol("internals");function _p(e){return e&&String(e).trim().toLowerCase()}function cy(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(cy):String(e)}function KX(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const XX=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kx(e,t,n,i,l){if(Oe.isFunction(i))return i.call(this,t,n);if(l&&(t=n),!!Oe.isString(t)){if(Oe.isString(i))return t.indexOf(i)!==-1;if(Oe.isRegExp(i))return i.test(t)}}function YX(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function JX(e,t){const n=Oe.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(l,h,p){return this[i].call(this,t,l,h,p)},configurable:!0})})}class xv{constructor(t){t&&this.set(t)}set(t,n,i){const l=this;function h(a,b,w){const T=_p(b);if(!T)throw new Error("header name must be a non-empty string");const P=Oe.findKey(l,T);(!P||l[P]===void 0||w===!0||w===void 0&&l[P]!==!1)&&(l[P||b]=cy(a))}const p=(a,b)=>Oe.forEach(a,(w,T)=>h(w,T,b));if(Oe.isPlainObject(t)||t instanceof this.constructor)p(t,n);else if(Oe.isString(t)&&(t=t.trim())&&!XX(t))p(ZX(t),n);else if(Oe.isHeaders(t))for(const[a,b]of t.entries())h(b,a,i);else t!=null&&h(n,t,i);return this}get(t,n){if(t=_p(t),t){const i=Oe.findKey(this,t);if(i){const l=this[i];if(!n)return l;if(n===!0)return KX(l);if(Oe.isFunction(n))return n.call(this,l,i);if(Oe.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_p(t),t){const i=Oe.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||kx(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let l=!1;function h(p){if(p=_p(p),p){const a=Oe.findKey(i,p);a&&(!n||kx(i,i[a],a,n))&&(delete i[a],l=!0)}}return Oe.isArray(t)?t.forEach(h):h(t),l}clear(t){const n=Object.keys(this);let i=n.length,l=!1;for(;i--;){const h=n[i];(!t||kx(this,this[h],h,t,!0))&&(delete this[h],l=!0)}return l}normalize(t){const n=this,i={};return Oe.forEach(this,(l,h)=>{const p=Oe.findKey(i,h);if(p){n[p]=cy(l),delete n[h];return}const a=t?YX(h):String(h).trim();a!==h&&delete n[h],n[a]=cy(l),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Oe.forEach(this,(i,l)=>{i!=null&&i!==!1&&(n[l]=t&&Oe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(l=>i.set(l)),i}static accessor(t){const i=(this[Lk]=this[Lk]={accessors:{}}).accessors,l=this.prototype;function h(p){const a=_p(p);i[a]||(JX(l,p),i[a]=!0)}return Oe.isArray(t)?t.forEach(h):h(t),this}}xv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(xv.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});Oe.freezeMethods(xv);const Ns=xv;function Ax(e,t){const n=this||WS,i=t||n,l=Ns.from(i.headers);let h=i.data;return Oe.forEach(e,function(a){h=a.call(n,h,l.normalize(),t?t.status:void 0)}),l.normalize(),h}function eD(e){return!!(e&&e.__CANCEL__)}function Kh(e,t,n){ln.call(this,e??"canceled",ln.ERR_CANCELED,t,n),this.name="CanceledError"}Oe.inherits(Kh,ln,{__CANCEL__:!0});function tD(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new ln("Request failed with status code "+n.status,[ln.ERR_BAD_REQUEST,ln.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QX(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eY(e,t){e=e||10;const n=new Array(e),i=new Array(e);let l=0,h=0,p;return t=t!==void 0?t:1e3,function(b){const w=Date.now(),T=i[h];p||(p=w),n[l]=b,i[l]=w;let P=h,I=0;for(;P!==l;)I+=n[P++],P=P%e;if(l=(l+1)%e,l===h&&(h=(h+1)%e),w-p<t)return;const D=T&&w-T;return D?Math.round(I*1e3/D):void 0}}function tY(e,t){let n=0,i=1e3/t,l,h;const p=(w,T=Date.now())=>{n=T,l=null,h&&(clearTimeout(h),h=null),e.apply(null,w)};return[(...w)=>{const T=Date.now(),P=T-n;P>=i?p(w,T):(l=w,h||(h=setTimeout(()=>{h=null,p(l)},i-P)))},()=>l&&p(l)]}const r0=(e,t,n=3)=>{let i=0;const l=eY(50,250);return tY(h=>{const p=h.loaded,a=h.lengthComputable?h.total:void 0,b=p-i,w=l(b),T=p<=a;i=p;const P={loaded:p,total:a,progress:a?p/a:void 0,bytes:b,rate:w||void 0,estimated:w&&a&&T?(a-p)/w:void 0,event:h,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(P)},n)},Dk=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},zk=e=>(...t)=>Oe.asap(()=>e(...t)),nY=Wi.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wi.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wi.origin),Wi.navigator&&/(msie|trident)/i.test(Wi.navigator.userAgent)):()=>!0,rY=Wi.hasStandardBrowserEnv?{write(e,t,n,i,l,h){const p=[e+"="+encodeURIComponent(t)];Oe.isNumber(n)&&p.push("expires="+new Date(n).toGMTString()),Oe.isString(i)&&p.push("path="+i),Oe.isString(l)&&p.push("domain="+l),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oY(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nD(e,t,n){let i=!iY(t);return e&&(i||n==!1)?oY(e,t):t}const Bk=e=>e instanceof Ns?{...e}:e;function Uc(e,t){t=t||{};const n={};function i(w,T,P,I){return Oe.isPlainObject(w)&&Oe.isPlainObject(T)?Oe.merge.call({caseless:I},w,T):Oe.isPlainObject(T)?Oe.merge({},T):Oe.isArray(T)?T.slice():T}function l(w,T,P,I){if(Oe.isUndefined(T)){if(!Oe.isUndefined(w))return i(void 0,w,P,I)}else return i(w,T,P,I)}function h(w,T){if(!Oe.isUndefined(T))return i(void 0,T)}function p(w,T){if(Oe.isUndefined(T)){if(!Oe.isUndefined(w))return i(void 0,w)}else return i(void 0,T)}function a(w,T,P){if(P in t)return i(w,T);if(P in e)return i(void 0,w)}const b={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:a,headers:(w,T,P)=>l(Bk(w),Bk(T),P,!0)};return Oe.forEach(Object.keys(Object.assign({},e,t)),function(T){const P=b[T]||l,I=P(e[T],t[T],T);Oe.isUndefined(I)&&P!==a||(n[T]=I)}),n}const rD=e=>{const t=Uc({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:h,headers:p,auth:a}=t;t.headers=p=Ns.from(p),t.url=Y5(nD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&p.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let b;if(Oe.isFormData(n)){if(Wi.hasStandardBrowserEnv||Wi.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((b=p.getContentType())!==!1){const[w,...T]=b?b.split(";").map(P=>P.trim()).filter(Boolean):[];p.setContentType([w||"multipart/form-data",...T].join("; "))}}if(Wi.hasStandardBrowserEnv&&(i&&Oe.isFunction(i)&&(i=i(t)),i||i!==!1&&nY(t.url))){const w=l&&h&&rY.read(h);w&&p.set(l,w)}return t},sY=typeof XMLHttpRequest<"u",aY=sY&&function(e){return new Promise(function(n,i){const l=rD(e);let h=l.data;const p=Ns.from(l.headers).normalize();let{responseType:a,onUploadProgress:b,onDownloadProgress:w}=l,T,P,I,D,O;function j(){D&&D(),O&&O(),l.cancelToken&&l.cancelToken.unsubscribe(T),l.signal&&l.signal.removeEventListener("abort",T)}let q=new XMLHttpRequest;q.open(l.method.toUpperCase(),l.url,!0),q.timeout=l.timeout;function L(){if(!q)return;const N=Ns.from("getAllResponseHeaders"in q&&q.getAllResponseHeaders()),ee={data:!a||a==="text"||a==="json"?q.responseText:q.response,status:q.status,statusText:q.statusText,headers:N,config:e,request:q};tD(function(ge){n(ge),j()},function(ge){i(ge),j()},ee),q=null}"onloadend"in q?q.onloadend=L:q.onreadystatechange=function(){!q||q.readyState!==4||q.status===0&&!(q.responseURL&&q.responseURL.indexOf("file:")===0)||setTimeout(L)},q.onabort=function(){q&&(i(new ln("Request aborted",ln.ECONNABORTED,e,q)),q=null)},q.onerror=function(){i(new ln("Network Error",ln.ERR_NETWORK,e,q)),q=null},q.ontimeout=function(){let K=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const ee=l.transitional||J5;l.timeoutErrorMessage&&(K=l.timeoutErrorMessage),i(new ln(K,ee.clarifyTimeoutError?ln.ETIMEDOUT:ln.ECONNABORTED,e,q)),q=null},h===void 0&&p.setContentType(null),"setRequestHeader"in q&&Oe.forEach(p.toJSON(),function(K,ee){q.setRequestHeader(ee,K)}),Oe.isUndefined(l.withCredentials)||(q.withCredentials=!!l.withCredentials),a&&a!=="json"&&(q.responseType=l.responseType),w&&([I,O]=r0(w,!0),q.addEventListener("progress",I)),b&&q.upload&&([P,D]=r0(b),q.upload.addEventListener("progress",P),q.upload.addEventListener("loadend",D)),(l.cancelToken||l.signal)&&(T=N=>{q&&(i(!N||N.type?new Kh(null,e,q):N),q.abort(),q=null)},l.cancelToken&&l.cancelToken.subscribe(T),l.signal&&(l.signal.aborted?T():l.signal.addEventListener("abort",T)));const V=QX(l.url);if(V&&Wi.protocols.indexOf(V)===-1){i(new ln("Unsupported protocol "+V+":",ln.ERR_BAD_REQUEST,e));return}q.send(h||null)})},lY=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,l;const h=function(w){if(!l){l=!0,a();const T=w instanceof Error?w:this.reason;i.abort(T instanceof ln?T:new Kh(T instanceof Error?T.message:T))}};let p=t&&setTimeout(()=>{p=null,h(new ln(`timeout ${t} of ms exceeded`,ln.ETIMEDOUT))},t);const a=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(h):w.removeEventListener("abort",h)}),e=null)};e.forEach(w=>w.addEventListener("abort",h));const{signal:b}=i;return b.unsubscribe=()=>Oe.asap(a),b}},cY=lY,uY=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let i=0,l;for(;i<n;)l=i+t,yield e.slice(i,l),i=l},hY=async function*(e,t){for await(const n of dY(e))yield*uY(n,t)},dY=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Ok=(e,t,n,i)=>{const l=hY(e,t);let h=0,p,a=b=>{p||(p=!0,i&&i(b))};return new ReadableStream({async pull(b){try{const{done:w,value:T}=await l.next();if(w){a(),b.close();return}let P=T.byteLength;if(n){let I=h+=P;n(I)}b.enqueue(new Uint8Array(T))}catch(w){throw a(w),w}},cancel(b){return a(b),l.return()}},{highWaterMark:2})},bv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iD=bv&&typeof ReadableStream=="function",pY=bv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),oD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fY=iD&&oD(()=>{let e=!1;const t=new Request(Wi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Fk=64*1024,yb=iD&&oD(()=>Oe.isReadableStream(new Response("").body)),i0={stream:yb&&(e=>e.body)};bv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!i0[t]&&(i0[t]=Oe.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new ln(`Response type '${t}' is not supported`,ln.ERR_NOT_SUPPORT,i)})})})(new Response);const mY=async e=>{if(e==null)return 0;if(Oe.isBlob(e))return e.size;if(Oe.isSpecCompliantForm(e))return(await new Request(Wi.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(e)||Oe.isArrayBuffer(e))return e.byteLength;if(Oe.isURLSearchParams(e)&&(e=e+""),Oe.isString(e))return(await pY(e)).byteLength},gY=async(e,t)=>{const n=Oe.toFiniteNumber(e.getContentLength());return n??mY(t)},yY=bv&&(async e=>{let{url:t,method:n,data:i,signal:l,cancelToken:h,timeout:p,onDownloadProgress:a,onUploadProgress:b,responseType:w,headers:T,withCredentials:P="same-origin",fetchOptions:I}=rD(e);w=w?(w+"").toLowerCase():"text";let D=cY([l,h&&h.toAbortSignal()],p),O;const j=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let q;try{if(b&&fY&&n!=="get"&&n!=="head"&&(q=await gY(T,i))!==0){let ee=new Request(t,{method:"POST",body:i,duplex:"half"}),ue;if(Oe.isFormData(i)&&(ue=ee.headers.get("content-type"))&&T.setContentType(ue),ee.body){const[ge,he]=Dk(q,r0(zk(b)));i=Ok(ee.body,Fk,ge,he)}}Oe.isString(P)||(P=P?"include":"omit");const L="credentials"in Request.prototype;O=new Request(t,{...I,signal:D,method:n.toUpperCase(),headers:T.normalize().toJSON(),body:i,duplex:"half",credentials:L?P:void 0});let V=await fetch(O);const N=yb&&(w==="stream"||w==="response");if(yb&&(a||N&&j)){const ee={};["status","statusText","headers"].forEach(Pe=>{ee[Pe]=V[Pe]});const ue=Oe.toFiniteNumber(V.headers.get("content-length")),[ge,he]=a&&Dk(ue,r0(zk(a),!0))||[];V=new Response(Ok(V.body,Fk,ge,()=>{he&&he(),j&&j()}),ee)}w=w||"text";let K=await i0[Oe.findKey(i0,w)||"text"](V,e);return!N&&j&&j(),await new Promise((ee,ue)=>{tD(ee,ue,{data:K,headers:Ns.from(V.headers),status:V.status,statusText:V.statusText,config:e,request:O})})}catch(L){throw j&&j(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new ln("Network Error",ln.ERR_NETWORK,e,O),{cause:L.cause||L}):ln.from(L,L&&L.code,e,O)}}),vb={http:IX,xhr:aY,fetch:yY};Oe.forEach(vb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Nk=e=>`- ${e}`,vY=e=>Oe.isFunction(e)||e===null||e===!1,sD={getAdapter:e=>{e=Oe.isArray(e)?e:[e];const{length:t}=e;let n,i;const l={};for(let h=0;h<t;h++){n=e[h];let p;if(i=n,!vY(n)&&(i=vb[(p=String(n)).toLowerCase()],i===void 0))throw new ln(`Unknown adapter '${p}'`);if(i)break;l[p||"#"+h]=i}if(!i){const h=Object.entries(l).map(([a,b])=>`adapter ${a} `+(b===!1?"is not supported by the environment":"is not available in the build"));let p=t?h.length>1?`since :
`+h.map(Nk).join(`
`):" "+Nk(h[0]):"as no adapter specified";throw new ln("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return i},adapters:vb};function Ix(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kh(null,e)}function $k(e){return Ix(e),e.headers=Ns.from(e.headers),e.data=Ax.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sD.getAdapter(e.adapter||WS.adapter)(e).then(function(i){return Ix(e),i.data=Ax.call(e,e.transformResponse,i),i.headers=Ns.from(i.headers),i},function(i){return eD(i)||(Ix(e),i&&i.response&&(i.response.data=Ax.call(e,e.transformResponse,i.response),i.response.headers=Ns.from(i.response.headers))),Promise.reject(i)})}const aD="1.8.4",wv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wv[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const jk={};wv.transitional=function(t,n,i){function l(h,p){return"[Axios v"+aD+"] Transitional option '"+h+"'"+p+(i?". "+i:"")}return(h,p,a)=>{if(t===!1)throw new ln(l(p," has been removed"+(n?" in "+n:"")),ln.ERR_DEPRECATED);return n&&!jk[p]&&(jk[p]=!0,console.warn(l(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(h,p,a):!0}};wv.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function _Y(e,t,n){if(typeof e!="object")throw new ln("options must be an object",ln.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let l=i.length;for(;l-- >0;){const h=i[l],p=t[h];if(p){const a=e[h],b=a===void 0||p(a,h,e);if(b!==!0)throw new ln("option "+h+" must be "+b,ln.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ln("Unknown option "+h,ln.ERR_BAD_OPTION)}}const uy={assertOptions:_Y,validators:wv},ea=uy.validators;class o0{constructor(t){this.defaults=t,this.interceptors={request:new Rk,response:new Rk}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const h=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?h&&!String(i.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+h):i.stack=h}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Uc(this.defaults,n);const{transitional:i,paramsSerializer:l,headers:h}=n;i!==void 0&&uy.assertOptions(i,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean)},!1),l!=null&&(Oe.isFunction(l)?n.paramsSerializer={serialize:l}:uy.assertOptions(l,{encode:ea.function,serialize:ea.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),uy.assertOptions(n,{baseUrl:ea.spelling("baseURL"),withXsrfToken:ea.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=h&&Oe.merge(h.common,h[n.method]);h&&Oe.forEach(["delete","get","head","post","put","patch","common"],O=>{delete h[O]}),n.headers=Ns.concat(p,h);const a=[];let b=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(b=b&&j.synchronous,a.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let T,P=0,I;if(!b){const O=[$k.bind(this),void 0];for(O.unshift.apply(O,a),O.push.apply(O,w),I=O.length,T=Promise.resolve(n);P<I;)T=T.then(O[P++],O[P++]);return T}I=a.length;let D=n;for(P=0;P<I;){const O=a[P++],j=a[P++];try{D=O(D)}catch(q){j.call(this,q);break}}try{T=$k.call(this,D)}catch(O){return Promise.reject(O)}for(P=0,I=w.length;P<I;)T=T.then(w[P++],w[P++]);return T}getUri(t){t=Uc(this.defaults,t);const n=nD(t.baseURL,t.url,t.allowAbsoluteUrls);return Y5(n,t.params,t.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(t){o0.prototype[t]=function(n,i){return this.request(Uc(i||{},{method:t,url:n,data:(i||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function n(i){return function(h,p,a){return this.request(Uc(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}o0.prototype[t]=n(),o0.prototype[t+"Form"]=n(!0)});const hy=o0;class GS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(h){n=h});const i=this;this.promise.then(l=>{if(!i._listeners)return;let h=i._listeners.length;for(;h-- >0;)i._listeners[h](l);i._listeners=null}),this.promise.then=l=>{let h;const p=new Promise(a=>{i.subscribe(a),h=a}).then(l);return p.cancel=function(){i.unsubscribe(h)},p},t(function(h,p,a){i.reason||(i.reason=new Kh(h,p,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new GS(function(l){t=l}),cancel:t}}}const xY=GS;function bY(e){return function(n){return e.apply(null,n)}}function wY(e){return Oe.isObject(e)&&e.isAxiosError===!0}const _b={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_b).forEach(([e,t])=>{_b[t]=e});const SY=_b;function lD(e){const t=new hy(e),n=$5(hy.prototype.request,t);return Oe.extend(n,hy.prototype,t,{allOwnKeys:!0}),Oe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return lD(Uc(e,l))},n}const qr=lD(WS);qr.Axios=hy;qr.CanceledError=Kh;qr.CancelToken=xY;qr.isCancel=eD;qr.VERSION=aD;qr.toFormData=_v;qr.AxiosError=ln;qr.Cancel=qr.CanceledError;qr.all=function(t){return Promise.all(t)};qr.spread=bY;qr.isAxiosError=wY;qr.mergeConfig=Uc;qr.AxiosHeaders=Ns;qr.formToJSON=e=>Q5(Oe.isHTMLForm(e)?new FormData(e):e);qr.getAdapter=sD.getAdapter;qr.HttpStatusCode=SY;qr.default=qr;const Zp=qr;var cD={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(N3,function(){var n,i,l;function h(a,b){if(!n)n=b;else if(!i)i=b;else{var w="var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk);",T={};n(T),l=b(T),typeof window<"u"&&(l.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}h(["exports"],function(a){function b(s,r,c,d){return new(c||(c=Promise))(function(m,v){function x(M){try{k(d.next(M))}catch(z){v(z)}}function S(M){try{k(d.throw(M))}catch(z){v(z)}}function k(M){var z;M.done?m(M.value):(z=M.value,z instanceof c?z:new c(function($){$(z)})).then(x,S)}k((d=d.apply(s,r||[])).next())})}function w(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}typeof SuppressedError=="function"&&SuppressedError;var T=P;function P(s,r){this.x=s,this.y=r}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,r){return this.clone()._rotateAround(s,r)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var r=s.x-this.x,c=s.y-this.y;return r*r+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,r){return Math.atan2(this.x*r-this.y*s,this.x*s+this.y*r)},_matMult:function(s){var r=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=r,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var r=Math.cos(s),c=Math.sin(s),d=c*this.x+r*this.y;return this.x=r*this.x-c*this.y,this.y=d,this},_rotateAround:function(s,r){var c=Math.cos(s),d=Math.sin(s),m=r.y+d*(this.x-r.x)+c*(this.y-r.y);return this.x=r.x+c*(this.x-r.x)-d*(this.y-r.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},P.convert=function(s){return s instanceof P?s:Array.isArray(s)?new P(s[0],s[1]):s};var I=w(T),D=O;function O(s,r,c,d){this.cx=3*s,this.bx=3*(c-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(d-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=r,this.p2x=c,this.p2y=d}O.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,r){if(r===void 0&&(r=1e-6),s<0)return 0;if(s>1)return 1;for(var c=s,d=0;d<8;d++){var m=this.sampleCurveX(c)-s;if(Math.abs(m)<r)return c;var v=this.sampleCurveDerivativeX(c);if(Math.abs(v)<1e-6)break;c-=m/v}var x=0,S=1;for(c=s,d=0;d<20&&(m=this.sampleCurveX(c),!(Math.abs(m-s)<r));d++)s>m?x=c:S=c,c=.5*(S-x)+x;return c},solve:function(s,r){return this.sampleCurveY(this.solveCurveX(s,r))}};var j=w(D);let q,L;function V(){return q==null&&(q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),q}function N(){if(L==null&&(L=!1,V())){const r=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(r){for(let d=0;d<5*5;d++){const m=4*d;r.fillStyle=`rgb(${m},${m+1},${m+2})`,r.fillRect(d%5,Math.floor(d/5),1,1)}const c=r.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&c[d]!==d){L=!0;break}}}return L||!1}function K(s,r,c,d){const m=new j(s,r,c,d);return function(v){return m.solve(v)}}const ee=K(.25,.1,.25,1);function ue(s,r,c){return Math.min(c,Math.max(r,s))}function ge(s,r,c){const d=c-r,m=((s-r)%d+d)%d+r;return m===r?c:m}function he(s,...r){for(const c of r)for(const d in c)s[d]=c[d];return s}let Pe=1;function G(s,r,c){const d={};for(const m in s)d[m]=r.call(c||this,s[m],m,s);return d}function Te(s,r,c){const d={};for(const m in s)r.call(c||this,s[m],m,s)&&(d[m]=s[m]);return d}function Le(s){return Array.isArray(s)?s.map(Le):typeof s=="object"&&s?G(s,Le):s}const Be={};function Ne(s){Be[s]||(typeof console<"u"&&console.warn(s),Be[s]=!0)}function ze(s,r,c){return(c.y-s.y)*(r.x-s.x)>(r.y-s.y)*(c.x-s.x)}function Ve(s){let r=0;for(let c,d,m=0,v=s.length,x=v-1;m<v;x=m++)c=s[m],d=s[x],r+=(d.x-c.x)*(c.y+d.y);return r}function qe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let De=null;function Ae(s){return typeof ImageBitmap<"u"&&s instanceof ImageBitmap}const tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ft(s,r,c,d,m){return b(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(s,{timestamp:0});try{const x=v==null?void 0:v.format;if(!x||!x.startsWith("BGR")&&!x.startsWith("RGB"))throw new Error(`Unrecognized format ${x}`);const S=x.startsWith("BGR"),k=new Uint8ClampedArray(d*m*4);if(yield v.copyTo(k,function(M,z,$,H,Y){const J=4*Math.max(-z,0),re=(Math.max(0,$)-$)*H*4+J,ce=4*H,fe=Math.max(0,z),we=Math.max(0,$);return{rect:{x:fe,y:we,width:Math.min(M.width,z+H)-fe,height:Math.min(M.height,$+Y)-we},layout:[{offset:re,stride:ce}]}}(s,r,c,d,m)),S)for(let M=0;M<k.length;M+=4){const z=k[M];k[M]=k[M+2],k[M+2]=z}return k}finally{v.close()}})}let ht,ut,Dt,qt;const xt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(s){const r=requestAnimationFrame(s);return{cancel:()=>cancelAnimationFrame(r)}},getImageData(s,r=0){return this.getImageCanvasContext(s).getImageData(-r,-r,s.width+2*r,s.height+2*r)},getImageCanvasContext(s){const r=window.document.createElement("canvas"),c=r.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return r.width=s.width,r.height=s.height,c.drawImage(s,0,0,s.width,s.height),c},resolveURL:s=>(Dt||(Dt=document.createElement("a")),Dt.href=s,Dt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(qt==null&&(qt=matchMedia("(prefers-reduced-motion: reduce)")),qt.matches)}},Ot={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class nn extends Error{constructor(r,c,d,m){super(`AJAXError: ${c} (${r}): ${d}`),this.status=r,this.statusText=c,this.url=d,this.body=m}}const Vt=qe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,mt=s=>Ot.REGISTERED_PROTOCOLS[s.substring(0,s.indexOf("://"))];function Zt(s,r){const c=new AbortController,d=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,cache:s.cache,referrer:Vt(),signal:c.signal});let m=!1,v=!1;return s.type==="json"&&d.headers.set("Accept","application/json"),v||fetch(d).then(x=>x.ok?(S=>{(s.type==="arrayBuffer"||s.type==="image"?S.arrayBuffer():s.type==="json"?S.json():S.text()).then(k=>{v||(m=!0,r(null,k,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(k=>{v||r(new Error(k.message))})})(x):x.blob().then(S=>r(new nn(x.status,x.statusText,s.url,S)))).catch(x=>{x.code!==20&&r(new Error(x.message))}),{cancel:()=>{v=!0,m||c.abort()}}}const Gt=function(s,r){if(/:\/\//.test(s.url)&&!/^https?:|^file:/.test(s.url)){if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r);if(!qe())return(mt(s.url)||Zt)(s,r)}if(!(/^file:/.test(c=s.url)||/^file:/.test(Vt())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Zt(s,r);if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r,void 0,!0)}var c;return function(d,m){const v=new XMLHttpRequest;v.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(v.responseType="arraybuffer");for(const x in d.headers)v.setRequestHeader(x,d.headers[x]);return d.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=d.credentials==="include",v.onerror=()=>{m(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let x=v.response;if(d.type==="json")try{x=JSON.parse(v.response)}catch(S){return m(S)}m(null,x,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else{const x=new Blob([v.response],{type:v.getResponseHeader("Content-Type")});m(new nn(v.status,v.statusText,d.url,x))}},v.send(d.body),{cancel:()=>v.abort()}}(s,r)},Ut=function(s,r){return Gt(he(s,{type:"arrayBuffer"}),r)};function At(s){if(!s||s.indexOf("://")<=0||s.indexOf("data:image/")===0||s.indexOf("blob:")===0)return!0;const r=new URL(s),c=window.location;return r.protocol===c.protocol&&r.host===c.host}function en(s,r,c){c[s]&&c[s].indexOf(r)!==-1||(c[s]=c[s]||[],c[s].push(r))}function sr(s,r,c){if(c&&c[s]){const d=c[s].indexOf(r);d!==-1&&c[s].splice(d,1)}}class Fn{constructor(r,c={}){he(this,c),this.type=r}}class En extends Fn{constructor(r,c={}){super("error",he({error:r},c))}}class Mn{on(r,c){return this._listeners=this._listeners||{},en(r,c,this._listeners),this}off(r,c){return sr(r,c,this._listeners),sr(r,c,this._oneTimeListeners),this}once(r,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},en(r,c,this._oneTimeListeners),this):new Promise(d=>this.once(r,d))}fire(r,c){typeof r=="string"&&(r=new Fn(r,c||{}));const d=r.type;if(this.listens(d)){r.target=this;const m=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const S of m)S.call(this,r);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const S of v)sr(d,S,this._oneTimeListeners),S.call(this,r);const x=this._eventedParent;x&&(he(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(r))}else r instanceof En&&console.error(r.error);return this}listens(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)}setEventedParent(r,c){return this._eventedParent=r,this._eventedParentData=c,this}}var Me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const on=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function gt(s,r){const c={};for(const d in s)d!=="ref"&&(c[d]=s[d]);return on.forEach(d=>{d in r&&(c[d]=r[d])}),c}function un(s,r){if(Array.isArray(s)){if(!Array.isArray(r)||s.length!==r.length)return!1;for(let c=0;c<s.length;c++)if(!un(s[c],r[c]))return!1;return!0}if(typeof s=="object"&&s!==null&&r!==null){if(typeof r!="object"||Object.keys(s).length!==Object.keys(r).length)return!1;for(const c in s)if(!un(s[c],r[c]))return!1;return!0}return s===r}const Lt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Cr(s,r,c){c.push({command:Lt.addSource,args:[s,r[s]]})}function di(s,r,c){r.push({command:Lt.removeSource,args:[s]}),c[s]=!0}function Ur(s,r,c,d){di(s,c,d),Cr(s,r,c)}function Ai(s,r,c){let d;for(d in s[c])if(Object.prototype.hasOwnProperty.call(s[c],d)&&d!=="data"&&!un(s[c][d],r[c][d]))return!1;for(d in r[c])if(Object.prototype.hasOwnProperty.call(r[c],d)&&d!=="data"&&!un(s[c][d],r[c][d]))return!1;return!0}function ni(s,r,c,d,m,v){let x;for(x in r=r||{},s=s||{})Object.prototype.hasOwnProperty.call(s,x)&&(un(s[x],r[x])||c.push({command:v,args:[d,x,r[x],m]}));for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&!Object.prototype.hasOwnProperty.call(s,x)&&(un(s[x],r[x])||c.push({command:v,args:[d,x,r[x],m]}))}function Pn(s){return s.id}function zt(s,r){return s[r.id]=r,s}class Ke{constructor(r,c,d,m){this.message=(r?`${r}: `:"")+d,m&&(this.identifier=m),c!=null&&c.__line__&&(this.line=c.__line__)}}function Nn(s,...r){for(const c of r)for(const d in c)s[d]=c[d];return s}class dn extends Error{constructor(r,c){super(c),this.message=c,this.key=r}}class It{constructor(r,c=[]){this.parent=r,this.bindings={};for(const[d,m]of c)this.bindings[d]=m}concat(r){return new It(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}const vn={kind:"null"},Ze={kind:"number"},$t={kind:"string"},Ft={kind:"boolean"},pi={kind:"color"},Go={kind:"object"},Kt={kind:"value"},_s={kind:"collator"},se={kind:"formatted"},W={kind:"padding"},Z={kind:"resolvedImage"},te={kind:"variableAnchorOffsetCollection"};function le(s,r){return{kind:"array",itemType:s,N:r}}function de(s){if(s.kind==="array"){const r=de(s.itemType);return typeof s.N=="number"?`array<${r}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${r}>`}return s.kind}const Se=[vn,Ze,$t,Ft,pi,se,Go,le(Kt),W,Z,te];function ve(s,r){if(r.kind==="error")return null;if(s.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!ve(s.itemType,r.itemType))&&(typeof s.N!="number"||s.N===r.N))return null}else{if(s.kind===r.kind)return null;if(s.kind==="value"){for(const c of Se)if(!ve(c,r))return null}}return`Expected ${de(s)} but found ${de(r)} instead.`}function me(s,r){return r.some(c=>c.kind===s.kind)}function be(s,r){return r.some(c=>c==="null"?s===null:c==="array"?Array.isArray(s):c==="object"?s&&!Array.isArray(s)&&typeof s=="object":c===typeof s)}function Fe(s,r){return s.kind==="array"&&r.kind==="array"?s.itemType.kind===r.itemType.kind&&typeof s.N=="number":s.kind===r.kind}const $e=.96422,Ge=.82521,Et=4/29,Nt=6/29,yt=3*Nt*Nt,kt=Nt*Nt*Nt,jt=Math.PI/180,Tn=180/Math.PI;function Dn(s){return(s%=360)<0&&(s+=360),s}function gn([s,r,c,d]){let m,v;const x=ri((.2225045*(s=mn(s))+.7168786*(r=mn(r))+.0606169*(c=mn(c)))/1);s===r&&r===c?m=v=x:(m=ri((.4360747*s+.3850649*r+.1430804*c)/$e),v=ri((.0139322*s+.0971045*r+.7141733*c)/Ge));const S=116*x-16;return[S<0?0:S,500*(m-x),200*(x-v),d]}function mn(s){return s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function ri(s){return s>kt?Math.pow(s,1/3):s/yt+Et}function $n([s,r,c,d]){let m=(s+16)/116,v=isNaN(r)?m:m+r/500,x=isNaN(c)?m:m-c/200;return m=1*Zr(m),v=$e*Zr(v),x=Ge*Zr(x),[Tr(3.1338561*v-1.6168667*m-.4906146*x),Tr(-.9787684*v+1.9161415*m+.033454*x),Tr(.0719453*v-.2289914*m+1.4052427*x),d]}function Tr(s){return(s=s<=.00304?12.92*s:1.055*Math.pow(s,1/2.4)-.055)<0?0:s>1?1:s}function Zr(s){return s>Nt?s*s*s:yt*(s-Et)}function ho(s){return parseInt(s.padEnd(2,s),16)/255}function nm(s,r){return Qa(r?s/100:s,0,1)}function Qa(s,r,c){return Math.min(Math.max(r,s),c)}function el(s){return!s.some(Number.isNaN)}const Cv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Rn{constructor(r,c,d,m=1,v=!0){this.r=r,this.g=c,this.b=d,this.a=m,v||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[r,c,d,m]))}static parse(r){if(r instanceof Rn)return r;if(typeof r!="string")return;const c=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=Cv[d];if(m){const[x,S,k]=m;return[x/255,S/255,k/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const x=d.length<6?1:2;let S=1;return[ho(d.slice(S,S+=x)),ho(d.slice(S,S+=x)),ho(d.slice(S,S+=x)),ho(d.slice(S,S+x)||"ff")]}if(d.startsWith("rgb")){const x=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[S,k,M,z,$,H,Y,J,re,ce,fe,we]=x,ye=[z||" ",Y||" ",ce].join("");if(ye==="  "||ye==="  /"||ye===",,"||ye===",,,"){const Ce=[M,H,re].join(""),ke=Ce==="%%%"?100:Ce===""?255:0;if(ke){const We=[Qa(+k/ke,0,1),Qa(+$/ke,0,1),Qa(+J/ke,0,1),fe?nm(+fe,we):1];if(el(We))return We}}return}}const v=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[x,S,k,M,z,$,H,Y,J]=v,re=[k||" ",z||" ",H].join("");if(re==="  "||re==="  /"||re===",,"||re===",,,"){const ce=[+S,Qa(+M,0,100),Qa(+$,0,100),Y?nm(+Y,J):1];if(el(ce))return function([fe,we,ye,Ce]){function ke(We){const ct=(We+fe/30)%12,_t=we*Math.min(ye,1-ye);return ye-_t*Math.max(-1,Math.min(ct-3,9-ct,1))}return fe=Dn(fe),we/=100,ye/=100,[ke(0),ke(8),ke(4),Ce]}(ce)}}}(r);return c?new Rn(...c,!1):void 0}get rgb(){const{r,g:c,b:d,a:m}=this,v=m||1/0;return this.overwriteGetter("rgb",[r/v,c/v,d/v,m])}get hcl(){return this.overwriteGetter("hcl",function(r){const[c,d,m,v]=gn(r),x=Math.sqrt(d*d+m*m);return[Math.round(1e4*x)?Dn(Math.atan2(m,d)*Tn):NaN,x,c,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",gn(this.rgb))}overwriteGetter(r,c){return Object.defineProperty(this,r,{value:c}),c}toString(){const[r,c,d,m]=this.rgb;return`rgba(${[r,c,d].map(v=>Math.round(255*v)).join(",")},${m})`}}Rn.black=new Rn(0,0,0,1),Rn.white=new Rn(1,1,1,1),Rn.transparent=new Rn(0,0,0,0),Rn.red=new Rn(1,0,0,1);class Yh{constructor(r,c,d){this.sensitivity=r?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,c){return this.collator.compare(r,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Yc{constructor(r,c,d,m,v){this.text=r,this.image=c,this.scale=d,this.fontStack=m,this.textColor=v}}class ii{constructor(r){this.sections=r}static fromString(r){return new ii([new Yc(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof ii?r:ii.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}}class Ki{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof Ki)return r;if(typeof r=="number")return new Ki([r,r,r,r]);if(Array.isArray(r)&&!(r.length<1||r.length>4)){for(const c of r)if(typeof c!="number")return;switch(r.length){case 1:r=[r[0],r[0],r[0],r[0]];break;case 2:r=[r[0],r[1],r[0],r[1]];break;case 3:r=[r[0],r[1],r[2],r[1]]}return new Ki(r)}}toString(){return JSON.stringify(this.values)}}const Tv=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class po{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof po)return r;if(Array.isArray(r)&&!(r.length<1)&&r.length%2==0){for(let c=0;c<r.length;c+=2){const d=r[c],m=r[c+1];if(typeof d!="string"||!Tv.has(d)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new po(r)}}toString(){return JSON.stringify(this.values)}}class Kr{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new Kr({name:r,available:!1}):null}}function Jc(s,r,c,d){return typeof s=="number"&&s>=0&&s<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof c=="number"&&c>=0&&c<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[s,r,c,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[s,r,c,d]:[s,r,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function tl(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Rn||s instanceof Yh||s instanceof ii||s instanceof Ki||s instanceof po||s instanceof Kr)return!0;if(Array.isArray(s)){for(const r of s)if(!tl(r))return!1;return!0}if(typeof s=="object"){for(const r in s)if(!tl(s[r]))return!1;return!0}return!1}function er(s){if(s===null)return vn;if(typeof s=="string")return $t;if(typeof s=="boolean")return Ft;if(typeof s=="number")return Ze;if(s instanceof Rn)return pi;if(s instanceof Yh)return _s;if(s instanceof ii)return se;if(s instanceof Ki)return W;if(s instanceof po)return te;if(s instanceof Kr)return Z;if(Array.isArray(s)){const r=s.length;let c;for(const d of s){const m=er(d);if(c){if(c===m)continue;c=Kt;break}c=m}return le(c||Kt,r)}return Go}function bn(s){const r=typeof s;return s===null?"":r==="string"||r==="number"||r==="boolean"?String(s):s instanceof Rn||s instanceof ii||s instanceof Ki||s instanceof po||s instanceof Kr?s.toString():JSON.stringify(s)}class va{constructor(r,c){this.type=r,this.value=c}static parse(r,c){if(r.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!tl(r[1]))return c.error("invalid value");const d=r[1];let m=er(d);const v=c.expectedType;return m.kind!=="array"||m.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(m=v),new va(m,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ar{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}}const Qc={string:$t,number:Ze,boolean:Ft,object:Go};class fo{constructor(r,c){this.type=r,this.args=c}static parse(r,c){if(r.length<2)return c.error("Expected at least one argument.");let d,m=1;const v=r[0];if(v==="array"){let S,k;if(r.length>2){const M=r[1];if(typeof M!="string"||!(M in Qc)||M==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);S=Qc[M],m++}else S=Kt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return c.error('The length argument to "array" must be a positive integer literal',2);k=r[2],m++}d=le(S,k)}else{if(!Qc[v])throw new Error(`Types doesn't contain name = ${v}`);d=Qc[v]}const x=[];for(;m<r.length;m++){const S=c.parse(r[m],m,Kt);if(!S)return null;x.push(S)}return new fo(d,x)}evaluate(r){for(let c=0;c<this.args.length;c++){const d=this.args[c].evaluate(r);if(!ve(this.type,er(d)))return d;if(c===this.args.length-1)throw new ar(`Expected value to be of type ${de(this.type)}, but found ${de(er(d))} instead.`)}throw new Error}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Jh={"to-boolean":Ft,"to-color":pi,"to-number":Ze,"to-string":$t};class Vs{constructor(r,c){this.type=r,this.args=c}static parse(r,c){if(r.length<2)return c.error("Expected at least one argument.");const d=r[0];if(!Jh[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&r.length!==2)return c.error("Expected one argument.");const m=Jh[d],v=[];for(let x=1;x<r.length;x++){const S=c.parse(r[x],x,Kt);if(!S)return null;v.push(S)}return new Vs(m,v)}evaluate(r){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(r);case"color":{let c,d;for(const m of this.args){if(c=m.evaluate(r),d=null,c instanceof Rn)return c;if(typeof c=="string"){const v=r.parseColor(c);if(v)return v}else if(Array.isArray(c)&&(d=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Jc(c[0],c[1],c[2],c[3]),!d))return new Rn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new ar(d||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const d of this.args){c=d.evaluate(r);const m=Ki.parse(c);if(m)return m}throw new ar(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const d of this.args){c=d.evaluate(r);const m=po.parse(c);if(m)return m}throw new ar(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const d of this.args){if(c=d.evaluate(r),c===null)return 0;const m=Number(c);if(!isNaN(m))return m}throw new ar(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return ii.fromString(bn(this.args[0].evaluate(r)));case"resolvedImage":return Kr.fromString(bn(this.args[0].evaluate(r)));default:return bn(this.args[0].evaluate(r))}}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const rm=["Unknown","Point","LineString","Polygon"];class Qh{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?rm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let c=this._parseColorCache[r];return c||(c=this._parseColorCache[r]=Rn.parse(r)),c}}class eu{constructor(r,c,d=[],m,v=new It,x=[]){this.registry=r,this.path=d,this.key=d.map(S=>`[${S}]`).join(""),this.scope=v,this.errors=x,this.expectedType=m,this._isConstant=c}parse(r,c,d,m,v={}){return c?this.concat(c,d,m)._parse(r,v):this._parse(r,v)}_parse(r,c){function d(m,v,x){return x==="assert"?new fo(v,[m]):x==="coerce"?new Vs(v,[m]):m}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=r[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[m];if(v){let x=v.parse(r,this);if(!x)return null;if(this.expectedType){const S=this.expectedType,k=x.type;if(S.kind!=="string"&&S.kind!=="number"&&S.kind!=="boolean"&&S.kind!=="object"&&S.kind!=="array"||k.kind!=="value")if(S.kind!=="color"&&S.kind!=="formatted"&&S.kind!=="resolvedImage"||k.kind!=="value"&&k.kind!=="string")if(S.kind!=="padding"||k.kind!=="value"&&k.kind!=="number"&&k.kind!=="array")if(S.kind!=="variableAnchorOffsetCollection"||k.kind!=="value"&&k.kind!=="array"){if(this.checkSubtype(S,k))return null}else x=d(x,S,c.typeAnnotation||"coerce");else x=d(x,S,c.typeAnnotation||"coerce");else x=d(x,S,c.typeAnnotation||"coerce");else x=d(x,S,c.typeAnnotation||"assert")}if(!(x instanceof va)&&x.type.kind!=="resolvedImage"&&this._isConstant(x)){const S=new Qh;try{x=new va(x.type,x.evaluate(S))}catch(k){return this.error(k.message),null}}return x}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,c,d){const m=typeof r=="number"?this.path.concat(r):this.path,v=d?this.scope.concat(d):this.scope;return new eu(this.registry,this._isConstant,m,c||null,v,this.errors)}error(r,...c){const d=`${this.key}${c.map(m=>`[${m}]`).join("")}`;this.errors.push(new dn(d,r))}checkSubtype(r,c){const d=ve(r,c);return d&&this.error(d),d}}class tu{constructor(r,c,d){this.type=_s,this.locale=d,this.caseSensitive=r,this.diacriticSensitive=c}static parse(r,c){if(r.length!==2)return c.error("Expected one argument.");const d=r[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");const m=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,Ft);if(!m)return null;const v=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,Ft);if(!v)return null;let x=null;return d.locale&&(x=c.parse(d.locale,1,$t),!x)?null:new tu(m,v,x)}evaluate(r){return new Yh(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}}const Us=8192;function ed(s,r){s[0]=Math.min(s[0],r[0]),s[1]=Math.min(s[1],r[1]),s[2]=Math.max(s[2],r[0]),s[3]=Math.max(s[3],r[1])}function Xl(s,r){return!(s[0]<=r[0]||s[2]>=r[2]||s[1]<=r[1]||s[3]>=r[3])}function im(s,r){const c=(180+s[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,m=Math.pow(2,r.z);return[Math.round(c*m*Us),Math.round(d*m*Us)]}function Ev(s,r,c){const d=s[0]-r[0],m=s[1]-r[1],v=s[0]-c[0],x=s[1]-c[1];return d*x-v*m==0&&d*v<=0&&m*x<=0}function td(s,r){let c=!1;for(let x=0,S=r.length;x<S;x++){const k=r[x];for(let M=0,z=k.length;M<z-1;M++){if(Ev(s,k[M],k[M+1]))return!1;(m=k[M])[1]>(d=s)[1]!=(v=k[M+1])[1]>d[1]&&d[0]<(v[0]-m[0])*(d[1]-m[1])/(v[1]-m[1])+m[0]&&(c=!c)}}var d,m,v;return c}function nd(s,r){for(let c=0;c<r.length;c++)if(td(s,r[c]))return!0;return!1}function om(s,r,c,d){const m=d[0]-c[0],v=d[1]-c[1],x=(s[0]-c[0])*v-m*(s[1]-c[1]),S=(r[0]-c[0])*v-m*(r[1]-c[1]);return x>0&&S<0||x<0&&S>0}function Pv(s,r,c){for(const M of c)for(let z=0;z<M.length-1;++z)if((S=[(x=M[z+1])[0]-(v=M[z])[0],x[1]-v[1]])[0]*(k=[(m=r)[0]-(d=s)[0],m[1]-d[1]])[1]-S[1]*k[0]!=0&&om(d,m,v,x)&&om(v,x,d,m))return!0;var d,m,v,x,S,k;return!1}function sm(s,r){for(let c=0;c<s.length;++c)if(!td(s[c],r))return!1;for(let c=0;c<s.length-1;++c)if(Pv(s[c],s[c+1],r))return!1;return!0}function am(s,r){for(let c=0;c<r.length;c++)if(sm(s,r[c]))return!0;return!1}function nu(s,r,c){const d=[];for(let m=0;m<s.length;m++){const v=[];for(let x=0;x<s[m].length;x++){const S=im(s[m][x],c);ed(r,S),v.push(S)}d.push(v)}return d}function lm(s,r,c){const d=[];for(let m=0;m<s.length;m++){const v=nu(s[m],r,c);d.push(v)}return d}function cm(s,r,c,d){if(s[0]<c[0]||s[0]>c[2]){const m=.5*d;let v=s[0]-c[0]>m?-d:c[0]-s[0]>m?d:0;v===0&&(v=s[0]-c[2]>m?-d:c[2]-s[0]>m?d:0),s[0]+=v}ed(r,s)}function rd(s,r,c,d){const m=Math.pow(2,d.z)*Us,v=[d.x*Us,d.y*Us],x=[];for(const S of s)for(const k of S){const M=[k.x+v[0],k.y+v[1]];cm(M,r,c,m),x.push(M)}return x}function id(s,r,c,d){const m=Math.pow(2,d.z)*Us,v=[d.x*Us,d.y*Us],x=[];for(const k of s){const M=[];for(const z of k){const $=[z.x+v[0],z.y+v[1]];ed(r,$),M.push($)}x.push(M)}if(r[2]-r[0]<=m/2){(S=r)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const k of x)for(const M of k)cm(M,r,c,m)}var S;return x}class _a{constructor(r,c){this.type=Ft,this.geojson=r,this.geometries=c}static parse(r,c){if(r.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(tl(r[1])){const d=r[1];if(d.type==="FeatureCollection")for(let m=0;m<d.features.length;++m){const v=d.features[m].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new _a(d,d.features[m].geometry)}else if(d.type==="Feature"){const m=d.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new _a(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new _a(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(c,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=c.canonicalID();if(d.type==="Polygon"){const S=nu(d.coordinates,v,x),k=rd(c.geometry(),m,v,x);if(!Xl(m,v))return!1;for(const M of k)if(!td(M,S))return!1}if(d.type==="MultiPolygon"){const S=lm(d.coordinates,v,x),k=rd(c.geometry(),m,v,x);if(!Xl(m,v))return!1;for(const M of k)if(!nd(M,S))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(c,d){const m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=c.canonicalID();if(d.type==="Polygon"){const S=nu(d.coordinates,v,x),k=id(c.geometry(),m,v,x);if(!Xl(m,v))return!1;for(const M of k)if(!sm(M,S))return!1}if(d.type==="MultiPolygon"){const S=lm(d.coordinates,v,x),k=id(c.geometry(),m,v,x);if(!Xl(m,v))return!1;for(const M of k)if(!am(M,S))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class ru{constructor(r,c){this.type=c.type,this.name=r,this.boundExpression=c}static parse(r,c){if(r.length!==2||typeof r[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const d=r[1];return c.scope.has(d)?new ru(d,c.scope.get(d)):c.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}}class mo{constructor(r,c,d,m){this.name=r,this.type=c,this._evaluate=d,this.args=m}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}static parse(r,c){const d=r[0],m=mo.definitions[d];if(!m)return c.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(m)?m[0]:m.type,x=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,S=x.filter(([M])=>!Array.isArray(M)||M.length===r.length-1);let k=null;for(const[M,z]of S){k=new eu(c.registry,iu,c.path,null,c.scope);const $=[];let H=!1;for(let Y=1;Y<r.length;Y++){const J=r[Y],re=Array.isArray(M)?M[Y-1]:M.type,ce=k.parse(J,1+$.length,re);if(!ce){H=!0;break}$.push(ce)}if(!H)if(Array.isArray(M)&&M.length!==$.length)k.error(`Expected ${M.length} arguments, but found ${$.length} instead.`);else{for(let Y=0;Y<$.length;Y++){const J=Array.isArray(M)?M[Y]:M.type,re=$[Y];k.concat(Y+1).checkSubtype(J,re.type)}if(k.errors.length===0)return new mo(d,v,z,$)}}if(S.length===1)c.errors.push(...k.errors);else{const M=(S.length?S:x).map(([$])=>{return H=$,Array.isArray(H)?`(${H.map(de).join(", ")})`:`(${de(H.type)}...)`;var H}).join(" | "),z=[];for(let $=1;$<r.length;$++){const H=c.parse(r[$],1+z.length);if(!H)return null;z.push(de(H.type))}c.error(`Expected arguments of type ${M}, but found (${z.join(", ")}) instead.`)}return null}static register(r,c){mo.definitions=c;for(const d in c)r[d]=mo}}function iu(s){if(s instanceof ru)return iu(s.boundExpression);if(s instanceof mo&&s.name==="error"||s instanceof tu||s instanceof _a)return!1;const r=s instanceof Vs||s instanceof fo;let c=!0;return s.eachChild(d=>{c=r?c&&iu(d):c&&d instanceof va}),!!c&&ou(s)&&su(s,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ou(s){if(s instanceof mo&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof _a)return!1;let r=!0;return s.eachChild(c=>{r&&!ou(c)&&(r=!1)}),r}function Yl(s){if(s instanceof mo&&s.name==="feature-state")return!1;let r=!0;return s.eachChild(c=>{r&&!Yl(c)&&(r=!1)}),r}function su(s,r){if(s instanceof mo&&r.indexOf(s.name)>=0)return!1;let c=!0;return s.eachChild(d=>{c&&!su(d,r)&&(c=!1)}),c}function nl(s,r){const c=s.length-1;let d,m,v=0,x=c,S=0;for(;v<=x;)if(S=Math.floor((v+x)/2),d=s[S],m=s[S+1],d<=r){if(S===c||r<m)return S;v=S+1}else{if(!(d>r))throw new ar("Input is not a number.");x=S-1}return 0}class Ws{constructor(r,c,d){this.type=r,this.input=c,this.labels=[],this.outputs=[];for(const[m,v]of d)this.labels.push(m),this.outputs.push(v)}static parse(r,c){if(r.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return c.error("Expected an even number of arguments.");const d=c.parse(r[1],1,Ze);if(!d)return null;const m=[];let v=null;c.expectedType&&c.expectedType.kind!=="value"&&(v=c.expectedType);for(let x=1;x<r.length;x+=2){const S=x===1?-1/0:r[x],k=r[x+1],M=x,z=x+1;if(typeof S!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(m.length&&m[m.length-1][0]>=S)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const $=c.parse(k,z,v);if(!$)return null;v=v||$.type,m.push([S,$])}return new Ws(v,d,m)}evaluate(r){const c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=c[0])return d[0].evaluate(r);const v=c.length;return m>=c[v-1]?d[v-1].evaluate(r):d[nl(c,m)].evaluate(r)}eachChild(r){r(this.input);for(const c of this.outputs)r(c)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function pn(s,r,c){return s+c*(r-s)}function au(s,r,c){return s.map((d,m)=>pn(d,r[m],c))}const Xi={number:pn,color:function(s,r,c,d="rgb"){switch(d){case"rgb":{const[m,v,x,S]=au(s.rgb,r.rgb,c);return new Rn(m,v,x,S,!1)}case"hcl":{const[m,v,x,S]=s.hcl,[k,M,z,$]=r.hcl;let H,Y;if(isNaN(m)||isNaN(k))isNaN(m)?isNaN(k)?H=NaN:(H=k,x!==1&&x!==0||(Y=M)):(H=m,z!==1&&z!==0||(Y=v));else{let we=k-m;k>m&&we>180?we-=360:k<m&&m-k>180&&(we+=360),H=m+c*we}const[J,re,ce,fe]=function([we,ye,Ce,ke]){return we=isNaN(we)?0:we*jt,$n([Ce,Math.cos(we)*ye,Math.sin(we)*ye,ke])}([H,Y??pn(v,M,c),pn(x,z,c),pn(S,$,c)]);return new Rn(J,re,ce,fe,!1)}case"lab":{const[m,v,x,S]=$n(au(s.lab,r.lab,c));return new Rn(m,v,x,S,!1)}}},array:au,padding:function(s,r,c){return new Ki(au(s.values,r.values,c))},variableAnchorOffsetCollection:function(s,r,c){const d=s.values,m=r.values;if(d.length!==m.length)throw new ar(`Cannot interpolate values of different length. from: ${s.toString()}, to: ${r.toString()}`);const v=[];for(let x=0;x<d.length;x+=2){if(d[x]!==m[x])throw new ar(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${d[x]}, to[${x}]: ${m[x]}`);v.push(d[x]);const[S,k]=d[x+1],[M,z]=m[x+1];v.push([pn(S,M,c),pn(k,z,c)])}return new po(v)}};class Yi{constructor(r,c,d,m,v){this.type=r,this.operator=c,this.interpolation=d,this.input=m,this.labels=[],this.outputs=[];for(const[x,S]of v)this.labels.push(x),this.outputs.push(S)}static interpolationFactor(r,c,d,m){let v=0;if(r.name==="exponential")v=od(c,r.base,d,m);else if(r.name==="linear")v=od(c,1,d,m);else if(r.name==="cubic-bezier"){const x=r.controlPoints;v=new j(x[0],x[1],x[2],x[3]).solve(od(c,1,d,m))}return v}static parse(r,c){let[d,m,v,...x]=r;if(!Array.isArray(m)||m.length===0)return c.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const M=m[1];if(typeof M!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:M}}else{if(m[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const M=m.slice(1);if(M.length!==4||M.some(z=>typeof z!="number"||z<0||z>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:M}}}if(r.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(v=c.parse(v,2,Ze),!v)return null;const S=[];let k=null;d==="interpolate-hcl"||d==="interpolate-lab"?k=pi:c.expectedType&&c.expectedType.kind!=="value"&&(k=c.expectedType);for(let M=0;M<x.length;M+=2){const z=x[M],$=x[M+1],H=M+3,Y=M+4;if(typeof z!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(S.length&&S[S.length-1][0]>=z)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const J=c.parse($,Y,k);if(!J)return null;k=k||J.type,S.push([z,J])}return Fe(k,Ze)||Fe(k,pi)||Fe(k,W)||Fe(k,te)||Fe(k,le(Ze))?new Yi(k,d,m,v,S):c.error(`Type ${de(k)} is not interpolatable.`)}evaluate(r){const c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(r);const m=this.input.evaluate(r);if(m<=c[0])return d[0].evaluate(r);const v=c.length;if(m>=c[v-1])return d[v-1].evaluate(r);const x=nl(c,m),S=Yi.interpolationFactor(this.interpolation,m,c[x],c[x+1]),k=d[x].evaluate(r),M=d[x+1].evaluate(r);switch(this.operator){case"interpolate":return Xi[this.type.kind](k,M,S);case"interpolate-hcl":return Xi.color(k,M,S,"hcl");case"interpolate-lab":return Xi.color(k,M,S,"lab")}}eachChild(r){r(this.input);for(const c of this.outputs)r(c)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function od(s,r,c,d){const m=d-c,v=s-c;return m===0?0:r===1?v/m:(Math.pow(r,v)-1)/(Math.pow(r,m)-1)}class lu{constructor(r,c){this.type=r,this.args=c}static parse(r,c){if(r.length<2)return c.error("Expectected at least one argument.");let d=null;const m=c.expectedType;m&&m.kind!=="value"&&(d=m);const v=[];for(const S of r.slice(1)){const k=c.parse(S,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!k)return null;d=d||k.type,v.push(k)}if(!d)throw new Error("No output type");const x=m&&v.some(S=>ve(m,S.type));return new lu(x?Kt:d,v)}evaluate(r){let c,d=null,m=0;for(const v of this.args)if(m++,d=v.evaluate(r),d&&d instanceof Kr&&!d.available&&(c||(c=d.name),d=null,m===this.args.length&&(d=c)),d!==null)break;return d}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}class cu{constructor(r,c){this.type=c.type,this.bindings=[].concat(r),this.result=c}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const c of this.bindings)r(c[1]);r(this.result)}static parse(r,c){if(r.length<4)return c.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const d=[];for(let v=1;v<r.length-1;v+=2){const x=r[v];if(typeof x!="string")return c.error(`Expected string, but found ${typeof x} instead.`,v);if(/[^a-zA-Z0-9_]/.test(x))return c.error("Variable names must contain only alphanumeric characters or '_'.",v);const S=c.parse(r[v+1],v+1);if(!S)return null;d.push([x,S])}const m=c.parse(r[r.length-1],r.length-1,c.expectedType,d);return m?new cu(d,m):null}outputDefined(){return this.result.outputDefined()}}class sd{constructor(r,c,d){this.type=r,this.index=c,this.input=d}static parse(r,c){if(r.length!==3)return c.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=c.parse(r[1],1,Ze),m=c.parse(r[2],2,le(c.expectedType||Kt));return d&&m?new sd(m.type.itemType,d,m):null}evaluate(r){const c=this.index.evaluate(r),d=this.input.evaluate(r);if(c<0)throw new ar(`Array index out of bounds: ${c} < 0.`);if(c>=d.length)throw new ar(`Array index out of bounds: ${c} > ${d.length-1}.`);if(c!==Math.floor(c))throw new ar(`Array index must be an integer, but found ${c} instead.`);return d[c]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}}class ad{constructor(r,c){this.type=Ft,this.needle=r,this.haystack=c}static parse(r,c){if(r.length!==3)return c.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=c.parse(r[1],1,Kt),m=c.parse(r[2],2,Kt);return d&&m?me(d.type,[Ft,$t,Ze,vn,Kt])?new ad(d,m):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(d.type)} instead`):null}evaluate(r){const c=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!d)return!1;if(!be(c,["boolean","string","number","null"]))throw new ar(`Expected first argument to be of type boolean, string, number or null, but found ${de(er(c))} instead.`);if(!be(d,["string","array"]))throw new ar(`Expected second argument to be of type array or string, but found ${de(er(d))} instead.`);return d.indexOf(c)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}}class uu{constructor(r,c,d){this.type=Ze,this.needle=r,this.haystack=c,this.fromIndex=d}static parse(r,c){if(r.length<=2||r.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=c.parse(r[1],1,Kt),m=c.parse(r[2],2,Kt);if(!d||!m)return null;if(!me(d.type,[Ft,$t,Ze,vn,Kt]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(d.type)} instead`);if(r.length===4){const v=c.parse(r[3],3,Ze);return v?new uu(d,m,v):null}return new uu(d,m)}evaluate(r){const c=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!be(c,["boolean","string","number","null"]))throw new ar(`Expected first argument to be of type boolean, string, number or null, but found ${de(er(c))} instead.`);if(!be(d,["string","array"]))throw new ar(`Expected second argument to be of type array or string, but found ${de(er(d))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(r);return d.indexOf(c,m)}return d.indexOf(c)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}}class ld{constructor(r,c,d,m,v,x){this.inputType=r,this.type=c,this.input=d,this.cases=m,this.outputs=v,this.otherwise=x}static parse(r,c){if(r.length<5)return c.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return c.error("Expected an even number of arguments.");let d,m;c.expectedType&&c.expectedType.kind!=="value"&&(m=c.expectedType);const v={},x=[];for(let M=2;M<r.length-1;M+=2){let z=r[M];const $=r[M+1];Array.isArray(z)||(z=[z]);const H=c.concat(M);if(z.length===0)return H.error("Expected at least one branch label.");for(const J of z){if(typeof J!="number"&&typeof J!="string")return H.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return H.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return H.error("Numeric branch labels must be integer values.");if(d){if(H.checkSubtype(d,er(J)))return null}else d=er(J);if(v[String(J)]!==void 0)return H.error("Branch labels must be unique.");v[String(J)]=x.length}const Y=c.parse($,M,m);if(!Y)return null;m=m||Y.type,x.push(Y)}const S=c.parse(r[1],1,Kt);if(!S)return null;const k=c.parse(r[r.length-1],r.length-1,m);return k?S.type.kind!=="value"&&c.concat(1).checkSubtype(d,S.type)?null:new ld(d,m,S,v,x,k):null}evaluate(r){const c=this.input.evaluate(r);return(er(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}}class cd{constructor(r,c,d){this.type=r,this.branches=c,this.otherwise=d}static parse(r,c){if(r.length<4)return c.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return c.error("Expected an odd number of arguments.");let d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);const m=[];for(let x=1;x<r.length-1;x+=2){const S=c.parse(r[x],x,Ft);if(!S)return null;const k=c.parse(r[x+1],x+1,d);if(!k)return null;m.push([S,k]),d=d||k.type}const v=c.parse(r[r.length-1],r.length-1,d);if(!v)return null;if(!d)throw new Error("Can't infer output type");return new cd(d,m,v)}evaluate(r){for(const[c,d]of this.branches)if(c.evaluate(r))return d.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[c,d]of this.branches)r(c),r(d);r(this.otherwise)}outputDefined(){return this.branches.every(([r,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class hu{constructor(r,c,d,m){this.type=r,this.input=c,this.beginIndex=d,this.endIndex=m}static parse(r,c){if(r.length<=2||r.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=c.parse(r[1],1,Kt),m=c.parse(r[2],2,Ze);if(!d||!m)return null;if(!me(d.type,[le(Kt),$t,Kt]))return c.error(`Expected first argument to be of type array or string, but found ${de(d.type)} instead`);if(r.length===4){const v=c.parse(r[3],3,Ze);return v?new hu(d.type,d,m,v):null}return new hu(d.type,d,m)}evaluate(r){const c=this.input.evaluate(r),d=this.beginIndex.evaluate(r);if(!be(c,["string","array"]))throw new ar(`Expected first argument to be of type array or string, but found ${de(er(c))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(r);return c.slice(d,m)}return c.slice(d)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}}function um(s,r){return s==="=="||s==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function hm(s,r,c,d){return d.compare(r,c)===0}function rl(s,r,c){const d=s!=="=="&&s!=="!=";return class uD{constructor(v,x,S){this.type=Ft,this.lhs=v,this.rhs=x,this.collator=S,this.hasUntypedArgument=v.type.kind==="value"||x.type.kind==="value"}static parse(v,x){if(v.length!==3&&v.length!==4)return x.error("Expected two or three arguments.");const S=v[0];let k=x.parse(v[1],1,Kt);if(!k)return null;if(!um(S,k.type))return x.concat(1).error(`"${S}" comparisons are not supported for type '${de(k.type)}'.`);let M=x.parse(v[2],2,Kt);if(!M)return null;if(!um(S,M.type))return x.concat(2).error(`"${S}" comparisons are not supported for type '${de(M.type)}'.`);if(k.type.kind!==M.type.kind&&k.type.kind!=="value"&&M.type.kind!=="value")return x.error(`Cannot compare types '${de(k.type)}' and '${de(M.type)}'.`);d&&(k.type.kind==="value"&&M.type.kind!=="value"?k=new fo(M.type,[k]):k.type.kind!=="value"&&M.type.kind==="value"&&(M=new fo(k.type,[M])));let z=null;if(v.length===4){if(k.type.kind!=="string"&&M.type.kind!=="string"&&k.type.kind!=="value"&&M.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(z=x.parse(v[3],3,_s),!z)return null}return new uD(k,M,z)}evaluate(v){const x=this.lhs.evaluate(v),S=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const k=er(x),M=er(S);if(k.kind!==M.kind||k.kind!=="string"&&k.kind!=="number")throw new ar(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${k.kind}, ${M.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const k=er(x),M=er(S);if(k.kind!=="string"||M.kind!=="string")return r(v,x,S)}return this.collator?c(v,x,S,this.collator.evaluate(v)):r(v,x,S)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const kv=rl("==",function(s,r,c){return r===c},hm),Av=rl("!=",function(s,r,c){return r!==c},function(s,r,c,d){return!hm(0,r,c,d)}),Iv=rl("<",function(s,r,c){return r<c},function(s,r,c,d){return d.compare(r,c)<0}),Mv=rl(">",function(s,r,c){return r>c},function(s,r,c,d){return d.compare(r,c)>0}),Rv=rl("<=",function(s,r,c){return r<=c},function(s,r,c,d){return d.compare(r,c)<=0}),Lv=rl(">=",function(s,r,c){return r>=c},function(s,r,c,d){return d.compare(r,c)>=0});class ud{constructor(r,c,d,m,v){this.type=$t,this.number=r,this.locale=c,this.currency=d,this.minFractionDigits=m,this.maxFractionDigits=v}static parse(r,c){if(r.length!==3)return c.error("Expected two arguments.");const d=c.parse(r[1],1,Ze);if(!d)return null;const m=r[2];if(typeof m!="object"||Array.isArray(m))return c.error("NumberFormat options argument must be an object.");let v=null;if(m.locale&&(v=c.parse(m.locale,1,$t),!v))return null;let x=null;if(m.currency&&(x=c.parse(m.currency,1,$t),!x))return null;let S=null;if(m["min-fraction-digits"]&&(S=c.parse(m["min-fraction-digits"],1,Ze),!S))return null;let k=null;return m["max-fraction-digits"]&&(k=c.parse(m["max-fraction-digits"],1,Ze),!k)?null:new ud(d,v,x,S,k)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}}class du{constructor(r){this.type=se,this.sections=r}static parse(r,c){if(r.length<2)return c.error("Expected at least one argument.");const d=r[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");const m=[];let v=!1;for(let x=1;x<=r.length-1;++x){const S=r[x];if(v&&typeof S=="object"&&!Array.isArray(S)){v=!1;let k=null;if(S["font-scale"]&&(k=c.parse(S["font-scale"],1,Ze),!k))return null;let M=null;if(S["text-font"]&&(M=c.parse(S["text-font"],1,le($t)),!M))return null;let z=null;if(S["text-color"]&&(z=c.parse(S["text-color"],1,pi),!z))return null;const $=m[m.length-1];$.scale=k,$.font=M,$.textColor=z}else{const k=c.parse(r[x],1,Kt);if(!k)return null;const M=k.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,m.push({content:k,scale:null,font:null,textColor:null})}}return new du(m)}evaluate(r){return new ii(this.sections.map(c=>{const d=c.content.evaluate(r);return er(d)===Z?new Yc("",d,null,null,null):new Yc(bn(d),null,c.scale?c.scale.evaluate(r):null,c.font?c.font.evaluate(r).join(","):null,c.textColor?c.textColor.evaluate(r):null)}))}eachChild(r){for(const c of this.sections)r(c.content),c.scale&&r(c.scale),c.font&&r(c.font),c.textColor&&r(c.textColor)}outputDefined(){return!1}}class hd{constructor(r){this.type=Z,this.input=r}static parse(r,c){if(r.length!==2)return c.error("Expected two arguments.");const d=c.parse(r[1],1,$t);return d?new hd(d):c.error("No image name provided.")}evaluate(r){const c=this.input.evaluate(r),d=Kr.fromString(c);return d&&r.availableImages&&(d.available=r.availableImages.indexOf(c)>-1),d}eachChild(r){r(this.input)}outputDefined(){return!1}}class dd{constructor(r){this.type=Ze,this.input=r}static parse(r,c){if(r.length!==2)return c.error(`Expected 1 argument, but found ${r.length-1} instead.`);const d=c.parse(r[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${de(d.type)} instead.`):new dd(d):null}evaluate(r){const c=this.input.evaluate(r);if(typeof c=="string"||Array.isArray(c))return c.length;throw new ar(`Expected value to be of type string or array, but found ${de(er(c))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}}const il={"==":kv,"!=":Av,">":Mv,"<":Iv,">=":Lv,"<=":Rv,array:fo,at:sd,boolean:fo,case:cd,coalesce:lu,collator:tu,format:du,image:hd,in:ad,"index-of":uu,interpolate:Yi,"interpolate-hcl":Yi,"interpolate-lab":Yi,length:dd,let:cu,literal:va,match:ld,number:fo,"number-format":ud,object:fo,slice:hu,step:Ws,string:fo,"to-boolean":Vs,"to-color":Vs,"to-number":Vs,"to-string":Vs,var:ru,within:_a};function dm(s,[r,c,d,m]){r=r.evaluate(s),c=c.evaluate(s),d=d.evaluate(s);const v=m?m.evaluate(s):1,x=Jc(r,c,d,v);if(x)throw new ar(x);return new Rn(r/255,c/255,d/255,v,!1)}function pm(s,r){return s in r}function pd(s,r){const c=r[s];return c===void 0?null:c}function xa(s){return{type:s}}function fm(s){return{result:"success",value:s}}function Gs(s){return{result:"error",value:s}}function ol(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function mm(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function fd(s){return!!s.expression&&s.expression.interpolated}function wn(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function tr(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function Dv(s){return s}function fn(s,r){const c=r.type==="color",d=s.stops&&typeof s.stops[0][0]=="object",m=d||!(d||s.property!==void 0),v=s.type||(fd(r)?"exponential":"interval");if(c||r.type==="padding"){const z=c?Rn.parse:Ki.parse;(s=Nn({},s)).stops&&(s.stops=s.stops.map($=>[$[0],z($[1])])),s.default=z(s.default?s.default:r.default)}if(s.colorSpace&&(x=s.colorSpace)!=="rgb"&&x!=="hcl"&&x!=="lab")throw new Error(`Unknown color space: "${s.colorSpace}"`);var x;let S,k,M;if(v==="exponential")S=Jl;else if(v==="interval")S=Kn;else if(v==="categorical"){S=nr,k=Object.create(null);for(const z of s.stops)k[z[0]]=z[1];M=typeof s.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);S=gm}if(d){const z={},$=[];for(let J=0;J<s.stops.length;J++){const re=s.stops[J],ce=re[0].zoom;z[ce]===void 0&&(z[ce]={zoom:ce,type:s.type,property:s.property,default:s.default,stops:[]},$.push(ce)),z[ce].stops.push([re[0].value,re[1]])}const H=[];for(const J of $)H.push([z[J].zoom,fn(z[J],r)]);const Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:Yi.interpolationFactor.bind(void 0,Y),zoomStops:H.map(J=>J[0]),evaluate:({zoom:J},re)=>Jl({stops:H,base:s.base},r,J).evaluate(J,re)}}if(m){const z=v==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:z,interpolationFactor:Yi.interpolationFactor.bind(void 0,z),zoomStops:s.stops.map($=>$[0]),evaluate:({zoom:$})=>S(s,r,$,k,M)}}return{kind:"source",evaluate(z,$){const H=$&&$.properties?$.properties[s.property]:void 0;return H===void 0?ba(s.default,r.default):S(s,r,H,k,M)}}}function ba(s,r,c){return s!==void 0?s:r!==void 0?r:c!==void 0?c:void 0}function nr(s,r,c,d,m){return ba(typeof c===m?d[c]:void 0,s.default,r.default)}function Kn(s,r,c){if(wn(c)!=="number")return ba(s.default,r.default);const d=s.stops.length;if(d===1||c<=s.stops[0][0])return s.stops[0][1];if(c>=s.stops[d-1][0])return s.stops[d-1][1];const m=nl(s.stops.map(v=>v[0]),c);return s.stops[m][1]}function Jl(s,r,c){const d=s.base!==void 0?s.base:1;if(wn(c)!=="number")return ba(s.default,r.default);const m=s.stops.length;if(m===1||c<=s.stops[0][0])return s.stops[0][1];if(c>=s.stops[m-1][0])return s.stops[m-1][1];const v=nl(s.stops.map(z=>z[0]),c),x=function(z,$,H,Y){const J=Y-H,re=z-H;return J===0?0:$===1?re/J:(Math.pow($,re)-1)/(Math.pow($,J)-1)}(c,d,s.stops[v][0],s.stops[v+1][0]),S=s.stops[v][1],k=s.stops[v+1][1],M=Xi[r.type]||Dv;return typeof S.evaluate=="function"?{evaluate(...z){const $=S.evaluate.apply(void 0,z),H=k.evaluate.apply(void 0,z);if($!==void 0&&H!==void 0)return M($,H,x,s.colorSpace)}}:M(S,k,x,s.colorSpace)}function gm(s,r,c){switch(r.type){case"color":c=Rn.parse(c);break;case"formatted":c=ii.fromString(c.toString());break;case"resolvedImage":c=Kr.fromString(c.toString());break;case"padding":c=Ki.parse(c);break;default:wn(c)===r.type||r.type==="enum"&&r.values[c]||(c=void 0)}return ba(c,s.default,r.default)}mo.register(il,{error:[{kind:"error"},[$t],(s,[r])=>{throw new ar(r.evaluate(s))}],typeof:[$t,[Kt],(s,[r])=>de(er(r.evaluate(s)))],"to-rgba":[le(Ze,4),[pi],(s,[r])=>{const[c,d,m,v]=r.evaluate(s).rgb;return[255*c,255*d,255*m,v]}],rgb:[pi,[Ze,Ze,Ze],dm],rgba:[pi,[Ze,Ze,Ze,Ze],dm],has:{type:Ft,overloads:[[[$t],(s,[r])=>pm(r.evaluate(s),s.properties())],[[$t,Go],(s,[r,c])=>pm(r.evaluate(s),c.evaluate(s))]]},get:{type:Kt,overloads:[[[$t],(s,[r])=>pd(r.evaluate(s),s.properties())],[[$t,Go],(s,[r,c])=>pd(r.evaluate(s),c.evaluate(s))]]},"feature-state":[Kt,[$t],(s,[r])=>pd(r.evaluate(s),s.featureState||{})],properties:[Go,[],s=>s.properties()],"geometry-type":[$t,[],s=>s.geometryType()],id:[Kt,[],s=>s.id()],zoom:[Ze,[],s=>s.globals.zoom],"heatmap-density":[Ze,[],s=>s.globals.heatmapDensity||0],"line-progress":[Ze,[],s=>s.globals.lineProgress||0],accumulated:[Kt,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[Ze,xa(Ze),(s,r)=>{let c=0;for(const d of r)c+=d.evaluate(s);return c}],"*":[Ze,xa(Ze),(s,r)=>{let c=1;for(const d of r)c*=d.evaluate(s);return c}],"-":{type:Ze,overloads:[[[Ze,Ze],(s,[r,c])=>r.evaluate(s)-c.evaluate(s)],[[Ze],(s,[r])=>-r.evaluate(s)]]},"/":[Ze,[Ze,Ze],(s,[r,c])=>r.evaluate(s)/c.evaluate(s)],"%":[Ze,[Ze,Ze],(s,[r,c])=>r.evaluate(s)%c.evaluate(s)],ln2:[Ze,[],()=>Math.LN2],pi:[Ze,[],()=>Math.PI],e:[Ze,[],()=>Math.E],"^":[Ze,[Ze,Ze],(s,[r,c])=>Math.pow(r.evaluate(s),c.evaluate(s))],sqrt:[Ze,[Ze],(s,[r])=>Math.sqrt(r.evaluate(s))],log10:[Ze,[Ze],(s,[r])=>Math.log(r.evaluate(s))/Math.LN10],ln:[Ze,[Ze],(s,[r])=>Math.log(r.evaluate(s))],log2:[Ze,[Ze],(s,[r])=>Math.log(r.evaluate(s))/Math.LN2],sin:[Ze,[Ze],(s,[r])=>Math.sin(r.evaluate(s))],cos:[Ze,[Ze],(s,[r])=>Math.cos(r.evaluate(s))],tan:[Ze,[Ze],(s,[r])=>Math.tan(r.evaluate(s))],asin:[Ze,[Ze],(s,[r])=>Math.asin(r.evaluate(s))],acos:[Ze,[Ze],(s,[r])=>Math.acos(r.evaluate(s))],atan:[Ze,[Ze],(s,[r])=>Math.atan(r.evaluate(s))],min:[Ze,xa(Ze),(s,r)=>Math.min(...r.map(c=>c.evaluate(s)))],max:[Ze,xa(Ze),(s,r)=>Math.max(...r.map(c=>c.evaluate(s)))],abs:[Ze,[Ze],(s,[r])=>Math.abs(r.evaluate(s))],round:[Ze,[Ze],(s,[r])=>{const c=r.evaluate(s);return c<0?-Math.round(-c):Math.round(c)}],floor:[Ze,[Ze],(s,[r])=>Math.floor(r.evaluate(s))],ceil:[Ze,[Ze],(s,[r])=>Math.ceil(r.evaluate(s))],"filter-==":[Ft,[$t,Kt],(s,[r,c])=>s.properties()[r.value]===c.value],"filter-id-==":[Ft,[Kt],(s,[r])=>s.id()===r.value],"filter-type-==":[Ft,[$t],(s,[r])=>s.geometryType()===r.value],"filter-<":[Ft,[$t,Kt],(s,[r,c])=>{const d=s.properties()[r.value],m=c.value;return typeof d==typeof m&&d<m}],"filter-id-<":[Ft,[Kt],(s,[r])=>{const c=s.id(),d=r.value;return typeof c==typeof d&&c<d}],"filter->":[Ft,[$t,Kt],(s,[r,c])=>{const d=s.properties()[r.value],m=c.value;return typeof d==typeof m&&d>m}],"filter-id->":[Ft,[Kt],(s,[r])=>{const c=s.id(),d=r.value;return typeof c==typeof d&&c>d}],"filter-<=":[Ft,[$t,Kt],(s,[r,c])=>{const d=s.properties()[r.value],m=c.value;return typeof d==typeof m&&d<=m}],"filter-id-<=":[Ft,[Kt],(s,[r])=>{const c=s.id(),d=r.value;return typeof c==typeof d&&c<=d}],"filter->=":[Ft,[$t,Kt],(s,[r,c])=>{const d=s.properties()[r.value],m=c.value;return typeof d==typeof m&&d>=m}],"filter-id->=":[Ft,[Kt],(s,[r])=>{const c=s.id(),d=r.value;return typeof c==typeof d&&c>=d}],"filter-has":[Ft,[Kt],(s,[r])=>r.value in s.properties()],"filter-has-id":[Ft,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[Ft,[le($t)],(s,[r])=>r.value.indexOf(s.geometryType())>=0],"filter-id-in":[Ft,[le(Kt)],(s,[r])=>r.value.indexOf(s.id())>=0],"filter-in-small":[Ft,[$t,le(Kt)],(s,[r,c])=>c.value.indexOf(s.properties()[r.value])>=0],"filter-in-large":[Ft,[$t,le(Kt)],(s,[r,c])=>function(d,m,v,x){for(;v<=x;){const S=v+x>>1;if(m[S]===d)return!0;m[S]>d?x=S-1:v=S+1}return!1}(s.properties()[r.value],c.value,0,c.value.length-1)],all:{type:Ft,overloads:[[[Ft,Ft],(s,[r,c])=>r.evaluate(s)&&c.evaluate(s)],[xa(Ft),(s,r)=>{for(const c of r)if(!c.evaluate(s))return!1;return!0}]]},any:{type:Ft,overloads:[[[Ft,Ft],(s,[r,c])=>r.evaluate(s)||c.evaluate(s)],[xa(Ft),(s,r)=>{for(const c of r)if(c.evaluate(s))return!0;return!1}]]},"!":[Ft,[Ft],(s,[r])=>!r.evaluate(s)],"is-supported-script":[Ft,[$t],(s,[r])=>{const c=s.globals&&s.globals.isSupportedScript;return!c||c(r.evaluate(s))}],upcase:[$t,[$t],(s,[r])=>r.evaluate(s).toUpperCase()],downcase:[$t,[$t],(s,[r])=>r.evaluate(s).toLowerCase()],concat:[$t,xa(Kt),(s,r)=>r.map(c=>bn(c.evaluate(s))).join("")],"resolved-locale":[$t,[_s],(s,[r])=>r.evaluate(s).resolvedLocale()]});class md{constructor(r,c){var d;this.expression=r,this._warningHistory={},this._evaluator=new Qh,this._defaultValue=c?(d=c).type==="color"&&tr(d.default)?new Rn(0,0,0,0):d.type==="color"?Rn.parse(d.default)||null:d.type==="padding"?Ki.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?po.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(r,c,d,m,v,x){return this._evaluator.globals=r,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=m,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(r,c,d,m,v,x){this._evaluator.globals=r,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=m,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x||null;try{const S=this.expression.evaluate(this._evaluator);if(S==null||typeof S=="number"&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new ar(`Expected value to be one of ${Object.keys(this._enumValues).map(k=>JSON.stringify(k)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}}}function pu(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in il}function fu(s,r){const c=new eu(il,iu,[],r?function(m){const v={color:pi,string:$t,number:Ze,enum:$t,boolean:Ft,formatted:se,padding:W,resolvedImage:Z,variableAnchorOffsetCollection:te};return m.type==="array"?le(v[m.value]||Kt,m.length):v[m.type]}(r):void 0),d=c.parse(s,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?fm(new md(d,r)):Gs(c.errors)}class gd{constructor(r,c){this.kind=r,this._styleExpression=c,this.isStateDependent=r!=="constant"&&!Yl(c.expression)}evaluateWithoutErrorHandling(r,c,d,m,v,x){return this._styleExpression.evaluateWithoutErrorHandling(r,c,d,m,v,x)}evaluate(r,c,d,m,v,x){return this._styleExpression.evaluate(r,c,d,m,v,x)}}class mu{constructor(r,c,d,m){this.kind=r,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=r!=="camera"&&!Yl(c.expression),this.interpolationType=m}evaluateWithoutErrorHandling(r,c,d,m,v,x){return this._styleExpression.evaluateWithoutErrorHandling(r,c,d,m,v,x)}evaluate(r,c,d,m,v,x){return this._styleExpression.evaluate(r,c,d,m,v,x)}interpolationFactor(r,c,d){return this.interpolationType?Yi.interpolationFactor(this.interpolationType,r,c,d):0}}function yd(s,r){const c=fu(s,r);if(c.result==="error")return c;const d=c.value.expression,m=ou(d);if(!m&&!ol(r))return Gs([new dn("","data expressions not supported")]);const v=su(d,["zoom"]);if(!v&&!mm(r))return Gs([new dn("","zoom expressions not supported")]);const x=ec(d);return x||v?x instanceof dn?Gs([x]):x instanceof Yi&&!fd(r)?Gs([new dn("",'"interpolate" expressions cannot be used with this property')]):fm(x?new mu(m?"camera":"composite",c.value,x.labels,x instanceof Yi?x.interpolation:void 0):new gd(m?"constant":"source",c.value)):Gs([new dn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ql{constructor(r,c){this._parameters=r,this._specification=c,Nn(this,fn(this._parameters,this._specification))}static deserialize(r){return new Ql(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function ec(s){let r=null;if(s instanceof cu)r=ec(s.result);else if(s instanceof lu){for(const c of s.args)if(r=ec(c),r)break}else(s instanceof Ws||s instanceof Yi)&&s.input instanceof mo&&s.input.name==="zoom"&&(r=s);return r instanceof dn||s.eachChild(c=>{const d=ec(c);d instanceof dn?r=d:!r&&d?r=new dn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&d&&r!==d&&(r=new dn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}function tc(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const r of s.slice(1))if(!tc(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}const zv={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function vd(s){if(s==null)return{filter:()=>!0,needGeometry:!1};tc(s)||(s=gu(s));const r=fu(s,zv);if(r.result==="error")throw new Error(r.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,d,m)=>r.value.evaluate(c,d,{},m),needGeometry:ym(s)}}function Bv(s,r){return s<r?-1:s>r?1:0}function ym(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let r=1;r<s.length;r++)if(ym(s[r]))return!0;return!1}function gu(s){if(!s)return!0;const r=s[0];return s.length<=1?r!=="any":r==="=="?_d(s[1],s[2],"=="):r==="!="?nc(_d(s[1],s[2],"==")):r==="<"||r===">"||r==="<="||r===">="?_d(s[1],s[2],r):r==="any"?(c=s.slice(1),["any"].concat(c.map(gu))):r==="all"?["all"].concat(s.slice(1).map(gu)):r==="none"?["all"].concat(s.slice(1).map(gu).map(nc)):r==="in"?vm(s[1],s.slice(2)):r==="!in"?nc(vm(s[1],s.slice(2))):r==="has"?_m(s[1]):r==="!has"?nc(_m(s[1])):r!=="within"||s;var c}function _d(s,r,c){switch(s){case"$type":return[`filter-type-${c}`,r];case"$id":return[`filter-id-${c}`,r];default:return[`filter-${c}`,s,r]}}function vm(s,r){if(r.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(c=>typeof c!=typeof r[0])?["filter-in-large",s,["literal",r.sort(Bv)]]:["filter-in-small",s,["literal",r]]}}function _m(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function nc(s){return["!",s]}function yu(s){const r=typeof s;if(r==="number"||r==="boolean"||r==="string"||s==null)return JSON.stringify(s);if(Array.isArray(s)){let m="[";for(const v of s)m+=`${yu(v)},`;return`${m}]`}const c=Object.keys(s).sort();let d="{";for(let m=0;m<c.length;m++)d+=`${JSON.stringify(c[m])}:${yu(s[c[m]])},`;return`${d}}`}function vu(s){let r="";for(const c of on)r+=`/${yu(s[c])}`;return r}function xm(s){const r=s.value;return r?[new Ke(s.key,r,"constants have been deprecated as of v8")]:[]}function lr(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function wa(s){if(Array.isArray(s))return s.map(wa);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const r={};for(const c in s)r[c]=wa(s[c]);return r}return lr(s)}function Ii(s){const r=s.key,c=s.value,d=s.valueSpec||{},m=s.objectElementValidators||{},v=s.style,x=s.styleSpec,S=s.validateSpec;let k=[];const M=wn(c);if(M!=="object")return[new Ke(r,c,`object expected, ${M} found`)];for(const z in c){const $=z.split(".")[0],H=d[$]||d["*"];let Y;if(m[$])Y=m[$];else if(d[$])Y=S;else if(m["*"])Y=m["*"];else{if(!d["*"]){k.push(new Ke(r,c[z],`unknown property "${z}"`));continue}Y=S}k=k.concat(Y({key:(r&&`${r}.`)+z,value:c[z],valueSpec:H,style:v,styleSpec:x,object:c,objectKey:z,validateSpec:S},c))}for(const z in d)m[z]||d[z].required&&d[z].default===void 0&&c[z]===void 0&&k.push(new Ke(r,c,`missing required property "${z}"`));return k}function sl(s){const r=s.value,c=s.valueSpec,d=s.style,m=s.styleSpec,v=s.key,x=s.arrayElementValidator||s.validateSpec;if(wn(r)!=="array")return[new Ke(v,r,`array expected, ${wn(r)} found`)];if(c.length&&r.length!==c.length)return[new Ke(v,r,`array length ${c.length} expected, length ${r.length} found`)];if(c["min-length"]&&r.length<c["min-length"])return[new Ke(v,r,`array length at least ${c["min-length"]} expected, length ${r.length} found`)];let S={type:c.value,values:c.values};m.$version<7&&(S.function=c.function),wn(c.value)==="object"&&(S=c.value);let k=[];for(let M=0;M<r.length;M++)k=k.concat(x({array:r,arrayIndex:M,value:r[M],valueSpec:S,validateSpec:s.validateSpec,style:d,styleSpec:m,key:`${v}[${M}]`}));return k}function rc(s){const r=s.key,c=s.value,d=s.valueSpec;let m=wn(c);return m==="number"&&c!=c&&(m="NaN"),m!=="number"?[new Ke(r,c,`number expected, ${m} found`)]:"minimum"in d&&c<d.minimum?[new Ke(r,c,`${c} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&c>d.maximum?[new Ke(r,c,`${c} is greater than the maximum value ${d.maximum}`)]:[]}function _u(s){const r=s.valueSpec,c=lr(s.value.type);let d,m,v,x={};const S=c!=="categorical"&&s.value.property===void 0,k=!S,M=wn(s.value.stops)==="array"&&wn(s.value.stops[0])==="array"&&wn(s.value.stops[0][0])==="object",z=Ii({key:s.key,value:s.value,valueSpec:s.styleSpec.function,validateSpec:s.validateSpec,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(Y){if(c==="identity")return[new Ke(Y.key,Y.value,'identity function may not have a "stops" property')];let J=[];const re=Y.value;return J=J.concat(sl({key:Y.key,value:re,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:$})),wn(re)==="array"&&re.length===0&&J.push(new Ke(Y.key,re,"array must have at least one stop")),J},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:r,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return c==="identity"&&S&&z.push(new Ke(s.key,s.value,'missing required property "property"')),c==="identity"||s.value.stops||z.push(new Ke(s.key,s.value,'missing required property "stops"')),c==="exponential"&&s.valueSpec.expression&&!fd(s.valueSpec)&&z.push(new Ke(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(k&&!ol(s.valueSpec)?z.push(new Ke(s.key,s.value,"property functions not supported")):S&&!mm(s.valueSpec)&&z.push(new Ke(s.key,s.value,"zoom functions not supported"))),c!=="categorical"&&!M||s.value.property!==void 0||z.push(new Ke(s.key,s.value,'"property" property is required')),z;function $(Y){let J=[];const re=Y.value,ce=Y.key;if(wn(re)!=="array")return[new Ke(ce,re,`array expected, ${wn(re)} found`)];if(re.length!==2)return[new Ke(ce,re,`array length 2 expected, length ${re.length} found`)];if(M){if(wn(re[0])!=="object")return[new Ke(ce,re,`object expected, ${wn(re[0])} found`)];if(re[0].zoom===void 0)return[new Ke(ce,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new Ke(ce,re,"object stop key must have value")];if(v&&v>lr(re[0].zoom))return[new Ke(ce,re[0].zoom,"stop zoom values must appear in ascending order")];lr(re[0].zoom)!==v&&(v=lr(re[0].zoom),m=void 0,x={}),J=J.concat(Ii({key:`${ce}[0]`,value:re[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:rc,value:H}}))}else J=J.concat(H({key:`${ce}[0]`,value:re[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},re));return pu(wa(re[1]))?J.concat([new Ke(`${ce}[1]`,re[1],"expressions are not allowed in function stops.")]):J.concat(Y.validateSpec({key:`${ce}[1]`,value:re[1],valueSpec:r,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function H(Y,J){const re=wn(Y.value),ce=lr(Y.value),fe=Y.value!==null?Y.value:J;if(d){if(re!==d)return[new Ke(Y.key,fe,`${re} stop domain type must match previous stop domain type ${d}`)]}else d=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new Ke(Y.key,fe,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&c!=="categorical"){let we=`number expected, ${re} found`;return ol(r)&&c===void 0&&(we+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ke(Y.key,fe,we)]}return c!=="categorical"||re!=="number"||isFinite(ce)&&Math.floor(ce)===ce?c!=="categorical"&&re==="number"&&m!==void 0&&ce<m?[new Ke(Y.key,fe,"stop domain values must appear in ascending order")]:(m=ce,c==="categorical"&&ce in x?[new Ke(Y.key,fe,"stop domain values must be unique")]:(x[ce]=!0,[])):[new Ke(Y.key,fe,`integer expected, found ${ce}`)]}}function Sa(s){const r=(s.expressionContext==="property"?yd:fu)(wa(s.value),s.valueSpec);if(r.result==="error")return r.value.map(d=>new Ke(`${s.key}${d.key}`,s.value,d.message));const c=r.value.expression||r.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!c.outputDefined())return[new Ke(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!Yl(c))return[new Ke(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!Yl(c))return[new Ke(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!su(c,["zoom","feature-state"]))return[new Ke(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!ou(c))return[new Ke(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ic(s){const r=s.key,c=s.value,d=s.valueSpec,m=[];return Array.isArray(d.values)?d.values.indexOf(lr(c))===-1&&m.push(new Ke(r,c,`expected one of [${d.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(d.values).indexOf(lr(c))===-1&&m.push(new Ke(r,c,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(c)} found`)),m}function al(s){return tc(wa(s.value))?Sa(Nn({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):bm(s)}function bm(s){const r=s.value,c=s.key;if(wn(r)!=="array")return[new Ke(c,r,`array expected, ${wn(r)} found`)];const d=s.styleSpec;let m,v=[];if(r.length<1)return[new Ke(c,r,"filter array must have at least 1 element")];switch(v=v.concat(ic({key:`${c}[0]`,value:r[0],valueSpec:d.filter_operator,style:s.style,styleSpec:s.styleSpec})),lr(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&lr(r[1])==="$type"&&v.push(new Ke(c,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&v.push(new Ke(c,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(m=wn(r[1]),m!=="string"&&v.push(new Ke(`${c}[1]`,r[1],`string expected, ${m} found`)));for(let x=2;x<r.length;x++)m=wn(r[x]),lr(r[1])==="$type"?v=v.concat(ic({key:`${c}[${x}]`,value:r[x],valueSpec:d.geometry_type,style:s.style,styleSpec:s.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&v.push(new Ke(`${c}[${x}]`,r[x],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let x=1;x<r.length;x++)v=v.concat(bm({key:`${c}[${x}]`,value:r[x],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":m=wn(r[1]),r.length!==2?v.push(new Ke(c,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="string"&&v.push(new Ke(`${c}[1]`,r[1],`string expected, ${m} found`));break;case"within":m=wn(r[1]),r.length!==2?v.push(new Ke(c,r,`filter array for "${r[0]}" operator must have 2 elements`)):m!=="object"&&v.push(new Ke(`${c}[1]`,r[1],`object expected, ${m} found`))}return v}function wm(s,r){const c=s.key,d=s.validateSpec,m=s.style,v=s.styleSpec,x=s.value,S=s.objectKey,k=v[`${r}_${s.layerType}`];if(!k)return[];const M=S.match(/^(.*)-transition$/);if(r==="paint"&&M&&k[M[1]]&&k[M[1]].transition)return d({key:c,value:x,valueSpec:v.transition,style:m,styleSpec:v});const z=s.valueSpec||k[S];if(!z)return[new Ke(c,x,`unknown property "${S}"`)];let $;if(wn(x)==="string"&&ol(z)&&!z.tokens&&($=/^{([^}]+)}$/.exec(x)))return[new Ke(c,x,`"${S}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify($[1])} }\`.`)];const H=[];return s.layerType==="symbol"&&(S==="text-field"&&m&&!m.glyphs&&H.push(new Ke(c,x,'use of "text-field" requires a style "glyphs" property')),S==="text-font"&&tr(wa(x))&&lr(x.type)==="identity"&&H.push(new Ke(c,x,'"text-font" does not support identity functions'))),H.concat(d({key:s.key,value:x,valueSpec:z,style:m,styleSpec:v,expressionContext:"property",propertyType:r,propertyKey:S}))}function Sm(s){return wm(s,"paint")}function Cm(s){return wm(s,"layout")}function Tm(s){let r=[];const c=s.value,d=s.key,m=s.style,v=s.styleSpec;c.type||c.ref||r.push(new Ke(d,c,'either "type" or "ref" is required'));let x=lr(c.type);const S=lr(c.ref);if(c.id){const k=lr(c.id);for(let M=0;M<s.arrayIndex;M++){const z=m.layers[M];lr(z.id)===k&&r.push(new Ke(d,c.id,`duplicate layer id "${c.id}", previously used at line ${z.id.__line__}`))}}if("ref"in c){let k;["type","source","source-layer","filter","layout"].forEach(M=>{M in c&&r.push(new Ke(d,c[M],`"${M}" is prohibited for ref layers`))}),m.layers.forEach(M=>{lr(M.id)===S&&(k=M)}),k?k.ref?r.push(new Ke(d,c.ref,"ref cannot reference another ref layer")):x=lr(k.type):r.push(new Ke(d,c.ref,`ref layer "${S}" not found`))}else if(x!=="background")if(c.source){const k=m.sources&&m.sources[c.source],M=k&&lr(k.type);k?M==="vector"&&x==="raster"?r.push(new Ke(d,c.source,`layer "${c.id}" requires a raster source`)):M!=="raster-dem"&&x==="hillshade"?r.push(new Ke(d,c.source,`layer "${c.id}" requires a raster-dem source`)):M==="raster"&&x!=="raster"?r.push(new Ke(d,c.source,`layer "${c.id}" requires a vector source`)):M!=="vector"||c["source-layer"]?M==="raster-dem"&&x!=="hillshade"?r.push(new Ke(d,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!c.paint||!c.paint["line-gradient"]||M==="geojson"&&k.lineMetrics||r.push(new Ke(d,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new Ke(d,c,`layer "${c.id}" must specify a "source-layer"`)):r.push(new Ke(d,c.source,`source "${c.source}" not found`))}else r.push(new Ke(d,c,'missing required property "source"'));return r=r.concat(Ii({key:d,value:c,valueSpec:v.layer,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,objectElementValidators:{"*":()=>[],type:()=>s.validateSpec({key:`${d}.type`,value:c.type,valueSpec:v.layer.type,style:s.style,styleSpec:s.styleSpec,validateSpec:s.validateSpec,object:c,objectKey:"type"}),filter:al,layout:k=>Ii({layer:c,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>Cm(Nn({layerType:x},M))}}),paint:k=>Ii({layer:c,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>Sm(Nn({layerType:x},M))}})}})),r}function Ho(s){const r=s.value,c=s.key,d=wn(r);return d!=="string"?[new Ke(c,r,`string expected, ${d} found`)]:[]}const oc={promoteId:function({key:s,value:r}){if(wn(r)==="string")return Ho({key:s,value:r});{const c=[];for(const d in r)c.push(...Ho({key:`${s}.${d}`,value:r[d]}));return c}}};function Ji(s){const r=s.value,c=s.key,d=s.styleSpec,m=s.style,v=s.validateSpec;if(!r.type)return[new Ke(c,r,'"type" is required')];const x=lr(r.type);let S;switch(x){case"vector":case"raster":return S=Ii({key:c,value:r,valueSpec:d[`source_${x.replace("-","_")}`],style:s.style,styleSpec:d,objectElementValidators:oc,validateSpec:v}),S;case"raster-dem":return S=function(k){var M;const z=(M=k.sourceName)!==null&&M!==void 0?M:"",$=k.value,H=k.styleSpec,Y=H.source_raster_dem,J=k.style;let re=[];const ce=wn($);if($===void 0)return re;if(ce!=="object")return re.push(new Ke("source_raster_dem",$,`object expected, ${ce} found`)),re;const fe=lr($.encoding)==="custom",we=["redFactor","greenFactor","blueFactor","baseShift"],ye=k.value.encoding?`"${k.value.encoding}"`:"Default";for(const Ce in $)!fe&&we.includes(Ce)?re.push(new Ke(Ce,$[Ce],`In "${z}": "${Ce}" is only valid when "encoding" is set to "custom". ${ye} encoding found`)):Y[Ce]?re=re.concat(k.validateSpec({key:Ce,value:$[Ce],valueSpec:Y[Ce],validateSpec:k.validateSpec,style:J,styleSpec:H})):re.push(new Ke(Ce,$[Ce],`unknown property "${Ce}"`));return re}({sourceName:c,value:r,style:s.style,styleSpec:d,validateSpec:v}),S;case"geojson":if(S=Ii({key:c,value:r,valueSpec:d.source_geojson,style:m,styleSpec:d,validateSpec:v,objectElementValidators:oc}),r.cluster)for(const k in r.clusterProperties){const[M,z]=r.clusterProperties[k],$=typeof M=="string"?[M,["accumulated"],["get",k]]:M;S.push(...Sa({key:`${c}.${k}.map`,value:z,validateSpec:v,expressionContext:"cluster-map"})),S.push(...Sa({key:`${c}.${k}.reduce`,value:$,validateSpec:v,expressionContext:"cluster-reduce"}))}return S;case"video":return Ii({key:c,value:r,valueSpec:d.source_video,style:m,validateSpec:v,styleSpec:d});case"image":return Ii({key:c,value:r,valueSpec:d.source_image,style:m,validateSpec:v,styleSpec:d});case"canvas":return[new Ke(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ic({key:`${c}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,validateSpec:v,styleSpec:d})}}function sc(s){const r=s.value,c=s.styleSpec,d=c.light,m=s.style;let v=[];const x=wn(r);if(r===void 0)return v;if(x!=="object")return v=v.concat([new Ke("light",r,`object expected, ${x} found`)]),v;for(const S in r){const k=S.match(/^(.*)-transition$/);v=v.concat(k&&d[k[1]]&&d[k[1]].transition?s.validateSpec({key:S,value:r[S],valueSpec:c.transition,validateSpec:s.validateSpec,style:m,styleSpec:c}):d[S]?s.validateSpec({key:S,value:r[S],valueSpec:d[S],validateSpec:s.validateSpec,style:m,styleSpec:c}):[new Ke(S,r[S],`unknown property "${S}"`)])}return v}function Em(s){const r=s.value,c=s.styleSpec,d=c.terrain,m=s.style;let v=[];const x=wn(r);if(r===void 0)return v;if(x!=="object")return v=v.concat([new Ke("terrain",r,`object expected, ${x} found`)]),v;for(const S in r)v=v.concat(d[S]?s.validateSpec({key:S,value:r[S],valueSpec:d[S],validateSpec:s.validateSpec,style:m,styleSpec:c}):[new Ke(S,r[S],`unknown property "${S}"`)]);return v}function Pm(s){let r=[];const c=s.value,d=s.key;if(Array.isArray(c)){const m=[],v=[];for(const x in c)c[x].id&&m.includes(c[x].id)&&r.push(new Ke(d,c,`all the sprites' ids must be unique, but ${c[x].id} is duplicated`)),m.push(c[x].id),c[x].url&&v.includes(c[x].url)&&r.push(new Ke(d,c,`all the sprites' URLs must be unique, but ${c[x].url} is duplicated`)),v.push(c[x].url),r=r.concat(Ii({key:`${d}[${x}]`,value:c[x],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:s.validateSpec}));return r}return Ho({key:d,value:c})}const km={"*":()=>[],array:sl,boolean:function(s){const r=s.value,c=s.key,d=wn(r);return d!=="boolean"?[new Ke(c,r,`boolean expected, ${d} found`)]:[]},number:rc,color:function(s){const r=s.key,c=s.value,d=wn(c);return d!=="string"?[new Ke(r,c,`color expected, ${d} found`)]:Rn.parse(String(c))?[]:[new Ke(r,c,`color expected, "${c}" found`)]},constants:xm,enum:ic,filter:al,function:_u,layer:Tm,object:Ii,source:Ji,light:sc,terrain:Em,string:Ho,formatted:function(s){return Ho(s).length===0?[]:Sa(s)},resolvedImage:function(s){return Ho(s).length===0?[]:Sa(s)},padding:function(s){const r=s.key,c=s.value;if(wn(c)==="array"){if(c.length<1||c.length>4)return[new Ke(r,c,`padding requires 1 to 4 values; ${c.length} values found`)];const d={type:"number"};let m=[];for(let v=0;v<c.length;v++)m=m.concat(s.validateSpec({key:`${r}[${v}]`,value:c[v],validateSpec:s.validateSpec,valueSpec:d}));return m}return rc({key:r,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(s){const r=s.key,c=s.value,d=wn(c),m=s.styleSpec;if(d!=="array"||c.length<1||c.length%2!=0)return[new Ke(r,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let x=0;x<c.length;x+=2)v=v.concat(ic({key:`${r}[${x}]`,value:c[x],valueSpec:m.layout_symbol["text-anchor"]})),v=v.concat(sl({key:`${r}[${x+1}]`,value:c[x+1],valueSpec:{length:2,value:"number"},validateSpec:s.validateSpec,style:s.style,styleSpec:m}));return v},sprite:Pm};function xs(s){const r=s.value,c=s.valueSpec,d=s.styleSpec;return s.validateSpec=xs,c.expression&&tr(lr(r))?_u(s):c.expression&&pu(wa(r))?Sa(s):c.type&&km[c.type]?km[c.type](s):Ii(Nn({},s,{valueSpec:c.type?d[c.type]:c}))}function Am(s){const r=s.value,c=s.key,d=Ho(s);return d.length||(r.indexOf("{fontstack}")===-1&&d.push(new Ke(c,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&d.push(new Ke(c,r,'"glyphs" url must include a "{range}" token'))),d}function go(s,r=Me){let c=[];return c=c.concat(xs({key:"",value:s,valueSpec:r.$root,styleSpec:r,style:s,validateSpec:xs,objectElementValidators:{glyphs:Am,"*":()=>[]}})),s.constants&&(c=c.concat(xm({key:"constants",value:s.constants,style:s,styleSpec:r,validateSpec:xs}))),xu(c)}function bs(s){return function(r){return s({...r,validateSpec:xs})}}function xu(s){return[].concat(s).sort((r,c)=>r.line-c.line)}function ws(s){return function(...r){return xu(s.apply(this,r))}}go.source=ws(bs(Ji)),go.sprite=ws(bs(Pm)),go.glyphs=ws(bs(Am)),go.light=ws(bs(sc)),go.terrain=ws(bs(Em)),go.layer=ws(bs(Tm)),go.filter=ws(bs(al)),go.paintProperty=ws(bs(Sm)),go.layoutProperty=ws(bs(Cm));const Ss=go,Ov=Ss.light,xd=Ss.paintProperty,Im=Ss.layoutProperty;function bu(s,r){let c=!1;if(r&&r.length)for(const d of r)s.fire(new En(new Error(d.message))),c=!0;return c}class ll{constructor(r,c,d){const m=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;const x=new Int32Array(this.arrayBuffer);r=x[0],this.d=(c=x[1])+2*(d=x[2]);for(let k=0;k<this.d*this.d;k++){const M=x[3+k],z=x[3+k+1];m.push(M===z?null:x.subarray(M,z))}const S=x[3+m.length+1];this.keys=x.subarray(x[3+m.length],S),this.bboxes=x.subarray(S),this.insert=this._insertReadonly}else{this.d=c+2*d;for(let x=0;x<this.d*this.d;x++)m.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=r,this.padding=d,this.scale=c/r,this.uid=0;const v=d/c*r;this.min=-v,this.max=r+v}insert(r,c,d,m,v){this._forEachCell(c,d,m,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(r),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(r,c,d,m,v,x){this.cells[v].push(x)}query(r,c,d,m,v){const x=this.min,S=this.max;if(r<=x&&c<=x&&S<=d&&S<=m&&!v)return Array.prototype.slice.call(this.keys);{const k=[];return this._forEachCell(r,c,d,m,this._queryCell,k,{},v),k}}_queryCell(r,c,d,m,v,x,S,k){const M=this.cells[v];if(M!==null){const z=this.keys,$=this.bboxes;for(let H=0;H<M.length;H++){const Y=M[H];if(S[Y]===void 0){const J=4*Y;(k?k($[J+0],$[J+1],$[J+2],$[J+3]):r<=$[J+2]&&c<=$[J+3]&&d>=$[J+0]&&m>=$[J+1])?(S[Y]=!0,x.push(z[Y])):S[Y]=!1}}}}_forEachCell(r,c,d,m,v,x,S,k){const M=this._convertToCellCoord(r),z=this._convertToCellCoord(c),$=this._convertToCellCoord(d),H=this._convertToCellCoord(m);for(let Y=M;Y<=$;Y++)for(let J=z;J<=H;J++){const re=this.d*J+Y;if((!k||k(this._convertFromCellCoord(Y),this._convertFromCellCoord(J),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(J+1)))&&v.call(this,r,c,d,m,re,x,S,k))return}}_convertFromCellCoord(r){return(r-this.padding)/this.scale}_convertToCellCoord(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const r=this.cells,c=3+this.cells.length+1+1;let d=0;for(let x=0;x<this.cells.length;x++)d+=this.cells[x].length;const m=new Int32Array(c+d+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let v=c;for(let x=0;x<r.length;x++){const S=r[x];m[3+x]=v,m.set(S,v),v+=S.length}return m[3+r.length]=v,m.set(this.keys,v),v+=this.keys.length,m[3+r.length+1]=v,m.set(this.bboxes,v),v+=this.bboxes.length,m.buffer}static serialize(r,c){const d=r.toArrayBuffer();return c&&c.push(d),{buffer:d}}static deserialize(r){return new ll(r.buffer)}}const Cs={};function dt(s,r,c={}){if(Cs[s])throw new Error(`${s} is already registered.`);Object.defineProperty(r,"_classRegistryKey",{value:s,writeable:!1}),Cs[s]={klass:r,omit:c.omit||[],shallow:c.shallow||[]}}dt("Object",Object),dt("TransferableGridIndex",ll),dt("Color",Rn),dt("Error",Error),dt("AJAXError",nn),dt("ResolvedImage",Kr),dt("StylePropertyFunction",Ql),dt("StyleExpression",md,{omit:["_evaluator"]}),dt("ZoomDependentExpression",mu),dt("ZoomConstantExpression",gd),dt("CompoundExpression",mo,{omit:["_evaluate"]});for(const s in il)il[s]._classRegistryKey||dt(`Expression_${s}`,il[s]);function wu(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function Hs(s,r){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob)return s;if(wu(s)||Ae(s))return r&&r.push(s),s;if(ArrayBuffer.isView(s)){const c=s;return r&&r.push(c.buffer),c}if(s instanceof ImageData)return r&&r.push(s.data.buffer),s;if(Array.isArray(s)){const c=[];for(const d of s)c.push(Hs(d,r));return c}if(typeof s=="object"){const c=s.constructor,d=c._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!Cs[d])throw new Error(`${d} is not registered.`);const m=c.serialize?c.serialize(s,r):{};if(c.serialize){if(r&&m===r[r.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in s){if(!s.hasOwnProperty(v)||Cs[d].omit.indexOf(v)>=0)continue;const x=s[v];m[v]=Cs[d].shallow.indexOf(v)>=0?x:Hs(x,r)}s instanceof Error&&(m.message=s.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(m.$name=d),m}throw new Error("can't serialize object of type "+typeof s)}function cl(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||s instanceof Blob||wu(s)||Ae(s)||ArrayBuffer.isView(s)||s instanceof ImageData)return s;if(Array.isArray(s))return s.map(cl);if(typeof s=="object"){const r=s.$name||"Object";if(!Cs[r])throw new Error(`can't deserialize unregistered class ${r}`);const{klass:c}=Cs[r];if(!c)throw new Error(`can't deserialize unregistered class ${r}`);if(c.deserialize)return c.deserialize(s);const d=Object.create(c.prototype);for(const m of Object.keys(s)){if(m==="$name")continue;const v=s[m];d[m]=Cs[r].shallow.indexOf(m)>=0?v:cl(v)}return d}throw new Error("can't deserialize object of type "+typeof s)}class Mm{constructor(){this.first=!0}update(r,c){const d=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=d,!0))}}const lt={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function bd(s){for(const r of s)if(Sd(r.charCodeAt(0)))return!0;return!1}function wd(s){for(const r of s)if(!Fv(r.charCodeAt(0)))return!1;return!0}function Fv(s){return!(lt.Arabic(s)||lt["Arabic Supplement"](s)||lt["Arabic Extended-A"](s)||lt["Arabic Presentation Forms-A"](s)||lt["Arabic Presentation Forms-B"](s))}function Sd(s){return!(s!==746&&s!==747&&(s<4352||!(lt["Bopomofo Extended"](s)||lt.Bopomofo(s)||lt["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||lt["CJK Compatibility Ideographs"](s)||lt["CJK Compatibility"](s)||lt["CJK Radicals Supplement"](s)||lt["CJK Strokes"](s)||!(!lt["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||lt["CJK Unified Ideographs Extension A"](s)||lt["CJK Unified Ideographs"](s)||lt["Enclosed CJK Letters and Months"](s)||lt["Hangul Compatibility Jamo"](s)||lt["Hangul Jamo Extended-A"](s)||lt["Hangul Jamo Extended-B"](s)||lt["Hangul Jamo"](s)||lt["Hangul Syllables"](s)||lt.Hiragana(s)||lt["Ideographic Description Characters"](s)||lt.Kanbun(s)||lt["Kangxi Radicals"](s)||lt["Katakana Phonetic Extensions"](s)||lt.Katakana(s)&&s!==12540||!(!lt["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!lt["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||lt["Unified Canadian Aboriginal Syllabics"](s)||lt["Unified Canadian Aboriginal Syllabics Extended"](s)||lt["Vertical Forms"](s)||lt["Yijing Hexagram Symbols"](s)||lt["Yi Syllables"](s)||lt["Yi Radicals"](s))))}function Rm(s){return!(Sd(s)||function(r){return!!(lt["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||lt["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||lt["Letterlike Symbols"](r)||lt["Number Forms"](r)||lt["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||lt["Control Pictures"](r)&&r!==9251||lt["Optical Character Recognition"](r)||lt["Enclosed Alphanumerics"](r)||lt["Geometric Shapes"](r)||lt["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||lt["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||lt["CJK Symbols and Punctuation"](r)||lt.Katakana(r)||lt["Private Use Area"](r)||lt["CJK Compatibility Forms"](r)||lt["Small Form Variants"](r)||lt["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(s))}function Lm(s){return s>=1424&&s<=2303||lt["Arabic Presentation Forms-A"](s)||lt["Arabic Presentation Forms-B"](s)}function Dm(s,r){return!(!r&&Lm(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||lt.Khmer(s))}function Nv(s){for(const r of s)if(Lm(r.charCodeAt(0)))return!0;return!1}const Cd="deferred",Td="loading",Ed="loaded";let Pd=null,Mi="unavailable",qs=null;const ac=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(Mi="error"),Pd&&Pd(s)};function kd(){lc.fire(new Fn("pluginStateChange",{pluginStatus:Mi,pluginURL:qs}))}const lc=new Mn,Ad=function(){return Mi},zm=function(){if(Mi!==Cd||!qs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Mi=Td,kd(),qs&&Ut({url:qs},s=>{s?ac(s):(Mi=Ed,kd())})},Qi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Mi===Ed||Qi.applyArabicShaping!=null,isLoading:()=>Mi===Td,setState(s){if(!qe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Mi=s.pluginStatus,qs=s.pluginURL},isParsed(){if(!qe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return Qi.applyArabicShaping!=null&&Qi.processBidirectionalText!=null&&Qi.processStyledBidirectionalText!=null},getPluginURL(){if(!qe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return qs}};class Gn{constructor(r,c){this.zoom=r,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Mm,this.transition={})}isSupportedScript(r){return function(c,d){for(const m of c)if(!Dm(m.charCodeAt(0),d))return!1;return!0}(r,Qi.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,c=r-Math.floor(r),d=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}}}class Su{constructor(r,c){this.property=r,this.value=c,this.expression=function(d,m){if(tr(d))return new Ql(d,m);if(pu(d)){const v=yd(d,m);if(v.result==="error")throw new Error(v.value.map(x=>`${x.key}: ${x.message}`).join(", "));return v.value}{let v=d;return m.type==="color"&&typeof d=="string"?v=Rn.parse(d):m.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(v=po.parse(d)):v=Ki.parse(d),{kind:"constant",evaluate:()=>v}}}(c===void 0?r.specification.default:c,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,c,d){return this.property.possiblyEvaluate(this,r,c,d)}}class Id{constructor(r){this.property=r,this.value=new Su(r,void 0)}transitioned(r,c){return new Om(this.property,this.value,c,he({},r.transition,this.transition),r.now)}untransitioned(){return new Om(this.property,this.value,null,{},0)}}class Bm{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Le(this._values[r].value.value)}setValue(r,c){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Id(this._values[r].property)),this._values[r].value=new Su(this._values[r].property,c===null?void 0:Le(c))}getTransition(r){return Le(this._values[r].transition)}setTransition(r,c){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Id(this._values[r].property)),this._values[r].transition=Le(c)||void 0}serialize(){const r={};for(const c of Object.keys(this._values)){const d=this.getValue(c);d!==void 0&&(r[c]=d);const m=this.getTransition(c);m!==void 0&&(r[`${c}-transition`]=m)}return r}transitioned(r,c){const d=new Fm(this._properties);for(const m of Object.keys(this._values))d._values[m]=this._values[m].transitioned(r,c._values[m]);return d}untransitioned(){const r=new Fm(this._properties);for(const c of Object.keys(this._values))r._values[c]=this._values[c].untransitioned();return r}}class Om{constructor(r,c,d,m,v){this.property=r,this.value=c,this.begin=v+m.delay||0,this.end=this.begin+m.duration||0,r.specification.transition&&(m.delay||m.duration)&&(this.prior=d)}possiblyEvaluate(r,c,d){const m=r.now||0,v=this.value.possiblyEvaluate(r,c,d),x=this.prior;if(x){if(m>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(m<this.begin)return x.possiblyEvaluate(r,c,d);{const S=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(r,c,d),v,function(k){if(k<=0)return 0;if(k>=1)return 1;const M=k*k,z=M*k;return 4*(k<.5?z:3*(k-M)+z-.75)}(S))}}return v}}class Fm{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,c,d){const m=new Cu(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(r,c,d);return m}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class $v{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}hasValue(r){return this._values[r].value!==void 0}getValue(r){return Le(this._values[r].value)}setValue(r,c){this._values[r]=new Su(this._values[r].property,c===null?void 0:Le(c))}serialize(){const r={};for(const c of Object.keys(this._values)){const d=this.getValue(c);d!==void 0&&(r[c]=d)}return r}possiblyEvaluate(r,c,d){const m=new Cu(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].possiblyEvaluate(r,c,d);return m}}class fi{constructor(r,c,d){this.property=r,this.value=c,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,c,d,m){return this.property.evaluate(this.value,this.parameters,r,c,d,m)}}class Cu{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class Ct{constructor(r){this.specification=r}possiblyEvaluate(r,c){if(r.isDataDriven())throw new Error("Value should not be data driven");return r.expression.evaluate(c)}interpolate(r,c,d){const m=Xi[this.specification.type];return m?m(r,c,d):r}}class Mt{constructor(r,c){this.specification=r,this.overrides=c}possiblyEvaluate(r,c,d,m){return new fi(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(c,null,{},d,m)}:r.expression,c)}interpolate(r,c,d){if(r.value.kind!=="constant"||c.value.kind!=="constant")return r;if(r.value.value===void 0||c.value.value===void 0)return new fi(this,{kind:"constant",value:void 0},r.parameters);const m=Xi[this.specification.type];if(m){const v=m(r.value.value,c.value.value,d);return new fi(this,{kind:"constant",value:v},r.parameters)}return r}evaluate(r,c,d,m,v,x){return r.kind==="constant"?r.value:r.evaluate(c,d,m,v,x)}}class cc extends Mt{possiblyEvaluate(r,c,d,m){if(r.value===void 0)return new fi(this,{kind:"constant",value:void 0},c);if(r.expression.kind==="constant"){const v=r.expression.evaluate(c,null,{},d,m),x=r.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,S=this._calculate(x,x,x,c);return new fi(this,{kind:"constant",value:S},c)}if(r.expression.kind==="camera"){const v=this._calculate(r.expression.evaluate({zoom:c.zoom-1}),r.expression.evaluate({zoom:c.zoom}),r.expression.evaluate({zoom:c.zoom+1}),c);return new fi(this,{kind:"constant",value:v},c)}return new fi(this,r.expression,c)}evaluate(r,c,d,m,v,x){if(r.kind==="source"){const S=r.evaluate(c,d,m,v,x);return this._calculate(S,S,S,c)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(c.zoom)-1},d,m),r.evaluate({zoom:Math.floor(c.zoom)},d,m),r.evaluate({zoom:Math.floor(c.zoom)+1},d,m),c):r.value}_calculate(r,c,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:c}:{from:d,to:c}}interpolate(r){return r}}class Md{constructor(r){this.specification=r}possiblyEvaluate(r,c,d,m){if(r.value!==void 0){if(r.expression.kind==="constant"){const v=r.expression.evaluate(c,null,{},d,m);return this._calculate(v,v,v,c)}return this._calculate(r.expression.evaluate(new Gn(Math.floor(c.zoom-1),c)),r.expression.evaluate(new Gn(Math.floor(c.zoom),c)),r.expression.evaluate(new Gn(Math.floor(c.zoom+1),c)),c)}}_calculate(r,c,d,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:r,to:c}:{from:d,to:c}}interpolate(r){return r}}class Rd{constructor(r){this.specification=r}possiblyEvaluate(r,c,d,m){return!!r.expression.evaluate(c,null,{},d,m)}interpolate(){return!1}}class yr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in r){const d=r[c];d.specification.overridable&&this.overridableProperties.push(c);const m=this.defaultPropertyValues[c]=new Su(d,void 0),v=this.defaultTransitionablePropertyValues[c]=new Id(d);this.defaultTransitioningPropertyValues[c]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=m.possiblyEvaluate({})}}}dt("DataDrivenProperty",Mt),dt("DataConstantProperty",Ct),dt("CrossFadedDataDrivenProperty",cc),dt("CrossFadedProperty",Md),dt("ColorRampProperty",Rd);const Ld="-transition";class yo extends Mn{constructor(r,c){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1},r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),c.layout&&(this._unevaluatedLayout=new $v(c.layout)),c.paint)){this._transitionablePaint=new Bm(c.paint);for(const d in r.paint)this.setPaintProperty(d,r.paint[d],{validate:!1});for(const d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Cu(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,c,d={}){c!=null&&this._validate(Im,`layers.${this.id}.layout.${r}`,r,c,d)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,c):this.visibility=c)}getPaintProperty(r){return r.endsWith(Ld)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,c,d={}){if(c!=null&&this._validate(xd,`layers.${this.id}.paint.${r}`,r,c,d))return!1;if(r.endsWith(Ld))return this._transitionablePaint.setTransition(r.slice(0,-11),c||void 0),!1;{const m=this._transitionablePaint._values[r],v=m.property.specification["property-type"]==="cross-faded-data-driven",x=m.value.isDataDriven(),S=m.value;this._transitionablePaint.setValue(r,c),this._handleSpecialPaintPropertyUpdate(r);const k=this._transitionablePaint._values[r].value;return k.isDataDriven()||x||v||this._handleOverridablePaintPropertyUpdate(r,S,k)}}_handleSpecialPaintPropertyUpdate(r){}_handleOverridablePaintPropertyUpdate(r,c,d){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,c){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,c)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),Te(r,(c,d)=>!(c===void 0||d==="layout"&&!Object.keys(c).length||d==="paint"&&!Object.keys(c).length))}_validate(r,c,d,m,v={}){return(!v||v.validate!==!1)&&bu(this,r.call(Ss,{key:c,layerType:this.type,objectKey:d,value:m,styleSpec:Me,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const c=this.paint.get(r);if(c instanceof fi&&ol(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const Nm={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ca{constructor(r,c){this._structArray=r,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class cr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,c){return r._trim(),c&&(r.isTransferred=!0,c.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const c=Object.create(this.prototype);return c.arrayBuffer=r.arrayBuffer,c.length=r.length,c.capacity=r.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function rr(s,r=1){let c=0,d=0;return{members:s.map(m=>{const v=Nm[m.type].BYTES_PER_ELEMENT,x=c=ul(c,Math.max(r,v)),S=m.components||1;return d=Math.max(d,v),c+=v*S,{name:m.name,type:m.type,components:S,offset:x}}),size:ul(c,Math.max(d,r)),alignment:r}}function ul(s,r){return Math.ceil(s/r)*r}class uc extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c){const d=this.length;return this.resize(d+1),this.emplace(d,r,c)}emplace(r,c,d){const m=2*r;return this.int16[m+0]=c,this.int16[m+1]=d,r}}uc.prototype.bytesPerElement=4,dt("StructArrayLayout2i4",uc);class hc extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,c,d)}emplace(r,c,d,m){const v=3*r;return this.int16[v+0]=c,this.int16[v+1]=d,this.int16[v+2]=m,r}}hc.prototype.bytesPerElement=6,dt("StructArrayLayout3i6",hc);class Ta extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,c,d,m)}emplace(r,c,d,m,v){const x=4*r;return this.int16[x+0]=c,this.int16[x+1]=d,this.int16[x+2]=m,this.int16[x+3]=v,r}}Ta.prototype.bytesPerElement=8,dt("StructArrayLayout4i8",Ta);class Dd extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,c,d,m,v,x)}emplace(r,c,d,m,v,x,S){const k=6*r;return this.int16[k+0]=c,this.int16[k+1]=d,this.int16[k+2]=m,this.int16[k+3]=v,this.int16[k+4]=x,this.int16[k+5]=S,r}}Dd.prototype.bytesPerElement=12,dt("StructArrayLayout2i4i12",Dd);class zd extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,c,d,m,v,x)}emplace(r,c,d,m,v,x,S){const k=4*r,M=8*r;return this.int16[k+0]=c,this.int16[k+1]=d,this.uint8[M+4]=m,this.uint8[M+5]=v,this.uint8[M+6]=x,this.uint8[M+7]=S,r}}zd.prototype.bytesPerElement=8,dt("StructArrayLayout2i4ub8",zd);class hl extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c){const d=this.length;return this.resize(d+1),this.emplace(d,r,c)}emplace(r,c,d){const m=2*r;return this.float32[m+0]=c,this.float32[m+1]=d,r}}hl.prototype.bytesPerElement=8,dt("StructArrayLayout2f8",hl);class Bd extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x,S,k,M,z){const $=this.length;return this.resize($+1),this.emplace($,r,c,d,m,v,x,S,k,M,z)}emplace(r,c,d,m,v,x,S,k,M,z,$){const H=10*r;return this.uint16[H+0]=c,this.uint16[H+1]=d,this.uint16[H+2]=m,this.uint16[H+3]=v,this.uint16[H+4]=x,this.uint16[H+5]=S,this.uint16[H+6]=k,this.uint16[H+7]=M,this.uint16[H+8]=z,this.uint16[H+9]=$,r}}Bd.prototype.bytesPerElement=20,dt("StructArrayLayout10ui20",Bd);class Od extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x,S,k,M,z,$,H){const Y=this.length;return this.resize(Y+1),this.emplace(Y,r,c,d,m,v,x,S,k,M,z,$,H)}emplace(r,c,d,m,v,x,S,k,M,z,$,H,Y){const J=12*r;return this.int16[J+0]=c,this.int16[J+1]=d,this.int16[J+2]=m,this.int16[J+3]=v,this.uint16[J+4]=x,this.uint16[J+5]=S,this.uint16[J+6]=k,this.uint16[J+7]=M,this.int16[J+8]=z,this.int16[J+9]=$,this.int16[J+10]=H,this.int16[J+11]=Y,r}}Od.prototype.bytesPerElement=24,dt("StructArrayLayout4i4ui4i24",Od);class Sn extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,c,d)}emplace(r,c,d,m){const v=3*r;return this.float32[v+0]=c,this.float32[v+1]=d,this.float32[v+2]=m,r}}Sn.prototype.bytesPerElement=12,dt("StructArrayLayout3f12",Sn);class y extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const c=this.length;return this.resize(c+1),this.emplace(c,r)}emplace(r,c){return this.uint32[1*r+0]=c,r}}y.prototype.bytesPerElement=4,dt("StructArrayLayout1ul4",y);class o extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x,S,k,M){const z=this.length;return this.resize(z+1),this.emplace(z,r,c,d,m,v,x,S,k,M)}emplace(r,c,d,m,v,x,S,k,M,z){const $=10*r,H=5*r;return this.int16[$+0]=c,this.int16[$+1]=d,this.int16[$+2]=m,this.int16[$+3]=v,this.int16[$+4]=x,this.int16[$+5]=S,this.uint32[H+3]=k,this.uint16[$+8]=M,this.uint16[$+9]=z,r}}o.prototype.bytesPerElement=20,dt("StructArrayLayout6i1ul2ui20",o);class u extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x){const S=this.length;return this.resize(S+1),this.emplace(S,r,c,d,m,v,x)}emplace(r,c,d,m,v,x,S){const k=6*r;return this.int16[k+0]=c,this.int16[k+1]=d,this.int16[k+2]=m,this.int16[k+3]=v,this.int16[k+4]=x,this.int16[k+5]=S,r}}u.prototype.bytesPerElement=12,dt("StructArrayLayout2i2i2i12",u);class f extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v){const x=this.length;return this.resize(x+1),this.emplace(x,r,c,d,m,v)}emplace(r,c,d,m,v,x){const S=4*r,k=8*r;return this.float32[S+0]=c,this.float32[S+1]=d,this.float32[S+2]=m,this.int16[k+6]=v,this.int16[k+7]=x,r}}f.prototype.bytesPerElement=16,dt("StructArrayLayout2f1f2i16",f);class g extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,c,d,m)}emplace(r,c,d,m,v){const x=12*r,S=3*r;return this.uint8[x+0]=c,this.uint8[x+1]=d,this.float32[S+1]=m,this.float32[S+2]=v,r}}g.prototype.bytesPerElement=12,dt("StructArrayLayout2ub2f12",g);class _ extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,c,d)}emplace(r,c,d,m){const v=3*r;return this.uint16[v+0]=c,this.uint16[v+1]=d,this.uint16[v+2]=m,r}}_.prototype.bytesPerElement=6,dt("StructArrayLayout3ui6",_);class C extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe){const we=this.length;return this.resize(we+1),this.emplace(we,r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe)}emplace(r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe,we){const ye=24*r,Ce=12*r,ke=48*r;return this.int16[ye+0]=c,this.int16[ye+1]=d,this.uint16[ye+2]=m,this.uint16[ye+3]=v,this.uint32[Ce+2]=x,this.uint32[Ce+3]=S,this.uint32[Ce+4]=k,this.uint16[ye+10]=M,this.uint16[ye+11]=z,this.uint16[ye+12]=$,this.float32[Ce+7]=H,this.float32[Ce+8]=Y,this.uint8[ke+36]=J,this.uint8[ke+37]=re,this.uint8[ke+38]=ce,this.uint32[Ce+10]=fe,this.int16[ye+22]=we,r}}C.prototype.bytesPerElement=48,dt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",C);class E extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe,we,ye,Ce,ke,We,ct,_t,at,st,nt,pt){const it=this.length;return this.resize(it+1),this.emplace(it,r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe,we,ye,Ce,ke,We,ct,_t,at,st,nt,pt)}emplace(r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re,ce,fe,we,ye,Ce,ke,We,ct,_t,at,st,nt,pt,it){const Ye=32*r,Pt=16*r;return this.int16[Ye+0]=c,this.int16[Ye+1]=d,this.int16[Ye+2]=m,this.int16[Ye+3]=v,this.int16[Ye+4]=x,this.int16[Ye+5]=S,this.int16[Ye+6]=k,this.int16[Ye+7]=M,this.uint16[Ye+8]=z,this.uint16[Ye+9]=$,this.uint16[Ye+10]=H,this.uint16[Ye+11]=Y,this.uint16[Ye+12]=J,this.uint16[Ye+13]=re,this.uint16[Ye+14]=ce,this.uint16[Ye+15]=fe,this.uint16[Ye+16]=we,this.uint16[Ye+17]=ye,this.uint16[Ye+18]=Ce,this.uint16[Ye+19]=ke,this.uint16[Ye+20]=We,this.uint16[Ye+21]=ct,this.uint16[Ye+22]=_t,this.uint32[Pt+12]=at,this.float32[Pt+13]=st,this.float32[Pt+14]=nt,this.uint16[Ye+30]=pt,this.uint16[Ye+31]=it,r}}E.prototype.bytesPerElement=64,dt("StructArrayLayout8i15ui1ul2f2ui64",E);class A extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const c=this.length;return this.resize(c+1),this.emplace(c,r)}emplace(r,c){return this.float32[1*r+0]=c,r}}A.prototype.bytesPerElement=4,dt("StructArrayLayout1f4",A);class R extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,c,d)}emplace(r,c,d,m){const v=3*r;return this.uint16[6*r+0]=c,this.float32[v+1]=d,this.float32[v+2]=m,r}}R.prototype.bytesPerElement=12,dt("StructArrayLayout1ui2f12",R);class B extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c,d){const m=this.length;return this.resize(m+1),this.emplace(m,r,c,d)}emplace(r,c,d,m){const v=4*r;return this.uint32[2*r+0]=c,this.uint16[v+2]=d,this.uint16[v+3]=m,r}}B.prototype.bytesPerElement=8,dt("StructArrayLayout1ul2ui8",B);class F extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,c){const d=this.length;return this.resize(d+1),this.emplace(d,r,c)}emplace(r,c,d){const m=2*r;return this.uint16[m+0]=c,this.uint16[m+1]=d,r}}F.prototype.bytesPerElement=4,dt("StructArrayLayout2ui4",F);class X extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const c=this.length;return this.resize(c+1),this.emplace(c,r)}emplace(r,c){return this.uint16[1*r+0]=c,r}}X.prototype.bytesPerElement=2,dt("StructArrayLayout1ui2",X);class oe extends cr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,c,d,m){const v=this.length;return this.resize(v+1),this.emplace(v,r,c,d,m)}emplace(r,c,d,m,v){const x=4*r;return this.float32[x+0]=c,this.float32[x+1]=d,this.float32[x+2]=m,this.float32[x+3]=v,r}}oe.prototype.bytesPerElement=16,dt("StructArrayLayout4f16",oe);class ie extends Ca{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new I(this.anchorPointX,this.anchorPointY)}}ie.prototype.size=20;class ae extends o{get(r){return new ie(this,r)}}dt("CollisionBoxArray",ae);class ne extends Ca{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(r){this._structArray.uint8[this._pos1+37]=r}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(r){this._structArray.uint8[this._pos1+38]=r}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(r){this._structArray.uint32[this._pos4+10]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ne.prototype.size=48;class _e extends C{get(r){return new ne(this,r)}}dt("PlacedSymbolArray",_e);class Ee extends Ca{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(r){this._structArray.uint32[this._pos4+12]=r}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ee.prototype.size=64;class pe extends E{get(r){return new Ee(this,r)}}dt("SymbolInstanceArray",pe);class xe extends A{getoffsetX(r){return this.float32[1*r+0]}}dt("GlyphOffsetArray",xe);class Ie extends hc{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}dt("SymbolLineVertexArray",Ie);class Re extends Ca{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Re.prototype.size=12;class je extends R{get(r){return new Re(this,r)}}dt("TextAnchorOffsetArray",je);class Xe extends Ca{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Xe.prototype.size=8;class He extends B{get(r){return new Xe(this,r)}}dt("FeatureIndexArray",He);class Je extends uc{}class vt extends uc{}class sn extends uc{}class ot extends Dd{}class Rt extends zd{}class bt extends hl{}class Ln extends Bd{}class rn extends Od{}class Qt extends Sn{}class an extends y{}class dr extends u{}class jn extends g{}class Xr extends _{}class Rr extends F{}const vr=rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:eo}=vr;class Hn{constructor(r=[]){this.segments=r}prepareSegment(r,c,d,m){let v=this.segments[this.segments.length-1];return r>Hn.MAX_VERTEX_ARRAY_LENGTH&&Ne(`Max vertices per segment is ${Hn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!v||v.vertexLength+r>Hn.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==m)&&(v={vertexOffset:c.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},m!==void 0&&(v.sortKey=m),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const r of this.segments)for(const c in r.vaos)r.vaos[c].destroy()}static simpleSegment(r,c,d,m){return new Hn([{vertexOffset:r,primitiveOffset:c,vertexLength:d,primitiveLength:m,vaos:{},sortKey:0}])}}function qo(s,r){return 256*(s=ue(Math.floor(s),0,255))+ue(Math.floor(r),0,255)}Hn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,dt("SegmentVector",Hn);const Zo=rr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zs={exports:{}},Ea={exports:{}};Ea.exports=function(s,r){var c,d,m,v,x,S,k,M;for(d=s.length-(c=3&s.length),m=r,x=3432918353,S=461845907,M=0;M<d;)k=255&s.charCodeAt(M)|(255&s.charCodeAt(++M))<<8|(255&s.charCodeAt(++M))<<16|(255&s.charCodeAt(++M))<<24,++M,m=27492+(65535&(v=5*(65535&(m=(m^=k=(65535&(k=(k=(65535&k)*x+(((k>>>16)*x&65535)<<16)&4294967295)<<15|k>>>17))*S+(((k>>>16)*S&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(k=0,c){case 3:k^=(255&s.charCodeAt(M+2))<<16;case 2:k^=(255&s.charCodeAt(M+1))<<8;case 1:m^=k=(65535&(k=(k=(65535&(k^=255&s.charCodeAt(M)))*x+(((k>>>16)*x&65535)<<16)&4294967295)<<15|k>>>17))*S+(((k>>>16)*S&65535)<<16)&4294967295}return m^=s.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var dl=Ea.exports,oi={exports:{}};oi.exports=function(s,r){for(var c,d=s.length,m=r^d,v=0;d>=4;)c=1540483477*(65535&(c=255&s.charCodeAt(v)|(255&s.charCodeAt(++v))<<8|(255&s.charCodeAt(++v))<<16|(255&s.charCodeAt(++v))<<24))+((1540483477*(c>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:m^=(255&s.charCodeAt(v+2))<<16;case 2:m^=(255&s.charCodeAt(v+1))<<8;case 1:m=1540483477*(65535&(m^=255&s.charCodeAt(v)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var Yr=dl,mi=oi.exports;Zs.exports=Yr,Zs.exports.murmur3=Yr,Zs.exports.murmur2=mi;var Pa=w(Zs.exports);class pr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,c,d,m){this.ids.push(Lr(r)),this.positions.push(c,d,m)}getPositions(r){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=Lr(r);let d=0,m=this.ids.length-1;for(;d<m;){const x=d+m>>1;this.ids[x]>=c?m=x:d=x+1}const v=[];for(;this.ids[d]===c;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(r,c){const d=new Float64Array(r.ids),m=new Uint32Array(r.positions);return Ri(d,m,0,d.length-1),c&&c.push(d.buffer,m.buffer),{ids:d,positions:m}}static deserialize(r){const c=new pr;return c.ids=r.ids,c.positions=r.positions,c.indexed=!0,c}}function Lr(s){const r=+s;return!isNaN(r)&&r<=Number.MAX_SAFE_INTEGER?r:Pa(String(s))}function Ri(s,r,c,d){for(;c<d;){const m=s[c+d>>1];let v=c-1,x=d+1;for(;;){do v++;while(s[v]<m);do x--;while(s[x]>m);if(v>=x)break;fr(s,v,x),fr(r,3*v,3*x),fr(r,3*v+1,3*x+1),fr(r,3*v+2,3*x+2)}x-c<d-x?(Ri(s,r,c,x),c=x+1):(Ri(s,r,x+1,d),d=x)}}function fr(s,r,c){const d=s[r];s[r]=s[c],s[c]=d}dt("FeaturePositionMap",pr);class ka{constructor(r,c){this.gl=r.gl,this.location=c}}class Tu extends ka{constructor(r,c){super(r,c),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class $m extends ka{constructor(r,c){super(r,c),this.current=[0,0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))}}class jm extends ka{constructor(r,c){super(r,c),this.current=Rn.transparent}set(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))}}const jv=new Float32Array(16);function Fd(s){return[qo(255*s.r,255*s.g),qo(255*s.b,255*s.a)]}class Ko{constructor(r,c,d){this.value=r,this.uniformNames=c.map(m=>`u_${m}`),this.type=d}setUniform(r,c,d){r.set(d.constantOr(this.value))}getBinding(r,c,d){return this.type==="color"?new jm(r,c):new Tu(r,c)}}class Aa{constructor(r,c){this.uniformNames=c.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=r.tlbr}setUniform(r,c,d,m){const v=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&r.set(v)}getBinding(r,c,d){return d.substr(0,9)==="u_pattern"?new $m(r,c):new Tu(r,c)}}class Xo{constructor(r,c,d,m){this.expression=r,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(v=>({name:`a_${v}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(r,c,d,m,v){const x=this.paintVertexArray.length,S=this.expression.evaluate(new Gn(0),c,{},m,[],v);this.paintVertexArray.resize(r),this._setPaintValue(x,r,S)}updatePaintArray(r,c,d,m){const v=this.expression.evaluate({zoom:0},d,m);this._setPaintValue(r,c,v)}_setPaintValue(r,c,d){if(this.type==="color"){const m=Fd(d);for(let v=r;v<c;v++)this.paintVertexArray.emplace(v,m[0],m[1])}else{for(let m=r;m<c;m++)this.paintVertexArray.emplace(m,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vo{constructor(r,c,d,m,v,x){this.expression=r,this.uniformNames=c.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=m,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=c.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(r,c,d,m,v){const x=this.expression.evaluate(new Gn(this.zoom),c,{},m,[],v),S=this.expression.evaluate(new Gn(this.zoom+1),c,{},m,[],v),k=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(k,r,x,S)}updatePaintArray(r,c,d,m){const v=this.expression.evaluate({zoom:this.zoom},d,m),x=this.expression.evaluate({zoom:this.zoom+1},d,m);this._setPaintValue(r,c,v,x)}_setPaintValue(r,c,d,m){if(this.type==="color"){const v=Fd(d),x=Fd(m);for(let S=r;S<c;S++)this.paintVertexArray.emplace(S,v[0],v[1],x[0],x[1])}else{for(let v=r;v<c;v++)this.paintVertexArray.emplace(v,d,m);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(m))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,c){const d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,m=ue(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);r.set(m)}getBinding(r,c,d){return new Tu(r,c)}}class Yo{constructor(r,c,d,m,v,x){this.expression=r,this.type=c,this.useIntegerZoom=d,this.zoom=m,this.layerId=x,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(r,c,d){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(m,r,c.patterns&&c.patterns[this.layerId],d)}updatePaintArray(r,c,d,m,v){this._setPaintValues(r,c,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(r,c,d,m){if(!m||!d)return;const{min:v,mid:x,max:S}=d,k=m[v],M=m[x],z=m[S];if(k&&M&&z)for(let $=r;$<c;$++)this.zoomInPaintVertexArray.emplace($,M.tl[0],M.tl[1],M.br[0],M.br[1],k.tl[0],k.tl[1],k.br[0],k.br[1],M.pixelRatio,k.pixelRatio),this.zoomOutPaintVertexArray.emplace($,M.tl[0],M.tl[1],M.br[0],M.br[1],z.tl[0],z.tl[1],z.br[0],z.br[1],M.pixelRatio,z.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Zo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Zo.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Nd{constructor(r,c,d){this.binders={},this._buffers=[];const m=[];for(const v in r.paint._values){if(!d(v))continue;const x=r.paint.get(v);if(!(x instanceof fi&&ol(x.property.specification)))continue;const S=VD(v,r.type),k=x.value,M=x.property.specification.type,z=x.property.useIntegerZoom,$=x.property.specification["property-type"],H=$==="cross-faded"||$==="cross-faded-data-driven";if(k.kind==="constant")this.binders[v]=H?new Aa(k.value,S):new Ko(k.value,S,M),m.push(`/u_${v}`);else if(k.kind==="source"||H){const Y=YS(v,M,"source");this.binders[v]=H?new Yo(k,M,z,c,Y,r.id):new Xo(k,S,M,Y),m.push(`/a_${v}`)}else{const Y=YS(v,M,"composite");this.binders[v]=new vo(k,S,M,z,c,Y),m.push(`/z_${v}`)}}this.cacheKey=m.sort().join("")}getMaxValue(r){const c=this.binders[r];return c instanceof Xo||c instanceof vo?c.maxValue:0}populatePaintArrays(r,c,d,m,v){for(const x in this.binders){const S=this.binders[x];(S instanceof Xo||S instanceof vo||S instanceof Yo)&&S.populatePaintArray(r,c,d,m,v)}}setConstantPatternPositions(r,c){for(const d in this.binders){const m=this.binders[d];m instanceof Aa&&m.setConstantPatternPositions(r,c)}}updatePaintArrays(r,c,d,m,v){let x=!1;for(const S in r){const k=c.getPositions(S);for(const M of k){const z=d.feature(M.index);for(const $ in this.binders){const H=this.binders[$];if((H instanceof Xo||H instanceof vo||H instanceof Yo)&&H.expression.isStateDependent===!0){const Y=m.paint.get($);H.expression=Y.value,H.updatePaintArray(M.start,M.end,z,r[S],v),x=!0}}}}return x}defines(){const r=[];for(const c in this.binders){const d=this.binders[c];(d instanceof Ko||d instanceof Aa)&&r.push(...d.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return r}getBinderAttributes(){const r=[];for(const c in this.binders){const d=this.binders[c];if(d instanceof Xo||d instanceof vo)for(let m=0;m<d.paintVertexAttributes.length;m++)r.push(d.paintVertexAttributes[m].name);else if(d instanceof Yo)for(let m=0;m<Zo.members.length;m++)r.push(Zo.members[m].name)}return r}getBinderUniforms(){const r=[];for(const c in this.binders){const d=this.binders[c];if(d instanceof Ko||d instanceof Aa||d instanceof vo)for(const m of d.uniformNames)r.push(m)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r,c){const d=[];for(const m in this.binders){const v=this.binders[m];if(v instanceof Ko||v instanceof Aa||v instanceof vo){for(const x of v.uniformNames)if(c[x]){const S=v.getBinding(r,c[x],x);d.push({name:x,property:m,binding:S})}}}return d}setUniforms(r,c,d,m){for(const{name:v,property:x,binding:S}of c)this.binders[x].setUniform(S,m,d.get(x),v)}updatePaintBuffers(r){this._buffers=[];for(const c in this.binders){const d=this.binders[c];if(r&&d instanceof Yo){const m=r.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(d instanceof Xo||d instanceof vo)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(r){for(const c in this.binders){const d=this.binders[c];(d instanceof Xo||d instanceof vo||d instanceof Yo)&&d.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const c=this.binders[r];(c instanceof Xo||c instanceof vo||c instanceof Yo)&&c.destroy()}}}class Ts{constructor(r,c,d=()=>!0){this.programConfigurations={};for(const m of r)this.programConfigurations[m.id]=new Nd(m,c,d);this.needsUpload=!1,this._featureMap=new pr,this._bufferOffset=0}populatePaintArrays(r,c,d,m,v,x){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(r,c,m,v,x);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,c,d,m){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(r,this._featureMap,c,v,m)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}function VD(s,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(`${r}-`,"").replace(/-/g,"_")]}function YS(s,r,c){const d={color:{source:hl,composite:oe},number:{source:A,composite:hl}},m=function(v){return{"line-pattern":{source:Ln,composite:Ln},"fill-pattern":{source:Ln,composite:Ln},"fill-extrusion-pattern":{source:Ln,composite:Ln}}[v]}(s);return m&&m[c]||d[r][c]}dt("ConstantBinder",Ko),dt("CrossFadedConstantBinder",Aa),dt("SourceExpressionBinder",Xo),dt("CrossFadedCompositeBinder",Yo),dt("CompositeExpressionBinder",vo),dt("ProgramConfiguration",Nd,{omit:["_buffers"]}),dt("ProgramConfigurationSet",Ts);const Er=8192,Vv=Math.pow(2,14)-1,JS=-Vv-1;function dc(s){const r=Er/s.extent,c=s.loadGeometry();for(let d=0;d<c.length;d++){const m=c[d];for(let v=0;v<m.length;v++){const x=m[v],S=Math.round(x.x*r),k=Math.round(x.y*r);x.x=ue(S,JS,Vv),x.y=ue(k,JS,Vv),(S<x.x||S>x.x+1||k<x.y||k>x.y+1)&&Ne("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function pc(s,r){return{type:s.type,id:s.id,properties:s.properties,geometry:r?dc(s):[]}}function Vm(s,r,c,d,m){s.emplaceBack(2*r+(d+1)/2,2*c+(m+1)/2)}class Uv{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(c=>c.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new vt,this.indexArray=new Xr,this.segments=new Hn,this.programConfigurations=new Ts(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(r,c,d){const m=this.layers[0],v=[];let x=null,S=!1;m.type==="circle"&&(x=m.layout.get("circle-sort-key"),S=!x.isConstant());for(const{feature:k,id:M,index:z,sourceLayerIndex:$}of r){const H=this.layers[0]._featureFilter.needGeometry,Y=pc(k,H);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom),Y,d))continue;const J=S?x.evaluate(Y,{},d):void 0,re={id:M,properties:k.properties,type:k.type,sourceLayerIndex:$,index:z,geometry:H?Y.geometry:dc(k),patterns:{},sortKey:J};v.push(re)}S&&v.sort((k,M)=>k.sortKey-M.sortKey);for(const k of v){const{geometry:M,index:z,sourceLayerIndex:$}=k,H=r[z].feature;this.addFeature(k,M,z,d),c.featureIndex.insert(H,M,z,$,this.index)}}update(r,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,eo),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,c,d,m){for(const v of c)for(const x of v){const S=x.x,k=x.y;if(S<0||S>=Er||k<0||k>=Er)continue;const M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),z=M.vertexLength;Vm(this.layoutVertexArray,S,k,-1,-1),Vm(this.layoutVertexArray,S,k,1,-1),Vm(this.layoutVertexArray,S,k,1,1),Vm(this.layoutVertexArray,S,k,-1,1),this.indexArray.emplaceBack(z,z+1,z+2),this.indexArray.emplaceBack(z,z+3,z+2),M.vertexLength+=4,M.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,{},m)}}function QS(s,r){for(let c=0;c<s.length;c++)if(Eu(r,s[c]))return!0;for(let c=0;c<r.length;c++)if(Eu(s,r[c]))return!0;return!!Wv(s,r)}function UD(s,r,c){return!!Eu(s,r)||!!Gv(r,s,c)}function e2(s,r){if(s.length===1)return n2(r,s[0]);for(let c=0;c<r.length;c++){const d=r[c];for(let m=0;m<d.length;m++)if(Eu(s,d[m]))return!0}for(let c=0;c<s.length;c++)if(n2(r,s[c]))return!0;for(let c=0;c<r.length;c++)if(Wv(s,r[c]))return!0;return!1}function WD(s,r,c){if(s.length>1){if(Wv(s,r))return!0;for(let d=0;d<r.length;d++)if(Gv(r[d],s,c))return!0}for(let d=0;d<s.length;d++)if(Gv(s[d],r,c))return!0;return!1}function Wv(s,r){if(s.length===0||r.length===0)return!1;for(let c=0;c<s.length-1;c++){const d=s[c],m=s[c+1];for(let v=0;v<r.length-1;v++)if(GD(d,m,r[v],r[v+1]))return!0}return!1}function GD(s,r,c,d){return ze(s,c,d)!==ze(r,c,d)&&ze(s,r,c)!==ze(s,r,d)}function Gv(s,r,c){const d=c*c;if(r.length===1)return s.distSqr(r[0])<d;for(let m=1;m<r.length;m++)if(t2(s,r[m-1],r[m])<d)return!0;return!1}function t2(s,r,c){const d=r.distSqr(c);if(d===0)return s.distSqr(r);const m=((s.x-r.x)*(c.x-r.x)+(s.y-r.y)*(c.y-r.y))/d;return s.distSqr(m<0?r:m>1?c:c.sub(r)._mult(m)._add(r))}function n2(s,r){let c,d,m,v=!1;for(let x=0;x<s.length;x++){c=s[x];for(let S=0,k=c.length-1;S<c.length;k=S++)d=c[S],m=c[k],d.y>r.y!=m.y>r.y&&r.x<(m.x-d.x)*(r.y-d.y)/(m.y-d.y)+d.x&&(v=!v)}return v}function Eu(s,r){let c=!1;for(let d=0,m=s.length-1;d<s.length;m=d++){const v=s[d],x=s[m];v.y>r.y!=x.y>r.y&&r.x<(x.x-v.x)*(r.y-v.y)/(x.y-v.y)+v.x&&(c=!c)}return c}function HD(s,r,c){const d=c[0],m=c[2];if(s.x<d.x&&r.x<d.x||s.x>m.x&&r.x>m.x||s.y<d.y&&r.y<d.y||s.y>m.y&&r.y>m.y)return!1;const v=ze(s,r,c[0]);return v!==ze(s,r,c[1])||v!==ze(s,r,c[2])||v!==ze(s,r,c[3])}function $d(s,r,c){const d=r.paint.get(s).value;return d.kind==="constant"?d.value:c.programConfigurations.get(r.id).getMaxValue(s)}function Um(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Wm(s,r,c,d,m){if(!r[0]&&!r[1])return s;const v=I.convert(r)._mult(m);c==="viewport"&&v._rotate(-d);const x=[];for(let S=0;S<s.length;S++)x.push(s[S].sub(v));return x}let r2,i2;dt("CircleBucket",Uv,{omit:["layers"]});var qD={get paint(){return i2=i2||new yr({"circle-radius":new Mt(Me.paint_circle["circle-radius"]),"circle-color":new Mt(Me.paint_circle["circle-color"]),"circle-blur":new Mt(Me.paint_circle["circle-blur"]),"circle-opacity":new Mt(Me.paint_circle["circle-opacity"]),"circle-translate":new Ct(Me.paint_circle["circle-translate"]),"circle-translate-anchor":new Ct(Me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ct(Me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ct(Me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mt(Me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mt(Me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mt(Me.paint_circle["circle-stroke-opacity"])})},get layout(){return r2=r2||new yr({"circle-sort-key":new Mt(Me.layout_circle["circle-sort-key"])})}},Li=1e-6,Pu=typeof Float32Array<"u"?Float32Array:Array;function Hv(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function o2(s,r,c){var d=r[0],m=r[1],v=r[2],x=r[3],S=r[4],k=r[5],M=r[6],z=r[7],$=r[8],H=r[9],Y=r[10],J=r[11],re=r[12],ce=r[13],fe=r[14],we=r[15],ye=c[0],Ce=c[1],ke=c[2],We=c[3];return s[0]=ye*d+Ce*S+ke*$+We*re,s[1]=ye*m+Ce*k+ke*H+We*ce,s[2]=ye*v+Ce*M+ke*Y+We*fe,s[3]=ye*x+Ce*z+ke*J+We*we,s[4]=(ye=c[4])*d+(Ce=c[5])*S+(ke=c[6])*$+(We=c[7])*re,s[5]=ye*m+Ce*k+ke*H+We*ce,s[6]=ye*v+Ce*M+ke*Y+We*fe,s[7]=ye*x+Ce*z+ke*J+We*we,s[8]=(ye=c[8])*d+(Ce=c[9])*S+(ke=c[10])*$+(We=c[11])*re,s[9]=ye*m+Ce*k+ke*H+We*ce,s[10]=ye*v+Ce*M+ke*Y+We*fe,s[11]=ye*x+Ce*z+ke*J+We*we,s[12]=(ye=c[12])*d+(Ce=c[13])*S+(ke=c[14])*$+(We=c[15])*re,s[13]=ye*m+Ce*k+ke*H+We*ce,s[14]=ye*v+Ce*M+ke*Y+We*fe,s[15]=ye*x+Ce*z+ke*J+We*we,s}Math.hypot||(Math.hypot=function(){for(var s=0,r=arguments.length;r--;)s+=arguments[r]*arguments[r];return Math.sqrt(s)});var jd,ZD=o2;function Gm(s,r,c){var d=r[0],m=r[1],v=r[2],x=r[3];return s[0]=c[0]*d+c[4]*m+c[8]*v+c[12]*x,s[1]=c[1]*d+c[5]*m+c[9]*v+c[13]*x,s[2]=c[2]*d+c[6]*m+c[10]*v+c[14]*x,s[3]=c[3]*d+c[7]*m+c[11]*v+c[15]*x,s}jd=new Pu(4),Pu!=Float32Array&&(jd[0]=0,jd[1]=0,jd[2]=0,jd[3]=0);class KD extends yo{constructor(r){super(r,qD)}createBucket(r){return new Uv(r)}queryRadius(r){const c=r;return $d("circle-radius",this,c)+$d("circle-stroke-width",this,c)+Um(this.paint.get("circle-translate"))}queryIntersectsFeature(r,c,d,m,v,x,S,k){const M=Wm(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,S),z=this.paint.get("circle-radius").evaluate(c,d)+this.paint.get("circle-stroke-width").evaluate(c,d),$=this.paint.get("circle-pitch-alignment")==="map",H=$?M:function(J,re){return J.map(ce=>s2(ce,re))}(M,k),Y=$?z*S:z;for(const J of m)for(const re of J){const ce=$?re:s2(re,k);let fe=Y;const we=Gm([],[re.x,re.y,0,1],k);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?fe*=we[3]/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(fe*=x.cameraToCenterDistance/we[3]),UD(H,ce,fe))return!0}return!1}}function s2(s,r){const c=Gm([],[s.x,s.y,0,1],r);return new I(c[0]/c[3],c[1]/c[3])}class a2 extends Uv{}let l2;dt("HeatmapBucket",a2,{omit:["layers"]});var XD={get paint(){return l2=l2||new yr({"heatmap-radius":new Mt(Me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mt(Me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ct(Me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Rd(Me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ct(Me.paint_heatmap["heatmap-opacity"])})}};function qv(s,{width:r,height:c},d,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==r*c*d)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${r*c*d}`)}else m=new Uint8Array(r*c*d);return s.width=r,s.height=c,s.data=m,s}function c2(s,{width:r,height:c},d){if(r===s.width&&c===s.height)return;const m=qv({},{width:r,height:c},d);Zv(s,m,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,r),height:Math.min(s.height,c)},d),s.width=r,s.height=c,s.data=m.data}function Zv(s,r,c,d,m,v){if(m.width===0||m.height===0)return r;if(m.width>s.width||m.height>s.height||c.x>s.width-m.width||c.y>s.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>r.width||m.height>r.height||d.x>r.width-m.width||d.y>r.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const x=s.data,S=r.data;if(x===S)throw new Error("srcData equals dstData, so image is already copied");for(let k=0;k<m.height;k++){const M=((c.y+k)*s.width+c.x)*v,z=((d.y+k)*r.width+d.x)*v;for(let $=0;$<m.width*v;$++)S[z+$]=x[M+$]}return r}class Vd{constructor(r,c){qv(this,r,1,c)}resize(r){c2(this,r,1)}clone(){return new Vd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,c,d,m,v){Zv(r,c,d,m,v,1)}}class Po{constructor(r,c){qv(this,r,4,c)}resize(r){c2(this,r,4)}replace(r,c){c?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new Po({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,c,d,m,v){Zv(r,c,d,m,v,4)}}function u2(s){const r={},c=s.resolution||256,d=s.clips?s.clips.length:1,m=s.image||new Po({width:c,height:d});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const v=(x,S,k)=>{r[s.evaluationKey]=k;const M=s.expression.evaluate(r);m.data[x+S+0]=Math.floor(255*M.r/M.a),m.data[x+S+1]=Math.floor(255*M.g/M.a),m.data[x+S+2]=Math.floor(255*M.b/M.a),m.data[x+S+3]=Math.floor(255*M.a)};if(s.clips)for(let x=0,S=0;x<d;++x,S+=4*c)for(let k=0,M=0;k<c;k++,M+=4){const z=k/(c-1),{start:$,end:H}=s.clips[x];v(S,M,$*(1-z)+H*z)}else for(let x=0,S=0;x<c;x++,S+=4)v(0,S,x/(c-1));return m}dt("AlphaImage",Vd),dt("RGBAImage",Po);class YD extends yo{createBucket(r){return new a2(r)}constructor(r){super(r,XD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=u2({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let h2;var JD={get paint(){return h2=h2||new yr({"hillshade-illumination-direction":new Ct(Me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ct(Me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ct(Me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ct(Me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ct(Me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ct(Me.paint_hillshade["hillshade-accent-color"])})}};class QD extends yo{constructor(r){super(r,JD)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const ez=rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:tz}=ez;var Kv={exports:{}};function Hm(s,r,c){c=c||2;var d,m,v,x,S,k,M,z=r&&r.length,$=z?r[0]*c:s.length,H=d2(s,0,$,c,!0),Y=[];if(!H||H.next===H.prev)return Y;if(z&&(H=function(re,ce,fe,we){var ye,Ce,ke,We=[];for(ye=0,Ce=ce.length;ye<Ce;ye++)(ke=d2(re,ce[ye]*we,ye<Ce-1?ce[ye+1]*we:re.length,we,!1))===ke.next&&(ke.steiner=!0),We.push(cz(ke));for(We.sort(sz),ye=0;ye<We.length;ye++)fe=az(We[ye],fe);return fe}(s,r,H,c)),s.length>80*c){d=v=s[0],m=x=s[1];for(var J=c;J<$;J+=c)(S=s[J])<d&&(d=S),(k=s[J+1])<m&&(m=k),S>v&&(v=S),k>x&&(x=k);M=(M=Math.max(v-d,x-m))!==0?32767/M:0}return Ud(H,Y,c,d,m,M,0),Y}function d2(s,r,c,d,m){var v,x;if(m===Jv(s,r,c,d)>0)for(v=r;v<c;v+=d)x=m2(v,s[v],s[v+1],x);else for(v=c-d;v>=r;v-=d)x=m2(v,s[v],s[v+1],x);return x&&qm(x,x.next)&&(Gd(x),x=x.next),x}function fc(s,r){if(!s)return s;r||(r=s);var c,d=s;do if(c=!1,d.steiner||!qm(d,d.next)&&_r(d.prev,d,d.next)!==0)d=d.next;else{if(Gd(d),(d=r=d.prev)===d.next)break;c=!0}while(c||d!==r);return r}function Ud(s,r,c,d,m,v,x){if(s){!x&&v&&function(z,$,H,Y){var J=z;do J.z===0&&(J.z=Xv(J.x,J.y,$,H,Y)),J.prevZ=J.prev,J.nextZ=J.next,J=J.next;while(J!==z);J.prevZ.nextZ=null,J.prevZ=null,function(re){var ce,fe,we,ye,Ce,ke,We,ct,_t=1;do{for(fe=re,re=null,Ce=null,ke=0;fe;){for(ke++,we=fe,We=0,ce=0;ce<_t&&(We++,we=we.nextZ);ce++);for(ct=_t;We>0||ct>0&&we;)We!==0&&(ct===0||!we||fe.z<=we.z)?(ye=fe,fe=fe.nextZ,We--):(ye=we,we=we.nextZ,ct--),Ce?Ce.nextZ=ye:re=ye,ye.prevZ=Ce,Ce=ye;fe=we}Ce.nextZ=null,_t*=2}while(ke>1)}(J)}(s,d,m,v);for(var S,k,M=s;s.prev!==s.next;)if(S=s.prev,k=s.next,v?rz(s,d,m,v):nz(s))r.push(S.i/c|0),r.push(s.i/c|0),r.push(k.i/c|0),Gd(s),s=k.next,M=k.next;else if((s=k)===M){x?x===1?Ud(s=iz(fc(s),r,c),r,c,d,m,v,2):x===2&&oz(s,r,c,d,m,v):Ud(fc(s),r,c,d,m,v,1);break}}}function nz(s){var r=s.prev,c=s,d=s.next;if(_r(r,c,d)>=0)return!1;for(var m=r.x,v=c.x,x=d.x,S=r.y,k=c.y,M=d.y,z=m<v?m<x?m:x:v<x?v:x,$=S<k?S<M?S:M:k<M?k:M,H=m>v?m>x?m:x:v>x?v:x,Y=S>k?S>M?S:M:k>M?k:M,J=d.next;J!==r;){if(J.x>=z&&J.x<=H&&J.y>=$&&J.y<=Y&&ku(m,S,v,k,x,M,J.x,J.y)&&_r(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function rz(s,r,c,d){var m=s.prev,v=s,x=s.next;if(_r(m,v,x)>=0)return!1;for(var S=m.x,k=v.x,M=x.x,z=m.y,$=v.y,H=x.y,Y=S<k?S<M?S:M:k<M?k:M,J=z<$?z<H?z:H:$<H?$:H,re=S>k?S>M?S:M:k>M?k:M,ce=z>$?z>H?z:H:$>H?$:H,fe=Xv(Y,J,r,c,d),we=Xv(re,ce,r,c,d),ye=s.prevZ,Ce=s.nextZ;ye&&ye.z>=fe&&Ce&&Ce.z<=we;){if(ye.x>=Y&&ye.x<=re&&ye.y>=J&&ye.y<=ce&&ye!==m&&ye!==x&&ku(S,z,k,$,M,H,ye.x,ye.y)&&_r(ye.prev,ye,ye.next)>=0||(ye=ye.prevZ,Ce.x>=Y&&Ce.x<=re&&Ce.y>=J&&Ce.y<=ce&&Ce!==m&&Ce!==x&&ku(S,z,k,$,M,H,Ce.x,Ce.y)&&_r(Ce.prev,Ce,Ce.next)>=0))return!1;Ce=Ce.nextZ}for(;ye&&ye.z>=fe;){if(ye.x>=Y&&ye.x<=re&&ye.y>=J&&ye.y<=ce&&ye!==m&&ye!==x&&ku(S,z,k,$,M,H,ye.x,ye.y)&&_r(ye.prev,ye,ye.next)>=0)return!1;ye=ye.prevZ}for(;Ce&&Ce.z<=we;){if(Ce.x>=Y&&Ce.x<=re&&Ce.y>=J&&Ce.y<=ce&&Ce!==m&&Ce!==x&&ku(S,z,k,$,M,H,Ce.x,Ce.y)&&_r(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.nextZ}return!0}function iz(s,r,c){var d=s;do{var m=d.prev,v=d.next.next;!qm(m,v)&&p2(m,d,d.next,v)&&Wd(m,v)&&Wd(v,m)&&(r.push(m.i/c|0),r.push(d.i/c|0),r.push(v.i/c|0),Gd(d),Gd(d.next),d=s=v),d=d.next}while(d!==s);return fc(d)}function oz(s,r,c,d,m,v){var x=s;do{for(var S=x.next.next;S!==x.prev;){if(x.i!==S.i&&uz(x,S)){var k=f2(x,S);return x=fc(x,x.next),k=fc(k,k.next),Ud(x,r,c,d,m,v,0),void Ud(k,r,c,d,m,v,0)}S=S.next}x=x.next}while(x!==s)}function sz(s,r){return s.x-r.x}function az(s,r){var c=function(m,v){var x,S=v,k=m.x,M=m.y,z=-1/0;do{if(M<=S.y&&M>=S.next.y&&S.next.y!==S.y){var $=S.x+(M-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if($<=k&&$>z&&(z=$,x=S.x<S.next.x?S:S.next,$===k))return x}S=S.next}while(S!==v);if(!x)return null;var H,Y=x,J=x.x,re=x.y,ce=1/0;S=x;do k>=S.x&&S.x>=J&&k!==S.x&&ku(M<re?k:z,M,J,re,M<re?z:k,M,S.x,S.y)&&(H=Math.abs(M-S.y)/(k-S.x),Wd(S,m)&&(H<ce||H===ce&&(S.x>x.x||S.x===x.x&&lz(x,S)))&&(x=S,ce=H)),S=S.next;while(S!==Y);return x}(s,r);if(!c)return r;var d=f2(c,s);return fc(d,d.next),fc(c,c.next)}function lz(s,r){return _r(s.prev,s,r.prev)<0&&_r(r.next,s,s.next)<0}function Xv(s,r,c,d,m){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-c)*m|0)|s<<8))|s<<4))|s<<2))|s<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-d)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function cz(s){var r=s,c=s;do(r.x<c.x||r.x===c.x&&r.y<c.y)&&(c=r),r=r.next;while(r!==s);return c}function ku(s,r,c,d,m,v,x,S){return(m-x)*(r-S)>=(s-x)*(v-S)&&(s-x)*(d-S)>=(c-x)*(r-S)&&(c-x)*(v-S)>=(m-x)*(d-S)}function uz(s,r){return s.next.i!==r.i&&s.prev.i!==r.i&&!function(c,d){var m=c;do{if(m.i!==c.i&&m.next.i!==c.i&&m.i!==d.i&&m.next.i!==d.i&&p2(m,m.next,c,d))return!0;m=m.next}while(m!==c);return!1}(s,r)&&(Wd(s,r)&&Wd(r,s)&&function(c,d){var m=c,v=!1,x=(c.x+d.x)/2,S=(c.y+d.y)/2;do m.y>S!=m.next.y>S&&m.next.y!==m.y&&x<(m.next.x-m.x)*(S-m.y)/(m.next.y-m.y)+m.x&&(v=!v),m=m.next;while(m!==c);return v}(s,r)&&(_r(s.prev,s,r.prev)||_r(s,r.prev,r))||qm(s,r)&&_r(s.prev,s,s.next)>0&&_r(r.prev,r,r.next)>0)}function _r(s,r,c){return(r.y-s.y)*(c.x-r.x)-(r.x-s.x)*(c.y-r.y)}function qm(s,r){return s.x===r.x&&s.y===r.y}function p2(s,r,c,d){var m=Km(_r(s,r,c)),v=Km(_r(s,r,d)),x=Km(_r(c,d,s)),S=Km(_r(c,d,r));return m!==v&&x!==S||!(m!==0||!Zm(s,c,r))||!(v!==0||!Zm(s,d,r))||!(x!==0||!Zm(c,s,d))||!(S!==0||!Zm(c,r,d))}function Zm(s,r,c){return r.x<=Math.max(s.x,c.x)&&r.x>=Math.min(s.x,c.x)&&r.y<=Math.max(s.y,c.y)&&r.y>=Math.min(s.y,c.y)}function Km(s){return s>0?1:s<0?-1:0}function Wd(s,r){return _r(s.prev,s,s.next)<0?_r(s,r,s.next)>=0&&_r(s,s.prev,r)>=0:_r(s,r,s.prev)<0||_r(s,s.next,r)<0}function f2(s,r){var c=new Yv(s.i,s.x,s.y),d=new Yv(r.i,r.x,r.y),m=s.next,v=r.prev;return s.next=r,r.prev=s,c.next=m,m.prev=c,d.next=c,c.prev=d,v.next=d,d.prev=v,d}function m2(s,r,c,d){var m=new Yv(s,r,c);return d?(m.next=d.next,m.prev=d,d.next.prev=m,d.next=m):(m.prev=m,m.next=m),m}function Gd(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Yv(s,r,c){this.i=s,this.x=r,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Jv(s,r,c,d){for(var m=0,v=r,x=c-d;v<c;v+=d)m+=(s[x]-s[v])*(s[v+1]+s[x+1]),x=v;return m}Kv.exports=Hm,Kv.exports.default=Hm,Hm.deviation=function(s,r,c,d){var m=r&&r.length,v=Math.abs(Jv(s,0,m?r[0]*c:s.length,c));if(m)for(var x=0,S=r.length;x<S;x++)v-=Math.abs(Jv(s,r[x]*c,x<S-1?r[x+1]*c:s.length,c));var k=0;for(x=0;x<d.length;x+=3){var M=d[x]*c,z=d[x+1]*c,$=d[x+2]*c;k+=Math.abs((s[M]-s[$])*(s[z+1]-s[M+1])-(s[M]-s[z])*(s[$+1]-s[M+1]))}return v===0&&k===0?0:Math.abs((k-v)/v)},Hm.flatten=function(s){for(var r=s[0][0].length,c={vertices:[],holes:[],dimensions:r},d=0,m=0;m<s.length;m++){for(var v=0;v<s[m].length;v++)for(var x=0;x<r;x++)c.vertices.push(s[m][v][x]);m>0&&c.holes.push(d+=s[m-1].length)}return c};var g2=w(Kv.exports);function hz(s,r,c,d,m){y2(s,r,c||0,d||s.length-1,m||dz)}function y2(s,r,c,d,m){for(;d>c;){if(d-c>600){var v=d-c+1,x=r-c+1,S=Math.log(v),k=.5*Math.exp(2*S/3),M=.5*Math.sqrt(S*k*(v-k)/v)*(x-v/2<0?-1:1);y2(s,r,Math.max(c,Math.floor(r-x*k/v+M)),Math.min(d,Math.floor(r+(v-x)*k/v+M)),m)}var z=s[r],$=c,H=d;for(Hd(s,c,r),m(s[d],z)>0&&Hd(s,c,d);$<H;){for(Hd(s,$,H),$++,H--;m(s[$],z)<0;)$++;for(;m(s[H],z)>0;)H--}m(s[c],z)===0?Hd(s,c,H):Hd(s,++H,d),H<=r&&(c=H+1),r<=H&&(d=H-1)}}function Hd(s,r,c){var d=s[r];s[r]=s[c],s[c]=d}function dz(s,r){return s<r?-1:s>r?1:0}function Qv(s,r){const c=s.length;if(c<=1)return[s];const d=[];let m,v;for(let x=0;x<c;x++){const S=Ve(s[x]);S!==0&&(s[x].area=Math.abs(S),v===void 0&&(v=S<0),v===S<0?(m&&d.push(m),m=[s[x]]):m.push(s[x]))}if(m&&d.push(m),r>1)for(let x=0;x<d.length;x++)d[x].length<=r||(hz(d[x],r,1,d[x].length-1,pz),d[x]=d[x].slice(0,r));return d}function pz(s,r){return r.area-s.area}function e_(s,r,c){const d=c.patternDependencies;let m=!1;for(const v of r){const x=v.paint.get(`${s}-pattern`);x.isConstant()||(m=!0);const S=x.constantOr(null);S&&(m=!0,d[S.to]=!0,d[S.from]=!0)}return m}function t_(s,r,c,d,m){const v=m.patternDependencies;for(const x of r){const S=x.paint.get(`${s}-pattern`).value;if(S.kind!=="constant"){let k=S.evaluate({zoom:d-1},c,{},m.availableImages),M=S.evaluate({zoom:d},c,{},m.availableImages),z=S.evaluate({zoom:d+1},c,{},m.availableImages);k=k&&k.name?k.name:k,M=M&&M.name?M.name:M,z=z&&z.name?z.name:z,v[k]=!0,v[M]=!0,v[z]=!0,c.patterns[x.id]={min:k,mid:M,max:z}}}return c}class n_{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(c=>c.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new sn,this.indexArray=new Xr,this.indexArray2=new Rr,this.programConfigurations=new Ts(r.layers,r.zoom),this.segments=new Hn,this.segments2=new Hn,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(r,c,d){this.hasPattern=e_("fill",this.layers,c);const m=this.layers[0].layout.get("fill-sort-key"),v=!m.isConstant(),x=[];for(const{feature:S,id:k,index:M,sourceLayerIndex:z}of r){const $=this.layers[0]._featureFilter.needGeometry,H=pc(S,$);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom),H,d))continue;const Y=v?m.evaluate(H,{},d,c.availableImages):void 0,J={id:k,properties:S.properties,type:S.type,sourceLayerIndex:z,index:M,geometry:$?H.geometry:dc(S),patterns:{},sortKey:Y};x.push(J)}v&&x.sort((S,k)=>S.sortKey-k.sortKey);for(const S of x){const{geometry:k,index:M,sourceLayerIndex:z}=S;if(this.hasPattern){const $=t_("fill",this.layers,S,this.zoom,c);this.patternFeatures.push($)}else this.addFeature(S,k,M,d,{});c.featureIndex.insert(r[M].feature,k,M,z,this.index)}}update(r,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,c,this.stateDependentLayers,d)}addFeatures(r,c,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,c,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,tz),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,c,d,m,v){for(const x of Qv(c,500)){let S=0;for(const Y of x)S+=Y.length;const k=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),M=k.vertexLength,z=[],$=[];for(const Y of x){if(Y.length===0)continue;Y!==x[0]&&$.push(z.length/2);const J=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),re=J.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(re+Y.length-1,re),z.push(Y[0].x),z.push(Y[0].y);for(let ce=1;ce<Y.length;ce++)this.layoutVertexArray.emplaceBack(Y[ce].x,Y[ce].y),this.indexArray2.emplaceBack(re+ce-1,re+ce),z.push(Y[ce].x),z.push(Y[ce].y);J.vertexLength+=Y.length,J.primitiveLength+=Y.length}const H=g2(z,$);for(let Y=0;Y<H.length;Y+=3)this.indexArray.emplaceBack(M+H[Y],M+H[Y+1],M+H[Y+2]);k.vertexLength+=S,k.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}}let v2,_2;dt("FillBucket",n_,{omit:["layers","patternFeatures"]});var fz={get paint(){return _2=_2||new yr({"fill-antialias":new Ct(Me.paint_fill["fill-antialias"]),"fill-opacity":new Mt(Me.paint_fill["fill-opacity"]),"fill-color":new Mt(Me.paint_fill["fill-color"]),"fill-outline-color":new Mt(Me.paint_fill["fill-outline-color"]),"fill-translate":new Ct(Me.paint_fill["fill-translate"]),"fill-translate-anchor":new Ct(Me.paint_fill["fill-translate-anchor"]),"fill-pattern":new cc(Me.paint_fill["fill-pattern"])})},get layout(){return v2=v2||new yr({"fill-sort-key":new Mt(Me.layout_fill["fill-sort-key"])})}};class mz extends yo{constructor(r){super(r,fz)}recalculate(r,c){super.recalculate(r,c);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new n_(r)}queryRadius(){return Um(this.paint.get("fill-translate"))}queryIntersectsFeature(r,c,d,m,v,x,S){return e2(Wm(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,S),m)}isTileClipped(){return!0}}const gz=rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),yz=rr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:vz}=gz;var pl={},_z=T,x2=Au;function Au(s,r,c,d,m){this.properties={},this.extent=c,this.type=0,this._pbf=s,this._geometry=-1,this._keys=d,this._values=m,s.readFields(xz,this,r)}function xz(s,r,c){s==1?r.id=c.readVarint():s==2?function(d,m){for(var v=d.readVarint()+d.pos;d.pos<v;){var x=m._keys[d.readVarint()],S=m._values[d.readVarint()];m.properties[x]=S}}(c,r):s==3?r.type=c.readVarint():s==4&&(r._geometry=c.pos)}function bz(s){for(var r,c,d=0,m=0,v=s.length,x=v-1;m<v;x=m++)d+=((c=s[x]).x-(r=s[m]).x)*(r.y+c.y);return d}Au.types=["Unknown","Point","LineString","Polygon"],Au.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var r,c=s.readVarint()+s.pos,d=1,m=0,v=0,x=0,S=[];s.pos<c;){if(m<=0){var k=s.readVarint();d=7&k,m=k>>3}if(m--,d===1||d===2)v+=s.readSVarint(),x+=s.readSVarint(),d===1&&(r&&S.push(r),r=[]),r.push(new _z(v,x));else{if(d!==7)throw new Error("unknown command "+d);r&&r.push(r[0].clone())}}return r&&S.push(r),S},Au.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var r=s.readVarint()+s.pos,c=1,d=0,m=0,v=0,x=1/0,S=-1/0,k=1/0,M=-1/0;s.pos<r;){if(d<=0){var z=s.readVarint();c=7&z,d=z>>3}if(d--,c===1||c===2)(m+=s.readSVarint())<x&&(x=m),m>S&&(S=m),(v+=s.readSVarint())<k&&(k=v),v>M&&(M=v);else if(c!==7)throw new Error("unknown command "+c)}return[x,k,S,M]},Au.prototype.toGeoJSON=function(s,r,c){var d,m,v=this.extent*Math.pow(2,c),x=this.extent*s,S=this.extent*r,k=this.loadGeometry(),M=Au.types[this.type];function z(Y){for(var J=0;J<Y.length;J++){var re=Y[J];Y[J]=[360*(re.x+x)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(re.y+S)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var $=[];for(d=0;d<k.length;d++)$[d]=k[d][0];z(k=$);break;case 2:for(d=0;d<k.length;d++)z(k[d]);break;case 3:for(k=function(Y){var J=Y.length;if(J<=1)return[Y];for(var re,ce,fe=[],we=0;we<J;we++){var ye=bz(Y[we]);ye!==0&&(ce===void 0&&(ce=ye<0),ce===ye<0?(re&&fe.push(re),re=[Y[we]]):re.push(Y[we]))}return re&&fe.push(re),fe}(k),d=0;d<k.length;d++)for(m=0;m<k[d].length;m++)z(k[d][m])}k.length===1?k=k[0]:M="Multi"+M;var H={type:"Feature",geometry:{type:M,coordinates:k},properties:this.properties};return"id"in this&&(H.id=this.id),H};var wz=x2,b2=w2;function w2(s,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(Sz,this,r),this.length=this._features.length}function Sz(s,r,c){s===15?r.version=c.readVarint():s===1?r.name=c.readString():s===5?r.extent=c.readVarint():s===2?r._features.push(c.pos):s===3?r._keys.push(c.readString()):s===4&&r._values.push(function(d){for(var m=null,v=d.readVarint()+d.pos;d.pos<v;){var x=d.readVarint()>>3;m=x===1?d.readString():x===2?d.readFloat():x===3?d.readDouble():x===4?d.readVarint64():x===5?d.readVarint():x===6?d.readSVarint():x===7?d.readBoolean():null}return m}(c))}w2.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var r=this._pbf.readVarint()+this._pbf.pos;return new wz(this._pbf,r,this.extent,this._keys,this._values)};var Cz=b2;function Tz(s,r,c){if(s===3){var d=new Cz(c,c.readVarint()+c.pos);d.length&&(r[d.name]=d)}}pl.VectorTile=function(s,r){this.layers=s.readFields(Tz,{},r)},pl.VectorTileFeature=x2,pl.VectorTileLayer=b2;const Ez=pl.VectorTileFeature.types,r_=Math.pow(2,13);function qd(s,r,c,d,m,v,x,S){s.emplaceBack(r,c,2*Math.floor(d*r_)+x,m*r_*2,v*r_*2,Math.round(S))}class i_{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(c=>c.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new ot,this.centroidVertexArray=new Je,this.indexArray=new Xr,this.programConfigurations=new Ts(r.layers,r.zoom),this.segments=new Hn,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(r,c,d){this.features=[],this.hasPattern=e_("fill-extrusion",this.layers,c);for(const{feature:m,id:v,index:x,sourceLayerIndex:S}of r){const k=this.layers[0]._featureFilter.needGeometry,M=pc(m,k);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom),M,d))continue;const z={id:v,sourceLayerIndex:S,index:x,geometry:k?M.geometry:dc(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(t_("fill-extrusion",this.layers,z,this.zoom,c)):this.addFeature(z,z.geometry,x,d,{}),c.featureIndex.insert(m,z.geometry,x,S,this.index,!0)}}addFeatures(r,c,d){for(const m of this.features){const{geometry:v}=m;this.addFeature(m,v,m.index,c,d)}}update(r,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,c,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,vz),this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,yz.members,!0),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(r,c,d,m,v){const x={x:0,y:0,vertexCount:0};for(const S of Qv(c,500)){let k=0;for(const J of S)k+=J.length;let M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const J of S){if(J.length===0||kz(J))continue;let re=0;for(let ce=0;ce<J.length;ce++){const fe=J[ce];if(ce>=1){const we=J[ce-1];if(!Pz(fe,we)){M.vertexLength+4>Hn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ye=fe.sub(we)._perp()._unit(),Ce=we.dist(fe);re+Ce>32768&&(re=0),qd(this.layoutVertexArray,fe.x,fe.y,ye.x,ye.y,0,0,re),qd(this.layoutVertexArray,fe.x,fe.y,ye.x,ye.y,0,1,re),x.x+=2*fe.x,x.y+=2*fe.y,x.vertexCount+=2,re+=Ce,qd(this.layoutVertexArray,we.x,we.y,ye.x,ye.y,0,0,re),qd(this.layoutVertexArray,we.x,we.y,ye.x,ye.y,0,1,re),x.x+=2*we.x,x.y+=2*we.y,x.vertexCount+=2;const ke=M.vertexLength;this.indexArray.emplaceBack(ke,ke+2,ke+1),this.indexArray.emplaceBack(ke+1,ke+2,ke+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+k>Hn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray)),Ez[r.type]!=="Polygon")continue;const z=[],$=[],H=M.vertexLength;for(const J of S)if(J.length!==0){J!==S[0]&&$.push(z.length/2);for(let re=0;re<J.length;re++){const ce=J[re];qd(this.layoutVertexArray,ce.x,ce.y,0,0,1,1,0),x.x+=ce.x,x.y+=ce.y,x.vertexCount+=1,z.push(ce.x),z.push(ce.y)}}const Y=g2(z,$);for(let J=0;J<Y.length;J+=3)this.indexArray.emplaceBack(H+Y[J],H+Y[J+2],H+Y[J+1]);M.primitiveLength+=Y.length/3,M.vertexLength+=k}for(let S=0;S<x.vertexCount;S++)this.centroidVertexArray.emplaceBack(Math.floor(x.x/x.vertexCount),Math.floor(x.y/x.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}}function Pz(s,r){return s.x===r.x&&(s.x<0||s.x>Er)||s.y===r.y&&(s.y<0||s.y>Er)}function kz(s){return s.every(r=>r.x<0)||s.every(r=>r.x>Er)||s.every(r=>r.y<0)||s.every(r=>r.y>Er)}let S2;dt("FillExtrusionBucket",i_,{omit:["layers","features"]});var Az={get paint(){return S2=S2||new yr({"fill-extrusion-opacity":new Ct(Me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mt(Me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ct(Me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ct(Me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new cc(Me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mt(Me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mt(Me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ct(Me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Iz extends yo{constructor(r){super(r,Az)}createBucket(r){return new i_(r)}queryRadius(){return Um(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(r,c,d,m,v,x,S,k){const M=Wm(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,S),z=this.paint.get("fill-extrusion-height").evaluate(c,d),$=this.paint.get("fill-extrusion-base").evaluate(c,d),H=function(J,re,ce,fe){const we=[];for(const ye of J){const Ce=[ye.x,ye.y,0,1];Gm(Ce,Ce,re),we.push(new I(Ce[0]/Ce[3],Ce[1]/Ce[3]))}return we}(M,k),Y=function(J,re,ce,fe){const we=[],ye=[],Ce=fe[8]*re,ke=fe[9]*re,We=fe[10]*re,ct=fe[11]*re,_t=fe[8]*ce,at=fe[9]*ce,st=fe[10]*ce,nt=fe[11]*ce;for(const pt of J){const it=[],Ye=[];for(const Pt of pt){const St=Pt.x,tn=Pt.y,qn=fe[0]*St+fe[4]*tn+fe[12],Xn=fe[1]*St+fe[5]*tn+fe[13],zr=fe[2]*St+fe[6]*tn+fe[14],_o=fe[3]*St+fe[7]*tn+fe[15],Di=zr+We,Pr=_o+ct,Jr=qn+_t,ai=Xn+at,zi=zr+st,Bi=_o+nt,Br=new I((qn+Ce)/Pr,(Xn+ke)/Pr);Br.z=Di/Pr,it.push(Br);const Or=new I(Jr/Bi,ai/Bi);Or.z=zi/Bi,Ye.push(Or)}we.push(it),ye.push(Ye)}return[we,ye]}(m,$,z,k);return function(J,re,ce){let fe=1/0;e2(ce,re)&&(fe=C2(ce,re[0]));for(let we=0;we<re.length;we++){const ye=re[we],Ce=J[we];for(let ke=0;ke<ye.length-1;ke++){const We=ye[ke],ct=[We,ye[ke+1],Ce[ke+1],Ce[ke],We];QS(ce,ct)&&(fe=Math.min(fe,C2(ce,ct)))}}return fe!==1/0&&fe}(Y[0],Y[1],H)}}function Zd(s,r){return s.x*r.x+s.y*r.y}function C2(s,r){if(s.length===1){let c=0;const d=r[c++];let m;for(;!m||d.equals(m);)if(m=r[c++],!m)return 1/0;for(;c<r.length;c++){const v=r[c],x=s[0],S=m.sub(d),k=v.sub(d),M=x.sub(d),z=Zd(S,S),$=Zd(S,k),H=Zd(k,k),Y=Zd(M,S),J=Zd(M,k),re=z*H-$*$,ce=(H*Y-$*J)/re,fe=(z*J-$*Y)/re,we=d.z*(1-ce-fe)+m.z*ce+v.z*fe;if(isFinite(we))return we}return 1/0}{let c=1/0;for(const d of r)c=Math.min(c,d.z);return c}}const Mz=rr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Rz}=Mz,Lz=rr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Dz}=Lz,zz=pl.VectorTileFeature.types,Bz=Math.cos(Math.PI/180*37.5),T2=Math.pow(2,14)/.5;class o_{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(c=>c.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Rt,this.layoutVertexArray2=new bt,this.indexArray=new Xr,this.programConfigurations=new Ts(r.layers,r.zoom),this.segments=new Hn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(r,c,d){this.hasPattern=e_("line",this.layers,c);const m=this.layers[0].layout.get("line-sort-key"),v=!m.isConstant(),x=[];for(const{feature:S,id:k,index:M,sourceLayerIndex:z}of r){const $=this.layers[0]._featureFilter.needGeometry,H=pc(S,$);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom),H,d))continue;const Y=v?m.evaluate(H,{},d):void 0,J={id:k,properties:S.properties,type:S.type,sourceLayerIndex:z,index:M,geometry:$?H.geometry:dc(S),patterns:{},sortKey:Y};x.push(J)}v&&x.sort((S,k)=>S.sortKey-k.sortKey);for(const S of x){const{geometry:k,index:M,sourceLayerIndex:z}=S;if(this.hasPattern){const $=t_("line",this.layers,S,this.zoom,c);this.patternFeatures.push($)}else this.addFeature(S,k,M,d,{});c.featureIndex.insert(r[M].feature,k,M,z,this.index)}}update(r,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,c,this.stateDependentLayers,d)}addFeatures(r,c,d){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,c,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,Dz)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Rz),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,c,d,m,v){const x=this.layers[0].layout,S=x.get("line-join").evaluate(r,{}),k=x.get("line-cap"),M=x.get("line-miter-limit"),z=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const $ of c)this.addLine($,r,S,k,M,z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,v,m)}addLine(r,c,d,m,v,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let fe=0;fe<r.length-1;fe++)this.totalDistance+=r[fe].dist(r[fe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=zz[c.type]==="Polygon";let k=r.length;for(;k>=2&&r[k-1].equals(r[k-2]);)k--;let M=0;for(;M<k-1&&r[M].equals(r[M+1]);)M++;if(k<(S?3:2))return;d==="bevel"&&(v=1.05);const z=this.overscaling<=16?15*Er/(512*this.overscaling):0,$=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let H,Y,J,re,ce;this.e1=this.e2=-1,S&&(H=r[k-2],ce=r[M].sub(H)._unit()._perp());for(let fe=M;fe<k;fe++){if(J=fe===k-1?S?r[M+1]:void 0:r[fe+1],J&&r[fe].equals(J))continue;ce&&(re=ce),H&&(Y=H),H=r[fe],ce=J?J.sub(H)._unit()._perp():re,re=re||ce;let we=re.add(ce);we.x===0&&we.y===0||we._unit();const ye=re.x*ce.x+re.y*ce.y,Ce=we.x*ce.x+we.y*ce.y,ke=Ce!==0?1/Ce:1/0,We=2*Math.sqrt(2-2*Ce),ct=Ce<Bz&&Y&&J,_t=re.x*ce.y-re.y*ce.x>0;if(ct&&fe>M){const nt=H.dist(Y);if(nt>2*z){const pt=H.sub(H.sub(Y)._mult(z/nt)._round());this.updateDistance(Y,pt),this.addCurrentVertex(pt,re,0,0,$),Y=pt}}const at=Y&&J;let st=at?d:S?"butt":m;if(at&&st==="round"&&(ke<x?st="miter":ke<=2&&(st="fakeround")),st==="miter"&&ke>v&&(st="bevel"),st==="bevel"&&(ke>2&&(st="flipbevel"),ke<v&&(st="miter")),Y&&this.updateDistance(Y,H),st==="miter")we._mult(ke),this.addCurrentVertex(H,we,0,0,$);else if(st==="flipbevel"){if(ke>100)we=ce.mult(-1);else{const nt=ke*re.add(ce).mag()/re.sub(ce).mag();we._perp()._mult(nt*(_t?-1:1))}this.addCurrentVertex(H,we,0,0,$),this.addCurrentVertex(H,we.mult(-1),0,0,$)}else if(st==="bevel"||st==="fakeround"){const nt=-Math.sqrt(ke*ke-1),pt=_t?nt:0,it=_t?0:nt;if(Y&&this.addCurrentVertex(H,re,pt,it,$),st==="fakeround"){const Ye=Math.round(180*We/Math.PI/20);for(let Pt=1;Pt<Ye;Pt++){let St=Pt/Ye;if(St!==.5){const qn=St-.5;St+=St*qn*(St-1)*((1.0904+ye*(ye*(3.55645-1.43519*ye)-3.2452))*qn*qn+(.848013+ye*(.215638*ye-1.06021)))}const tn=ce.sub(re)._mult(St)._add(re)._unit()._mult(_t?-1:1);this.addHalfVertex(H,tn.x,tn.y,!1,_t,0,$)}}J&&this.addCurrentVertex(H,ce,-pt,-it,$)}else if(st==="butt")this.addCurrentVertex(H,we,0,0,$);else if(st==="square"){const nt=Y?1:-1;this.addCurrentVertex(H,we,nt,nt,$)}else st==="round"&&(Y&&(this.addCurrentVertex(H,re,0,0,$),this.addCurrentVertex(H,re,1,1,$,!0)),J&&(this.addCurrentVertex(H,ce,-1,-1,$,!0),this.addCurrentVertex(H,ce,0,0,$)));if(ct&&fe<k-1){const nt=H.dist(J);if(nt>2*z){const pt=H.add(J.sub(H)._mult(z/nt)._round());this.updateDistance(H,pt),this.addCurrentVertex(pt,ce,0,0,$),H=pt}}}}addCurrentVertex(r,c,d,m,v,x=!1){const S=c.y*m-c.x,k=-c.y-c.x*m;this.addHalfVertex(r,c.x+c.y*d,c.y-c.x*d,x,!1,d,v),this.addHalfVertex(r,S,k,x,!0,-m,v),this.distance>T2/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(r,c,d,m,v,x))}addHalfVertex({x:r,y:c},d,m,v,x,S,k){const M=.5*(this.lineClips?this.scaledDistance*(T2-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r<<1)+(v?1:0),(c<<1)+(x?1:0),Math.round(63*d)+128,Math.round(63*m)+128,1+(S===0?0:S<0?-1:1)|(63&M)<<2,M>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const z=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,z),k.primitiveLength++),x?this.e2=z:this.e1=z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(r,c){this.distance+=r.dist(c),this.updateScaledDistance()}}let E2,P2;dt("LineBucket",o_,{omit:["layers","patternFeatures"]});var k2={get paint(){return P2=P2||new yr({"line-opacity":new Mt(Me.paint_line["line-opacity"]),"line-color":new Mt(Me.paint_line["line-color"]),"line-translate":new Ct(Me.paint_line["line-translate"]),"line-translate-anchor":new Ct(Me.paint_line["line-translate-anchor"]),"line-width":new Mt(Me.paint_line["line-width"]),"line-gap-width":new Mt(Me.paint_line["line-gap-width"]),"line-offset":new Mt(Me.paint_line["line-offset"]),"line-blur":new Mt(Me.paint_line["line-blur"]),"line-dasharray":new Md(Me.paint_line["line-dasharray"]),"line-pattern":new cc(Me.paint_line["line-pattern"]),"line-gradient":new Rd(Me.paint_line["line-gradient"])})},get layout(){return E2=E2||new yr({"line-cap":new Ct(Me.layout_line["line-cap"]),"line-join":new Mt(Me.layout_line["line-join"]),"line-miter-limit":new Ct(Me.layout_line["line-miter-limit"]),"line-round-limit":new Ct(Me.layout_line["line-round-limit"]),"line-sort-key":new Mt(Me.layout_line["line-sort-key"])})}};class Oz extends Mt{possiblyEvaluate(r,c){return c=new Gn(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(r,c)}evaluate(r,c,d,m){return c=he({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(r,c,d,m)}}let Xm;class Fz extends yo{constructor(r){super(r,k2),this.gradientVersion=0,Xm||(Xm=new Oz(k2.paint.properties["line-width"].specification),Xm.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof Ws,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,c){super.recalculate(r,c),this.paint._values["line-floorwidth"]=Xm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new o_(r)}queryRadius(r){const c=r,d=A2($d("line-width",this,c),$d("line-gap-width",this,c)),m=$d("line-offset",this,c);return d/2+Math.abs(m)+Um(this.paint.get("line-translate"))}queryIntersectsFeature(r,c,d,m,v,x,S){const k=Wm(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,S),M=S/2*A2(this.paint.get("line-width").evaluate(c,d),this.paint.get("line-gap-width").evaluate(c,d)),z=this.paint.get("line-offset").evaluate(c,d);return z&&(m=function($,H){const Y=[];for(let J=0;J<$.length;J++){const re=$[J],ce=[];for(let fe=0;fe<re.length;fe++){const we=re[fe-1],ye=re[fe],Ce=re[fe+1],ke=fe===0?new I(0,0):ye.sub(we)._unit()._perp(),We=fe===re.length-1?new I(0,0):Ce.sub(ye)._unit()._perp(),ct=ke._add(We)._unit(),_t=ct.x*We.x+ct.y*We.y;_t!==0&&ct._mult(1/_t),ce.push(ct._mult(H)._add(ye))}Y.push(ce)}return Y}(m,z*S)),function($,H,Y){for(let J=0;J<H.length;J++){const re=H[J];if($.length>=3){for(let ce=0;ce<re.length;ce++)if(Eu($,re[ce]))return!0}if(WD($,re,Y))return!0}return!1}(k,m,M)}isTileClipped(){return!0}}function A2(s,r){return r>0?r+2*s:s}const Nz=rr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),$z=rr([{name:"a_projected_pos",components:3,type:"Float32"}],4);rr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const jz=rr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);rr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const I2=rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Vz=rr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Uz(s,r,c){return s.sections.forEach(d=>{d.text=function(m,v,x){const S=v.layout.get("text-transform").evaluate(x,{});return S==="uppercase"?m=m.toLocaleUpperCase():S==="lowercase"&&(m=m.toLocaleLowerCase()),Qi.applyArabicShaping&&(m=Qi.applyArabicShaping(m)),m}(d.text,r,c)}),s}rr([{name:"triangle",components:3,type:"Uint16"}]),rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),rr([{type:"Float32",name:"offsetX"}]),rr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),rr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Kd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Dr=24,M2=zn,R2=function(s,r,c,d,m){var v,x,S=8*m-d-1,k=(1<<S)-1,M=k>>1,z=-7,$=c?m-1:0,H=c?-1:1,Y=s[r+$];for($+=H,v=Y&(1<<-z)-1,Y>>=-z,z+=S;z>0;v=256*v+s[r+$],$+=H,z-=8);for(x=v&(1<<-z)-1,v>>=-z,z+=d;z>0;x=256*x+s[r+$],$+=H,z-=8);if(v===0)v=1-M;else{if(v===k)return x?NaN:1/0*(Y?-1:1);x+=Math.pow(2,d),v-=M}return(Y?-1:1)*x*Math.pow(2,v-d)},L2=function(s,r,c,d,m,v){var x,S,k,M=8*v-m-1,z=(1<<M)-1,$=z>>1,H=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=d?0:v-1,J=d?1:-1,re=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(S=isNaN(r)?1:0,x=z):(x=Math.floor(Math.log(r)/Math.LN2),r*(k=Math.pow(2,-x))<1&&(x--,k*=2),(r+=x+$>=1?H/k:H*Math.pow(2,1-$))*k>=2&&(x++,k/=2),x+$>=z?(S=0,x=z):x+$>=1?(S=(r*k-1)*Math.pow(2,m),x+=$):(S=r*Math.pow(2,$-1)*Math.pow(2,m),x=0));m>=8;s[c+Y]=255&S,Y+=J,S/=256,m-=8);for(x=x<<m|S,M+=m;M>0;s[c+Y]=255&x,Y+=J,x/=256,M-=8);s[c+Y-J]|=128*re};function zn(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}zn.Varint=0,zn.Fixed64=1,zn.Bytes=2,zn.Fixed32=5;var s_=4294967296,D2=1/s_,z2=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ia(s){return s.type===zn.Bytes?s.readVarint()+s.pos:s.pos+1}function Iu(s,r,c){return c?4294967296*r+(s>>>0):4294967296*(r>>>0)+(s>>>0)}function B2(s,r,c){var d=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));c.realloc(d);for(var m=c.pos-1;m>=s;m--)c.buf[m+d]=c.buf[m]}function Wz(s,r){for(var c=0;c<s.length;c++)r.writeVarint(s[c])}function Gz(s,r){for(var c=0;c<s.length;c++)r.writeSVarint(s[c])}function Hz(s,r){for(var c=0;c<s.length;c++)r.writeFloat(s[c])}function qz(s,r){for(var c=0;c<s.length;c++)r.writeDouble(s[c])}function Zz(s,r){for(var c=0;c<s.length;c++)r.writeBoolean(s[c])}function Kz(s,r){for(var c=0;c<s.length;c++)r.writeFixed32(s[c])}function Xz(s,r){for(var c=0;c<s.length;c++)r.writeSFixed32(s[c])}function Yz(s,r){for(var c=0;c<s.length;c++)r.writeFixed64(s[c])}function Jz(s,r){for(var c=0;c<s.length;c++)r.writeSFixed64(s[c])}function Ym(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+16777216*s[r+3]}function Mu(s,r,c){s[c]=r,s[c+1]=r>>>8,s[c+2]=r>>>16,s[c+3]=r>>>24}function O2(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+(s[r+3]<<24)}zn.prototype={destroy:function(){this.buf=null},readFields:function(s,r,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),m=d>>3,v=this.pos;this.type=7&d,s(m,r,this),this.pos===v&&this.skip(d)}return r},readMessage:function(s,r){return this.readFields(s,r,this.readVarint()+this.pos)},readFixed32:function(){var s=Ym(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=O2(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=Ym(this.buf,this.pos)+Ym(this.buf,this.pos+4)*s_;return this.pos+=8,s},readSFixed64:function(){var s=Ym(this.buf,this.pos)+O2(this.buf,this.pos+4)*s_;return this.pos+=8,s},readFloat:function(){var s=R2(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=R2(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var r,c,d=this.buf;return r=127&(c=d[this.pos++]),c<128?r:(r|=(127&(c=d[this.pos++]))<<7,c<128?r:(r|=(127&(c=d[this.pos++]))<<14,c<128?r:(r|=(127&(c=d[this.pos++]))<<21,c<128?r:function(m,v,x){var S,k,M=x.buf;if(S=(112&(k=M[x.pos++]))>>4,k<128||(S|=(127&(k=M[x.pos++]))<<3,k<128)||(S|=(127&(k=M[x.pos++]))<<10,k<128)||(S|=(127&(k=M[x.pos++]))<<17,k<128)||(S|=(127&(k=M[x.pos++]))<<24,k<128)||(S|=(1&(k=M[x.pos++]))<<31,k<128))return Iu(m,S,v);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(c=d[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,r=this.pos;return this.pos=s,s-r>=12&&z2?function(c,d,m){return z2.decode(c.subarray(d,m))}(this.buf,r,s):function(c,d,m){for(var v="",x=d;x<m;){var S,k,M,z=c[x],$=null,H=z>239?4:z>223?3:z>191?2:1;if(x+H>m)break;H===1?z<128&&($=z):H===2?(192&(S=c[x+1]))==128&&($=(31&z)<<6|63&S)<=127&&($=null):H===3?(k=c[x+2],(192&(S=c[x+1]))==128&&(192&k)==128&&(($=(15&z)<<12|(63&S)<<6|63&k)<=2047||$>=55296&&$<=57343)&&($=null)):H===4&&(k=c[x+2],M=c[x+3],(192&(S=c[x+1]))==128&&(192&k)==128&&(192&M)==128&&(($=(15&z)<<18|(63&S)<<12|(63&k)<<6|63&M)<=65535||$>=1114112)&&($=null)),$===null?($=65533,H=1):$>65535&&($-=65536,v+=String.fromCharCode($>>>10&1023|55296),$=56320|1023&$),v+=String.fromCharCode($),x+=H}return v}(this.buf,r,s)},readBytes:function(){var s=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,s);return this.pos=s,r},readPackedVarint:function(s,r){if(this.type!==zn.Bytes)return s.push(this.readVarint(r));var c=Ia(this);for(s=s||[];this.pos<c;)s.push(this.readVarint(r));return s},readPackedSVarint:function(s){if(this.type!==zn.Bytes)return s.push(this.readSVarint());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==zn.Bytes)return s.push(this.readBoolean());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==zn.Bytes)return s.push(this.readFloat());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==zn.Bytes)return s.push(this.readDouble());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==zn.Bytes)return s.push(this.readFixed32());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==zn.Bytes)return s.push(this.readSFixed32());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==zn.Bytes)return s.push(this.readFixed64());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==zn.Bytes)return s.push(this.readSFixed64());var r=Ia(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed64());return s},skip:function(s){var r=7&s;if(r===zn.Varint)for(;this.buf[this.pos++]>127;);else if(r===zn.Bytes)this.pos=this.readVarint()+this.pos;else if(r===zn.Fixed32)this.pos+=4;else{if(r!==zn.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(s,r){this.writeVarint(s<<3|r)},realloc:function(s){for(var r=this.length||16;r<this.pos+s;)r*=2;if(r!==this.length){var c=new Uint8Array(r);c.set(this.buf),this.buf=c,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),Mu(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),Mu(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),Mu(this.buf,-1&s,this.pos),Mu(this.buf,Math.floor(s*D2),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),Mu(this.buf,-1&s,this.pos),Mu(this.buf,Math.floor(s*D2),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(r,c){var d,m;if(r>=0?(d=r%4294967296|0,m=r/4294967296|0):(m=~(-r/4294967296),4294967295^(d=~(-r%4294967296))?d=d+1|0:(d=0,m=m+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(v,x,S){S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,S.buf[S.pos]=127&(v>>>=7)}(d,0,c),function(v,x){var S=(7&v)<<4;x.buf[x.pos++]|=S|((v>>>=3)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v)))))}(m,c)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var r=this.pos;this.pos=function(d,m,v){for(var x,S,k=0;k<m.length;k++){if((x=m.charCodeAt(k))>55295&&x<57344){if(!S){x>56319||k+1===m.length?(d[v++]=239,d[v++]=191,d[v++]=189):S=x;continue}if(x<56320){d[v++]=239,d[v++]=191,d[v++]=189,S=x;continue}x=S-55296<<10|x-56320|65536,S=null}else S&&(d[v++]=239,d[v++]=191,d[v++]=189,S=null);x<128?d[v++]=x:(x<2048?d[v++]=x>>6|192:(x<65536?d[v++]=x>>12|224:(d[v++]=x>>18|240,d[v++]=x>>12&63|128),d[v++]=x>>6&63|128),d[v++]=63&x|128)}return v}(this.buf,s,this.pos);var c=this.pos-r;c>=128&&B2(r,c,this),this.pos=r-1,this.writeVarint(c),this.pos+=c},writeFloat:function(s){this.realloc(4),L2(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),L2(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var r=s.length;this.writeVarint(r),this.realloc(r);for(var c=0;c<r;c++)this.buf[this.pos++]=s[c]},writeRawMessage:function(s,r){this.pos++;var c=this.pos;s(r,this);var d=this.pos-c;d>=128&&B2(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeMessage:function(s,r,c){this.writeTag(s,zn.Bytes),this.writeRawMessage(r,c)},writePackedVarint:function(s,r){r.length&&this.writeMessage(s,Wz,r)},writePackedSVarint:function(s,r){r.length&&this.writeMessage(s,Gz,r)},writePackedBoolean:function(s,r){r.length&&this.writeMessage(s,Zz,r)},writePackedFloat:function(s,r){r.length&&this.writeMessage(s,Hz,r)},writePackedDouble:function(s,r){r.length&&this.writeMessage(s,qz,r)},writePackedFixed32:function(s,r){r.length&&this.writeMessage(s,Kz,r)},writePackedSFixed32:function(s,r){r.length&&this.writeMessage(s,Xz,r)},writePackedFixed64:function(s,r){r.length&&this.writeMessage(s,Yz,r)},writePackedSFixed64:function(s,r){r.length&&this.writeMessage(s,Jz,r)},writeBytesField:function(s,r){this.writeTag(s,zn.Bytes),this.writeBytes(r)},writeFixed32Field:function(s,r){this.writeTag(s,zn.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(s,r){this.writeTag(s,zn.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(s,r){this.writeTag(s,zn.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(s,r){this.writeTag(s,zn.Fixed64),this.writeSFixed64(r)},writeVarintField:function(s,r){this.writeTag(s,zn.Varint),this.writeVarint(r)},writeSVarintField:function(s,r){this.writeTag(s,zn.Varint),this.writeSVarint(r)},writeStringField:function(s,r){this.writeTag(s,zn.Bytes),this.writeString(r)},writeFloatField:function(s,r){this.writeTag(s,zn.Fixed32),this.writeFloat(r)},writeDoubleField:function(s,r){this.writeTag(s,zn.Fixed64),this.writeDouble(r)},writeBooleanField:function(s,r){this.writeVarintField(s,!!r)}};var a_=w(M2);const l_=3;function Qz(s,r,c){s===1&&c.readMessage(e3,r)}function e3(s,r,c){if(s===3){const{id:d,bitmap:m,width:v,height:x,left:S,top:k,advance:M}=c.readMessage(t3,{});r.push({id:d,bitmap:new Vd({width:v+2*l_,height:x+2*l_},m),metrics:{width:v,height:x,left:S,top:k,advance:M}})}}function t3(s,r,c){s===1?r.id=c.readVarint():s===2?r.bitmap=c.readBytes():s===3?r.width=c.readVarint():s===4?r.height=c.readVarint():s===5?r.left=c.readSVarint():s===6?r.top=c.readSVarint():s===7&&(r.advance=c.readVarint())}const F2=l_;function N2(s){let r=0,c=0;for(const x of s)r+=x.w*x.h,c=Math.max(c,x.w);s.sort((x,S)=>S.h-x.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),c),h:1/0}];let m=0,v=0;for(const x of s)for(let S=d.length-1;S>=0;S--){const k=d[S];if(!(x.w>k.w||x.h>k.h)){if(x.x=k.x,x.y=k.y,v=Math.max(v,x.y+x.h),m=Math.max(m,x.x+x.w),x.w===k.w&&x.h===k.h){const M=d.pop();S<d.length&&(d[S]=M)}else x.h===k.h?(k.x+=x.w,k.w-=x.w):x.w===k.w?(k.y+=x.h,k.h-=x.h):(d.push({x:k.x+x.w,y:k.y,w:k.w-x.w,h:x.h}),k.y+=x.h,k.h-=x.h);break}}return{w:m,h:v,fill:r/(m*v)||0}}const to=1;class c_{constructor(r,{pixelRatio:c,version:d,stretchX:m,stretchY:v,content:x}){this.paddedRect=r,this.pixelRatio=c,this.stretchX=m,this.stretchY=v,this.content=x,this.version=d}get tl(){return[this.paddedRect.x+to,this.paddedRect.y+to]}get br(){return[this.paddedRect.x+this.paddedRect.w-to,this.paddedRect.y+this.paddedRect.h-to]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*to)/this.pixelRatio,(this.paddedRect.h-2*to)/this.pixelRatio]}}class $2{constructor(r,c){const d={},m={};this.haveRenderCallbacks=[];const v=[];this.addImages(r,d,v),this.addImages(c,m,v);const{w:x,h:S}=N2(v),k=new Po({width:x||1,height:S||1});for(const M in r){const z=r[M],$=d[M].paddedRect;Po.copy(z.data,k,{x:0,y:0},{x:$.x+to,y:$.y+to},z.data)}for(const M in c){const z=c[M],$=m[M].paddedRect,H=$.x+to,Y=$.y+to,J=z.data.width,re=z.data.height;Po.copy(z.data,k,{x:0,y:0},{x:H,y:Y},z.data),Po.copy(z.data,k,{x:0,y:re-1},{x:H,y:Y-1},{width:J,height:1}),Po.copy(z.data,k,{x:0,y:0},{x:H,y:Y+re},{width:J,height:1}),Po.copy(z.data,k,{x:J-1,y:0},{x:H-1,y:Y},{width:1,height:re}),Po.copy(z.data,k,{x:0,y:0},{x:H+J,y:Y},{width:1,height:re})}this.image=k,this.iconPositions=d,this.patternPositions=m}addImages(r,c,d){for(const m in r){const v=r[m],x={x:0,y:0,w:v.data.width+2*to,h:v.data.height+2*to};d.push(x),c[m]=new c_(x,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(r,c){r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in r.updatedImages)this.patchUpdatedImage(this.iconPositions[d],r.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],r.getImage(d),c)}patchUpdatedImage(r,c,d){if(!r||!c||r.version===c.version)return;r.version=c.version;const[m,v]=r.tl;d.update(c.data,void 0,{x:m,y:v})}}var fl;dt("ImagePosition",c_),dt("ImageAtlas",$2),a.ai=void 0,(fl=a.ai||(a.ai={}))[fl.none=0]="none",fl[fl.horizontal=1]="horizontal",fl[fl.vertical=2]="vertical",fl[fl.horizontalOnly=3]="horizontalOnly";const Xd=-17;class Yd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,c){const d=new Yd;return d.scale=r||1,d.fontStack=c,d}static forImage(r){const c=new Yd;return c.imageName=r,c}}class Ru{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,c){const d=new Ru;for(let m=0;m<r.sections.length;m++){const v=r.sections[m];v.image?d.addImageSection(v):d.addTextSection(v,c)}return d}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(){this.text=function(r){let c="";for(let d=0;d<r.length;d++){const m=r.charCodeAt(d+1)||null,v=r.charCodeAt(d-1)||null;c+=m&&Rm(m)&&!Kd[r[d+1]]||v&&Rm(v)&&!Kd[r[d-1]]||!Kd[r[d]]?r[d]:Kd[r[d]]}return c}(this.text)}trim(){let r=0;for(let d=0;d<this.text.length&&Qm[this.text.charCodeAt(d)];d++)r++;let c=this.text.length;for(let d=this.text.length-1;d>=0&&d>=r&&Qm[this.text.charCodeAt(d)];d--)c--;this.text=this.text.substring(r,c),this.sectionIndex=this.sectionIndex.slice(r,c)}substring(r,c){const d=new Ru;return d.text=this.text.substring(r,c),d.sectionIndex=this.sectionIndex.slice(r,c),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,c)=>Math.max(r,this.sections[c].scale),0)}addTextSection(r,c){this.text+=r.text,this.sections.push(Yd.forText(r.scale,r.fontStack||c));const d=this.sections.length-1;for(let m=0;m<r.text.length;++m)this.sectionIndex.push(d)}addImageSection(r){const c=r.image?r.image.name:"";if(c.length===0)return void Ne("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Yd.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Ne("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Jm(s,r,c,d,m,v,x,S,k,M,z,$,H,Y,J,re){const ce=Ru.fromFeature(s,m);let fe;$===a.ai.vertical&&ce.verticalizePunctuation();const{processBidirectionalText:we,processStyledBidirectionalText:ye}=Qi;if(we&&ce.sections.length===1){fe=[];const We=we(ce.toString(),u_(ce,M,v,r,d,Y,J));for(const ct of We){const _t=new Ru;_t.text=ct,_t.sections=ce.sections;for(let at=0;at<ct.length;at++)_t.sectionIndex.push(0);fe.push(_t)}}else if(ye){fe=[];const We=ye(ce.text,ce.sectionIndex,u_(ce,M,v,r,d,Y,J));for(const ct of We){const _t=new Ru;_t.text=ct[0],_t.sectionIndex=ct[1],_t.sections=ce.sections,fe.push(_t)}}else fe=function(We,ct){const _t=[],at=We.text;let st=0;for(const nt of ct)_t.push(We.substring(st,nt)),st=nt;return st<at.length&&_t.push(We.substring(st,at.length)),_t}(ce,u_(ce,M,v,r,d,Y,J));const Ce=[],ke={positionedLines:Ce,text:ce.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:$,iconsInText:!1,verticalizable:!1};return function(We,ct,_t,at,st,nt,pt,it,Ye,Pt,St,tn){let qn=0,Xn=Xd,zr=0,_o=0;const Di=it==="right"?1:it==="left"?0:.5;let Pr=0;for(const Br of st){Br.trim();const Or=Br.getMaxScale(),gi=(Or-1)*Dr,Oi={positionedGlyphs:[],lineOffset:0};We.positionedLines[Pr]=Oi;const yi=Oi.positionedGlyphs;let no=0;if(!Br.length()){Xn+=nt,++Pr;continue}for(let Fr=0;Fr<Br.length();Fr++){const hn=Br.getSection(Fr),vi=Br.getSectionIndex(Fr),li=Br.getCharCode(Fr);let Nr=0,Jo=null,Es=null,Ps=null,Ma=Dr;const Qo=!(Ye===a.ai.horizontal||!St&&!Sd(li)||St&&(Qm[li]||(Jr=li,lt.Arabic(Jr)||lt["Arabic Supplement"](Jr)||lt["Arabic Extended-A"](Jr)||lt["Arabic Presentation Forms-A"](Jr)||lt["Arabic Presentation Forms-B"](Jr))));if(hn.imageName){const Ao=at[hn.imageName];if(!Ao)continue;Ps=hn.imageName,We.iconsInText=We.iconsInText||!0,Es=Ao.paddedRect;const io=Ao.displaySize;hn.scale=hn.scale*Dr/tn,Jo={width:io[0],height:io[1],left:to,top:-F2,advance:Qo?io[1]:io[0]},Nr=gi+(Dr-io[1]*hn.scale),Ma=Jo.advance;const Ra=Qo?io[0]*hn.scale-Dr*Or:io[1]*hn.scale-Dr*Or;Ra>0&&Ra>no&&(no=Ra)}else{const Ao=_t[hn.fontStack],io=Ao&&Ao[li];if(io&&io.rect)Es=io.rect,Jo=io.metrics;else{const Ra=ct[hn.fontStack],np=Ra&&Ra[li];if(!np)continue;Jo=np.metrics}Nr=(Or-hn.scale)*Dr}Qo?(We.verticalizable=!0,yi.push({glyph:li,imageName:Ps,x:qn,y:Xn+Nr,vertical:Qo,scale:hn.scale,fontStack:hn.fontStack,sectionIndex:vi,metrics:Jo,rect:Es}),qn+=Ma*hn.scale+Pt):(yi.push({glyph:li,imageName:Ps,x:qn,y:Xn+Nr,vertical:Qo,scale:hn.scale,fontStack:hn.fontStack,sectionIndex:vi,metrics:Jo,rect:Es}),qn+=Jo.advance*hn.scale+Pt)}yi.length!==0&&(zr=Math.max(qn-Pt,zr),i3(yi,0,yi.length-1,Di,no)),qn=0;const ro=nt*Or+no;Oi.lineOffset=Math.max(no,gi),Xn+=ro,_o=Math.max(ro,_o),++Pr}var Jr;const ai=Xn-Xd,{horizontalAlign:zi,verticalAlign:Bi}=h_(pt);(function(Br,Or,gi,Oi,yi,no,ro,Fr,hn){const vi=(Or-gi)*yi;let li=0;li=no!==ro?-Fr*Oi-Xd:(-Oi*hn+.5)*ro;for(const Nr of Br)for(const Jo of Nr.positionedGlyphs)Jo.x+=vi,Jo.y+=li})(We.positionedLines,Di,zi,Bi,zr,_o,nt,ai,st.length),We.top+=-Bi*ai,We.bottom=We.top+ai,We.left+=-zi*zr,We.right=We.left+zr}(ke,r,c,d,fe,x,S,k,$,M,H,re),!function(We){for(const ct of We)if(ct.positionedGlyphs.length!==0)return!1;return!0}(Ce)&&ke}const Qm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},n3={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function j2(s,r,c,d,m,v){if(r.imageName){const x=d[r.imageName];return x?x.displaySize[0]*r.scale*Dr/v+m:0}{const x=c[r.fontStack],S=x&&x[s];return S?S.metrics.advance*r.scale+m:0}}function V2(s,r,c,d){const m=Math.pow(s-r,2);return d?s<r?m/2:2*m:m+Math.abs(c)*c}function r3(s,r,c){let d=0;return s===10&&(d-=1e4),c&&(d+=150),s!==40&&s!==65288||(d+=50),r!==41&&r!==65289||(d+=50),d}function U2(s,r,c,d,m,v){let x=null,S=V2(r,c,m,v);for(const k of d){const M=V2(r-k.x,c,m,v)+k.badness;M<=S&&(x=k,S=M)}return{index:s,x:r,priorBreak:x,badness:S}}function W2(s){return s?W2(s.priorBreak).concat(s.index):[]}function u_(s,r,c,d,m,v,x){if(v!=="point")return[];if(!s)return[];const S=[],k=function(H,Y,J,re,ce,fe){let we=0;for(let ye=0;ye<H.length();ye++){const Ce=H.getSection(ye);we+=j2(H.getCharCode(ye),Ce,re,ce,Y,fe)}return we/Math.max(1,Math.ceil(we/J))}(s,r,c,d,m,x),M=s.text.indexOf("​")>=0;let z=0;for(let H=0;H<s.length();H++){const Y=s.getSection(H),J=s.getCharCode(H);if(Qm[J]||(z+=j2(J,Y,d,m,r,x)),H<s.length()-1){const re=!(($=J)<11904||!(lt["Bopomofo Extended"]($)||lt.Bopomofo($)||lt["CJK Compatibility Forms"]($)||lt["CJK Compatibility Ideographs"]($)||lt["CJK Compatibility"]($)||lt["CJK Radicals Supplement"]($)||lt["CJK Strokes"]($)||lt["CJK Symbols and Punctuation"]($)||lt["CJK Unified Ideographs Extension A"]($)||lt["CJK Unified Ideographs"]($)||lt["Enclosed CJK Letters and Months"]($)||lt["Halfwidth and Fullwidth Forms"]($)||lt.Hiragana($)||lt["Ideographic Description Characters"]($)||lt["Kangxi Radicals"]($)||lt["Katakana Phonetic Extensions"]($)||lt.Katakana($)||lt["Vertical Forms"]($)||lt["Yi Radicals"]($)||lt["Yi Syllables"]($)));(n3[J]||re||Y.imageName)&&S.push(U2(H+1,z,k,S,r3(J,s.getCharCode(H+1),re&&M),!1))}}var $;return W2(U2(s.length(),z,k,S,0,!0))}function h_(s){let r=.5,c=.5;switch(s){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:r,verticalAlign:c}}function i3(s,r,c,d,m){if(!d&&!m)return;const v=s[c],x=(s[c].x+v.metrics.advance*v.scale)*d;for(let S=r;S<=c;S++)s[S].x-=x,s[S].y+=m}function o3(s,r,c){const{horizontalAlign:d,verticalAlign:m}=h_(c),v=r[0]-s.displaySize[0]*d,x=r[1]-s.displaySize[1]*m;return{image:s,top:x,bottom:x+s.displaySize[1],left:v,right:v+s.displaySize[0]}}function G2(s,r,c,d,m,v){const x=s.image;let S;if(x.content){const ce=x.content,fe=x.pixelRatio||1;S=[ce[0]/fe,ce[1]/fe,x.displaySize[0]-ce[2]/fe,x.displaySize[1]-ce[3]/fe]}const k=r.left*v,M=r.right*v;let z,$,H,Y;c==="width"||c==="both"?(Y=m[0]+k-d[3],$=m[0]+M+d[1]):(Y=m[0]+(k+M-x.displaySize[0])/2,$=Y+x.displaySize[0]);const J=r.top*v,re=r.bottom*v;return c==="height"||c==="both"?(z=m[1]+J-d[0],H=m[1]+re+d[2]):(z=m[1]+(J+re-x.displaySize[1])/2,H=z+x.displaySize[1]),{image:x,top:z,right:$,bottom:H,left:Y,collisionPadding:S}}const Jd=255,Ks=128,ml=Jd*Ks;function H2(s,r){const{expression:c}=r;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Gn(s+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:m}=c;let v=0;for(;v<d.length&&d[v]<=s;)v++;v=Math.max(0,v-1);let x=v;for(;x<d.length&&d[x]<s+1;)x++;x=Math.min(d.length-1,x);const S=d[v],k=d[x];return c.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:k,interpolationType:m}:{kind:"camera",minZoom:S,maxZoom:k,minSize:c.evaluate(new Gn(S)),maxSize:c.evaluate(new Gn(k)),interpolationType:m}}}function d_(s,r,c){let d="never";const m=s.get(r);return m?d=m:s.get(c)&&(d="always"),d}const s3=pl.VectorTileFeature.types,a3=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function eg(s,r,c,d,m,v,x,S,k,M,z,$,H){const Y=S?Math.min(ml,Math.round(S[0])):0,J=S?Math.min(ml,Math.round(S[1])):0;s.emplaceBack(r,c,Math.round(32*d),Math.round(32*m),v,x,(Y<<1)+(k?1:0),J,16*M,16*z,256*$,256*H)}function p_(s,r,c){s.emplaceBack(r.x,r.y,c),s.emplaceBack(r.x,r.y,c),s.emplaceBack(r.x,r.y,c),s.emplaceBack(r.x,r.y,c)}function l3(s){for(const r of s.sections)if(Nv(r.text))return!0;return!1}class f_{constructor(r){this.layoutVertexArray=new rn,this.indexArray=new Xr,this.programConfigurations=r,this.segments=new Hn,this.dynamicLayoutVertexArray=new Qt,this.opacityVertexArray=new an,this.hasVisibleVertices=!1,this.placedSymbolArray=new _e}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,c,d,m){this.isEmpty()||(d&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Nz.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,$z.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,a3,!0),this.opacityVertexBuffer.itemSize=1),(d||m)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}dt("SymbolBuffers",f_);class m_{constructor(r,c,d){this.layoutVertexArray=new r,this.layoutAttributes=c,this.indexArray=new d,this.segments=new Hn,this.collisionVertexArray=new jn}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,jz.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}dt("CollisionBuffers",m_);class Lu{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(x=>x.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Hv([]),this.placementViewportMatrix=Hv([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=H2(this.zoom,c["text-size"]),this.iconSizeData=H2(this.zoom,c["icon-size"]);const d=this.layers[0].layout,m=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=d_(d,"text-overlap","text-allow-overlap")!=="never"||d_(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(x=>a.ai[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=r.sourceID}createArrays(){this.text=new f_(new Ts(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new f_(new Ts(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new xe,this.lineVertexArray=new Ie,this.symbolInstances=new pe,this.textAnchorOffsets=new je}calculateGlyphDependencies(r,c,d,m,v){for(let x=0;x<r.length;x++)if(c[r.charCodeAt(x)]=!0,(d||m)&&v){const S=Kd[r.charAt(x)];S&&(c[S.charCodeAt(0)]=!0)}}populate(r,c,d){const m=this.layers[0],v=m.layout,x=v.get("text-font"),S=v.get("text-field"),k=v.get("icon-image"),M=(S.value.kind!=="constant"||S.value.value instanceof ii&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),z=k.value.kind!=="constant"||!!k.value.value||Object.keys(k.parameters).length>0,$=v.get("symbol-sort-key");if(this.features=[],!M&&!z)return;const H=c.iconDependencies,Y=c.glyphDependencies,J=c.availableImages,re=new Gn(this.zoom);for(const{feature:ce,id:fe,index:we,sourceLayerIndex:ye}of r){const Ce=m._featureFilter.needGeometry,ke=pc(ce,Ce);if(!m._featureFilter.filter(re,ke,d))continue;let We,ct;if(Ce||(ke.geometry=dc(ce)),M){const at=m.getValueAndResolveTokens("text-field",ke,d,J),st=ii.factory(at);l3(st)&&(this.hasRTLText=!0),(!this.hasRTLText||Ad()==="unavailable"||this.hasRTLText&&Qi.isParsed())&&(We=Uz(st,m,ke))}if(z){const at=m.getValueAndResolveTokens("icon-image",ke,d,J);ct=at instanceof Kr?at:Kr.fromString(at)}if(!We&&!ct)continue;const _t=this.sortFeaturesByKey?$.evaluate(ke,{},d):void 0;if(this.features.push({id:fe,text:We,icon:ct,index:we,sourceLayerIndex:ye,geometry:ke.geometry,properties:ce.properties,type:s3[ce.type],sortKey:_t}),ct&&(H[ct.name]=!0),We){const at=x.evaluate(ke,{},d).join(","),st=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ai.vertical)>=0;for(const nt of We.sections)if(nt.image)H[nt.image.name]=!0;else{const pt=bd(We.toString()),it=nt.fontStack||at,Ye=Y[it]=Y[it]||{};this.calculateGlyphDependencies(nt.text,Ye,st,this.allowVerticalPlacement,pt)}}}v.get("symbol-placement")==="line"&&(this.features=function(ce){const fe={},we={},ye=[];let Ce=0;function ke(at){ye.push(ce[at]),Ce++}function We(at,st,nt){const pt=we[at];return delete we[at],we[st]=pt,ye[pt].geometry[0].pop(),ye[pt].geometry[0]=ye[pt].geometry[0].concat(nt[0]),pt}function ct(at,st,nt){const pt=fe[st];return delete fe[st],fe[at]=pt,ye[pt].geometry[0].shift(),ye[pt].geometry[0]=nt[0].concat(ye[pt].geometry[0]),pt}function _t(at,st,nt){const pt=nt?st[0][st[0].length-1]:st[0][0];return`${at}:${pt.x}:${pt.y}`}for(let at=0;at<ce.length;at++){const st=ce[at],nt=st.geometry,pt=st.text?st.text.toString():null;if(!pt){ke(at);continue}const it=_t(pt,nt),Ye=_t(pt,nt,!0);if(it in we&&Ye in fe&&we[it]!==fe[Ye]){const Pt=ct(it,Ye,nt),St=We(it,Ye,ye[Pt].geometry);delete fe[it],delete we[Ye],we[_t(pt,ye[St].geometry,!0)]=St,ye[Pt].geometry=null}else it in we?We(it,Ye,nt):Ye in fe?ct(it,Ye,nt):(ke(at),fe[it]=Ce-1,we[Ye]=Ce-1)}return ye.filter(at=>at.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ce,fe)=>ce.sortKey-fe.sortKey)}update(r,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(r,c,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,c){const d=this.lineVertexArray.length;if(r.segment!==void 0){let m=r.dist(c[r.segment+1]),v=r.dist(c[r.segment]);const x={};for(let S=r.segment+1;S<c.length;S++)x[S]={x:c[S].x,y:c[S].y,tileUnitDistanceFromAnchor:m},S<c.length-1&&(m+=c[S+1].dist(c[S]));for(let S=r.segment||0;S>=0;S--)x[S]={x:c[S].x,y:c[S].y,tileUnitDistanceFromAnchor:v},S>0&&(v+=c[S-1].dist(c[S]));for(let S=0;S<c.length;S++){const k=x[S];this.lineVertexArray.emplaceBack(k.x,k.y,k.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(r,c,d,m,v,x,S,k,M,z,$,H){const Y=r.indexArray,J=r.layoutVertexArray,re=r.segments.prepareSegment(4*c.length,J,Y,this.canOverlap?x.sortKey:void 0),ce=this.glyphOffsetArray.length,fe=re.vertexLength,we=this.allowVerticalPlacement&&S===a.ai.vertical?Math.PI/2:0,ye=x.text&&x.text.sections;for(let Ce=0;Ce<c.length;Ce++){const{tl:ke,tr:We,bl:ct,br:_t,tex:at,pixelOffsetTL:st,pixelOffsetBR:nt,minFontScaleX:pt,minFontScaleY:it,glyphOffset:Ye,isSDF:Pt,sectionIndex:St}=c[Ce],tn=re.vertexLength,qn=Ye[1];eg(J,k.x,k.y,ke.x,qn+ke.y,at.x,at.y,d,Pt,st.x,st.y,pt,it),eg(J,k.x,k.y,We.x,qn+We.y,at.x+at.w,at.y,d,Pt,nt.x,st.y,pt,it),eg(J,k.x,k.y,ct.x,qn+ct.y,at.x,at.y+at.h,d,Pt,st.x,nt.y,pt,it),eg(J,k.x,k.y,_t.x,qn+_t.y,at.x+at.w,at.y+at.h,d,Pt,nt.x,nt.y,pt,it),p_(r.dynamicLayoutVertexArray,k,we),Y.emplaceBack(tn,tn+1,tn+2),Y.emplaceBack(tn+1,tn+2,tn+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ye[0]),Ce!==c.length-1&&St===c[Ce+1].sectionIndex||r.programConfigurations.populatePaintArrays(J.length,x,x.index,{},H,ye&&ye[St])}r.placedSymbolArray.emplaceBack(k.x,k.y,ce,this.glyphOffsetArray.length-ce,fe,M,z,k.segment,d?d[0]:0,d?d[1]:0,m[0],m[1],S,0,!1,0,$)}_addCollisionDebugVertex(r,c,d,m,v,x){return c.emplaceBack(0,0),r.emplaceBack(d.x,d.y,m,v,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(r,c,d,m,v,x,S){const k=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),M=k.vertexLength,z=v.layoutVertexArray,$=v.collisionVertexArray,H=S.anchorX,Y=S.anchorY;this._addCollisionDebugVertex(z,$,x,H,Y,new I(r,c)),this._addCollisionDebugVertex(z,$,x,H,Y,new I(d,c)),this._addCollisionDebugVertex(z,$,x,H,Y,new I(d,m)),this._addCollisionDebugVertex(z,$,x,H,Y,new I(r,m)),k.vertexLength+=4;const J=v.indexArray;J.emplaceBack(M,M+1),J.emplaceBack(M+1,M+2),J.emplaceBack(M+2,M+3),J.emplaceBack(M+3,M),k.primitiveLength+=4}addDebugCollisionBoxes(r,c,d,m){for(let v=r;v<c;v++){const x=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,m?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new m_(dr,I2.members,Rr),this.iconCollisionBox=new m_(dr,I2.members,Rr);for(let r=0;r<this.symbolInstances.length;r++){const c=this.symbolInstances.get(r);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(r,c,d,m,v,x,S,k,M){const z={};for(let $=c;$<d;$++){const H=r.get($);z.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},z.textFeatureIndex=H.featureIndex;break}for(let $=m;$<v;$++){const H=r.get($);z.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},z.verticalTextFeatureIndex=H.featureIndex;break}for(let $=x;$<S;$++){const H=r.get($);z.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},z.iconFeatureIndex=H.featureIndex;break}for(let $=k;$<M;$++){const H=r.get($);z.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},z.verticalIconFeatureIndex=H.featureIndex;break}return z}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,c){const d=r.placedSymbolArray.get(c),m=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<m;v+=4)r.indexArray.emplaceBack(v,v+1,v+2),r.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(r),d=Math.cos(r),m=[],v=[],x=[];for(let S=0;S<this.symbolInstances.length;++S){x.push(S);const k=this.symbolInstances.get(S);m.push(0|Math.round(c*k.anchorX+d*k.anchorY)),v.push(k.featureIndex)}return x.sort((S,k)=>m[S]-m[k]||v[k]-v[S]),x}addToSortKeyRanges(r,c){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const d=this.symbolInstances.get(c);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((m,v,x)=>{m>=0&&x.indexOf(m)===v&&this.addIndicesForPlacedSymbol(this.text,m)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let q2,Z2;dt("SymbolBucket",Lu,{omit:["layers","collisionBoxArray","features","compareText"]}),Lu.MAX_GLYPHS=65535,Lu.addDynamicAttributes=p_;var g_={get paint(){return Z2=Z2||new yr({"icon-opacity":new Mt(Me.paint_symbol["icon-opacity"]),"icon-color":new Mt(Me.paint_symbol["icon-color"]),"icon-halo-color":new Mt(Me.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mt(Me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mt(Me.paint_symbol["icon-halo-blur"]),"icon-translate":new Ct(Me.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ct(Me.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mt(Me.paint_symbol["text-opacity"]),"text-color":new Mt(Me.paint_symbol["text-color"],{runtimeType:pi,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new Mt(Me.paint_symbol["text-halo-color"]),"text-halo-width":new Mt(Me.paint_symbol["text-halo-width"]),"text-halo-blur":new Mt(Me.paint_symbol["text-halo-blur"]),"text-translate":new Ct(Me.paint_symbol["text-translate"]),"text-translate-anchor":new Ct(Me.paint_symbol["text-translate-anchor"])})},get layout(){return q2=q2||new yr({"symbol-placement":new Ct(Me.layout_symbol["symbol-placement"]),"symbol-spacing":new Ct(Me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ct(Me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mt(Me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ct(Me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ct(Me.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ct(Me.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ct(Me.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ct(Me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ct(Me.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mt(Me.layout_symbol["icon-size"]),"icon-text-fit":new Ct(Me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ct(Me.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mt(Me.layout_symbol["icon-image"]),"icon-rotate":new Mt(Me.layout_symbol["icon-rotate"]),"icon-padding":new Mt(Me.layout_symbol["icon-padding"]),"icon-keep-upright":new Ct(Me.layout_symbol["icon-keep-upright"]),"icon-offset":new Mt(Me.layout_symbol["icon-offset"]),"icon-anchor":new Mt(Me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ct(Me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ct(Me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ct(Me.layout_symbol["text-rotation-alignment"]),"text-field":new Mt(Me.layout_symbol["text-field"]),"text-font":new Mt(Me.layout_symbol["text-font"]),"text-size":new Mt(Me.layout_symbol["text-size"]),"text-max-width":new Mt(Me.layout_symbol["text-max-width"]),"text-line-height":new Ct(Me.layout_symbol["text-line-height"]),"text-letter-spacing":new Mt(Me.layout_symbol["text-letter-spacing"]),"text-justify":new Mt(Me.layout_symbol["text-justify"]),"text-radial-offset":new Mt(Me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ct(Me.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Mt(Me.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Mt(Me.layout_symbol["text-anchor"]),"text-max-angle":new Ct(Me.layout_symbol["text-max-angle"]),"text-writing-mode":new Ct(Me.layout_symbol["text-writing-mode"]),"text-rotate":new Mt(Me.layout_symbol["text-rotate"]),"text-padding":new Ct(Me.layout_symbol["text-padding"]),"text-keep-upright":new Ct(Me.layout_symbol["text-keep-upright"]),"text-transform":new Mt(Me.layout_symbol["text-transform"]),"text-offset":new Mt(Me.layout_symbol["text-offset"]),"text-allow-overlap":new Ct(Me.layout_symbol["text-allow-overlap"]),"text-overlap":new Ct(Me.layout_symbol["text-overlap"]),"text-ignore-placement":new Ct(Me.layout_symbol["text-ignore-placement"]),"text-optional":new Ct(Me.layout_symbol["text-optional"])})}};class K2{constructor(r){if(r.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=r.property.overrides?r.property.overrides.runtimeType:vn,this.defaultValue=r}evaluate(r){if(r.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(r.formattedSection))return c.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}dt("FormatSectionOverride",K2,{omit:["defaultValue"]});class tg extends yo{constructor(r){super(r,g_)}recalculate(r,c){if(super.recalculate(r,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const m=[];for(const v of d)m.indexOf(v)<0&&m.push(v);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(r,c,d,m){const v=this.layout.get(r).evaluate(c,{},d,m),x=this._unevaluatedLayout._values[r];return x.isDataDriven()||pu(x.value)||!v?v:function(S,k){return k.replace(/{([^{}]+)}/g,(M,z)=>S&&z in S?String(S[z]):"")}(c.properties,v)}createBucket(r){return new Lu(r)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const r of g_.paint.overridableProperties){if(!tg.hasPaintOverride(this.layout,r))continue;const c=this.paint.get(r),d=new K2(c),m=new md(d,c.property.specification);let v=null;v=c.value.kind==="constant"||c.value.kind==="source"?new gd("source",m):new mu("composite",m,c.value.zoomStops),this.paint._values[r]=new fi(c.property,v,c.parameters)}}_handleOverridablePaintPropertyUpdate(r,c,d){return!(!this.layout||c.isDataDriven()||d.isDataDriven())&&tg.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,c){const d=r.get("text-field"),m=g_.paint.properties[c];let v=!1;const x=S=>{for(const k of S)if(m.overrides&&m.overrides.hasOverride(k))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof ii)x(d.value.value.sections);else if(d.value.kind==="source"){const S=M=>{v||(M instanceof va&&er(M.value)===se?x(M.value.sections):M instanceof du?x(M.sections):M.eachChild(S))},k=d.value;k._styleExpression&&S(k._styleExpression.expression)}return v}}let X2;var c3={get paint(){return X2=X2||new yr({"background-color":new Ct(Me.paint_background["background-color"]),"background-pattern":new Md(Me.paint_background["background-pattern"]),"background-opacity":new Ct(Me.paint_background["background-opacity"])})}};class u3 extends yo{constructor(r){super(r,c3)}}let Y2;var h3={get paint(){return Y2=Y2||new yr({"raster-opacity":new Ct(Me.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ct(Me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ct(Me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ct(Me.paint_raster["raster-brightness-max"]),"raster-saturation":new Ct(Me.paint_raster["raster-saturation"]),"raster-contrast":new Ct(Me.paint_raster["raster-contrast"]),"raster-resampling":new Ct(Me.paint_raster["raster-resampling"]),"raster-fade-duration":new Ct(Me.paint_raster["raster-fade-duration"])})}};class d3 extends yo{constructor(r){super(r,h3)}}class p3 extends yo{constructor(r){super(r,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class f3{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const y_=63710088e-1;class gl{constructor(r,c){if(isNaN(r)||isNaN(c))throw new Error(`Invalid LngLat object: (${r}, ${c})`);if(this.lng=+r,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gl(ge(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const c=Math.PI/180,d=this.lat*c,m=r.lat*c,v=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m)*Math.cos((r.lng-this.lng)*c);return y_*Math.acos(Math.min(v,1))}static convert(r){if(r instanceof gl)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new gl(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new gl(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const J2=2*Math.PI*y_;function Q2(s){return J2*Math.cos(s*Math.PI/180)}function eC(s){return(180+s)/360}function tC(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function nC(s,r){return s/Q2(r)}function rC(s){return 360*s-180}function v_(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}class ng{constructor(r,c,d=0){this.x=+r,this.y=+c,this.z=+d}static fromLngLat(r,c=0){const d=gl.convert(r);return new ng(eC(d.lng),tC(d.lat),nC(c,d.lat))}toLngLat(){return new gl(rC(this.x),v_(this.y))}toAltitude(){return this.z*Q2(v_(this.y))}meterInMercatorCoordinateUnits(){return 1/J2*(r=v_(this.y),1/Math.cos(r*Math.PI/180));var r}}function iC(s,r,c){var d=2*Math.PI*6378137/256/Math.pow(2,c);return[s*d-2*Math.PI*6378137/2,r*d-2*Math.PI*6378137/2]}class __{constructor(r,c,d){if(r<0||r>25||d<0||d>=Math.pow(2,r)||c<0||c>=Math.pow(2,r))throw new Error(`x=${c}, y=${d}, z=${r} outside of bounds. 0<=x<${Math.pow(2,r)}, 0<=y<${Math.pow(2,r)} 0<=z<=25 `);this.z=r,this.x=c,this.y=d,this.key=Qd(0,r,r,c,d)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,c,d){const m=(x=this.y,S=this.z,k=iC(256*(v=this.x),256*(x=Math.pow(2,S)-x-1),S),M=iC(256*(v+1),256*(x+1),S),k[0]+","+k[1]+","+M[0]+","+M[1]);var v,x,S,k,M;const z=function($,H,Y){let J,re="";for(let ce=$;ce>0;ce--)J=1<<ce-1,re+=(H&J?1:0)+(Y&J?2:0);return re}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,z).replace(/{bbox-epsg-3857}/g,m)}isChildOf(r){const c=this.z-r.z;return c>0&&r.x===this.x>>c&&r.y===this.y>>c}getTilePoint(r){const c=Math.pow(2,this.z);return new I((r.x*c-this.x)*Er,(r.y*c-this.y)*Er)}toString(){return`${this.z}/${this.x}/${this.y}`}}class oC{constructor(r,c){this.wrap=r,this.canonical=c,this.key=Qd(r,c.z,c.z,c.x,c.y)}}class ko{constructor(r,c,d,m,v){if(r<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${r}; z = ${d}`);this.overscaledZ=r,this.wrap=c,this.canonical=new __(d,+m,+v),this.key=Qd(c,r,d,m,v)}clone(){return new ko(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-r;return r>this.canonical.z?new ko(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ko(r,this.wrap,r,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(r,c){if(r>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${r}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-r;return r>this.canonical.z?Qd(this.wrap*+c,r,this.canonical.z,this.canonical.x,this.canonical.y):Qd(this.wrap*+c,r,r,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(r){if(r.wrap!==this.wrap)return!1;const c=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>c&&r.canonical.y===this.canonical.y>>c}children(r){if(this.overscaledZ>=r)return[new ko(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,d=2*this.canonical.x,m=2*this.canonical.y;return[new ko(c,this.wrap,c,d,m),new ko(c,this.wrap,c,d+1,m),new ko(c,this.wrap,c,d,m+1),new ko(c,this.wrap,c,d+1,m+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new ko(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new ko(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new oC(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(r){return this.canonical.getTilePoint(new ng(r.x-this.wrap,r.y))}}function Qd(s,r,c,d,m){(s*=2)<0&&(s=-1*s-1);const v=1<<c;return(v*v*s+v*m+d).toString(36)+c.toString(36)+r.toString(36)}dt("CanonicalTileID",__),dt("OverscaledTileID",ko,{omit:["posMatrix"]});class sC{constructor(r,c,d,m=1,v=1,x=1,S=0){if(this.uid=r,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void Ne(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const k=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=v,this.blueFactor=x,this.baseShift=S;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let M=0;M<k;M++)this.data[this._idx(-1,M)]=this.data[this._idx(0,M)],this.data[this._idx(k,M)]=this.data[this._idx(k-1,M)],this.data[this._idx(M,-1)]=this.data[this._idx(M,0)],this.data[this._idx(M,k)]=this.data[this._idx(M,k-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(k,-1)]=this.data[this._idx(k-1,0)],this.data[this._idx(-1,k)]=this.data[this._idx(0,k-1)],this.data[this._idx(k,k)]=this.data[this._idx(k-1,k-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let M=0;M<k;M++)for(let z=0;z<k;z++){const $=this.get(M,z);$>this.max&&(this.max=$),$<this.min&&(this.min=$)}}get(r,c){const d=new Uint8Array(this.data.buffer),m=4*this._idx(r,c);return this.unpack(d[m],d[m+1],d[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(r,c){if(r<-1||r>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(r+1)}unpack(r,c,d){return r*this.redFactor+c*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Po({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(r,c,d){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let m=c*this.dim,v=c*this.dim+this.dim,x=d*this.dim,S=d*this.dim+this.dim;switch(c){case-1:m=v-1;break;case 1:v=m+1}switch(d){case-1:x=S-1;break;case 1:S=x+1}const k=-c*this.dim,M=-d*this.dim;for(let z=x;z<S;z++)for(let $=m;$<v;$++)this.data[this._idx($,z)]=r.data[this._idx($+k,z+M)]}}dt("DEMData",sC);class aC{constructor(r){this._stringToNumber={},this._numberToString=[];for(let c=0;c<r.length;c++){const d=r[c];this._stringToNumber[d]=c,this._numberToString[c]=d}}encode(r){return this._stringToNumber[r]}decode(r){if(r>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${r} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[r]}}class lC{constructor(r,c,d,m,v){this.type="Feature",this._vectorTileFeature=r,r._z=c,r._x=d,r._y=m,this.properties=r.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(r[c]=this[c]);return r}}class cC{constructor(r,c){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new ll(Er,16,0),this.grid3D=new ll(Er,16,0),this.featureIndexArray=new He,this.promoteId=c}insert(r,c,d,m,v,x){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,m,v);const k=x?this.grid3D:this.grid;for(let M=0;M<c.length;M++){const z=c[M],$=[1/0,1/0,-1/0,-1/0];for(let H=0;H<z.length;H++){const Y=z[H];$[0]=Math.min($[0],Y.x),$[1]=Math.min($[1],Y.y),$[2]=Math.max($[2],Y.x),$[3]=Math.max($[3],Y.y)}$[0]<Er&&$[1]<Er&&$[2]>=0&&$[3]>=0&&k.insert(S,$[0],$[1],$[2],$[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new pl.VectorTile(new a_(this.rawTileData)).layers,this.sourceLayerCoder=new aC(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(r,c,d,m){this.loadVTLayers();const v=r.params||{},x=Er/r.tileSize/r.scale,S=vd(v.filter),k=r.queryGeometry,M=r.queryPadding*x,z=hC(k),$=this.grid.query(z.minX-M,z.minY-M,z.maxX+M,z.maxY+M),H=hC(r.cameraQueryGeometry),Y=this.grid3D.query(H.minX-M,H.minY-M,H.maxX+M,H.maxY+M,(ce,fe,we,ye)=>function(Ce,ke,We,ct,_t){for(const st of Ce)if(ke<=st.x&&We<=st.y&&ct>=st.x&&_t>=st.y)return!0;const at=[new I(ke,We),new I(ke,_t),new I(ct,_t),new I(ct,We)];if(Ce.length>2){for(const st of at)if(Eu(Ce,st))return!0}for(let st=0;st<Ce.length-1;st++)if(HD(Ce[st],Ce[st+1],at))return!0;return!1}(r.cameraQueryGeometry,ce-M,fe-M,we+M,ye+M));for(const ce of Y)$.push(ce);$.sort(m3);const J={};let re;for(let ce=0;ce<$.length;ce++){const fe=$[ce];if(fe===re)continue;re=fe;const we=this.featureIndexArray.get(fe);let ye=null;this.loadMatchingFeature(J,we.bucketIndex,we.sourceLayerIndex,we.featureIndex,S,v.layers,v.availableImages,c,d,m,(Ce,ke,We)=>(ye||(ye=dc(Ce)),ke.queryIntersectsFeature(k,Ce,We,ye,this.z,r.transform,x,r.pixelPosMatrix)))}return J}loadMatchingFeature(r,c,d,m,v,x,S,k,M,z,$){const H=this.bucketLayerIDs[c];if(x&&!function(ce,fe){for(let we=0;we<ce.length;we++)if(fe.indexOf(ce[we])>=0)return!0;return!1}(x,H))return;const Y=this.sourceLayerCoder.decode(d),J=this.vtLayers[Y].feature(m);if(v.needGeometry){const ce=pc(J,!0);if(!v.filter(new Gn(this.tileID.overscaledZ),ce,this.tileID.canonical))return}else if(!v.filter(new Gn(this.tileID.overscaledZ),J))return;const re=this.getId(J,Y);for(let ce=0;ce<H.length;ce++){const fe=H[ce];if(x&&x.indexOf(fe)<0)continue;const we=k[fe];if(!we)continue;let ye={};re&&z&&(ye=z.getState(we.sourceLayer||"_geojsonTileLayer",re));const Ce=he({},M[fe]);Ce.paint=uC(Ce.paint,we.paint,J,ye,S),Ce.layout=uC(Ce.layout,we.layout,J,ye,S);const ke=!$||$(J,we,ye);if(!ke)continue;const We=new lC(J,this.z,this.x,this.y,re);We.layer=Ce;let ct=r[fe];ct===void 0&&(ct=r[fe]=[]),ct.push({featureIndex:m,feature:We,intersectionZ:ke})}}lookupSymbolFeatures(r,c,d,m,v,x,S,k){const M={};this.loadVTLayers();const z=vd(v);for(const $ of r)this.loadMatchingFeature(M,d,m,$,z,x,S,k,c);return M}hasLayer(r){for(const c of this.bucketLayerIDs)for(const d of c)if(r===d)return!0;return!1}getId(r,c){let d=r.id;return this.promoteId&&(d=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof d=="boolean"&&(d=Number(d))),d}}function uC(s,r,c,d,m){return G(s,(v,x)=>{const S=r instanceof Cu?r.get(x):null;return S&&S.evaluate?S.evaluate(c,d,m):S})}function hC(s){let r=1/0,c=1/0,d=-1/0,m=-1/0;for(const v of s)r=Math.min(r,v.x),c=Math.min(c,v.y),d=Math.max(d,v.x),m=Math.max(m,v.y);return{minX:r,minY:c,maxX:d,maxY:m}}function m3(s,r){return r-s}function dC(s,r,c,d,m){const v=[];for(let x=0;x<s.length;x++){const S=s[x];let k;for(let M=0;M<S.length-1;M++){let z=S[M],$=S[M+1];z.x<r&&$.x<r||(z.x<r?z=new I(r,z.y+(r-z.x)/($.x-z.x)*($.y-z.y))._round():$.x<r&&($=new I(r,z.y+(r-z.x)/($.x-z.x)*($.y-z.y))._round()),z.y<c&&$.y<c||(z.y<c?z=new I(z.x+(c-z.y)/($.y-z.y)*($.x-z.x),c)._round():$.y<c&&($=new I(z.x+(c-z.y)/($.y-z.y)*($.x-z.x),c)._round()),z.x>=d&&$.x>=d||(z.x>=d?z=new I(d,z.y+(d-z.x)/($.x-z.x)*($.y-z.y))._round():$.x>=d&&($=new I(d,z.y+(d-z.x)/($.x-z.x)*($.y-z.y))._round()),z.y>=m&&$.y>=m||(z.y>=m?z=new I(z.x+(m-z.y)/($.y-z.y)*($.x-z.x),m)._round():$.y>=m&&($=new I(z.x+(m-z.y)/($.y-z.y)*($.x-z.x),m)._round()),k&&z.equals(k[k.length-1])||(k=[z],v.push(k)),k.push($)))))}}return v}dt("FeatureIndex",cC,{omit:["rawTileData","sourceLayerCoder"]});class yl extends I{constructor(r,c,d,m){super(r,c),this.angle=d,m!==void 0&&(this.segment=m)}clone(){return new yl(this.x,this.y,this.angle,this.segment)}}function pC(s,r,c,d,m){if(r.segment===void 0||c===0)return!0;let v=r,x=r.segment+1,S=0;for(;S>-c/2;){if(x--,x<0)return!1;S-=s[x].dist(v),v=s[x]}S+=s[x].dist(s[x+1]),x++;const k=[];let M=0;for(;S<c/2;){const z=s[x],$=s[x+1];if(!$)return!1;let H=s[x-1].angleTo(z)-z.angleTo($);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:S,angleDelta:H}),M+=H;S-k[0].distance>d;)M-=k.shift().angleDelta;if(M>m)return!1;x++,S+=z.dist($)}return!0}function fC(s){let r=0;for(let c=0;c<s.length-1;c++)r+=s[c].dist(s[c+1]);return r}function mC(s,r,c){return s?.6*r*c:0}function gC(s,r){return Math.max(s?s.right-s.left:0,r?r.right-r.left:0)}function g3(s,r,c,d,m,v){const x=mC(c,m,v),S=gC(c,d)*v;let k=0;const M=fC(s)/2;for(let z=0;z<s.length-1;z++){const $=s[z],H=s[z+1],Y=$.dist(H);if(k+Y>M){const J=(M-k)/Y,re=Xi.number($.x,H.x,J),ce=Xi.number($.y,H.y,J),fe=new yl(re,ce,H.angleTo($),z);return fe._round(),!x||pC(s,fe,S,x,r)?fe:void 0}k+=Y}}function y3(s,r,c,d,m,v,x,S,k){const M=mC(d,v,x),z=gC(d,m),$=z*x,H=s[0].x===0||s[0].x===k||s[0].y===0||s[0].y===k;return r-$<r/4&&(r=$+r/4),yC(s,H?r/2*S%r:(z/2+2*v)*x*S%r,r,M,c,$,H,!1,k)}function yC(s,r,c,d,m,v,x,S,k){const M=v/2,z=fC(s);let $=0,H=r-c,Y=[];for(let J=0;J<s.length-1;J++){const re=s[J],ce=s[J+1],fe=re.dist(ce),we=ce.angleTo(re);for(;H+c<$+fe;){H+=c;const ye=(H-$)/fe,Ce=Xi.number(re.x,ce.x,ye),ke=Xi.number(re.y,ce.y,ye);if(Ce>=0&&Ce<k&&ke>=0&&ke<k&&H-M>=0&&H+M<=z){const We=new yl(Ce,ke,we,J);We._round(),d&&!pC(s,We,v,d,m)||Y.push(We)}}$+=fe}return S||Y.length||x||(Y=yC(s,$/2,c,d,m,v,x,!0,k)),Y}dt("Anchor",yl);const Du=to;function vC(s,r,c,d){const m=[],v=s.image,x=v.pixelRatio,S=v.paddedRect.w-2*Du,k=v.paddedRect.h-2*Du,M=s.right-s.left,z=s.bottom-s.top,$=v.stretchX||[[0,S]],H=v.stretchY||[[0,k]],Y=(nt,pt)=>nt+pt[1]-pt[0],J=$.reduce(Y,0),re=H.reduce(Y,0),ce=S-J,fe=k-re;let we=0,ye=J,Ce=0,ke=re,We=0,ct=ce,_t=0,at=fe;if(v.content&&d){const nt=v.content;we=rg($,0,nt[0]),Ce=rg(H,0,nt[1]),ye=rg($,nt[0],nt[2]),ke=rg(H,nt[1],nt[3]),We=nt[0]-we,_t=nt[1]-Ce,ct=nt[2]-nt[0]-ye,at=nt[3]-nt[1]-ke}const st=(nt,pt,it,Ye)=>{const Pt=ig(nt.stretch-we,ye,M,s.left),St=og(nt.fixed-We,ct,nt.stretch,J),tn=ig(pt.stretch-Ce,ke,z,s.top),qn=og(pt.fixed-_t,at,pt.stretch,re),Xn=ig(it.stretch-we,ye,M,s.left),zr=og(it.fixed-We,ct,it.stretch,J),_o=ig(Ye.stretch-Ce,ke,z,s.top),Di=og(Ye.fixed-_t,at,Ye.stretch,re),Pr=new I(Pt,tn),Jr=new I(Xn,tn),ai=new I(Xn,_o),zi=new I(Pt,_o),Bi=new I(St/x,qn/x),Br=new I(zr/x,Di/x),Or=r*Math.PI/180;if(Or){const yi=Math.sin(Or),no=Math.cos(Or),ro=[no,-yi,yi,no];Pr._matMult(ro),Jr._matMult(ro),zi._matMult(ro),ai._matMult(ro)}const gi=nt.stretch+nt.fixed,Oi=pt.stretch+pt.fixed;return{tl:Pr,tr:Jr,bl:zi,br:ai,tex:{x:v.paddedRect.x+Du+gi,y:v.paddedRect.y+Du+Oi,w:it.stretch+it.fixed-gi,h:Ye.stretch+Ye.fixed-Oi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Bi,pixelOffsetBR:Br,minFontScaleX:ct/x/M,minFontScaleY:at/x/z,isSDF:c}};if(d&&(v.stretchX||v.stretchY)){const nt=_C($,ce,J),pt=_C(H,fe,re);for(let it=0;it<nt.length-1;it++){const Ye=nt[it],Pt=nt[it+1];for(let St=0;St<pt.length-1;St++)m.push(st(Ye,pt[St],Pt,pt[St+1]))}}else m.push(st({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:k+1}));return m}function rg(s,r,c){let d=0;for(const m of s)d+=Math.max(r,Math.min(c,m[1]))-Math.max(r,Math.min(c,m[0]));return d}function _C(s,r,c){const d=[{fixed:-Du,stretch:0}];for(const[m,v]of s){const x=d[d.length-1];d.push({fixed:m-x.stretch,stretch:x.stretch}),d.push({fixed:m-x.stretch,stretch:x.stretch+(v-m)})}return d.push({fixed:r+Du,stretch:c}),d}function ig(s,r,c,d){return s/r*c+d}function og(s,r,c,d){return s-r*c/d}class sg{constructor(r,c,d,m,v,x,S,k,M,z){if(this.boxStartIndex=r.length,M){let $=x.top,H=x.bottom;const Y=x.collisionPadding;Y&&($-=Y[1],H+=Y[3]);let J=H-$;J>0&&(J=Math.max(10,J),this.circleDiameter=J)}else{let $=x.top*S-k[0],H=x.bottom*S+k[2],Y=x.left*S-k[3],J=x.right*S+k[1];const re=x.collisionPadding;if(re&&(Y-=re[0]*S,$-=re[1]*S,J+=re[2]*S,H+=re[3]*S),z){const ce=new I(Y,$),fe=new I(J,$),we=new I(Y,H),ye=new I(J,H),Ce=z*Math.PI/180;ce._rotate(Ce),fe._rotate(Ce),we._rotate(Ce),ye._rotate(Ce),Y=Math.min(ce.x,fe.x,we.x,ye.x),J=Math.max(ce.x,fe.x,we.x,ye.x),$=Math.min(ce.y,fe.y,we.y,ye.y),H=Math.max(ce.y,fe.y,we.y,ye.y)}r.emplaceBack(c.x,c.y,Y,$,J,H,d,m,v)}this.boxEndIndex=r.length}}class v3{constructor(r=[],c=_3){if(this.data=r,this.length=this.data.length,this.compare=c,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:c,compare:d}=this,m=c[r];for(;r>0;){const v=r-1>>1,x=c[v];if(d(m,x)>=0)break;c[r]=x,r=v}c[r]=m}_down(r){const{data:c,compare:d}=this,m=this.length>>1,v=c[r];for(;r<m;){let x=1+(r<<1),S=c[x];const k=x+1;if(k<this.length&&d(c[k],S)<0&&(x=k,S=c[k]),d(S,v)>=0)break;c[r]=S,r=x}c[r]=v}}function _3(s,r){return s<r?-1:s>r?1:0}function x3(s,r=1,c=!1){let d=1/0,m=1/0,v=-1/0,x=-1/0;const S=s[0];for(let Y=0;Y<S.length;Y++){const J=S[Y];(!Y||J.x<d)&&(d=J.x),(!Y||J.y<m)&&(m=J.y),(!Y||J.x>v)&&(v=J.x),(!Y||J.y>x)&&(x=J.y)}const k=Math.min(v-d,x-m);let M=k/2;const z=new v3([],b3);if(k===0)return new I(d,m);for(let Y=d;Y<v;Y+=k)for(let J=m;J<x;J+=k)z.push(new zu(Y+M,J+M,M,s));let $=function(Y){let J=0,re=0,ce=0;const fe=Y[0];for(let we=0,ye=fe.length,Ce=ye-1;we<ye;Ce=we++){const ke=fe[we],We=fe[Ce],ct=ke.x*We.y-We.x*ke.y;re+=(ke.x+We.x)*ct,ce+=(ke.y+We.y)*ct,J+=3*ct}return new zu(re/J,ce/J,0,Y)}(s),H=z.length;for(;z.length;){const Y=z.pop();(Y.d>$.d||!$.d)&&($=Y,c&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,H)),Y.max-$.d<=r||(M=Y.h/2,z.push(new zu(Y.p.x-M,Y.p.y-M,M,s)),z.push(new zu(Y.p.x+M,Y.p.y-M,M,s)),z.push(new zu(Y.p.x-M,Y.p.y+M,M,s)),z.push(new zu(Y.p.x+M,Y.p.y+M,M,s)),H+=4)}return c&&(console.log(`num probes: ${H}`),console.log(`best distance: ${$.d}`)),$.p}function b3(s,r){return r.max-s.max}function zu(s,r,c,d){this.p=new I(s,r),this.h=c,this.d=function(m,v){let x=!1,S=1/0;for(let k=0;k<v.length;k++){const M=v[k];for(let z=0,$=M.length,H=$-1;z<$;H=z++){const Y=M[z],J=M[H];Y.y>m.y!=J.y>m.y&&m.x<(J.x-Y.x)*(m.y-Y.y)/(J.y-Y.y)+Y.x&&(x=!x),S=Math.min(S,t2(m,Y,J))}}return(x?1:-1)*Math.sqrt(S)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var si;a.aq=void 0,(si=a.aq||(a.aq={}))[si.center=1]="center",si[si.left=2]="left",si[si.right=3]="right",si[si.top=4]="top",si[si.bottom=5]="bottom",si[si["top-left"]=6]="top-left",si[si["top-right"]=7]="top-right",si[si["bottom-left"]=8]="bottom-left",si[si["bottom-right"]=9]="bottom-right";const vl=7,x_=Number.POSITIVE_INFINITY;function xC(s,r){return r[1]!==x_?function(c,d,m){let v=0,x=0;switch(d=Math.abs(d),m=Math.abs(m),c){case"top-right":case"top-left":case"top":x=m-vl;break;case"bottom-right":case"bottom-left":case"bottom":x=-m+vl}switch(c){case"top-right":case"bottom-right":case"right":v=-d;break;case"top-left":case"bottom-left":case"left":v=d}return[v,x]}(s,r[0],r[1]):function(c,d){let m=0,v=0;d<0&&(d=0);const x=d/Math.SQRT2;switch(c){case"top-right":case"top-left":v=x-vl;break;case"bottom-right":case"bottom-left":v=-x+vl;break;case"bottom":v=-d+vl;break;case"top":v=d-vl}switch(c){case"top-right":case"bottom-right":m=-x;break;case"top-left":case"bottom-left":m=x;break;case"left":m=d;break;case"right":m=-d}return[m,v]}(s,r[0])}function bC(s,r,c){var d;const m=s.layout,v=(d=m.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(r,{},c);if(v){const S=v.values,k=[];for(let M=0;M<S.length;M+=2){const z=k[M]=S[M],$=S[M+1].map(H=>H*Dr);z.startsWith("top")?$[1]-=vl:z.startsWith("bottom")&&($[1]+=vl),k[M+1]=$}return new po(k)}const x=m.get("text-variable-anchor");if(x){let S;S=s._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(r,{},c)*Dr,x_]:m.get("text-offset").evaluate(r,{},c).map(M=>M*Dr);const k=[];for(const M of x)k.push(M,xC(M,S));return new po(k)}return null}function b_(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function w3(s,r,c,d,m,v,x,S,k,M,z){let $=v.textMaxSize.evaluate(r,{});$===void 0&&($=x);const H=s.layers[0].layout,Y=H.get("icon-offset").evaluate(r,{},z),J=SC(c.horizontal),re=x/24,ce=s.tilePixelRatio*re,fe=s.tilePixelRatio*$/24,we=s.tilePixelRatio*S,ye=s.tilePixelRatio*H.get("symbol-spacing"),Ce=H.get("text-padding")*s.tilePixelRatio,ke=function(Ye,Pt,St,tn=1){const qn=Ye.get("icon-padding").evaluate(Pt,{},St),Xn=qn&&qn.values;return[Xn[0]*tn,Xn[1]*tn,Xn[2]*tn,Xn[3]*tn]}(H,r,z,s.tilePixelRatio),We=H.get("text-max-angle")/180*Math.PI,ct=H.get("text-rotation-alignment")!=="viewport"&&H.get("symbol-placement")!=="point",_t=H.get("icon-rotation-alignment")==="map"&&H.get("symbol-placement")!=="point",at=H.get("symbol-placement"),st=ye/2,nt=H.get("icon-text-fit");let pt;d&&nt!=="none"&&(s.allowVerticalPlacement&&c.vertical&&(pt=G2(d,c.vertical,nt,H.get("icon-text-fit-padding"),Y,re)),J&&(d=G2(d,J,nt,H.get("icon-text-fit-padding"),Y,re)));const it=(Ye,Pt)=>{Pt.x<0||Pt.x>=Er||Pt.y<0||Pt.y>=Er||function(St,tn,qn,Xn,zr,_o,Di,Pr,Jr,ai,zi,Bi,Br,Or,gi,Oi,yi,no,ro,Fr,hn,vi,li,Nr,Jo){const Es=St.addToLineVertexArray(tn,qn);let Ps,Ma,Qo,Ao,io=0,Ra=0,np=0,PC=0,A_=-1,I_=-1;const La={};let kC=Pa("");if(St.allowVerticalPlacement&&Xn.vertical){const _i=Pr.layout.get("text-rotate").evaluate(hn,{},Nr)+90;Qo=new sg(Jr,tn,ai,zi,Bi,Xn.vertical,Br,Or,gi,_i),Di&&(Ao=new sg(Jr,tn,ai,zi,Bi,Di,yi,no,gi,_i))}if(zr){const _i=Pr.layout.get("icon-rotate").evaluate(hn,{}),Io=Pr.layout.get("icon-text-fit")!=="none",mc=vC(zr,_i,li,Io),As=Di?vC(Di,_i,li,Io):void 0;Ma=new sg(Jr,tn,ai,zi,Bi,zr,yi,no,!1,_i),io=4*mc.length;const gc=St.iconSizeData;let Xs=null;gc.kind==="source"?(Xs=[Ks*Pr.layout.get("icon-size").evaluate(hn,{})],Xs[0]>ml&&Ne(`${St.layerIds[0]}: Value for "icon-size" is >= ${Jd}. Reduce your "icon-size".`)):gc.kind==="composite"&&(Xs=[Ks*vi.compositeIconSizes[0].evaluate(hn,{},Nr),Ks*vi.compositeIconSizes[1].evaluate(hn,{},Nr)],(Xs[0]>ml||Xs[1]>ml)&&Ne(`${St.layerIds[0]}: Value for "icon-size" is >= ${Jd}. Reduce your "icon-size".`)),St.addSymbols(St.icon,mc,Xs,Fr,ro,hn,a.ai.none,tn,Es.lineStartIndex,Es.lineLength,-1,Nr),A_=St.icon.placedSymbolArray.length-1,As&&(Ra=4*As.length,St.addSymbols(St.icon,As,Xs,Fr,ro,hn,a.ai.vertical,tn,Es.lineStartIndex,Es.lineLength,-1,Nr),I_=St.icon.placedSymbolArray.length-1)}const AC=Object.keys(Xn.horizontal);for(const _i of AC){const Io=Xn.horizontal[_i];if(!Ps){kC=Pa(Io.text);const As=Pr.layout.get("text-rotate").evaluate(hn,{},Nr);Ps=new sg(Jr,tn,ai,zi,Bi,Io,Br,Or,gi,As)}const mc=Io.positionedLines.length===1;if(np+=wC(St,tn,Io,_o,Pr,gi,hn,Oi,Es,Xn.vertical?a.ai.horizontal:a.ai.horizontalOnly,mc?AC:[_i],La,A_,vi,Nr),mc)break}Xn.vertical&&(PC+=wC(St,tn,Xn.vertical,_o,Pr,gi,hn,Oi,Es,a.ai.vertical,["vertical"],La,I_,vi,Nr));const T3=Ps?Ps.boxStartIndex:St.collisionBoxArray.length,E3=Ps?Ps.boxEndIndex:St.collisionBoxArray.length,P3=Qo?Qo.boxStartIndex:St.collisionBoxArray.length,k3=Qo?Qo.boxEndIndex:St.collisionBoxArray.length,A3=Ma?Ma.boxStartIndex:St.collisionBoxArray.length,I3=Ma?Ma.boxEndIndex:St.collisionBoxArray.length,M3=Ao?Ao.boxStartIndex:St.collisionBoxArray.length,R3=Ao?Ao.boxEndIndex:St.collisionBoxArray.length;let ks=-1;const lg=(_i,Io)=>_i&&_i.circleDiameter?Math.max(_i.circleDiameter,Io):Io;ks=lg(Ps,ks),ks=lg(Qo,ks),ks=lg(Ma,ks),ks=lg(Ao,ks);const IC=ks>-1?1:0;IC&&(ks*=Jo/Dr),St.glyphOffsetArray.length>=Lu.MAX_GLYPHS&&Ne("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),hn.sortKey!==void 0&&St.addToSortKeyRanges(St.symbolInstances.length,hn.sortKey);const L3=bC(Pr,hn,Nr),[D3,z3]=function(_i,Io){const mc=_i.length,As=Io==null?void 0:Io.values;if((As==null?void 0:As.length)>0)for(let gc=0;gc<As.length;gc+=2){const Xs=As[gc+1];_i.emplaceBack(a.aq[As[gc]],Xs[0],Xs[1])}return[mc,_i.length]}(St.textAnchorOffsets,L3);St.symbolInstances.emplaceBack(tn.x,tn.y,La.right>=0?La.right:-1,La.center>=0?La.center:-1,La.left>=0?La.left:-1,La.vertical||-1,A_,I_,kC,T3,E3,P3,k3,A3,I3,M3,R3,ai,np,PC,io,Ra,IC,0,Br,ks,D3,z3)}(s,Pt,Ye,c,d,m,pt,s.layers[0],s.collisionBoxArray,r.index,r.sourceLayerIndex,s.index,ce,[Ce,Ce,Ce,Ce],ct,k,we,ke,_t,Y,r,v,M,z,x)};if(at==="line")for(const Ye of dC(r.geometry,0,0,Er,Er)){const Pt=y3(Ye,ye,We,c.vertical||J,d,24,fe,s.overscaling,Er);for(const St of Pt)J&&S3(s,J.text,st,St)||it(Ye,St)}else if(at==="line-center"){for(const Ye of r.geometry)if(Ye.length>1){const Pt=g3(Ye,We,c.vertical||J,d,24,fe);Pt&&it(Ye,Pt)}}else if(r.type==="Polygon")for(const Ye of Qv(r.geometry,0)){const Pt=x3(Ye,16);it(Ye[0],new yl(Pt.x,Pt.y,0))}else if(r.type==="LineString")for(const Ye of r.geometry)it(Ye,new yl(Ye[0].x,Ye[0].y,0));else if(r.type==="Point")for(const Ye of r.geometry)for(const Pt of Ye)it([Pt],new yl(Pt.x,Pt.y,0))}function wC(s,r,c,d,m,v,x,S,k,M,z,$,H,Y,J){const re=function(we,ye,Ce,ke,We,ct,_t,at){const st=ke.layout.get("text-rotate").evaluate(ct,{})*Math.PI/180,nt=[];for(const pt of ye.positionedLines)for(const it of pt.positionedGlyphs){if(!it.rect)continue;const Ye=it.rect||{};let Pt=F2+1,St=!0,tn=1,qn=0;const Xn=(We||at)&&it.vertical,zr=it.metrics.advance*it.scale/2;if(at&&ye.verticalizable&&(qn=pt.lineOffset/2-(it.imageName?-(Dr-it.metrics.width*it.scale)/2:(it.scale-1)*Dr)),it.imageName){const Fr=_t[it.imageName];St=Fr.sdf,tn=Fr.pixelRatio,Pt=to/tn}const _o=We?[it.x+zr,it.y]:[0,0];let Di=We?[0,0]:[it.x+zr+Ce[0],it.y+Ce[1]-qn],Pr=[0,0];Xn&&(Pr=Di,Di=[0,0]);const Jr=it.metrics.isDoubleResolution?2:1,ai=(it.metrics.left-Pt)*it.scale-zr+Di[0],zi=(-it.metrics.top-Pt)*it.scale+Di[1],Bi=ai+Ye.w/Jr*it.scale/tn,Br=zi+Ye.h/Jr*it.scale/tn,Or=new I(ai,zi),gi=new I(Bi,zi),Oi=new I(ai,Br),yi=new I(Bi,Br);if(Xn){const Fr=new I(-zr,zr-Xd),hn=-Math.PI/2,vi=Dr/2-zr,li=new I(5-Xd-vi,-(it.imageName?vi:0)),Nr=new I(...Pr);Or._rotateAround(hn,Fr)._add(li)._add(Nr),gi._rotateAround(hn,Fr)._add(li)._add(Nr),Oi._rotateAround(hn,Fr)._add(li)._add(Nr),yi._rotateAround(hn,Fr)._add(li)._add(Nr)}if(st){const Fr=Math.sin(st),hn=Math.cos(st),vi=[hn,-Fr,Fr,hn];Or._matMult(vi),gi._matMult(vi),Oi._matMult(vi),yi._matMult(vi)}const no=new I(0,0),ro=new I(0,0);nt.push({tl:Or,tr:gi,bl:Oi,br:yi,tex:Ye,writingMode:ye.writingMode,glyphOffset:_o,sectionIndex:it.sectionIndex,isSDF:St,pixelOffsetTL:no,pixelOffsetBR:ro,minFontScaleX:0,minFontScaleY:0})}return nt}(0,c,S,m,v,x,d,s.allowVerticalPlacement),ce=s.textSizeData;let fe=null;ce.kind==="source"?(fe=[Ks*m.layout.get("text-size").evaluate(x,{})],fe[0]>ml&&Ne(`${s.layerIds[0]}: Value for "text-size" is >= ${Jd}. Reduce your "text-size".`)):ce.kind==="composite"&&(fe=[Ks*Y.compositeTextSizes[0].evaluate(x,{},J),Ks*Y.compositeTextSizes[1].evaluate(x,{},J)],(fe[0]>ml||fe[1]>ml)&&Ne(`${s.layerIds[0]}: Value for "text-size" is >= ${Jd}. Reduce your "text-size".`)),s.addSymbols(s.text,re,fe,S,v,x,M,r,k.lineStartIndex,k.lineLength,H,J);for(const we of z)$[we]=s.text.placedSymbolArray.length-1;return 4*re.length}function SC(s){for(const r in s)return s[r];return null}function S3(s,r,c,d){const m=s.compareText;if(r in m){const v=m[r];for(let x=v.length-1;x>=0;x--)if(d.dist(v[x])<c)return!0}else m[r]=[];return m[r].push(d),!1}const CC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class w_{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,d]=new Uint8Array(r,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=d>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const v=CC[15&d];if(!v)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(r,2,1),[S]=new Uint32Array(r,4,1);return new w_(S,x,v,r)}constructor(r,c=64,d=Float64Array,m){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=d,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const v=CC.indexOf(this.ArrayType),x=2*r*this.ArrayType.BYTES_PER_ELEMENT,S=r*this.IndexArrayType.BYTES_PER_ELEMENT,k=(8-S%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${d}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+S+k,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+x+S+k),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+S+k,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=r)}add(r,c){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=r,this.coords[this._pos++]=c,d}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return S_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,c,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:x,nodeSize:S}=this,k=[0,v.length-1,0],M=[];for(;k.length;){const z=k.pop()||0,$=k.pop()||0,H=k.pop()||0;if($-H<=S){for(let ce=H;ce<=$;ce++){const fe=x[2*ce],we=x[2*ce+1];fe>=r&&fe<=d&&we>=c&&we<=m&&M.push(v[ce])}continue}const Y=H+$>>1,J=x[2*Y],re=x[2*Y+1];J>=r&&J<=d&&re>=c&&re<=m&&M.push(v[Y]),(z===0?r<=J:c<=re)&&(k.push(H),k.push(Y-1),k.push(1-z)),(z===0?d>=J:m>=re)&&(k.push(Y+1),k.push($),k.push(1-z))}return M}within(r,c,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:v,nodeSize:x}=this,S=[0,m.length-1,0],k=[],M=d*d;for(;S.length;){const z=S.pop()||0,$=S.pop()||0,H=S.pop()||0;if($-H<=x){for(let ce=H;ce<=$;ce++)EC(v[2*ce],v[2*ce+1],r,c)<=M&&k.push(m[ce]);continue}const Y=H+$>>1,J=v[2*Y],re=v[2*Y+1];EC(J,re,r,c)<=M&&k.push(m[Y]),(z===0?r-d<=J:c-d<=re)&&(S.push(H),S.push(Y-1),S.push(1-z)),(z===0?r+d>=J:c+d>=re)&&(S.push(Y+1),S.push($),S.push(1-z))}return k}}function S_(s,r,c,d,m,v){if(m-d<=c)return;const x=d+m>>1;TC(s,r,x,d,m,v),S_(s,r,c,d,x-1,1-v),S_(s,r,c,x+1,m,1-v)}function TC(s,r,c,d,m,v){for(;m>d;){if(m-d>600){const M=m-d+1,z=c-d+1,$=Math.log(M),H=.5*Math.exp(2*$/3),Y=.5*Math.sqrt($*H*(M-H)/M)*(z-M/2<0?-1:1);TC(s,r,c,Math.max(d,Math.floor(c-z*H/M+Y)),Math.min(m,Math.floor(c+(M-z)*H/M+Y)),v)}const x=r[2*c+v];let S=d,k=m;for(ep(s,r,d,c),r[2*m+v]>x&&ep(s,r,d,m);S<k;){for(ep(s,r,S,k),S++,k--;r[2*S+v]<x;)S++;for(;r[2*k+v]>x;)k--}r[2*d+v]===x?ep(s,r,d,k):(k++,ep(s,r,k,m)),k<=c&&(d=k+1),c<=k&&(m=k-1)}}function ep(s,r,c,d){C_(s,c,d),C_(r,2*c,2*d),C_(r,2*c+1,2*d+1)}function C_(s,r,c){const d=s[r];s[r]=s[c],s[c]=d}function EC(s,r,c,d){const m=s-c,v=r-d;return m*m+v*v}var T_;a.bh=void 0,(T_=a.bh||(a.bh={})).create="create",T_.load="load",T_.fullLoad="fullLoad";let ag=null,tp=[];const E_=1e3/60,P_="loadTime",k_="fullLoadTime",C3={mark(s){performance.mark(s)},frame(s){const r=s;ag!=null&&tp.push(r-ag),ag=r},clearMetrics(){ag=null,tp=[],performance.clearMeasures(P_),performance.clearMeasures(k_);for(const s in a.bh)performance.clearMarks(a.bh[s])},getPerformanceMetrics(){performance.measure(P_,a.bh.create,a.bh.load),performance.measure(k_,a.bh.create,a.bh.fullLoad);const s=performance.getEntriesByName(P_)[0].duration,r=performance.getEntriesByName(k_)[0].duration,c=tp.length,d=1/(tp.reduce((v,x)=>v+x,0)/c/1e3),m=tp.filter(v=>v>E_).reduce((v,x)=>v+(x-E_)/E_,0);return{loadTime:s,fullLoadTime:r,fps:d,percentDroppedFrames:m/(c+m)*100,totalFrames:c}}};a.$=function(s,r,c){var d,m,v,x,S,k,M,z,$,H,Y,J,re=c[0],ce=c[1],fe=c[2];return r===s?(s[12]=r[0]*re+r[4]*ce+r[8]*fe+r[12],s[13]=r[1]*re+r[5]*ce+r[9]*fe+r[13],s[14]=r[2]*re+r[6]*ce+r[10]*fe+r[14],s[15]=r[3]*re+r[7]*ce+r[11]*fe+r[15]):(m=r[1],v=r[2],x=r[3],S=r[4],k=r[5],M=r[6],z=r[7],$=r[8],H=r[9],Y=r[10],J=r[11],s[0]=d=r[0],s[1]=m,s[2]=v,s[3]=x,s[4]=S,s[5]=k,s[6]=M,s[7]=z,s[8]=$,s[9]=H,s[10]=Y,s[11]=J,s[12]=d*re+S*ce+$*fe+r[12],s[13]=m*re+k*ce+H*fe+r[13],s[14]=v*re+M*ce+Y*fe+r[14],s[15]=x*re+z*ce+J*fe+r[15]),s},a.A=Pu,a.B=Xi,a.C=class{constructor(s,r,c){this.receive=d=>{const m=d.data,v=m.id;if(v&&(!m.targetMapId||this.mapId===m.targetMapId))if(m.type==="<cancel>"){delete this.tasks[v];const x=this.cancelCallbacks[v];delete this.cancelCallbacks[v],x&&x()}else qe()||m.mustQueue?(this.tasks[v]=m,this.taskQueue.push(v),this.invoker.trigger()):this.processTask(v,m)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),m=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),m&&this.processTask(d,m)},this.target=s,this.parent=r,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new f3(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=qe()?s:window}send(s,r,c,d,m=!1){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[v]=c);const x=[],S={id:v,type:s,hasCallback:!!c,targetMapId:d,mustQueue:m,sourceMapId:this.mapId,data:Hs(r,x)};return this.target.postMessage(S,{transfer:x}),{cancel:()=>{c&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(s,r){if(r.type==="<response>"){const c=this.callbacks[s];delete this.callbacks[s],c&&(r.error?c(cl(r.error)):c(null,cl(r.data)))}else{let c=!1;const d=[],m=r.hasCallback?(S,k)=>{c=!0,delete this.cancelCallbacks[s];const M={id:s,type:"<response>",sourceMapId:this.mapId,error:S?Hs(S):null,data:Hs(k,d)};this.target.postMessage(M,{transfer:d})}:S=>{c=!0};let v=null;const x=cl(r.data);if(this.parent[r.type])v=this.parent[r.type](r.sourceMapId,x,m);else if("getWorkerSource"in this.parent){const S=r.type.split(".");v=this.parent.getWorkerSource(r.sourceMapId,S[0],x.source)[S[1]](x,m)}else m(new Error(`Could not find function ${r.type}`));!c&&v&&v.cancel&&(this.cancelCallbacks[s]=v.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.D=Ct,a.E=Mn,a.F=function(s,r){const c={};for(let d=0;d<r.length;d++){const m=r[d];m in s&&(c[m]=s[m])}return c},a.G=eC,a.H=tC,a.I=c_,a.J=V,a.K=N,a.L=gl,a.M=ft,a.N=Er,a.O=ko,a.P=I,a.Q=rr,a.R=Po,a.S=Hn,a.T=Bm,a.U=ng,a.V=class extends Ta{},a.W=__,a.X=function(s,r){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){r(null,c)};for(let d=0;d<s.length;d++){const m=window.document.createElement("source");At(s[d])||(c.crossOrigin="Anonymous"),m.src=s[d],c.appendChild(m)}return{cancel:()=>{}}},a.Y=Ke,a.Z=function(){var s=new Pu(16);return Pu!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},a._=b,a.a=Ae,a.a$=class extends X{},a.a0=function(s,r,c){var d=c[0],m=c[1],v=c[2];return s[0]=r[0]*d,s[1]=r[1]*d,s[2]=r[2]*d,s[3]=r[3]*d,s[4]=r[4]*m,s[5]=r[5]*m,s[6]=r[6]*m,s[7]=r[7]*m,s[8]=r[8]*v,s[9]=r[9]*v,s[10]=r[10]*v,s[11]=r[11]*v,s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s},a.a1=o2,a.a2=function(){return Pe++},a.a3=ae,a.a4=Lu,a.a5=function(){Qi.isLoading()||Qi.isLoaded()||Ad()!=="deferred"||zm()},a.a6=vd,a.a7=pc,a.a8=Gn,a.a9=lC,a.aA=ac,a.aB=function(s){s=s.slice();const r=Object.create(null);for(let c=0;c<s.length;c++)r[s[c].id]=s[c];for(let c=0;c<s.length;c++)"ref"in s[c]&&(s[c]=gt(s[c],r[s[c].ref]));return s},a.aC=function(s){if(s.type==="custom")return new p3(s);switch(s.type){case"background":return new u3(s);case"circle":return new KD(s);case"fill":return new mz(s);case"fill-extrusion":return new Iz(s);case"heatmap":return new YD(s);case"hillshade":return new QD(s);case"line":return new Fz(s);case"raster":return new d3(s);case"symbol":return new tg(s)}},a.aD=Le,a.aE=function(s,r){if(!s)return[{command:Lt.setStyle,args:[r]}];let c=[];try{if(!un(s.version,r.version))return[{command:Lt.setStyle,args:[r]}];un(s.center,r.center)||c.push({command:Lt.setCenter,args:[r.center]}),un(s.zoom,r.zoom)||c.push({command:Lt.setZoom,args:[r.zoom]}),un(s.bearing,r.bearing)||c.push({command:Lt.setBearing,args:[r.bearing]}),un(s.pitch,r.pitch)||c.push({command:Lt.setPitch,args:[r.pitch]}),un(s.sprite,r.sprite)||c.push({command:Lt.setSprite,args:[r.sprite]}),un(s.glyphs,r.glyphs)||c.push({command:Lt.setGlyphs,args:[r.glyphs]}),un(s.transition,r.transition)||c.push({command:Lt.setTransition,args:[r.transition]}),un(s.light,r.light)||c.push({command:Lt.setLight,args:[r.light]});const d={},m=[];(function(x,S,k,M){let z;for(z in S=S||{},x=x||{})Object.prototype.hasOwnProperty.call(x,z)&&(Object.prototype.hasOwnProperty.call(S,z)||di(z,k,M));for(z in S)Object.prototype.hasOwnProperty.call(S,z)&&(Object.prototype.hasOwnProperty.call(x,z)?un(x[z],S[z])||(x[z].type==="geojson"&&S[z].type==="geojson"&&Ai(x,S,z)?k.push({command:Lt.setGeoJSONSourceData,args:[z,S[z].data]}):Ur(z,S,k,M)):Cr(z,S,k))})(s.sources,r.sources,m,d);const v=[];s.layers&&s.layers.forEach(x=>{d[x.source]?c.push({command:Lt.removeLayer,args:[x.id]}):v.push(x)}),c=c.concat(m),function(x,S,k){S=S||[];const M=(x=x||[]).map(Pn),z=S.map(Pn),$=x.reduce(zt,{}),H=S.reduce(zt,{}),Y=M.slice(),J=Object.create(null);let re,ce,fe,we,ye,Ce,ke;for(re=0,ce=0;re<M.length;re++)fe=M[re],Object.prototype.hasOwnProperty.call(H,fe)?ce++:(k.push({command:Lt.removeLayer,args:[fe]}),Y.splice(Y.indexOf(fe,ce),1));for(re=0,ce=0;re<z.length;re++)fe=z[z.length-1-re],Y[Y.length-1-re]!==fe&&(Object.prototype.hasOwnProperty.call($,fe)?(k.push({command:Lt.removeLayer,args:[fe]}),Y.splice(Y.lastIndexOf(fe,Y.length-ce),1)):ce++,Ce=Y[Y.length-re],k.push({command:Lt.addLayer,args:[H[fe],Ce]}),Y.splice(Y.length-re,0,fe),J[fe]=!0);for(re=0;re<z.length;re++)if(fe=z[re],we=$[fe],ye=H[fe],!J[fe]&&!un(we,ye))if(un(we.source,ye.source)&&un(we["source-layer"],ye["source-layer"])&&un(we.type,ye.type)){for(ke in ni(we.layout,ye.layout,k,fe,null,Lt.setLayoutProperty),ni(we.paint,ye.paint,k,fe,null,Lt.setPaintProperty),un(we.filter,ye.filter)||k.push({command:Lt.setFilter,args:[fe,ye.filter]}),un(we.minzoom,ye.minzoom)&&un(we.maxzoom,ye.maxzoom)||k.push({command:Lt.setLayerZoomRange,args:[fe,ye.minzoom,ye.maxzoom]}),we)Object.prototype.hasOwnProperty.call(we,ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?ni(we[ke],ye[ke],k,fe,ke.slice(6),Lt.setPaintProperty):un(we[ke],ye[ke])||k.push({command:Lt.setLayerProperty,args:[fe,ke,ye[ke]]}));for(ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&!Object.prototype.hasOwnProperty.call(we,ke)&&ke!=="layout"&&ke!=="paint"&&ke!=="filter"&&ke!=="metadata"&&ke!=="minzoom"&&ke!=="maxzoom"&&(ke.indexOf("paint.")===0?ni(we[ke],ye[ke],k,fe,ke.slice(6),Lt.setPaintProperty):un(we[ke],ye[ke])||k.push({command:Lt.setLayerProperty,args:[fe,ke,ye[ke]]}))}else k.push({command:Lt.removeLayer,args:[fe]}),Ce=Y[Y.lastIndexOf(fe)+1],k.push({command:Lt.addLayer,args:[ye,Ce]})}(v,r.layers,c)}catch(d){console.warn("Unable to compute style diff:",d),c=[{command:Lt.setStyle,args:[r]}]}return c},a.aF=function(s){const r=[],c=s.id;return c===void 0&&r.push({message:`layers.${c}: missing required property "id"`}),s.render===void 0&&r.push({message:`layers.${c}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&r.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),r},a.aG=function s(r,c){if(Array.isArray(r)){if(!Array.isArray(c)||r.length!==c.length)return!1;for(let d=0;d<r.length;d++)if(!s(r[d],c[d]))return!1;return!0}if(typeof r=="object"&&r!==null&&c!==null){if(typeof c!="object"||Object.keys(r).length!==Object.keys(c).length)return!1;for(const d in r)if(!s(r[d],c[d]))return!1;return!0}return r===c},a.aH=G,a.aI=Te,a.aJ=lc,a.aK=function(s){return s({pluginStatus:Mi,pluginURL:qs}),lc.on("pluginStateChange",s),s},a.aL=class extends ka{constructor(s,r){super(s,r),this.current=0}set(s){this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},a.aM=Tu,a.aN=class extends ka{constructor(s,r){super(s,r),this.current=jv}set(s){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let r=1;r<16;r++)if(s[r]!==this.current[r]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}},a.aO=$m,a.aP=class extends ka{constructor(s,r){super(s,r),this.current=[0,0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2]))}},a.aQ=class extends ka{constructor(s,r){super(s,r),this.current=[0,0]}set(s){s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1]))}},a.aR=jm,a.aS=function(s,r,c,d,m,v,x){var S=1/(r-c),k=1/(d-m),M=1/(v-x);return s[0]=-2*S,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*k,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*M,s[11]=0,s[12]=(r+c)*S,s[13]=(m+d)*k,s[14]=(x+v)*M,s[15]=1,s},a.aT=Rn,a.aU=ZD,a.aV=class extends f{},a.aW=Vz,a.aX=class extends _{},a.aY=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},a.aZ=u2,a.a_=Je,a.aa=function(s){const r={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,d,m,v)=>{const x=m||v;return r[d]=!x||x.toLowerCase(),""}),r["max-age"]){const c=parseInt(r["max-age"],10);isNaN(c)?delete r["max-age"]:r["max-age"]=c}return r},a.ab=function(s,r){const c=[];for(const d in s)d in r||c.push(d);return c},a.ac=function(s){if(De==null){const r=s.navigator?s.navigator.userAgent:null;De=!!s.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return De},a.ad=ue,a.ae=function(s,r,c){var d=Math.sin(c),m=Math.cos(c),v=r[0],x=r[1],S=r[2],k=r[3],M=r[4],z=r[5],$=r[6],H=r[7];return r!==s&&(s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=v*m+M*d,s[1]=x*m+z*d,s[2]=S*m+$*d,s[3]=k*m+H*d,s[4]=M*m-v*d,s[5]=z*m-x*d,s[6]=$*m-S*d,s[7]=H*m-k*d,s},a.af=function(s){var r=new Pu(16);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],r},a.ag=Gm,a.ah=function(s,r){let c=0,d=0;if(s.kind==="constant")d=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:m,minZoom:v,maxZoom:x}=s,S=m?ue(Yi.interpolationFactor(m,r,v,x),0,1):0;s.kind==="camera"?d=Xi.number(s.minSize,s.maxSize,S):c=S}return{uSizeT:c,uSize:d}},a.aj=function(s,{uSize:r,uSizeT:c},{lowerSize:d,upperSize:m}){return s.kind==="source"?d/Ks:s.kind==="composite"?Xi.number(d/Ks,m/Ks,c):r},a.ak=p_,a.al=function(s,r,c,d){const m=r.y-s.y,v=r.x-s.x,x=d.y-c.y,S=d.x-c.x,k=x*v-S*m;if(k===0)return null;const M=(S*(s.y-c.y)-x*(s.x-c.x))/k;return new I(s.x+M*v,s.y+M*m)},a.am=dC,a.an=QS,a.ao=Hv,a.ap=Dr,a.ar=d_,a.as=function(s,r){var c=r[0],d=r[1],m=r[2],v=r[3],x=r[4],S=r[5],k=r[6],M=r[7],z=r[8],$=r[9],H=r[10],Y=r[11],J=r[12],re=r[13],ce=r[14],fe=r[15],we=c*S-d*x,ye=c*k-m*x,Ce=c*M-v*x,ke=d*k-m*S,We=d*M-v*S,ct=m*M-v*k,_t=z*re-$*J,at=z*ce-H*J,st=z*fe-Y*J,nt=$*ce-H*re,pt=$*fe-Y*re,it=H*fe-Y*ce,Ye=we*it-ye*pt+Ce*nt+ke*st-We*at+ct*_t;return Ye?(s[0]=(S*it-k*pt+M*nt)*(Ye=1/Ye),s[1]=(m*pt-d*it-v*nt)*Ye,s[2]=(re*ct-ce*We+fe*ke)*Ye,s[3]=(H*We-$*ct-Y*ke)*Ye,s[4]=(k*st-x*it-M*at)*Ye,s[5]=(c*it-m*st+v*at)*Ye,s[6]=(ce*Ce-J*ct-fe*ye)*Ye,s[7]=(z*ct-H*Ce+Y*ye)*Ye,s[8]=(x*pt-S*st+M*_t)*Ye,s[9]=(d*st-c*pt-v*_t)*Ye,s[10]=(J*We-re*Ce+fe*we)*Ye,s[11]=($*Ce-z*We-Y*we)*Ye,s[12]=(S*at-x*nt-k*_t)*Ye,s[13]=(c*nt-d*at+m*_t)*Ye,s[14]=(re*ye-J*ke-ce*we)*Ye,s[15]=(z*ke-$*ye+H*we)*Ye,s):null},a.at=b_,a.au=h_,a.av=w_,a.aw=function(){const s={},r=Me.$version;for(const c in Me.$root){const d=Me.$root[c];if(d.required){let m=null;m=c==="version"?r:d.type==="array"?[]:{},m!=null&&(s[c]=m)}}return s},a.ax=Lt,a.ay=Mm,a.az=Vt,a.b=function(s,r){const c=new Blob([new Uint8Array(s)],{type:"image/png"});createImageBitmap(c).then(d=>{r(null,d)}).catch(d=>{r(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},a.b0=Xr,a.b1=function(s,r){var c=s[0],d=s[1],m=s[2],v=s[3],x=s[4],S=s[5],k=s[6],M=s[7],z=s[8],$=s[9],H=s[10],Y=s[11],J=s[12],re=s[13],ce=s[14],fe=s[15],we=r[0],ye=r[1],Ce=r[2],ke=r[3],We=r[4],ct=r[5],_t=r[6],at=r[7],st=r[8],nt=r[9],pt=r[10],it=r[11],Ye=r[12],Pt=r[13],St=r[14],tn=r[15];return Math.abs(c-we)<=Li*Math.max(1,Math.abs(c),Math.abs(we))&&Math.abs(d-ye)<=Li*Math.max(1,Math.abs(d),Math.abs(ye))&&Math.abs(m-Ce)<=Li*Math.max(1,Math.abs(m),Math.abs(Ce))&&Math.abs(v-ke)<=Li*Math.max(1,Math.abs(v),Math.abs(ke))&&Math.abs(x-We)<=Li*Math.max(1,Math.abs(x),Math.abs(We))&&Math.abs(S-ct)<=Li*Math.max(1,Math.abs(S),Math.abs(ct))&&Math.abs(k-_t)<=Li*Math.max(1,Math.abs(k),Math.abs(_t))&&Math.abs(M-at)<=Li*Math.max(1,Math.abs(M),Math.abs(at))&&Math.abs(z-st)<=Li*Math.max(1,Math.abs(z),Math.abs(st))&&Math.abs($-nt)<=Li*Math.max(1,Math.abs($),Math.abs(nt))&&Math.abs(H-pt)<=Li*Math.max(1,Math.abs(H),Math.abs(pt))&&Math.abs(Y-it)<=Li*Math.max(1,Math.abs(Y),Math.abs(it))&&Math.abs(J-Ye)<=Li*Math.max(1,Math.abs(J),Math.abs(Ye))&&Math.abs(re-Pt)<=Li*Math.max(1,Math.abs(re),Math.abs(Pt))&&Math.abs(ce-St)<=Li*Math.max(1,Math.abs(ce),Math.abs(St))&&Math.abs(fe-tn)<=Li*Math.max(1,Math.abs(fe),Math.abs(tn))},a.b2=function(s,r){return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s},a.b3=function(s,r,c){return s[0]=r[0]*c[0],s[1]=r[1]*c[1],s[2]=r[2]*c[2],s[3]=r[3]*c[3],s},a.b4=function(s,r){return s[0]*r[0]+s[1]*r[1]+s[2]*r[2]+s[3]*r[3]},a.b5=ge,a.b6=oC,a.b7=nC,a.b8=function(s,r,c,d,m){var v,x=1/Math.tan(r/2);return s[0]=x/c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=x,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,m!=null&&m!==1/0?(s[10]=(m+d)*(v=1/(d-m)),s[14]=2*m*d*v):(s[10]=-1,s[14]=-2*d),s},a.b9=function(s,r,c){var d=Math.sin(c),m=Math.cos(c),v=r[4],x=r[5],S=r[6],k=r[7],M=r[8],z=r[9],$=r[10],H=r[11];return r!==s&&(s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[4]=v*m+M*d,s[5]=x*m+z*d,s[6]=S*m+$*d,s[7]=k*m+H*d,s[8]=M*m-v*d,s[9]=z*m-x*d,s[10]=$*m-S*d,s[11]=H*m-k*d,s},a.bA=T,a.bB=M2,a.bC=fu,a.bD=Qi,a.ba=K,a.bb=ee,a.bc=function(s,r){return s[0]=r[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=r[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},a.bd=class extends hc{},a.be=y_,a.bf=rC,a.bg=C3,a.bi=nn,a.bj=function(s,r,c=!1){if(Mi===Cd||Mi===Td||Mi===Ed)throw new Error("setRTLTextPlugin cannot be called multiple times.");qs=xt.resolveURL(s),Mi=Cd,Pd=r,kd(),c||zm()},a.bk=Ad,a.bl=function(s,r){const c={};for(let m=0;m<s.length;m++){const v=r&&r[s[m].id]||vu(s[m]);r&&(r[s[m].id]=v);let x=c[v];x||(x=c[v]=[]),x.push(s[m])}const d=[];for(const m in c)d.push(c[m]);return d},a.bm=dt,a.bn=aC,a.bo=cC,a.bp=$2,a.bq=function(s){s.bucket.createArrays(),s.bucket.tilePixelRatio=Er/(512*s.bucket.overscaling),s.bucket.compareText={},s.bucket.iconsNeedLinear=!1;const r=s.bucket.layers[0],c=r.layout,d=r._unevaluatedLayout._values,m={layoutIconSize:d["icon-size"].possiblyEvaluate(new Gn(s.bucket.zoom+1),s.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new Gn(s.bucket.zoom+1),s.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new Gn(18))};if(s.bucket.textSizeData.kind==="composite"){const{minZoom:M,maxZoom:z}=s.bucket.textSizeData;m.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Gn(M),s.canonical),d["text-size"].possiblyEvaluate(new Gn(z),s.canonical)]}if(s.bucket.iconSizeData.kind==="composite"){const{minZoom:M,maxZoom:z}=s.bucket.iconSizeData;m.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Gn(M),s.canonical),d["icon-size"].possiblyEvaluate(new Gn(z),s.canonical)]}const v=c.get("text-line-height")*Dr,x=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",S=c.get("text-keep-upright"),k=c.get("text-size");for(const M of s.bucket.features){const z=c.get("text-font").evaluate(M,{},s.canonical).join(","),$=k.evaluate(M,{},s.canonical),H=m.layoutTextSize.evaluate(M,{},s.canonical),Y=m.layoutIconSize.evaluate(M,{},s.canonical),J={horizontal:{},vertical:void 0},re=M.text;let ce,fe=[0,0];if(re){const Ce=re.toString(),ke=c.get("text-letter-spacing").evaluate(M,{},s.canonical)*Dr,We=wd(Ce)?ke:0,ct=c.get("text-anchor").evaluate(M,{},s.canonical),_t=bC(r,M,s.canonical);if(!_t){const it=c.get("text-radial-offset").evaluate(M,{},s.canonical);fe=it?xC(ct,[it*Dr,x_]):c.get("text-offset").evaluate(M,{},s.canonical).map(Ye=>Ye*Dr)}let at=x?"center":c.get("text-justify").evaluate(M,{},s.canonical);const st=c.get("symbol-placement"),nt=st==="point"?c.get("text-max-width").evaluate(M,{},s.canonical)*Dr:0,pt=()=>{s.bucket.allowVerticalPlacement&&bd(Ce)&&(J.vertical=Jm(re,s.glyphMap,s.glyphPositions,s.imagePositions,z,nt,v,ct,"left",We,fe,a.ai.vertical,!0,st,H,$))};if(!x&&_t){const it=new Set;if(at==="auto")for(let Pt=0;Pt<_t.values.length;Pt+=2)it.add(b_(_t.values[Pt]));else it.add(at);let Ye=!1;for(const Pt of it)if(!J.horizontal[Pt])if(Ye)J.horizontal[Pt]=J.horizontal[0];else{const St=Jm(re,s.glyphMap,s.glyphPositions,s.imagePositions,z,nt,v,"center",Pt,We,fe,a.ai.horizontal,!1,st,H,$);St&&(J.horizontal[Pt]=St,Ye=St.positionedLines.length===1)}pt()}else{at==="auto"&&(at=b_(ct));const it=Jm(re,s.glyphMap,s.glyphPositions,s.imagePositions,z,nt,v,ct,at,We,fe,a.ai.horizontal,!1,st,H,$);it&&(J.horizontal[at]=it),pt(),bd(Ce)&&x&&S&&(J.vertical=Jm(re,s.glyphMap,s.glyphPositions,s.imagePositions,z,nt,v,ct,at,We,fe,a.ai.vertical,!1,st,H,$))}}let we=!1;if(M.icon&&M.icon.name){const Ce=s.imageMap[M.icon.name];Ce&&(ce=o3(s.imagePositions[M.icon.name],c.get("icon-offset").evaluate(M,{},s.canonical),c.get("icon-anchor").evaluate(M,{},s.canonical)),we=!!Ce.sdf,s.bucket.sdfIcons===void 0?s.bucket.sdfIcons=we:s.bucket.sdfIcons!==we&&Ne("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ce.pixelRatio!==s.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(s.bucket.iconsNeedLinear=!0))}const ye=SC(J.horizontal)||J.vertical;s.bucket.iconsInText=!!ye&&ye.iconsInText,(ye||ce)&&w3(s.bucket,M,J,ce,s.imageMap,m,H,Y,fe,we,s.canonical)}s.showCollisionBoxes&&s.bucket.generateCollisionDebugBuffers()},a.br=o_,a.bs=n_,a.bt=i_,a.bu=class{constructor(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let s=performance.getEntriesByName(this._marks.measure);return s.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),s=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),s}},a.bv=a_,a.bw=pl,a.bx=function(s,r,c,d,m){return b(this,void 0,void 0,function*(){if(N())try{return yield ft(s,r,c,d,m)}catch{}return function(v,x,S,k,M){const z=v.width,$=v.height;ht&&ut||(ht=new OffscreenCanvas(z,$),ut=ht.getContext("2d",{willReadFrequently:!0})),ht.width=z,ht.height=$,ut.drawImage(v,0,0,z,$);const H=ut.getImageData(x,S,k,M);return ut.clearRect(0,0,z,$),H.data}(s,r,c,d,m)})},a.by=sC,a.bz=w,a.c=Ot,a.d=function(s,r){const c=new Image;c.onload=()=>{r(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=tt})},c.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(s)],{type:"image/png"});c.src=s.byteLength?URL.createObjectURL(d):tt},a.e=he,a.f=function(s,r){return Gt(he(s,{type:"json"}),r)},a.g=mt,a.h=xt,a.i=qe,a.j=En,a.k=Fn,a.l=Ut,a.m=Gt,a.n=function(s){return new a_(s).readFields(Qz,[])},a.o=function(s,r,c){if(!s.length)return c(null,[]);let d=s.length;const m=new Array(s.length);let v=null;s.forEach((x,S)=>{r(x,(k,M)=>{k&&(v=k),m[S]=M,--d==0&&c(v,m)})})},a.p=N2,a.q=Vd,a.r=yr,a.s=At,a.t=Ov,a.u=lt,a.v=Me,a.w=Ne,a.x=bu,a.y=Ss,a.z=function([s,r,c]){return r+=90,r*=Math.PI/180,c*=Math.PI/180,{x:s*Math.cos(r)*Math.sin(c),y:s*Math.sin(r)*Math.sin(c),z:s*Math.cos(c)}}}),h(["./shared"],function(a){class b{constructor(W){this.keyCache={},W&&this.replace(W)}replace(W){this._layerConfigs={},this._layers={},this.update(W,[])}update(W,Z){for(const le of W){this._layerConfigs[le.id]=le;const de=this._layers[le.id]=a.aC(le);de._featureFilter=a.a6(de.filter),this.keyCache[le.id]&&delete this.keyCache[le.id]}for(const le of Z)delete this.keyCache[le],delete this._layerConfigs[le],delete this._layers[le];this.familiesBySource={};const te=a.bl(Object.values(this._layerConfigs),this.keyCache);for(const le of te){const de=le.map($e=>this._layers[$e.id]),Se=de[0];if(Se.visibility==="none")continue;const ve=Se.source||"";let me=this.familiesBySource[ve];me||(me=this.familiesBySource[ve]={});const be=Se.sourceLayer||"_geojsonTileLayer";let Fe=me[be];Fe||(Fe=me[be]=[]),Fe.push(de)}}}class w{constructor(W){const Z={},te=[];for(const ve in W){const me=W[ve],be=Z[ve]={};for(const Fe in me){const $e=me[+Fe];if(!$e||$e.bitmap.width===0||$e.bitmap.height===0)continue;const Ge={x:0,y:0,w:$e.bitmap.width+2,h:$e.bitmap.height+2};te.push(Ge),be[Fe]={rect:Ge,metrics:$e.metrics}}}const{w:le,h:de}=a.p(te),Se=new a.q({width:le||1,height:de||1});for(const ve in W){const me=W[ve];for(const be in me){const Fe=me[+be];if(!Fe||Fe.bitmap.width===0||Fe.bitmap.height===0)continue;const $e=Z[ve][be].rect;a.q.copy(Fe.bitmap,Se,{x:0,y:0},{x:$e.x+1,y:$e.y+1},Fe.bitmap)}}this.image=Se,this.positions=Z}}a.bm("GlyphAtlas",w);class T{constructor(W){this.tileID=new a.O(W.tileID.overscaledZ,W.tileID.wrap,W.tileID.canonical.z,W.tileID.canonical.x,W.tileID.canonical.y),this.uid=W.uid,this.zoom=W.zoom,this.pixelRatio=W.pixelRatio,this.tileSize=W.tileSize,this.source=W.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=W.showCollisionBoxes,this.collectResourceTiming=!!W.collectResourceTiming,this.returnDependencies=!!W.returnDependencies,this.promoteId=W.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(W,Z,te,le,de){this.status="parsing",this.data=W,this.collisionBoxArray=new a.a3;const Se=new a.bn(Object.keys(W.layers).sort()),ve=new a.bo(this.tileID,this.promoteId);ve.bucketLayerIDs=[];const me={},be={featureIndex:ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:te},Fe=Z.familiesBySource[this.source];for(const gn in Fe){const mn=W.layers[gn];if(!mn)continue;mn.version===1&&a.w(`Vector tile source "${this.source}" layer "${gn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ri=Se.encode(gn),$n=[];for(let Tr=0;Tr<mn.length;Tr++){const Zr=mn.feature(Tr),ho=ve.getId(Zr,gn);$n.push({feature:Zr,id:ho,index:Tr,sourceLayerIndex:ri})}for(const Tr of Fe[gn]){const Zr=Tr[0];Zr.source!==this.source&&a.w(`layer.source = ${Zr.source} does not equal this.source = ${this.source}`),Zr.minzoom&&this.zoom<Math.floor(Zr.minzoom)||Zr.maxzoom&&this.zoom>=Zr.maxzoom||Zr.visibility!=="none"&&(P(Tr,this.zoom,te),(me[Zr.id]=Zr.createBucket({index:ve.bucketLayerIDs.length,layers:Tr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ri,sourceID:this.source})).populate($n,be,this.tileID.canonical),ve.bucketLayerIDs.push(Tr.map(ho=>ho.id)))}}let $e,Ge,Et,Nt;const yt=a.aH(be.glyphDependencies,gn=>Object.keys(gn).map(Number));this.inFlightDependencies.forEach(gn=>gn==null?void 0:gn.cancel()),this.inFlightDependencies=[];const kt=++this.dependencySentinel;Object.keys(yt).length?this.inFlightDependencies.push(le.send("getGlyphs",{uid:this.uid,stacks:yt,source:this.source,tileID:this.tileID,type:"glyphs"},(gn,mn)=>{kt===this.dependencySentinel&&($e||($e=gn,Ge=mn,Dn.call(this)))})):Ge={};const jt=Object.keys(be.iconDependencies);jt.length?this.inFlightDependencies.push(le.send("getImages",{icons:jt,source:this.source,tileID:this.tileID,type:"icons"},(gn,mn)=>{kt===this.dependencySentinel&&($e||($e=gn,Et=mn,Dn.call(this)))})):Et={};const Tn=Object.keys(be.patternDependencies);function Dn(){if($e)return de($e);if(Ge&&Et&&Nt){const gn=new w(Ge),mn=new a.bp(Et,Nt);for(const ri in me){const $n=me[ri];$n instanceof a.a4?(P($n.layers,this.zoom,te),a.bq({bucket:$n,glyphMap:Ge,glyphPositions:gn.positions,imageMap:Et,imagePositions:mn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):$n.hasPattern&&($n instanceof a.br||$n instanceof a.bs||$n instanceof a.bt)&&(P($n.layers,this.zoom,te),$n.addFeatures(be,this.tileID.canonical,mn.patternPositions))}this.status="done",de(null,{buckets:Object.values(me).filter(ri=>!ri.isEmpty()),featureIndex:ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gn.image,imageAtlas:mn,glyphMap:this.returnDependencies?Ge:null,iconMap:this.returnDependencies?Et:null,glyphPositions:this.returnDependencies?gn.positions:null})}}Tn.length?this.inFlightDependencies.push(le.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"},(gn,mn)=>{kt===this.dependencySentinel&&($e||($e=gn,Nt=mn,Dn.call(this)))})):Nt={},Dn.call(this)}}function P(se,W,Z){const te=new a.a8(W);for(const le of se)le.recalculate(te,Z)}function I(se,W){const Z=a.l(se.request,(te,le,de,Se)=>{if(te)W(te);else if(le)try{const ve=new a.bw.VectorTile(new a.bv(le));W(null,{vectorTile:ve,rawData:le,cacheControl:de,expires:Se})}catch(ve){const me=new Uint8Array(le);let be=`Unable to parse the tile at ${se.request.url}, `;be+=me[0]===31&&me[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ve.messge}`,W(new Error(be))}});return()=>{Z.cancel(),W()}}class D{constructor(W,Z,te,le){this.actor=W,this.layerIndex=Z,this.availableImages=te,this.loadVectorData=le||I,this.fetching={},this.loading={},this.loaded={}}loadTile(W,Z){const te=W.uid;this.loading||(this.loading={});const le=!!(W&&W.request&&W.request.collectResourceTiming)&&new a.bu(W.request),de=this.loading[te]=new T(W);de.abort=this.loadVectorData(W,(Se,ve)=>{if(delete this.loading[te],Se||!ve)return de.status="done",this.loaded[te]=de,Z(Se);const me=ve.rawData,be={};ve.expires&&(be.expires=ve.expires),ve.cacheControl&&(be.cacheControl=ve.cacheControl);const Fe={};if(le){const $e=le.finish();$e&&(Fe.resourceTiming=JSON.parse(JSON.stringify($e)))}de.vectorTile=ve.vectorTile,de.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,($e,Ge)=>{if(delete this.fetching[te],$e||!Ge)return Z($e);Z(null,a.e({rawTileData:me.slice(0)},Ge,be,Fe))}),this.loaded=this.loaded||{},this.loaded[te]=de,this.fetching[te]={rawTileData:me,cacheControl:be,resourceTiming:Fe}})}reloadTile(W,Z){const te=this.loaded,le=W.uid;if(te&&te[le]){const de=te[le];de.showCollisionBoxes=W.showCollisionBoxes,de.status==="parsing"?de.parse(de.vectorTile,this.layerIndex,this.availableImages,this.actor,(Se,ve)=>{if(Se||!ve)return Z(Se,ve);let me;if(this.fetching[le]){const{rawTileData:be,cacheControl:Fe,resourceTiming:$e}=this.fetching[le];delete this.fetching[le],me=a.e({rawTileData:be.slice(0)},ve,Fe,$e)}else me=ve;Z(null,me)}):de.status==="done"&&(de.vectorTile?de.parse(de.vectorTile,this.layerIndex,this.availableImages,this.actor,Z):Z())}}abortTile(W,Z){const te=this.loading,le=W.uid;te&&te[le]&&te[le].abort&&(te[le].abort(),delete te[le]),Z()}removeTile(W,Z){const te=this.loaded,le=W.uid;te&&te[le]&&delete te[le],Z()}}class O{constructor(){this.loaded={}}loadTile(W,Z){return a._(this,void 0,void 0,function*(){const{uid:te,encoding:le,rawImageData:de,redFactor:Se,greenFactor:ve,blueFactor:me,baseShift:be}=W,Fe=de.width+2,$e=de.height+2,Ge=a.a(de)?new a.R({width:Fe,height:$e},yield a.bx(de,-1,-1,Fe,$e)):de,Et=new a.by(te,Ge,le,Se,ve,me,be);this.loaded=this.loaded||{},this.loaded[te]=Et,Z(null,Et)})}removeTile(W){const Z=this.loaded,te=W.uid;Z&&Z[te]&&delete Z[te]}}function j(se,W){if(se.length!==0){q(se[0],W);for(var Z=1;Z<se.length;Z++)q(se[Z],!W)}}function q(se,W){for(var Z=0,te=0,le=0,de=se.length,Se=de-1;le<de;Se=le++){var ve=(se[le][0]-se[Se][0])*(se[Se][1]+se[le][1]),me=Z+ve;te+=Math.abs(Z)>=Math.abs(ve)?Z-me+ve:ve-me+Z,Z=me}Z+te>=0!=!!W&&se.reverse()}var L=a.bz(function se(W,Z){var te,le=W&&W.type;if(le==="FeatureCollection")for(te=0;te<W.features.length;te++)se(W.features[te],Z);else if(le==="GeometryCollection")for(te=0;te<W.geometries.length;te++)se(W.geometries[te],Z);else if(le==="Feature")se(W.geometry,Z);else if(le==="Polygon")j(W.coordinates,Z);else if(le==="MultiPolygon")for(te=0;te<W.coordinates.length;te++)j(W.coordinates[te],Z);return W});const V=a.bw.VectorTileFeature.prototype.toGeoJSON;var N={exports:{}},K=a.bA,ee=a.bw.VectorTileFeature,ue=ge;function ge(se,W){this.options=W||{},this.features=se,this.length=se.length}function he(se,W){this.id=typeof se.id=="number"?se.id:void 0,this.type=se.type,this.rawGeometry=se.type===1?[se.geometry]:se.geometry,this.properties=se.tags,this.extent=W||4096}ge.prototype.feature=function(se){return new he(this.features[se],this.options.extent)},he.prototype.loadGeometry=function(){var se=this.rawGeometry;this.geometry=[];for(var W=0;W<se.length;W++){for(var Z=se[W],te=[],le=0;le<Z.length;le++)te.push(new K(Z[le][0],Z[le][1]));this.geometry.push(te)}return this.geometry},he.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var se=this.geometry,W=1/0,Z=-1/0,te=1/0,le=-1/0,de=0;de<se.length;de++)for(var Se=se[de],ve=0;ve<Se.length;ve++){var me=Se[ve];W=Math.min(W,me.x),Z=Math.max(Z,me.x),te=Math.min(te,me.y),le=Math.max(le,me.y)}return[W,te,Z,le]},he.prototype.toGeoJSON=ee.prototype.toGeoJSON;var Pe=a.bB,G=ue;function Te(se){var W=new Pe;return function(Z,te){for(var le in Z.layers)te.writeMessage(3,Le,Z.layers[le])}(se,W),W.finish()}function Le(se,W){var Z;W.writeVarintField(15,se.version||1),W.writeStringField(1,se.name||""),W.writeVarintField(5,se.extent||4096);var te={keys:[],values:[],keycache:{},valuecache:{}};for(Z=0;Z<se.length;Z++)te.feature=se.feature(Z),W.writeMessage(2,Be,te);var le=te.keys;for(Z=0;Z<le.length;Z++)W.writeStringField(3,le[Z]);var de=te.values;for(Z=0;Z<de.length;Z++)W.writeMessage(4,De,de[Z])}function Be(se,W){var Z=se.feature;Z.id!==void 0&&W.writeVarintField(1,Z.id),W.writeMessage(2,Ne,se),W.writeVarintField(3,Z.type),W.writeMessage(4,qe,Z)}function Ne(se,W){var Z=se.feature,te=se.keys,le=se.values,de=se.keycache,Se=se.valuecache;for(var ve in Z.properties){var me=Z.properties[ve],be=de[ve];if(me!==null){be===void 0&&(te.push(ve),de[ve]=be=te.length-1),W.writeVarint(be);var Fe=typeof me;Fe!=="string"&&Fe!=="boolean"&&Fe!=="number"&&(me=JSON.stringify(me));var $e=Fe+":"+me,Ge=Se[$e];Ge===void 0&&(le.push(me),Se[$e]=Ge=le.length-1),W.writeVarint(Ge)}}}function ze(se,W){return(W<<3)+(7&se)}function Ve(se){return se<<1^se>>31}function qe(se,W){for(var Z=se.loadGeometry(),te=se.type,le=0,de=0,Se=Z.length,ve=0;ve<Se;ve++){var me=Z[ve],be=1;te===1&&(be=me.length),W.writeVarint(ze(1,be));for(var Fe=te===3?me.length-1:me.length,$e=0;$e<Fe;$e++){$e===1&&te!==1&&W.writeVarint(ze(2,Fe-1));var Ge=me[$e].x-le,Et=me[$e].y-de;W.writeVarint(Ve(Ge)),W.writeVarint(Ve(Et)),le+=Ge,de+=Et}te===3&&W.writeVarint(ze(7,1))}}function De(se,W){var Z=typeof se;Z==="string"?W.writeStringField(1,se):Z==="boolean"?W.writeBooleanField(7,se):Z==="number"&&(se%1!=0?W.writeDoubleField(3,se):se<0?W.writeSVarintField(6,se):W.writeVarintField(5,se))}N.exports=Te,N.exports.fromVectorTileJs=Te,N.exports.fromGeojsonVt=function(se,W){W=W||{};var Z={};for(var te in se)Z[te]=new G(se[te].features,W),Z[te].name=te,Z[te].version=W.version,Z[te].extent=W.extent;return Te({layers:Z})},N.exports.GeoJSONWrapper=G;var Ae=a.bz(N.exports);const tt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:se=>se},ft=Math.fround||(ht=new Float32Array(1),se=>(ht[0]=+se,ht[0]));var ht;const ut=3,Dt=5,qt=6;class xt{constructor(W){this.options=Object.assign(Object.create(tt),W),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(W){const{log:Z,minZoom:te,maxZoom:le}=this.options;Z&&console.time("total time");const de=`prepare ${W.length} points`;Z&&console.time(de),this.points=W;const Se=[];for(let me=0;me<W.length;me++){const be=W[me];if(!be.geometry)continue;const[Fe,$e]=be.geometry.coordinates,Ge=ft(Vt(Fe)),Et=ft(mt($e));Se.push(Ge,Et,1/0,me,-1,1),this.options.reduce&&Se.push(0)}let ve=this.trees[le+1]=this._createTree(Se);Z&&console.timeEnd(de);for(let me=le;me>=te;me--){const be=+Date.now();ve=this.trees[me]=this._createTree(this._cluster(ve,me)),Z&&console.log("z%d: %d clusters in %dms",me,ve.numItems,+Date.now()-be)}return Z&&console.timeEnd("total time"),this}getClusters(W,Z){let te=((W[0]+180)%360+360)%360-180;const le=Math.max(-90,Math.min(90,W[1]));let de=W[2]===180?180:((W[2]+180)%360+360)%360-180;const Se=Math.max(-90,Math.min(90,W[3]));if(W[2]-W[0]>=360)te=-180,de=180;else if(te>de){const $e=this.getClusters([te,le,180,Se],Z),Ge=this.getClusters([-180,le,de,Se],Z);return $e.concat(Ge)}const ve=this.trees[this._limitZoom(Z)],me=ve.range(Vt(te),mt(Se),Vt(de),mt(le)),be=ve.data,Fe=[];for(const $e of me){const Ge=this.stride*$e;Fe.push(be[Ge+Dt]>1?Ot(be,Ge,this.clusterProps):this.points[be[Ge+ut]])}return Fe}getChildren(W){const Z=this._getOriginId(W),te=this._getOriginZoom(W),le="No cluster with the specified id.",de=this.trees[te];if(!de)throw new Error(le);const Se=de.data;if(Z*this.stride>=Se.length)throw new Error(le);const ve=this.options.radius/(this.options.extent*Math.pow(2,te-1)),me=de.within(Se[Z*this.stride],Se[Z*this.stride+1],ve),be=[];for(const Fe of me){const $e=Fe*this.stride;Se[$e+4]===W&&be.push(Se[$e+Dt]>1?Ot(Se,$e,this.clusterProps):this.points[Se[$e+ut]])}if(be.length===0)throw new Error(le);return be}getLeaves(W,Z,te){const le=[];return this._appendLeaves(le,W,Z=Z||10,te=te||0,0),le}getTile(W,Z,te){const le=this.trees[this._limitZoom(W)],de=Math.pow(2,W),{extent:Se,radius:ve}=this.options,me=ve/Se,be=(te-me)/de,Fe=(te+1+me)/de,$e={features:[]};return this._addTileFeatures(le.range((Z-me)/de,be,(Z+1+me)/de,Fe),le.data,Z,te,de,$e),Z===0&&this._addTileFeatures(le.range(1-me/de,be,1,Fe),le.data,de,te,de,$e),Z===de-1&&this._addTileFeatures(le.range(0,be,me/de,Fe),le.data,-1,te,de,$e),$e.features.length?$e:null}getClusterExpansionZoom(W){let Z=this._getOriginZoom(W)-1;for(;Z<=this.options.maxZoom;){const te=this.getChildren(W);if(Z++,te.length!==1)break;W=te[0].properties.cluster_id}return Z}_appendLeaves(W,Z,te,le,de){const Se=this.getChildren(Z);for(const ve of Se){const me=ve.properties;if(me&&me.cluster?de+me.point_count<=le?de+=me.point_count:de=this._appendLeaves(W,me.cluster_id,te,le,de):de<le?de++:W.push(ve),W.length===te)break}return de}_createTree(W){const Z=new a.av(W.length/this.stride|0,this.options.nodeSize,Float32Array);for(let te=0;te<W.length;te+=this.stride)Z.add(W[te],W[te+1]);return Z.finish(),Z.data=W,Z}_addTileFeatures(W,Z,te,le,de,Se){for(const ve of W){const me=ve*this.stride,be=Z[me+Dt]>1;let Fe,$e,Ge;if(be)Fe=nn(Z,me,this.clusterProps),$e=Z[me],Ge=Z[me+1];else{const yt=this.points[Z[me+ut]];Fe=yt.properties;const[kt,jt]=yt.geometry.coordinates;$e=Vt(kt),Ge=mt(jt)}const Et={type:1,geometry:[[Math.round(this.options.extent*($e*de-te)),Math.round(this.options.extent*(Ge*de-le))]],tags:Fe};let Nt;Nt=be||this.options.generateId?Z[me+ut]:this.points[Z[me+ut]].id,Nt!==void 0&&(Et.id=Nt),Se.features.push(Et)}}_limitZoom(W){return Math.max(this.options.minZoom,Math.min(Math.floor(+W),this.options.maxZoom+1))}_cluster(W,Z){const{radius:te,extent:le,reduce:de,minPoints:Se}=this.options,ve=te/(le*Math.pow(2,Z)),me=W.data,be=[],Fe=this.stride;for(let $e=0;$e<me.length;$e+=Fe){if(me[$e+2]<=Z)continue;me[$e+2]=Z;const Ge=me[$e],Et=me[$e+1],Nt=W.within(me[$e],me[$e+1],ve),yt=me[$e+Dt];let kt=yt;for(const jt of Nt){const Tn=jt*Fe;me[Tn+2]>Z&&(kt+=me[Tn+Dt])}if(kt>yt&&kt>=Se){let jt,Tn=Ge*yt,Dn=Et*yt,gn=-1;const mn=(($e/Fe|0)<<5)+(Z+1)+this.points.length;for(const ri of Nt){const $n=ri*Fe;if(me[$n+2]<=Z)continue;me[$n+2]=Z;const Tr=me[$n+Dt];Tn+=me[$n]*Tr,Dn+=me[$n+1]*Tr,me[$n+4]=mn,de&&(jt||(jt=this._map(me,$e,!0),gn=this.clusterProps.length,this.clusterProps.push(jt)),de(jt,this._map(me,$n)))}me[$e+4]=mn,be.push(Tn/kt,Dn/kt,1/0,mn,-1,kt),de&&be.push(gn)}else{for(let jt=0;jt<Fe;jt++)be.push(me[$e+jt]);if(kt>1)for(const jt of Nt){const Tn=jt*Fe;if(!(me[Tn+2]<=Z)){me[Tn+2]=Z;for(let Dn=0;Dn<Fe;Dn++)be.push(me[Tn+Dn])}}}}return be}_getOriginId(W){return W-this.points.length>>5}_getOriginZoom(W){return(W-this.points.length)%32}_map(W,Z,te){if(W[Z+Dt]>1){const Se=this.clusterProps[W[Z+qt]];return te?Object.assign({},Se):Se}const le=this.points[W[Z+ut]].properties,de=this.options.map(le);return te&&de===le?Object.assign({},de):de}}function Ot(se,W,Z){return{type:"Feature",id:se[W+ut],properties:nn(se,W,Z),geometry:{type:"Point",coordinates:[(te=se[W],360*(te-.5)),Zt(se[W+1])]}};var te}function nn(se,W,Z){const te=se[W+Dt],le=te>=1e4?`${Math.round(te/1e3)}k`:te>=1e3?Math.round(te/100)/10+"k":te,de=se[W+qt],Se=de===-1?{}:Object.assign({},Z[de]);return Object.assign(Se,{cluster:!0,cluster_id:se[W+ut],point_count:te,point_count_abbreviated:le})}function Vt(se){return se/360+.5}function mt(se){const W=Math.sin(se*Math.PI/180),Z=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return Z<0?0:Z>1?1:Z}function Zt(se){const W=(180-360*se)*Math.PI/180;return 360*Math.atan(Math.exp(W))/Math.PI-90}function Gt(se,W,Z,te){for(var le,de=te,Se=Z-W>>1,ve=Z-W,me=se[W],be=se[W+1],Fe=se[Z],$e=se[Z+1],Ge=W+3;Ge<Z;Ge+=3){var Et=Ut(se[Ge],se[Ge+1],me,be,Fe,$e);if(Et>de)le=Ge,de=Et;else if(Et===de){var Nt=Math.abs(Ge-Se);Nt<ve&&(le=Ge,ve=Nt)}}de>te&&(le-W>3&&Gt(se,W,le,te),se[le+2]=de,Z-le>3&&Gt(se,le,Z,te))}function Ut(se,W,Z,te,le,de){var Se=le-Z,ve=de-te;if(Se!==0||ve!==0){var me=((se-Z)*Se+(W-te)*ve)/(Se*Se+ve*ve);me>1?(Z=le,te=de):me>0&&(Z+=Se*me,te+=ve*me)}return(Se=se-Z)*Se+(ve=W-te)*ve}function At(se,W,Z,te){var le={id:se===void 0?null:se,type:W,geometry:Z,tags:te,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(de){var Se=de.geometry,ve=de.type;if(ve==="Point"||ve==="MultiPoint"||ve==="LineString")en(de,Se);else if(ve==="Polygon"||ve==="MultiLineString")for(var me=0;me<Se.length;me++)en(de,Se[me]);else if(ve==="MultiPolygon")for(me=0;me<Se.length;me++)for(var be=0;be<Se[me].length;be++)en(de,Se[me][be])}(le),le}function en(se,W){for(var Z=0;Z<W.length;Z+=3)se.minX=Math.min(se.minX,W[Z]),se.minY=Math.min(se.minY,W[Z+1]),se.maxX=Math.max(se.maxX,W[Z]),se.maxY=Math.max(se.maxY,W[Z+1])}function sr(se,W,Z,te){if(W.geometry){var le=W.geometry.coordinates,de=W.geometry.type,Se=Math.pow(Z.tolerance/((1<<Z.maxZoom)*Z.extent),2),ve=[],me=W.id;if(Z.promoteId?me=W.properties[Z.promoteId]:Z.generateId&&(me=te||0),de==="Point")Fn(le,ve);else if(de==="MultiPoint")for(var be=0;be<le.length;be++)Fn(le[be],ve);else if(de==="LineString")En(le,ve,Se,!1);else if(de==="MultiLineString"){if(Z.lineMetrics){for(be=0;be<le.length;be++)En(le[be],ve=[],Se,!1),se.push(At(me,"LineString",ve,W.properties));return}Mn(le,ve,Se,!1)}else if(de==="Polygon")Mn(le,ve,Se,!0);else{if(de!=="MultiPolygon"){if(de==="GeometryCollection"){for(be=0;be<W.geometry.geometries.length;be++)sr(se,{id:me,geometry:W.geometry.geometries[be],properties:W.properties},Z,te);return}throw new Error("Input data is not a valid GeoJSON object.")}for(be=0;be<le.length;be++){var Fe=[];Mn(le[be],Fe,Se,!0),ve.push(Fe)}}se.push(At(me,de,ve,W.properties))}}function Fn(se,W){W.push(Me(se[0])),W.push(on(se[1])),W.push(0)}function En(se,W,Z,te){for(var le,de,Se=0,ve=0;ve<se.length;ve++){var me=Me(se[ve][0]),be=on(se[ve][1]);W.push(me),W.push(be),W.push(0),ve>0&&(Se+=te?(le*be-me*de)/2:Math.sqrt(Math.pow(me-le,2)+Math.pow(be-de,2))),le=me,de=be}var Fe=W.length-3;W[2]=1,Gt(W,0,Fe,Z),W[Fe+2]=1,W.size=Math.abs(Se),W.start=0,W.end=W.size}function Mn(se,W,Z,te){for(var le=0;le<se.length;le++){var de=[];En(se[le],de,Z,te),W.push(de)}}function Me(se){return se/360+.5}function on(se){var W=Math.sin(se*Math.PI/180),Z=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return Z<0?0:Z>1?1:Z}function gt(se,W,Z,te,le,de,Se,ve){if(te/=W,de>=(Z/=W)&&Se<te)return se;if(Se<Z||de>=te)return null;for(var me=[],be=0;be<se.length;be++){var Fe=se[be],$e=Fe.geometry,Ge=Fe.type,Et=le===0?Fe.minX:Fe.minY,Nt=le===0?Fe.maxX:Fe.maxY;if(Et>=Z&&Nt<te)me.push(Fe);else if(!(Nt<Z||Et>=te)){var yt=[];if(Ge==="Point"||Ge==="MultiPoint")un($e,yt,Z,te,le);else if(Ge==="LineString")Lt($e,yt,Z,te,le,!1,ve.lineMetrics);else if(Ge==="MultiLineString")di($e,yt,Z,te,le,!1);else if(Ge==="Polygon")di($e,yt,Z,te,le,!0);else if(Ge==="MultiPolygon")for(var kt=0;kt<$e.length;kt++){var jt=[];di($e[kt],jt,Z,te,le,!0),jt.length&&yt.push(jt)}if(yt.length){if(ve.lineMetrics&&Ge==="LineString"){for(kt=0;kt<yt.length;kt++)me.push(At(Fe.id,Ge,yt[kt],Fe.tags));continue}Ge!=="LineString"&&Ge!=="MultiLineString"||(yt.length===1?(Ge="LineString",yt=yt[0]):Ge="MultiLineString"),Ge!=="Point"&&Ge!=="MultiPoint"||(Ge=yt.length===3?"Point":"MultiPoint"),me.push(At(Fe.id,Ge,yt,Fe.tags))}}}return me.length?me:null}function un(se,W,Z,te,le){for(var de=0;de<se.length;de+=3){var Se=se[de+le];Se>=Z&&Se<=te&&(W.push(se[de]),W.push(se[de+1]),W.push(se[de+2]))}}function Lt(se,W,Z,te,le,de,Se){for(var ve,me,be=Cr(se),Fe=le===0?Ai:ni,$e=se.start,Ge=0;Ge<se.length-3;Ge+=3){var Et=se[Ge],Nt=se[Ge+1],yt=se[Ge+2],kt=se[Ge+3],jt=se[Ge+4],Tn=le===0?Et:Nt,Dn=le===0?kt:jt,gn=!1;Se&&(ve=Math.sqrt(Math.pow(Et-kt,2)+Math.pow(Nt-jt,2))),Tn<Z?Dn>Z&&(me=Fe(be,Et,Nt,kt,jt,Z),Se&&(be.start=$e+ve*me)):Tn>te?Dn<te&&(me=Fe(be,Et,Nt,kt,jt,te),Se&&(be.start=$e+ve*me)):Ur(be,Et,Nt,yt),Dn<Z&&Tn>=Z&&(me=Fe(be,Et,Nt,kt,jt,Z),gn=!0),Dn>te&&Tn<=te&&(me=Fe(be,Et,Nt,kt,jt,te),gn=!0),!de&&gn&&(Se&&(be.end=$e+ve*me),W.push(be),be=Cr(se)),Se&&($e+=ve)}var mn=se.length-3;Et=se[mn],Nt=se[mn+1],yt=se[mn+2],(Tn=le===0?Et:Nt)>=Z&&Tn<=te&&Ur(be,Et,Nt,yt),mn=be.length-3,de&&mn>=3&&(be[mn]!==be[0]||be[mn+1]!==be[1])&&Ur(be,be[0],be[1],be[2]),be.length&&W.push(be)}function Cr(se){var W=[];return W.size=se.size,W.start=se.start,W.end=se.end,W}function di(se,W,Z,te,le,de){for(var Se=0;Se<se.length;Se++)Lt(se[Se],W,Z,te,le,de,!1)}function Ur(se,W,Z,te){se.push(W),se.push(Z),se.push(te)}function Ai(se,W,Z,te,le,de){var Se=(de-W)/(te-W);return se.push(de),se.push(Z+(le-Z)*Se),se.push(1),Se}function ni(se,W,Z,te,le,de){var Se=(de-Z)/(le-Z);return se.push(W+(te-W)*Se),se.push(de),se.push(1),Se}function Pn(se,W){for(var Z=[],te=0;te<se.length;te++){var le,de=se[te],Se=de.type;if(Se==="Point"||Se==="MultiPoint"||Se==="LineString")le=zt(de.geometry,W);else if(Se==="MultiLineString"||Se==="Polygon"){le=[];for(var ve=0;ve<de.geometry.length;ve++)le.push(zt(de.geometry[ve],W))}else if(Se==="MultiPolygon")for(le=[],ve=0;ve<de.geometry.length;ve++){for(var me=[],be=0;be<de.geometry[ve].length;be++)me.push(zt(de.geometry[ve][be],W));le.push(me)}Z.push(At(de.id,Se,le,de.tags))}return Z}function zt(se,W){var Z=[];Z.size=se.size,se.start!==void 0&&(Z.start=se.start,Z.end=se.end);for(var te=0;te<se.length;te+=3)Z.push(se[te]+W,se[te+1],se[te+2]);return Z}function Ke(se,W){if(se.transformed)return se;var Z,te,le,de=1<<se.z,Se=se.x,ve=se.y;for(Z=0;Z<se.features.length;Z++){var me=se.features[Z],be=me.geometry,Fe=me.type;if(me.geometry=[],Fe===1)for(te=0;te<be.length;te+=2)me.geometry.push(Nn(be[te],be[te+1],W,de,Se,ve));else for(te=0;te<be.length;te++){var $e=[];for(le=0;le<be[te].length;le+=2)$e.push(Nn(be[te][le],be[te][le+1],W,de,Se,ve));me.geometry.push($e)}}return se.transformed=!0,se}function Nn(se,W,Z,te,le,de){return[Math.round(Z*(se*te-le)),Math.round(Z*(W*te-de))]}function dn(se,W,Z,te,le){for(var de=W===le.maxZoom?0:le.tolerance/((1<<W)*le.extent),Se={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Z,y:te,z:W,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ve=0;ve<se.length;ve++){Se.numFeatures++,It(Se,se[ve],de,le);var me=se[ve].minX,be=se[ve].minY,Fe=se[ve].maxX,$e=se[ve].maxY;me<Se.minX&&(Se.minX=me),be<Se.minY&&(Se.minY=be),Fe>Se.maxX&&(Se.maxX=Fe),$e>Se.maxY&&(Se.maxY=$e)}return Se}function It(se,W,Z,te){var le=W.geometry,de=W.type,Se=[];if(de==="Point"||de==="MultiPoint")for(var ve=0;ve<le.length;ve+=3)Se.push(le[ve]),Se.push(le[ve+1]),se.numPoints++,se.numSimplified++;else if(de==="LineString")vn(Se,le,se,Z,!1,!1);else if(de==="MultiLineString"||de==="Polygon")for(ve=0;ve<le.length;ve++)vn(Se,le[ve],se,Z,de==="Polygon",ve===0);else if(de==="MultiPolygon")for(var me=0;me<le.length;me++){var be=le[me];for(ve=0;ve<be.length;ve++)vn(Se,be[ve],se,Z,!0,ve===0)}if(Se.length){var Fe=W.tags||null;if(de==="LineString"&&te.lineMetrics){for(var $e in Fe={},W.tags)Fe[$e]=W.tags[$e];Fe.mapbox_clip_start=le.start/le.size,Fe.mapbox_clip_end=le.end/le.size}var Ge={geometry:Se,type:de==="Polygon"||de==="MultiPolygon"?3:de==="LineString"||de==="MultiLineString"?2:1,tags:Fe};W.id!==null&&(Ge.id=W.id),se.features.push(Ge)}}function vn(se,W,Z,te,le,de){var Se=te*te;if(te>0&&W.size<(le?Se:te))Z.numPoints+=W.length/3;else{for(var ve=[],me=0;me<W.length;me+=3)(te===0||W[me+2]>Se)&&(Z.numSimplified++,ve.push(W[me]),ve.push(W[me+1])),Z.numPoints++;le&&function(be,Fe){for(var $e=0,Ge=0,Et=be.length,Nt=Et-2;Ge<Et;Nt=Ge,Ge+=2)$e+=(be[Ge]-be[Nt])*(be[Ge+1]+be[Nt+1]);if($e>0===Fe)for(Ge=0,Et=be.length;Ge<Et/2;Ge+=2){var yt=be[Ge],kt=be[Ge+1];be[Ge]=be[Et-2-Ge],be[Ge+1]=be[Et-1-Ge],be[Et-2-Ge]=yt,be[Et-1-Ge]=kt}}(ve,de),se.push(ve)}}function Ze(se,W){var Z=(W=this.options=function(le,de){for(var Se in de)le[Se]=de[Se];return le}(Object.create(this.options),W)).debug;if(Z&&console.time("preprocess data"),W.maxZoom<0||W.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(W.promoteId&&W.generateId)throw new Error("promoteId and generateId cannot be used together.");var te=function(le,de){var Se=[];if(le.type==="FeatureCollection")for(var ve=0;ve<le.features.length;ve++)sr(Se,le.features[ve],de,ve);else sr(Se,le.type==="Feature"?le:{geometry:le},de);return Se}(se,W);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",W.indexMaxZoom,W.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),te=function(le,de){var Se=de.buffer/de.extent,ve=le,me=gt(le,1,-1-Se,Se,0,-1,2,de),be=gt(le,1,1-Se,2+Se,0,-1,2,de);return(me||be)&&(ve=gt(le,1,-Se,1+Se,0,-1,2,de)||[],me&&(ve=Pn(me,1).concat(ve)),be&&(ve=ve.concat(Pn(be,-1)))),ve}(te,W),te.length&&this.splitTile(te,0,0,0),Z&&(te.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $t(se,W,Z){return 32*((1<<se)*Z+W)+se}function Ft(se,W){return W?se.properties[W]:se.id}function pi(se,W){if(se==null)return!0;if(se.type==="Feature")return Ft(se,W)!=null;if(se.type==="FeatureCollection"){const Z=new Set;for(const te of se.features){const le=Ft(te,W);if(le==null||Z.has(le))return!1;Z.add(le)}return!0}return!1}function Go(se,W){const Z=new Map;if(se!=null)if(se.type==="Feature")Z.set(Ft(se,W),se);else for(const te of se.features)Z.set(Ft(te,W),te);return Z}Ze.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ze.prototype.splitTile=function(se,W,Z,te,le,de,Se){for(var ve=[se,W,Z,te],me=this.options,be=me.debug;ve.length;){te=ve.pop(),Z=ve.pop(),W=ve.pop(),se=ve.pop();var Fe=1<<W,$e=$t(W,Z,te),Ge=this.tiles[$e];if(!Ge&&(be>1&&console.time("creation"),Ge=this.tiles[$e]=dn(se,W,Z,te,me),this.tileCoords.push({z:W,x:Z,y:te}),be)){be>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",W,Z,te,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var Et="z"+W;this.stats[Et]=(this.stats[Et]||0)+1,this.total++}if(Ge.source=se,le){if(W===me.maxZoom||W===le)continue;var Nt=1<<le-W;if(Z!==Math.floor(de/Nt)||te!==Math.floor(Se/Nt))continue}else if(W===me.indexMaxZoom||Ge.numPoints<=me.indexMaxPoints)continue;if(Ge.source=null,se.length!==0){be>1&&console.time("clipping");var yt,kt,jt,Tn,Dn,gn,mn=.5*me.buffer/me.extent,ri=.5-mn,$n=.5+mn,Tr=1+mn;yt=kt=jt=Tn=null,Dn=gt(se,Fe,Z-mn,Z+$n,0,Ge.minX,Ge.maxX,me),gn=gt(se,Fe,Z+ri,Z+Tr,0,Ge.minX,Ge.maxX,me),se=null,Dn&&(yt=gt(Dn,Fe,te-mn,te+$n,1,Ge.minY,Ge.maxY,me),kt=gt(Dn,Fe,te+ri,te+Tr,1,Ge.minY,Ge.maxY,me),Dn=null),gn&&(jt=gt(gn,Fe,te-mn,te+$n,1,Ge.minY,Ge.maxY,me),Tn=gt(gn,Fe,te+ri,te+Tr,1,Ge.minY,Ge.maxY,me),gn=null),be>1&&console.timeEnd("clipping"),ve.push(yt||[],W+1,2*Z,2*te),ve.push(kt||[],W+1,2*Z,2*te+1),ve.push(jt||[],W+1,2*Z+1,2*te),ve.push(Tn||[],W+1,2*Z+1,2*te+1)}}},Ze.prototype.getTile=function(se,W,Z){var te=this.options,le=te.extent,de=te.debug;if(se<0||se>24)return null;var Se=1<<se,ve=$t(se,W=(W%Se+Se)%Se,Z);if(this.tiles[ve])return Ke(this.tiles[ve],le);de>1&&console.log("drilling down to z%d-%d-%d",se,W,Z);for(var me,be=se,Fe=W,$e=Z;!me&&be>0;)be--,Fe=Math.floor(Fe/2),$e=Math.floor($e/2),me=this.tiles[$t(be,Fe,$e)];return me&&me.source?(de>1&&console.log("found parent tile z%d-%d-%d",be,Fe,$e),de>1&&console.time("drilling down"),this.splitTile(me.source,be,Fe,$e,se,W,Z),de>1&&console.timeEnd("drilling down"),this.tiles[ve]?Ke(this.tiles[ve],le):null):null};class Kt extends D{constructor(W,Z,te,le){super(W,Z,te),this._dataUpdateable=new Map,this.loadGeoJSON=(de,Se)=>{const{promoteId:ve}=de;if(de.request)return a.f(de.request,(me,be,Fe,$e)=>{this._dataUpdateable=pi(be,ve)?Go(be,ve):void 0,Se(me,be,Fe,$e)});if(typeof de.data=="string")try{const me=JSON.parse(de.data);this._dataUpdateable=pi(me,ve)?Go(me,ve):void 0,Se(null,me)}catch{Se(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}else de.dataDiff?this._dataUpdateable?(function(me,be,Fe){var $e,Ge,Et,Nt;if(be.removeAll&&me.clear(),be.remove)for(const yt of be.remove)me.delete(yt);if(be.add)for(const yt of be.add){const kt=Ft(yt,Fe);kt!=null&&me.set(kt,yt)}if(be.update)for(const yt of be.update){let kt=me.get(yt.id);if(kt==null)continue;const jt=!yt.removeAllProperties&&((($e=yt.removeProperties)===null||$e===void 0?void 0:$e.length)>0||((Ge=yt.addOrUpdateProperties)===null||Ge===void 0?void 0:Ge.length)>0);if((yt.newGeometry||yt.removeAllProperties||jt)&&(kt=Object.assign({},kt),me.set(yt.id,kt),jt&&(kt.properties=Object.assign({},kt.properties))),yt.newGeometry&&(kt.geometry=yt.newGeometry),yt.removeAllProperties)kt.properties={};else if(((Et=yt.removeProperties)===null||Et===void 0?void 0:Et.length)>0)for(const Tn of yt.removeProperties)Object.prototype.hasOwnProperty.call(kt.properties,Tn)&&delete kt.properties[Tn];if(((Nt=yt.addOrUpdateProperties)===null||Nt===void 0?void 0:Nt.length)>0)for(const{key:Tn,value:Dn}of yt.addOrUpdateProperties)kt.properties[Tn]=Dn}}(this._dataUpdateable,de.dataDiff,ve),Se(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Se(new Error(`Cannot update existing geojson data in ${de.source}`)):Se(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,le&&(this.loadGeoJSON=le)}loadGeoJSONTile(W,Z){const te=W.tileID.canonical;if(!this._geoJSONIndex)return Z(null,null);const le=this._geoJSONIndex.getTile(te.z,te.x,te.y);if(!le)return Z(null,null);const de=new class{constructor(ve){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.N,this.length=ve.length,this._features=ve}feature(ve){return new class{constructor(me){this._feature=me,this.extent=a.N,this.type=me.type,this.properties=me.tags,"id"in me&&!isNaN(me.id)&&(this.id=parseInt(me.id,10))}loadGeometry(){if(this._feature.type===1){const me=[];for(const be of this._feature.geometry)me.push([new a.P(be[0],be[1])]);return me}{const me=[];for(const be of this._feature.geometry){const Fe=[];for(const $e of be)Fe.push(new a.P($e[0],$e[1]));me.push(Fe)}return me}}toGeoJSON(me,be,Fe){return V.call(this,me,be,Fe)}}(this._features[ve])}}(le.features);let Se=Ae(de);Se.byteOffset===0&&Se.byteLength===Se.buffer.byteLength||(Se=new Uint8Array(Se)),Z(null,{vectorTile:de,rawData:Se.buffer})}loadData(W,Z){var te;(te=this._pendingRequest)===null||te===void 0||te.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const le=!!(W&&W.request&&W.request.collectResourceTiming)&&new a.bu(W.request);this._pendingCallback=Z,this._pendingRequest=this.loadGeoJSON(W,(de,Se)=>{if(delete this._pendingCallback,delete this._pendingRequest,de||!Se)return Z(de);if(typeof Se!="object")return Z(new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`));{L(Se,!0);try{if(W.filter){const me=a.bC(W.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(me.result==="error")throw new Error(me.value.map(Fe=>`${Fe.key}: ${Fe.message}`).join(", "));Se={type:"FeatureCollection",features:Se.features.filter(Fe=>me.value.evaluate({zoom:0},Fe))}}this._geoJSONIndex=W.cluster?new xt(function({superclusterOptions:me,clusterProperties:be}){if(!be||!me)return me;const Fe={},$e={},Ge={accumulated:null,zoom:0},Et={properties:null},Nt=Object.keys(be);for(const yt of Nt){const[kt,jt]=be[yt],Tn=a.bC(jt),Dn=a.bC(typeof kt=="string"?[kt,["accumulated"],["get",yt]]:kt);Fe[yt]=Tn.value,$e[yt]=Dn.value}return me.map=yt=>{Et.properties=yt;const kt={};for(const jt of Nt)kt[jt]=Fe[jt].evaluate(Ge,Et);return kt},me.reduce=(yt,kt)=>{Et.properties=kt;for(const jt of Nt)Ge.accumulated=yt[jt],yt[jt]=$e[jt].evaluate(Ge,Et)},me}(W)).load(Se.features):function(me,be){return new Ze(me,be)}(Se,W.geojsonVtOptions)}catch(me){return Z(me)}this.loaded={};const ve={};if(le){const me=le.finish();me&&(ve.resourceTiming={},ve.resourceTiming[W.source]=JSON.parse(JSON.stringify(me)))}Z(null,ve)}})}reloadTile(W,Z){const te=this.loaded;return te&&te[W.uid]?super.reloadTile(W,Z):this.loadTile(W,Z)}removeSource(W,Z){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Z()}getClusterExpansionZoom(W,Z){try{Z(null,this._geoJSONIndex.getClusterExpansionZoom(W.clusterId))}catch(te){Z(te)}}getClusterChildren(W,Z){try{Z(null,this._geoJSONIndex.getChildren(W.clusterId))}catch(te){Z(te)}}getClusterLeaves(W,Z){try{Z(null,this._geoJSONIndex.getLeaves(W.clusterId,W.limit,W.offset))}catch(te){Z(te)}}}class _s{constructor(W){this.self=W,this.actor=new a.C(W,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:D,geojson:Kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Z,te)=>{if(this.workerSourceTypes[Z])throw new Error(`Worker source with name "${Z}" already registered.`);this.workerSourceTypes[Z]=te},this.self.registerRTLTextPlugin=Z=>{if(a.bD.isParsed())throw new Error("RTL text plugin already registered.");a.bD.applyArabicShaping=Z.applyArabicShaping,a.bD.processBidirectionalText=Z.processBidirectionalText,a.bD.processStyledBidirectionalText=Z.processStyledBidirectionalText}}setReferrer(W,Z){this.referrer=Z}setImages(W,Z,te){this.availableImages[W]=Z;for(const le in this.workerSources[W]){const de=this.workerSources[W][le];for(const Se in de)de[Se].availableImages=Z}te()}setLayers(W,Z,te){this.getLayerIndex(W).replace(Z),te()}updateLayers(W,Z,te){this.getLayerIndex(W).update(Z.layers,Z.removedIds),te()}loadTile(W,Z,te){this.getWorkerSource(W,Z.type,Z.source).loadTile(Z,te)}loadDEMTile(W,Z,te){this.getDEMWorkerSource(W,Z.source).loadTile(Z,te)}reloadTile(W,Z,te){this.getWorkerSource(W,Z.type,Z.source).reloadTile(Z,te)}abortTile(W,Z,te){this.getWorkerSource(W,Z.type,Z.source).abortTile(Z,te)}removeTile(W,Z,te){this.getWorkerSource(W,Z.type,Z.source).removeTile(Z,te)}removeDEMTile(W,Z){this.getDEMWorkerSource(W,Z.source).removeTile(Z)}removeSource(W,Z,te){if(!this.workerSources[W]||!this.workerSources[W][Z.type]||!this.workerSources[W][Z.type][Z.source])return;const le=this.workerSources[W][Z.type][Z.source];delete this.workerSources[W][Z.type][Z.source],le.removeSource!==void 0?le.removeSource(Z,te):te()}loadWorkerSource(W,Z,te){try{this.self.importScripts(Z.url),te()}catch(le){te(le.toString())}}syncRTLPluginState(W,Z,te){try{a.bD.setState(Z);const le=a.bD.getPluginURL();if(a.bD.isLoaded()&&!a.bD.isParsed()&&le!=null){this.self.importScripts(le);const de=a.bD.isParsed();te(de?void 0:new Error(`RTL Text Plugin failed to import scripts from ${le}`),de)}}catch(le){te(le.toString())}}getAvailableImages(W){let Z=this.availableImages[W];return Z||(Z=[]),Z}getLayerIndex(W){let Z=this.layerIndexes[W];return Z||(Z=this.layerIndexes[W]=new b),Z}getWorkerSource(W,Z,te){return this.workerSources[W]||(this.workerSources[W]={}),this.workerSources[W][Z]||(this.workerSources[W][Z]={}),this.workerSources[W][Z][te]||(this.workerSources[W][Z][te]=new this.workerSourceTypes[Z]({send:(le,de,Se)=>{this.actor.send(le,de,Se,W)}},this.getLayerIndex(W),this.getAvailableImages(W))),this.workerSources[W][Z][te]}getDEMWorkerSource(W,Z){return this.demWorkerSources[W]||(this.demWorkerSources[W]={}),this.demWorkerSources[W][Z]||(this.demWorkerSources[W][Z]=new O),this.demWorkerSources[W][Z]}}return a.i()&&(self.worker=new _s(self)),_s}),h(["./shared"],function(a){var b="3.6.2";class w{static testProp(o){if(!w.docStyle)return o[0];for(let u=0;u<o.length;u++)if(o[u]in w.docStyle)return o[u];return o[0]}static create(o,u,f){const g=window.document.createElement(o);return u!==void 0&&(g.className=u),f&&f.appendChild(g),g}static createNS(o,u){return window.document.createElementNS(o,u)}static disableDrag(){w.docStyle&&w.selectProp&&(w.userSelect=w.docStyle[w.selectProp],w.docStyle[w.selectProp]="none")}static enableDrag(){w.docStyle&&w.selectProp&&(w.docStyle[w.selectProp]=w.userSelect)}static setTransform(o,u){o.style[w.transformProp]=u}static addEventListener(o,u,f,g={}){o.addEventListener(u,f,"passive"in g?g:g.capture)}static removeEventListener(o,u,f,g={}){o.removeEventListener(u,f,"passive"in g?g:g.capture)}static suppressClickInternal(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("click",w.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",w.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",w.suppressClickInternal,!0)},0)}static mousePos(o,u){const f=o.getBoundingClientRect();return new a.P(u.clientX-f.left-o.clientLeft,u.clientY-f.top-o.clientTop)}static touchPos(o,u){const f=o.getBoundingClientRect(),g=[];for(let _=0;_<u.length;_++)g.push(new a.P(u[_].clientX-f.left-o.clientLeft,u[_].clientY-f.top-o.clientTop));return g}static mouseButton(o){return o.button}static remove(o){o.parentNode&&o.parentNode.removeChild(o)}}w.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,w.selectProp=w.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),w.transformProp=w.testProp(["transform","WebkitTransform"]);const T={supported:!1,testSupport:function(y){!D&&I&&(O?j(y):P=y)}};let P,I,D=!1,O=!1;function j(y){const o=y.createTexture();y.bindTexture(y.TEXTURE_2D,o);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,I),y.isContextLost())return;T.supported=!0}catch{}y.deleteTexture(o),D=!0}var q,L;typeof document<"u"&&(I=document.createElement("img"),I.onload=function(){P&&j(P),P=null,O=!0},I.onerror=function(){D=!0,P=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let o,u,f,g;y.resetRequestQueue=()=>{o=[],u=0,f=0,g={}},y.addThrottleControl=R=>{const B=f++;return g[B]=R,B},y.removeThrottleControl=R=>{delete g[R],E()},y.getImage=(R,B,F=!0)=>{T.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*");const X={requestParameters:R,supportImageRefresh:F,callback:B,cancelled:!1,completed:!1,cancel:()=>{X.completed||X.cancelled||(X.cancelled=!0,X.innerRequest&&(X.innerRequest.cancel(),u--),E())}};return o.push(X),E(),X};const _=R=>{const{requestParameters:B,supportImageRefresh:F,callback:X}=R;return a.e(B,{type:"image"}),(F!==!1||a.i()||a.g(B.url)||B.headers&&!Object.keys(B.headers).reduce((oe,ie)=>oe&&ie==="accept",!0)?a.m:A)(B,(oe,ie,ae,ne)=>{C(R,X,oe,ie,ae,ne)})},C=(R,B,F,X,oe,ie)=>{F?B(F):X instanceof HTMLImageElement||a.a(X)?B(null,X):X&&((ae,ne)=>{typeof createImageBitmap=="function"?a.b(ae,ne):a.d(ae,ne)})(X,(ae,ne)=>{ae!=null?B(ae):ne!=null&&B(null,ne,{cacheControl:oe,expires:ie})}),R.cancelled||(R.completed=!0,u--,E())},E=()=>{const R=(()=>{const B=Object.keys(g);let F=!1;if(B.length>0){for(const X of B)if(F=g[X](),F)break}return F})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let B=u;B<R&&o.length>0;B++){const F=o.shift();if(F.cancelled){B--;continue}const X=_(F);u++,F.innerRequest=X}},A=(R,B)=>{const F=new Image,X=R.url;let oe=!1;const ie=R.credentials;return ie&&ie==="include"?F.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!a.s(X))&&(F.crossOrigin="anonymous"),F.fetchPriority="high",F.onload=()=>{B(null,F),F.onerror=F.onload=null},F.onerror=()=>{oe||B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),F.onerror=F.onload=null},F.src=X,{cancel:()=>{oe=!0,F.src=""}}}}(q||(q={})),q.resetRequestQueue(),function(y){y.Glyphs="Glyphs",y.Image="Image",y.Source="Source",y.SpriteImage="SpriteImage",y.SpriteJSON="SpriteJSON",y.Style="Style",y.Tile="Tile",y.Unknown="Unknown"}(L||(L={}));class V{constructor(o){this._transformRequestFn=o}transformRequest(o,u){return this._transformRequestFn&&this._transformRequestFn(o,u)||{url:o}}normalizeSpriteURL(o,u,f){const g=function(_){const C=_.match(N);if(!C)throw new Error(`Unable to parse URL "${_}"`);return{protocol:C[1],authority:C[2],path:C[3]||"/",params:C[4]?C[4].split("&"):[]}}(o);return g.path+=`${u}${f}`,function(_){const C=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${C}`}(g)}setTransformRequest(o){this._transformRequestFn=o}}const N=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(y){var o=new a.A(3);return o[0]=y[0],o[1]=y[1],o[2]=y[2],o}var ee,ue=function(y,o,u){return y[0]=o[0]-u[0],y[1]=o[1]-u[1],y[2]=o[2]-u[2],y};ee=new a.A(3),a.A!=Float32Array&&(ee[0]=0,ee[1]=0,ee[2]=0);var ge=function(y){var o=y[0],u=y[1];return o*o+u*u};function he(y){const o=[];if(typeof y=="string")o.push({id:"default",url:y});else if(y&&y.length>0){const u=[];for(const{id:f,url:g}of y){const _=`${f}${g}`;u.indexOf(_)===-1&&(u.push(_),o.push({id:f,url:g}))}}return o}function Pe(y,o,u,f,g){if(f)return void y(f);if(g!==Object.values(o).length||g!==Object.values(u).length)return;const _={};for(const C in o){_[C]={};const E=a.h.getImageCanvasContext(u[C]),A=o[C];for(const R in A){const{width:B,height:F,x:X,y:oe,sdf:ie,pixelRatio:ae,stretchX:ne,stretchY:_e,content:Ee}=A[R];_[C][R]={data:null,pixelRatio:ae,sdf:ie,stretchX:ne,stretchY:_e,content:Ee,spriteData:{width:B,height:F,x:X,y:oe,context:E}}}}y(null,_)}(function(){var y=new a.A(2);a.A!=Float32Array&&(y[0]=0,y[1]=0)})();class G{constructor(o,u,f,g){this.context=o,this.format=f,this.texture=o.gl.createTexture(),this.update(u,g)}update(o,u,f){const{width:g,height:_}=o,C=!(this.size&&this.size[0]===g&&this.size[1]===_||f),{context:E}=this,{gl:A}=E;if(this.useMipmap=!!(u&&u.useMipmap),A.bindTexture(A.TEXTURE_2D,this.texture),E.pixelStoreUnpackFlipY.set(!1),E.pixelStoreUnpack.set(1),E.pixelStoreUnpackPremultiplyAlpha.set(this.format===A.RGBA&&(!u||u.premultiply!==!1)),C)this.size=[g,_],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||a.a(o)?A.texImage2D(A.TEXTURE_2D,0,this.format,this.format,A.UNSIGNED_BYTE,o):A.texImage2D(A.TEXTURE_2D,0,this.format,g,_,0,this.format,A.UNSIGNED_BYTE,o.data);else{const{x:R,y:B}=f||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||a.a(o)?A.texSubImage2D(A.TEXTURE_2D,0,R,B,A.RGBA,A.UNSIGNED_BYTE,o):A.texSubImage2D(A.TEXTURE_2D,0,R,B,g,_,A.RGBA,A.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&A.generateMipmap(A.TEXTURE_2D)}bind(o,u,f){const{context:g}=this,{gl:_}=g;_.bindTexture(_.TEXTURE_2D,this.texture),f!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(f=_.LINEAR),o!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,o),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,f||o),this.filter=o),u!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,u),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}function Te(y){const{userImage:o}=y;return!!(o&&o.render&&o.render())&&(y.data.replace(new Uint8Array(o.data.buffer)),!0)}class Le extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:u,callback:f}of this.requestors)this._notify(u,f);this.requestors=[]}}getImage(o){const u=this.images[o];if(u&&!u.data&&u.spriteData){const f=u.spriteData;u.data=new a.R({width:f.width,height:f.height},f.context.getImageData(f.x,f.y,f.width,f.height).data),u.spriteData=null}return u}addImage(o,u){if(this.images[o])throw new Error(`Image id ${o} already exist, use updateImage instead`);this._validate(o,u)&&(this.images[o]=u)}_validate(o,u){let f=!0;const g=u.data||u.spriteData;return this._validateStretch(u.stretchX,g&&g.width)||(this.fire(new a.j(new Error(`Image "${o}" has invalid "stretchX" value`))),f=!1),this._validateStretch(u.stretchY,g&&g.height)||(this.fire(new a.j(new Error(`Image "${o}" has invalid "stretchY" value`))),f=!1),this._validateContent(u.content,u)||(this.fire(new a.j(new Error(`Image "${o}" has invalid "content" value`))),f=!1),f}_validateStretch(o,u){if(!o)return!0;let f=0;for(const g of o){if(g[0]<f||g[1]<g[0]||u<g[1])return!1;f=g[1]}return!0}_validateContent(o,u){if(!o)return!0;if(o.length!==4)return!1;const f=u.spriteData,g=f&&f.width||u.data.width,_=f&&f.height||u.data.height;return!(o[0]<0||g<o[0]||o[1]<0||_<o[1]||o[2]<0||g<o[2]||o[3]<0||_<o[3]||o[2]<o[0]||o[3]<o[1])}updateImage(o,u,f=!0){const g=this.getImage(o);if(f&&(g.data.width!==u.data.width||g.data.height!==u.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=g.version+1,this.images[o]=u,this.updatedImages[o]=!0}removeImage(o){const u=this.images[o];delete this.images[o],delete this.patterns[o],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o,u){let f=!0;if(!this.isLoaded())for(const g of o)this.images[g]||(f=!1);this.isLoaded()||f?this._notify(o,u):this.requestors.push({ids:o,callback:u})}_notify(o,u){const f={};for(const g of o){let _=this.getImage(g);_||(this.fire(new a.k("styleimagemissing",{id:g})),_=this.getImage(g)),_?f[g]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,hasRenderCallback:!!(_.userImage&&_.userImage.render)}:a.w(`Image "${g}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}u(null,f)}getPixelSize(){const{width:o,height:u}=this.atlasImage;return{width:o,height:u}}getPattern(o){const u=this.patterns[o],f=this.getImage(o);if(!f)return null;if(u&&u.position.version===f.version)return u.position;if(u)u.position.version=f.version;else{const g={w:f.data.width+2,h:f.data.height+2,x:0,y:0},_=new a.I(g,f);this.patterns[o]={bin:g,position:_}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const u=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new G(o,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const _ in this.patterns)o.push(this.patterns[_].bin);const{w:u,h:f}=a.p(o),g=this.atlasImage;g.resize({width:u||1,height:f||1});for(const _ in this.patterns){const{bin:C}=this.patterns[_],E=C.x+1,A=C.y+1,R=this.getImage(_).data,B=R.width,F=R.height;a.R.copy(R,g,{x:0,y:0},{x:E,y:A},{width:B,height:F}),a.R.copy(R,g,{x:0,y:F-1},{x:E,y:A-1},{width:B,height:1}),a.R.copy(R,g,{x:0,y:0},{x:E,y:A+F},{width:B,height:1}),a.R.copy(R,g,{x:B-1,y:0},{x:E-1,y:A},{width:1,height:F}),a.R.copy(R,g,{x:0,y:0},{x:E+B,y:A},{width:1,height:F})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const u of o){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const f=this.getImage(u);f||a.w(`Image with ID: "${u}" was not found`),Te(f)&&this.updateImage(u,f)}}}const Be=1e20;function Ne(y,o,u,f,g,_,C,E,A){for(let R=o;R<o+f;R++)ze(y,u*_+R,_,g,C,E,A);for(let R=u;R<u+g;R++)ze(y,R*_+o,1,f,C,E,A)}function ze(y,o,u,f,g,_,C){_[0]=0,C[0]=-Be,C[1]=Be,g[0]=y[o];for(let E=1,A=0,R=0;E<f;E++){g[E]=y[o+E*u];const B=E*E;do{const F=_[A];R=(g[E]-g[F]+B-F*F)/(E-F)/2}while(R<=C[A]&&--A>-1);A++,_[A]=E,C[A]=R,C[A+1]=Be}for(let E=0,A=0;E<f;E++){for(;C[A+1]<E;)A++;const R=_[A],B=E-R;y[o+E*u]=g[R]+B*B}}class Ve{constructor(o,u){this.requestManager=o,this.localIdeographFontFamily=u,this.entries={}}setURL(o){this.url=o}getGlyphs(o,u){const f=[];for(const g in o)for(const _ of o[g])f.push({stack:g,id:_});a.o(f,({stack:g,id:_},C)=>{let E=this.entries[g];E||(E=this.entries[g]={glyphs:{},requests:{},ranges:{}});let A=E.glyphs[_];if(A!==void 0)return void C(null,{stack:g,id:_,glyph:A});if(A=this._tinySDF(E,g,_),A)return E.glyphs[_]=A,void C(null,{stack:g,id:_,glyph:A});const R=Math.floor(_/256);if(256*R>65535)return void C(new Error("glyphs > 65535 not supported"));if(E.ranges[R])return void C(null,{stack:g,id:_,glyph:A});if(!this.url)return void C(new Error("glyphsUrl is not set"));let B=E.requests[R];B||(B=E.requests[R]=[],Ve.loadGlyphRange(g,R,this.url,this.requestManager,(F,X)=>{if(X){for(const oe in X)this._doesCharSupportLocalGlyph(+oe)||(E.glyphs[+oe]=X[+oe]);E.ranges[R]=!0}for(const oe of B)oe(F,X);delete E.requests[R]})),B.push((F,X)=>{F?C(F):X&&C(null,{stack:g,id:_,glyph:X[_]||null})})},(g,_)=>{if(g)u(g);else if(_){const C={};for(const{stack:E,id:A,glyph:R}of _)(C[E]||(C[E]={}))[A]=R&&{id:R.id,bitmap:R.bitmap.clone(),metrics:R.metrics};u(null,C)}})}_doesCharSupportLocalGlyph(o){return!!this.localIdeographFontFamily&&(a.u["CJK Unified Ideographs"](o)||a.u["Hangul Syllables"](o)||a.u.Hiragana(o)||a.u.Katakana(o))}_tinySDF(o,u,f){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(f))return;let _=o.tinySDF;if(!_){let E="400";/bold/i.test(u)?E="900":/medium/i.test(u)?E="500":/light/i.test(u)&&(E="200"),_=o.tinySDF=new Ve.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:E})}const C=_.draw(String.fromCharCode(f));return{id:f,bitmap:new a.q({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ve.loadGlyphRange=function(y,o,u,f,g){const _=256*o,C=_+255,E=f.transformRequest(u.replace("{fontstack}",y).replace("{range}",`${_}-${C}`),L.Glyphs);a.l(E,(A,R)=>{if(A)g(A);else if(R){const B={};for(const F of a.n(R))B[F.id]=F;g(null,B)}})},Ve.TinySDF=class{constructor({fontSize:y=24,buffer:o=3,radius:u=8,cutoff:f=.25,fontFamily:g="sans-serif",fontWeight:_="normal",fontStyle:C="normal"}={}){this.buffer=o,this.cutoff=f,this.radius=u;const E=this.size=y+4*o,A=this._createCanvas(E),R=this.ctx=A.getContext("2d",{willReadFrequently:!0});R.font=`${C} ${_} ${y}px ${g}`,R.textBaseline="alphabetic",R.textAlign="left",R.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(y){const o=document.createElement("canvas");return o.width=o.height=y,o}draw(y){const{width:o,actualBoundingBoxAscent:u,actualBoundingBoxDescent:f,actualBoundingBoxLeft:g,actualBoundingBoxRight:_}=this.ctx.measureText(y),C=Math.ceil(u),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-g))),A=Math.min(this.size-this.buffer,C+Math.ceil(f)),R=E+2*this.buffer,B=A+2*this.buffer,F=Math.max(R*B,0),X=new Uint8ClampedArray(F),oe={data:X,width:R,height:B,glyphWidth:E,glyphHeight:A,glyphTop:C,glyphLeft:0,glyphAdvance:o};if(E===0||A===0)return oe;const{ctx:ie,buffer:ae,gridInner:ne,gridOuter:_e}=this;ie.clearRect(ae,ae,E,A),ie.fillText(y,ae,ae+C);const Ee=ie.getImageData(ae,ae,E,A);_e.fill(Be,0,F),ne.fill(0,0,F);for(let pe=0;pe<A;pe++)for(let xe=0;xe<E;xe++){const Ie=Ee.data[4*(pe*E+xe)+3]/255;if(Ie===0)continue;const Re=(pe+ae)*R+xe+ae;if(Ie===1)_e[Re]=0,ne[Re]=Be;else{const je=.5-Ie;_e[Re]=je>0?je*je:0,ne[Re]=je<0?je*je:0}}Ne(_e,0,0,R,B,R,this.f,this.v,this.z),Ne(ne,ae,ae,E,A,R,this.f,this.v,this.z);for(let pe=0;pe<F;pe++){const xe=Math.sqrt(_e[pe])-Math.sqrt(ne[pe]);X[pe]=Math.round(255-255*(xe/this.radius+this.cutoff))}return oe}};class qe{constructor(){this.specification=a.v.light.position}possiblyEvaluate(o,u){return a.z(o.expression.evaluate(u))}interpolate(o,u,f){return{x:a.B.number(o.x,u.x,f),y:a.B.number(o.y,u.y,f),z:a.B.number(o.z,u.z,f)}}}let De;class Ae extends a.E{constructor(o){super(),De=De||new a.r({anchor:new a.D(a.v.light.anchor),position:new qe,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.T(De),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,u={}){if(!this._validate(a.t,o,u))for(const f in o){const g=o[f];f.endsWith("-transition")?this._transitionable.setTransition(f.slice(0,-11),g):this._transitionable.setValue(f,g)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,u,f){return(!f||f.validate!==!1)&&a.x(this,o.call(a.y,a.e({value:u,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}}class tt{constructor(o,u){this.width=o,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(o,u){const f=o.join(",")+String(u);return this.dashEntry[f]||(this.dashEntry[f]=this.addDash(o,u)),this.dashEntry[f]}getDashRanges(o,u,f){const g=[];let _=o.length%2==1?-o[o.length-1]*f:0,C=o[0]*f,E=!0;g.push({left:_,right:C,isDash:E,zeroLength:o[0]===0});let A=o[0];for(let R=1;R<o.length;R++){E=!E;const B=o[R];_=A*f,A+=B,C=A*f,g.push({left:_,right:C,isDash:E,zeroLength:B===0})}return g}addRoundDash(o,u,f){const g=u/2;for(let _=-f;_<=f;_++){const C=this.width*(this.nextRow+f+_);let E=0,A=o[E];for(let R=0;R<this.width;R++){R/A.right>1&&(A=o[++E]);const B=Math.abs(R-A.left),F=Math.abs(R-A.right),X=Math.min(B,F);let oe;const ie=_/f*(g+1);if(A.isDash){const ae=g-Math.abs(ie);oe=Math.sqrt(X*X+ae*ae)}else oe=g-Math.sqrt(X*X+ie*ie);this.data[C+R]=Math.max(0,Math.min(255,oe+128))}}}addRegularDash(o){for(let E=o.length-1;E>=0;--E){const A=o[E],R=o[E+1];A.zeroLength?o.splice(E,1):R&&R.isDash===A.isDash&&(R.left=A.left,o.splice(E,1))}const u=o[0],f=o[o.length-1];u.isDash===f.isDash&&(u.left=f.left-this.width,f.right=u.right+this.width);const g=this.width*this.nextRow;let _=0,C=o[_];for(let E=0;E<this.width;E++){E/C.right>1&&(C=o[++_]);const A=Math.abs(E-C.left),R=Math.abs(E-C.right),B=Math.min(A,R);this.data[g+E]=Math.max(0,Math.min(255,(C.isDash?B:-B)+128))}}addDash(o,u){const f=u?7:0,g=2*f+1;if(this.nextRow+g>this.height)return a.w("LineAtlas out of space"),null;let _=0;for(let E=0;E<o.length;E++)_+=o[E];if(_!==0){const E=this.width/_,A=this.getDashRanges(o,this.width,E);u?this.addRoundDash(A,E,f):this.addRegularDash(A)}const C={y:(this.nextRow+f+.5)/this.height,height:2*f/this.height,width:_};return this.nextRow+=g,this.dirty=!0,C}bind(o){const u=o.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}class ft{constructor(o,u,f){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=f;const g=this.workerPool.acquire(f);for(let _=0;_<g.length;_++){const C=new a.C(g[_],u,f);C.name=`Worker ${_}`,this.actors.push(C)}if(!this.actors.length)throw new Error("No actors found")}broadcast(o,u,f){a.o(this.actors,(g,_)=>{g.send(o,u,_)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(o=!0){this.actors.forEach(u=>{u.remove()}),this.actors=[],o&&this.workerPool.release(this.id)}}function ht(y,o,u){const f=function(g,_){if(g)return u(g);if(_){const C=a.F(a.e(_,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(C.vectorLayers=_.vector_layers,C.vectorLayerIds=C.vectorLayers.map(E=>E.id)),u(null,C)}};return y.url?a.f(o.transformRequest(y.url,L.Source),f):a.h.frame(()=>f(null,y))}class ut{constructor(o,u){o&&(u?this.setSouthWest(o).setNorthEast(u):Array.isArray(o)&&(o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1])))}setNorthEast(o){return this._ne=o instanceof a.L?new a.L(o.lng,o.lat):a.L.convert(o),this}setSouthWest(o){return this._sw=o instanceof a.L?new a.L(o.lng,o.lat):a.L.convert(o),this}extend(o){const u=this._sw,f=this._ne;let g,_;if(o instanceof a.L)g=o,_=o;else{if(!(o instanceof ut))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(ut.convert(o)):this.extend(a.L.convert(o)):o&&("lng"in o||"lon"in o)&&"lat"in o?this.extend(a.L.convert(o)):this;if(g=o._sw,_=o._ne,!g||!_)return this}return u||f?(u.lng=Math.min(g.lng,u.lng),u.lat=Math.min(g.lat,u.lat),f.lng=Math.max(_.lng,f.lng),f.lat=Math.max(_.lat,f.lat)):(this._sw=new a.L(g.lng,g.lat),this._ne=new a.L(_.lng,_.lat)),this}getCenter(){return new a.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.L(this.getWest(),this.getNorth())}getSouthEast(){return new a.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:u,lat:f}=a.L.convert(o);let g=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&g}static convert(o){return o instanceof ut?o:o&&new ut(o)}static fromLngLat(o,u=0){const f=360*u/40075017,g=f/Math.cos(Math.PI/180*o.lat);return new ut(new a.L(o.lng-g,o.lat-f),new a.L(o.lng+g,o.lat+f))}}class Dt{constructor(o,u,f){this.bounds=ut.convert(this.validateBounds(o)),this.minzoom=u||0,this.maxzoom=f||24}validateBounds(o){return Array.isArray(o)&&o.length===4?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const u=Math.pow(2,o.z),f=Math.floor(a.G(this.bounds.getWest())*u),g=Math.floor(a.H(this.bounds.getNorth())*u),_=Math.ceil(a.G(this.bounds.getEast())*u),C=Math.ceil(a.H(this.bounds.getSouth())*u);return o.x>=f&&o.x<_&&o.y>=g&&o.y<C}}class qt extends a.E{constructor(o,u,f,g){if(super(),this.load=()=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(_,C)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),_?this.fire(new a.j(_)):C&&(a.e(this,C),C.bounds&&(this.tileBounds=new Dt(C.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>a.e({},this._options),this.id=o,this.dispatcher=f,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.F(u,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(o,u){const f=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g={request:this.map._requestManager.transformRequest(f,L.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(C,E){return delete o.request,o.aborted?u(null):C&&C.status!==404?u(C):(E&&E.resourceTiming&&(o.resourceTiming=E.resourceTiming),this.map._refreshExpiredTiles&&E&&o.setExpiryData(E),o.loadVectorData(E,this.map.painter),u(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,o.actor&&o.state!=="expired"?o.state==="loading"?o.reloadCallback=u:o.request=o.actor.send("reloadTile",g,_.bind(this)):(o.actor=this.dispatcher.getActor(),o.request=o.actor.send("loadTile",g,_.bind(this)))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id},void 0)}unloadTile(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class xt extends a.E{constructor(o,u,f,g){super(),this.id=o,this.dispatcher=f,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},u),a.e(this,a.F(u,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this._tileJSONRequest=ht(this._options,this.map._requestManager,(o,u)=>{this._tileJSONRequest=null,this._loaded=!0,o?this.fire(new a.j(o)):u&&(a.e(this,u),u.bounds&&(this.tileBounds=new Dt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}serialize(){return a.e({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o,u){const f=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);o.request=q.getImage(this.map._requestManager.transformRequest(f,L.Tile),(g,_,C)=>{if(delete o.request,o.aborted)o.state="unloaded",u(null);else if(g)o.state="errored",u(g);else if(_){this.map._refreshExpiredTiles&&C&&o.setExpiryData(C);const E=this.map.painter.context,A=E.gl;o.texture=this.map.painter.getTileTexture(_.width),o.texture?o.texture.update(_,{useMipmap:!0}):(o.texture=new G(E,_,A.RGBA,{useMipmap:!0}),o.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST),E.extTextureFilterAnisotropic&&A.texParameterf(A.TEXTURE_2D,E.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,E.extTextureFilterAnisotropicMax)),o.state="loaded",u(null)}},this.map._refreshExpiredTiles)}abortTile(o,u){o.request&&(o.request.cancel(),delete o.request),u()}unloadTile(o,u){o.texture&&this.map.painter.saveTileTexture(o.texture),u()}hasTransition(){return!1}}class Ot extends xt{constructor(o,u,f,g){super(o,u,f,g),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(o,u){const f=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),g=this.map._requestManager.transformRequest(f,L.Tile);function _(C,E){C&&(o.state="errored",u(C)),E&&(o.dem=E,o.needsHillshadePrepare=!0,o.needsTerrainPrepare=!0,o.state="loaded",u(null))}o.neighboringTiles=this._getNeighboringTiles(o.tileID),o.request=q.getImage(g,(C,E,A)=>a._(this,void 0,void 0,function*(){if(delete o.request,o.aborted)o.state="unloaded",u(null);else if(C)o.state="errored",u(C);else if(E){this.map._refreshExpiredTiles&&o.setExpiryData(A);const R=a.a(E)&&a.J()?E:yield function(F){return a._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.K()){const X=F.width+2,oe=F.height+2;try{return new a.R({width:X,height:oe},yield a.M(F,-1,-1,X,oe))}catch{}}return a.h.getImageData(F,1)})}(E),B={uid:o.uid,coord:o.tileID,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};o.actor&&o.state!=="expired"||(o.actor=this.dispatcher.getActor(),o.actor.send("loadDEMTile",B,_))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(o){const u=o.canonical,f=Math.pow(2,u.z),g=(u.x-1+f)%f,_=u.x===0?o.wrap-1:o.wrap,C=(u.x+1+f)%f,E=u.x+1===f?o.wrap+1:o.wrap,A={};return A[new a.O(o.overscaledZ,_,u.z,g,u.y).key]={backfilled:!1},A[new a.O(o.overscaledZ,E,u.z,C,u.y).key]={backfilled:!1},u.y>0&&(A[new a.O(o.overscaledZ,_,u.z,g,u.y-1).key]={backfilled:!1},A[new a.O(o.overscaledZ,o.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},A[new a.O(o.overscaledZ,E,u.z,C,u.y-1).key]={backfilled:!1}),u.y+1<f&&(A[new a.O(o.overscaledZ,_,u.z,g,u.y+1).key]={backfilled:!1},A[new a.O(o.overscaledZ,o.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},A[new a.O(o.overscaledZ,E,u.z,C,u.y+1).key]={backfilled:!1}),A}unloadTile(o){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&o.actor.send("removeDEMTile",{uid:o.uid,source:this.id})}}class nn extends a.E{constructor(o,u,f,g){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>a.e({},this._options,{type:this.type,data:this._data}),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=f.getActor(),this.setEventedParent(g),this._data=u.data,this._options=a.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId;const _=a.N/this.tileSize;this.workerOptions=a.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:(u.buffer!==void 0?u.buffer:128)*_,tolerance:(u.tolerance!==void 0?u.tolerance:.375)*_,extent:a.N,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:u.clusterMaxZoom!==void 0?u.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,u.clusterMinPoints||2),extent:a.N,radius:(u.clusterRadius||50)*_,log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(o){this.map=o,this.load()}setData(o){return this._data=o,this._updateWorkerData(),this}updateData(o){return this._updateWorkerData(o),this}setClusterOptions(o){return this.workerOptions.cluster=o.cluster,o&&(o.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=o.clusterRadius),o.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=o.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(o,u){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:o,source:this.id},u),this}getClusterChildren(o,u){return this.actor.send("geojson.getClusterChildren",{clusterId:o,source:this.id},u),this}getClusterLeaves(o,u,f,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:o,limit:u,offset:f},g),this}_updateWorkerData(o){const u=a.e({},this.workerOptions);o?u.dataDiff=o:typeof this._data=="string"?(u.request=this.map._requestManager.transformRequest(a.h.resolveURL(this._data),L.Source),u.request.collectResourceTiming=this._collectResourceTiming):u.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,u,(f,g)=>{if(this._pendingLoads--,this._removed||g&&g.abandoned)return void this.fire(new a.k("dataabort",{dataType:"source"}));let _=null;if(g&&g.resourceTiming&&g.resourceTiming[this.id]&&(_=g.resourceTiming[this.id].slice(0)),f)return void this.fire(new a.j(f));const C={dataType:"source"};this._collectResourceTiming&&_&&_.length>0&&a.e(C,{resourceTiming:_}),this.fire(new a.k("data",Object.assign(Object.assign({},C),{sourceDataType:"metadata"}))),this.fire(new a.k("data",Object.assign(Object.assign({},C),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(o,u){const f=o.actor?"reloadTile":"loadTile";o.actor=this.actor;const g={type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};o.request=this.actor.send(f,g,(_,C)=>(delete o.request,o.unloadVectorData(),o.aborted?u(null):_?u(_):(o.loadVectorData(C,this.map.painter,f==="reloadTile"),u(null))))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.aborted=!0}unloadTile(o){o.unloadVectorData(),this.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Vt=a.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class mt extends a.E{constructor(o,u,f,g){super(),this.load=(_,C)=>{this._loaded=!1,this.fire(new a.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=q.getImage(this.map._requestManager.transformRequest(this.url,L.Image),(E,A)=>{this._request=null,this._loaded=!0,E?this.fire(new a.j(E)):A&&(this.image=A,_&&(this.coordinates=_),C&&C(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const _=this.map.painter.context,C=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new G(_,this.image,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE));let E=!1;for(const A in this.tiles){const R=this.tiles[A];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,E=!0)}E&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=o,this.dispatcher=f,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=u}loaded(){return this._loaded}updateImage(o){return o.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=o.url,this.load(o.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(o){this.coordinates=o;const u=o.map(a.U.fromLngLat);this.tileID=function(g){let _=1/0,C=1/0,E=-1/0,A=-1/0;for(const X of g)_=Math.min(_,X.x),C=Math.min(C,X.y),E=Math.max(E,X.x),A=Math.max(A,X.y);const R=Math.max(E-_,A-C),B=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),F=Math.pow(2,B);return new a.W(B,Math.floor((_+E)/2*F),Math.floor((C+A)/2*F))}(u),this.minzoom=this.maxzoom=this.tileID.z;const f=u.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new a.V,this._boundsArray.emplaceBack(f[0].x,f[0].y,0,0),this._boundsArray.emplaceBack(f[1].x,f[1].y,a.N,0),this._boundsArray.emplaceBack(f[3].x,f[3].y,0,a.N),this._boundsArray.emplaceBack(f[2].x,f[2].y,a.N,a.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(o,u){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},u(null)):(o.state="errored",u(null))}hasTransition(){return!1}}class Zt extends mt{constructor(o,u,f,g){super(o,u,f,g),this.load=()=>{this._loaded=!1;const _=this.options;this.urls=[];for(const C of _.urls)this.urls.push(this.map._requestManager.transformRequest(C,L.Source).url);a.X(this.urls,(C,E)=>{this._loaded=!0,C?this.fire(new a.j(C)):E&&(this.video=E,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,C=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE),C.texSubImage2D(C.TEXTURE_2D,0,0,0,C.RGBA,C.UNSIGNED_BYTE,this.video)):(this.texture=new G(_,this.video,C.RGBA),this.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE));let E=!1;for(const A in this.tiles){const R=this.tiles[A];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,E=!0)}E&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=u}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(o){if(this.video){const u=this.video.seekable;o<u.start(0)||o>u.end(0)?this.fire(new a.j(new a.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=o}}getVideo(){return this.video}onAdd(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Gt extends mt{constructor(o,u,f,g){super(o,u,f,g),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const C=this.map.painter.context,E=C.gl;this.boundsBuffer||(this.boundsBuffer=C.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=a.S.simpleSegment(0,0,4,2)),this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new G(C,this.canvas,E.RGBA,{premultiply:!0});let A=!1;for(const R in this.tiles){const B=this.tiles[R];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,A=!0)}A&&this.fire(new a.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(C=>typeof C!="number"))||this.fire(new a.j(new a.Y(`sources.${o}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.j(new a.Y(`sources.${o}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new a.j(new a.Y(`sources.${o}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new a.j(new a.Y(`sources.${o}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.j(new a.Y(`sources.${o}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}getCanvas(){return this.canvas}onAdd(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const o of[this.canvas.width,this.canvas.height])if(isNaN(o)||o<=0)return!0;return!1}}const Ut={},At=y=>{switch(y){case"geojson":return nn;case"image":return mt;case"raster":return xt;case"raster-dem":return Ot;case"vector":return qt;case"video":return Zt;case"canvas":return Gt}return Ut[y]};function en(y,o){const u=a.Z();return a.$(u,u,[1,1,0]),a.a0(u,u,[.5*y.width,.5*y.height,1]),a.a1(u,u,y.calculatePosMatrix(o.toUnwrapped()))}function sr(y,o,u,f,g,_){const C=function(F,X,oe){if(F)for(const ie of F){const ae=X[ie];if(ae&&ae.source===oe&&ae.type==="fill-extrusion")return!0}else for(const ie in X){const ae=X[ie];if(ae.source===oe&&ae.type==="fill-extrusion")return!0}return!1}(g&&g.layers,o,y.id),E=_.maxPitchScaleFactor(),A=y.tilesIn(f,E,C);A.sort(Fn);const R=[];for(const F of A)R.push({wrappedTileID:F.tileID.wrapped().key,queryResults:F.tile.queryRenderedFeatures(o,u,y._state,F.queryGeometry,F.cameraQueryGeometry,F.scale,g,_,E,en(y.transform,F.tileID))});const B=function(F){const X={},oe={};for(const ie of F){const ae=ie.queryResults,ne=ie.wrappedTileID,_e=oe[ne]=oe[ne]||{};for(const Ee in ae){const pe=ae[Ee],xe=_e[Ee]=_e[Ee]||{},Ie=X[Ee]=X[Ee]||[];for(const Re of pe)xe[Re.featureIndex]||(xe[Re.featureIndex]=!0,Ie.push(Re))}}return X}(R);for(const F in B)B[F].forEach(X=>{const oe=X.feature,ie=y.getFeatureState(oe.layer["source-layer"],oe.id);oe.source=oe.layer.source,oe.layer["source-layer"]&&(oe.sourceLayer=oe.layer["source-layer"]),oe.state=ie});return B}function Fn(y,o){const u=y.tileID,f=o.tileID;return u.overscaledZ-f.overscaledZ||u.canonical.y-f.canonical.y||u.wrap-f.wrap||u.canonical.x-f.canonical.x}class En{constructor(o,u){this.timeAdded=0,this.fadeEndTime=0,this.tileID=o,this.uid=a.a2(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const u=o+this.timeAdded;u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(o){this.demTexture&&o.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(o,u,f){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(g,_){const C={};if(!_)return C;for(const E of g){const A=E.layerIds.map(R=>_.getLayer(R)).filter(Boolean);if(A.length!==0){E.layers=A,E.stateDependentLayerIds&&(E.stateDependentLayers=E.stateDependentLayerIds.map(R=>A.filter(B=>B.id===R)[0]));for(const R of A)C[R.id]=E}}return C}(o.buckets,u.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof a.a4){if(this.hasSymbolBuckets=!0,!f)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof a.a4&&_.hasRTLText){this.hasRTLText=!0,a.a5();break}}this.queryPadding=0;for(const g in this.buckets){const _=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(g).queryRadius(_))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new a.a3}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const f in this.buckets){const g=this.buckets[f];g.uploadPending()&&g.upload(o)}const u=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new G(o,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new G(o,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,u,f,g,_,C,E,A,R,B){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:_,scale:C,tileSize:this.tileSize,pixelPosMatrix:B,transform:A,params:E,queryPadding:this.queryPadding*R},o,u,f):{}}querySourceFeatures(o,u){const f=this.latestFeatureIndex;if(!f||!f.rawTileData)return;const g=f.loadVTLayers(),_=u&&u.sourceLayer?u.sourceLayer:"",C=g._geojsonTileLayer||g[_];if(!C)return;const E=a.a6(u&&u.filter),{z:A,x:R,y:B}=this.tileID.canonical,F={z:A,x:R,y:B};for(let X=0;X<C.length;X++){const oe=C.feature(X);if(E.needGeometry){const ne=a.a7(oe,!0);if(!E.filter(new a.a8(this.tileID.overscaledZ),ne,this.tileID.canonical))continue}else if(!E.filter(new a.a8(this.tileID.overscaledZ),oe))continue;const ie=f.getId(oe,_),ae=new a.a9(oe,A,R,B,ie);ae.tile=F,o.push(ae)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const u=this.expirationTime;if(o.cacheControl){const f=a.aa(o.cacheControl);f["max-age"]&&(this.expirationTime=Date.now()+1e3*f["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const f=Date.now();let g=!1;if(this.expirationTime>f)g=!1;else if(u)if(this.expirationTime<u)g=!0;else{const _=this.expirationTime-u;_?this.expirationTime=f+Math.max(_,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0)return;const f=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!u.style.hasLayer(g))continue;const _=this.buckets[g],C=_.layers[0].sourceLayer||"_geojsonTileLayer",E=f[C],A=o[C];if(!E||!A||Object.keys(A).length===0)continue;_.update(A,E,this.imageAtlas&&this.imageAtlas.patternPositions||{});const R=u&&u.style&&u.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=a.h.now()+o}setDependencies(o,u){const f={};for(const g of u)f[g]=!0;this.dependencies[o]=f}hasDependency(o,u){for(const f of o){const g=this.dependencies[f];if(g){for(const _ of u)if(g[_])return!0}}return!1}}class Mn{constructor(o,u){this.max=o,this.onRemove=u,this.reset()}reset(){for(const o in this.data)for(const u of this.data[o])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(o,u,f){const g=o.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const _={value:u,timeout:void 0};if(f!==void 0&&(_.timeout=setTimeout(()=>{this.remove(o,_)},f)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const u=this.data[o].shift();return u.timeout&&clearTimeout(u.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),u.value}getByKey(o){const u=this.data[o];return u?u[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,u){if(!this.has(o))return this;const f=o.wrapped().key,g=u===void 0?0:this.data[f].indexOf(u),_=this.data[f][g];return this.data[f].splice(g,1),_.timeout&&clearTimeout(_.timeout),this.data[f].length===0&&delete this.data[f],this.onRemove(_.value),this.order.splice(this.order.indexOf(f),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(o){const u=[];for(const f in this.data)for(const g of this.data[f])o(g.value)||u.push(g);for(const f of u)this.remove(f.value.tileID,f)}}class Me{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,u,f){const g=String(u);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][g]=this.stateChanges[o][g]||{},a.e(this.stateChanges[o][g],f),this.deletedStates[o]===null){this.deletedStates[o]={};for(const _ in this.state[o])_!==g&&(this.deletedStates[o][_]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][g]===null){this.deletedStates[o][g]={};for(const _ in this.state[o][g])f[_]||(this.deletedStates[o][g][_]=null)}else for(const _ in f)this.deletedStates[o]&&this.deletedStates[o][g]&&this.deletedStates[o][g][_]===null&&delete this.deletedStates[o][g][_]}removeFeatureState(o,u,f){if(this.deletedStates[o]===null)return;const g=String(u);if(this.deletedStates[o]=this.deletedStates[o]||{},f&&u!==void 0)this.deletedStates[o][g]!==null&&(this.deletedStates[o][g]=this.deletedStates[o][g]||{},this.deletedStates[o][g][f]=null);else if(u!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][g])for(f in this.deletedStates[o][g]={},this.stateChanges[o][g])this.deletedStates[o][g][f]=null;else this.deletedStates[o][g]=null;else this.deletedStates[o]=null}getState(o,u){const f=String(u),g=a.e({},(this.state[o]||{})[f],(this.stateChanges[o]||{})[f]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const _=this.deletedStates[o][u];if(_===null)return{};for(const C in _)delete g[C]}return g}initializeTileState(o,u){o.setFeatureState(this.state,u)}coalesceChanges(o,u){const f={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const _={};for(const C in this.stateChanges[g])this.state[g][C]||(this.state[g][C]={}),a.e(this.state[g][C],this.stateChanges[g][C]),_[C]=this.state[g][C];f[g]=_}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const _={};if(this.deletedStates[g]===null)for(const C in this.state[g])_[C]={},this.state[g][C]={};else for(const C in this.deletedStates[g]){if(this.deletedStates[g][C]===null)this.state[g][C]={};else for(const E of Object.keys(this.deletedStates[g][C]))delete this.state[g][C][E];_[C]=this.state[g][C]}f[g]=f[g]||{},a.e(f[g],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(f).length!==0)for(const g in o)o[g].setFeatureState(f,u)}}class on extends a.E{constructor(o,u,f){super(),this.id=o,this.dispatcher=f,this.on("data",g=>{g.dataType==="source"&&g.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&g.dataType==="source"&&g.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,_,C,E)=>{const A=new(At(_.type))(g,_,C,E);if(A.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${A.id}`);return A})(o,u,f,this),this._tiles={},this._cache=new Mn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Me,this._didEmitContent=!1,this._updated=!1}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._maxTileCacheZoomLevels=o?o._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(o)}onRemove(o){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(o)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const o in this._tiles){const u=this._tiles[o];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(o,u){return this._source.loadTile(o,u)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){this._source.abortTile&&this._source.abortTile(o,()=>{}),this._source.fire(new a.k("dataabort",{tile:o,coord:o.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const f=this._tiles[u];f.upload(o),f.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(o=>o.tileID).sort(gt).map(o=>o.key)}getRenderableIds(o){const u=[];for(const f in this._tiles)this._isIdRenderable(f,o)&&u.push(this._tiles[f]);return o?u.sort((f,g)=>{const _=f.tileID,C=g.tileID,E=new a.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),A=new a.P(C.canonical.x,C.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-C.overscaledZ||A.y-E.y||A.x-E.x}).map(f=>f.tileID.key):u.map(f=>f.tileID).sort(gt).map(f=>f.key)}hasRenderableParent(o){const u=this.findLoadedParent(o,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(o,u){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(u||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(o,"reloading")}}_reloadTile(o,u){const f=this._tiles[o];f&&(f.state!=="loading"&&(f.state=u),this._loadTile(f,this._tileLoaded.bind(this,f,o,u)))}_tileLoaded(o,u,f,g){if(g)return o.state="errored",void(g.status!==404?this._source.fire(new a.j(g,{tile:o})):this.update(this.transform,this.terrain));o.timeAdded=a.h.now(),f==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(u,o),this.getSource().type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),o.aborted||this._source.fire(new a.k("data",{dataType:"source",tile:o,coord:o.tileID}))}_backfillDEM(o){const u=this.getRenderableIds();for(let g=0;g<u.length;g++){const _=u[g];if(o.neighboringTiles&&o.neighboringTiles[_]){const C=this.getTileByID(_);f(o,C),f(C,o)}}function f(g,_){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let C=_.tileID.canonical.x-g.tileID.canonical.x;const E=_.tileID.canonical.y-g.tileID.canonical.y,A=Math.pow(2,g.tileID.canonical.z),R=_.tileID.key;C===0&&E===0||Math.abs(E)>1||(Math.abs(C)>1&&(Math.abs(C+A)===1?C+=A:Math.abs(C-A)===1&&(C-=A)),_.dem&&g.dem&&(g.dem.backfillBorder(_.dem,C,E),g.neighboringTiles&&g.neighboringTiles[R]&&(g.neighboringTiles[R].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,u,f,g){for(const _ in this._tiles){let C=this._tiles[_];if(g[_]||!C.hasData()||C.tileID.overscaledZ<=u||C.tileID.overscaledZ>f)continue;let E=C.tileID;for(;C&&C.tileID.overscaledZ>u+1;){const R=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[R.key],C&&C.hasData()&&(E=R)}let A=E;for(;A.overscaledZ>u;)if(A=A.scaledTo(A.overscaledZ-1),o[A.key]){g[E.key]=E;break}}}findLoadedParent(o,u){if(o.key in this._loadedParentTiles){const f=this._loadedParentTiles[o.key];return f&&f.tileID.overscaledZ>=u?f:null}for(let f=o.overscaledZ-1;f>=u;f--){const g=o.scaledTo(f),_=this._getLoadedTile(g);if(_)return _}}_getLoadedTile(o){const u=this._tiles[o.key];return u&&u.hasData()?u:this._cache.getByKey(o.wrapped().key)}updateCacheSize(o){const u=Math.ceil(o.width/this._source.tileSize)+1,f=Math.ceil(o.height/this._source.tileSize)+1,g=Math.floor(u*f*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)}handleWrapJump(o){const u=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,u){const f={};for(const g in this._tiles){const _=this._tiles[g];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+u),f[_.tileID.key]=_}this._tiles=f;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}update(o,u){if(this.transform=o,this.terrain=u,!this._sourceLoaded||this._paused)return;let f;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(B=>new a.O(B.canonical.z,B.wrap,B.canonical.z,B.canonical.x,B.canonical.y)):(f=o.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u}),this._source.hasTile&&(f=f.filter(B=>this._source.hasTile(B)))):f=[];const g=o.coveringZoomLevel(this._source),_=Math.max(g-on.maxOverzooming,this._source.minzoom),C=Math.max(g+on.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const B={};for(const F of f)if(F.canonical.z>this._source.minzoom){const X=F.scaledTo(F.canonical.z-1);B[X.key]=X;const oe=F.scaledTo(Math.max(this._source.minzoom,Math.min(F.canonical.z,5)));B[oe.key]=oe}f=f.concat(Object.values(B))}const E=f.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,E&&this.fire(new a.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const A=this._updateRetainedTiles(f,g);if(un(this._source.type)){const B={},F={},X=Object.keys(A),oe=a.h.now();for(const ie of X){const ae=A[ie],ne=this._tiles[ie];if(!ne||ne.fadeEndTime!==0&&ne.fadeEndTime<=oe)continue;const _e=this.findLoadedParent(ae,_);_e&&(this._addTile(_e.tileID),B[_e.tileID.key]=_e.tileID),F[ie]=ae}this._retainLoadedChildren(F,g,C,A);for(const ie in B)A[ie]||(this._coveredTiles[ie]=!0,A[ie]=B[ie]);if(u){const ie={},ae={};for(const ne of f)this._tiles[ne.key].hasData()?ie[ne.key]=ne:ae[ne.key]=ne;for(const ne in ae){const _e=ae[ne].children(this._source.maxzoom);this._tiles[_e[0].key]&&this._tiles[_e[1].key]&&this._tiles[_e[2].key]&&this._tiles[_e[3].key]&&(ie[_e[0].key]=A[_e[0].key]=_e[0],ie[_e[1].key]=A[_e[1].key]=_e[1],ie[_e[2].key]=A[_e[2].key]=_e[2],ie[_e[3].key]=A[_e[3].key]=_e[3],delete ae[ne])}for(const ne in ae){const _e=this.findLoadedParent(ae[ne],this._source.minzoom);if(_e){ie[_e.tileID.key]=A[_e.tileID.key]=_e.tileID;for(const Ee in ie)ie[Ee].isChildOf(_e.tileID)&&delete ie[Ee]}}for(const ne in this._tiles)ie[ne]||(this._coveredTiles[ne]=!0)}}for(const B in A)this._tiles[B].clearFadeHold();const R=a.ab(this._tiles,A);for(const B of R){const F=this._tiles[B];F.hasSymbolBuckets&&!F.holdingForFade()?F.setHoldDuration(this.map._fadeDuration):F.hasSymbolBuckets&&!F.symbolFadeFinished()||this._removeTile(B)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)}_updateRetainedTiles(o,u){const f={},g={},_=Math.max(u-on.maxOverzooming,this._source.minzoom),C=Math.max(u+on.maxUnderzooming,this._source.minzoom),E={};for(const A of o){const R=this._addTile(A);f[A.key]=A,R.hasData()||u<this._source.maxzoom&&(E[A.key]=A)}this._retainLoadedChildren(E,u,C,f);for(const A of o){let R=this._tiles[A.key];if(R.hasData())continue;if(u+1>this._source.maxzoom){const F=A.children(this._source.maxzoom)[0],X=this.getTile(F);if(X&&X.hasData()){f[F.key]=F;continue}}else{const F=A.children(this._source.maxzoom);if(f[F[0].key]&&f[F[1].key]&&f[F[2].key]&&f[F[3].key])continue}let B=R.wasRequested();for(let F=A.overscaledZ-1;F>=_;--F){const X=A.scaledTo(F);if(g[X.key])break;if(g[X.key]=!0,R=this.getTile(X),!R&&B&&(R=this._addTile(X)),R){const oe=R.hasData();if((B||oe)&&(f[X.key]=X),B=R.wasRequested(),oe)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const u=[];let f,g=this._tiles[o].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){f=this._loadedParentTiles[g.key];break}u.push(g.key);const _=g.scaledTo(g.overscaledZ-1);if(f=this._getLoadedTile(_),f)break;g=_}for(const _ of u)this._loadedParentTiles[_]=f}}_addTile(o){let u=this._tiles[o.key];if(u)return u;u=this._cache.getAndRemove(o),u&&(this._setTileReloadTimer(o.key,u),u.tileID=o,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,u)));const f=u;return u||(u=new En(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(u,this._tileLoaded.bind(this,u,o.key,u.state))),u.uses++,this._tiles[o.key]=u,f||this._source.fire(new a.k("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(o,u){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const f=u.getExpiryTimeout();f&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},f))}_removeTile(o){const u=this._tiles[o];u&&(u.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(o);this._cache.reset()}tilesIn(o,u,f){const g=[],_=this.transform;if(!_)return g;const C=f?_.getCameraQueryGeometry(o):o,E=o.map(ie=>_.pointCoordinate(ie,this.terrain)),A=C.map(ie=>_.pointCoordinate(ie,this.terrain)),R=this.getIds();let B=1/0,F=1/0,X=-1/0,oe=-1/0;for(const ie of A)B=Math.min(B,ie.x),F=Math.min(F,ie.y),X=Math.max(X,ie.x),oe=Math.max(oe,ie.y);for(let ie=0;ie<R.length;ie++){const ae=this._tiles[R[ie]];if(ae.holdingForFade())continue;const ne=ae.tileID,_e=Math.pow(2,_.zoom-ae.tileID.overscaledZ),Ee=u*ae.queryPadding*a.N/ae.tileSize/_e,pe=[ne.getTilePoint(new a.U(B,F)),ne.getTilePoint(new a.U(X,oe))];if(pe[0].x-Ee<a.N&&pe[0].y-Ee<a.N&&pe[1].x+Ee>=0&&pe[1].y+Ee>=0){const xe=E.map(Re=>ne.getTilePoint(Re)),Ie=A.map(Re=>ne.getTilePoint(Re));g.push({tile:ae,tileID:ne,queryGeometry:xe,cameraQueryGeometry:Ie,scale:_e})}}return g}getVisibleCoordinates(o){const u=this.getRenderableIds(o).map(f=>this._tiles[f].tileID);for(const f of u)f.posMatrix=this.transform.calculatePosMatrix(f.toUnwrapped());return u}hasTransition(){if(this._source.hasTransition())return!0;if(un(this._source.type)){const o=a.h.now();for(const u in this._tiles)if(this._tiles[u].fadeEndTime>=o)return!0}return!1}setFeatureState(o,u,f){this._state.updateState(o=o||"_geojsonTileLayer",u,f)}removeFeatureState(o,u,f){this._state.removeFeatureState(o=o||"_geojsonTileLayer",u,f)}getFeatureState(o,u){return this._state.getState(o=o||"_geojsonTileLayer",u)}setDependencies(o,u,f){const g=this._tiles[o];g&&g.setDependencies(u,f)}reloadTilesForDependencies(o,u){for(const f in this._tiles)this._tiles[f].hasDependency(o,u)&&this._reloadTile(f,"reloading");this._cache.filter(f=>!f.hasDependency(o,u))}}function gt(y,o){const u=Math.abs(2*y.wrap)-+(y.wrap<0),f=Math.abs(2*o.wrap)-+(o.wrap<0);return y.overscaledZ-o.overscaledZ||f-u||o.canonical.y-y.canonical.y||o.canonical.x-y.canonical.x}function un(y){return y==="raster"||y==="image"||y==="video"}on.maxOverzooming=10,on.maxUnderzooming=3;const Lt="mapboxgl_preloaded_worker_pool";class Cr{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Cr.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Lt]}numActive(){return Object.keys(this.active).length}}const di=Math.floor(a.h.hardwareConcurrency/2);let Ur;function Ai(){return Ur||(Ur=new Cr),Ur}Cr.workerCount=a.ac(globalThis)?Math.max(Math.min(di,3),1):1;class ni{constructor(o,u){this.reset(o,u)}reset(o,u){this.points=o||[],this._distances=[0];for(let f=1;f<this.points.length;f++)this._distances[f]=this._distances[f-1]+this.points[f].dist(this.points[f-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(this.points.length===1)return this.points[0];o=a.ad(o,0,1);let u=1,f=this._distances[u];const g=o*this.paddedLength+this.padding;for(;f<g&&u<this._distances.length;)f=this._distances[++u];const _=u-1,C=this._distances[_],E=f-C,A=E>0?(g-C)/E:0;return this.points[_].mult(1-A).add(this.points[u].mult(A))}}function Pn(y,o){let u=!0;return y==="always"||y!=="never"&&o!=="never"||(u=!1),u}class zt{constructor(o,u,f){const g=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(o/f),this.yCellCount=Math.ceil(u/f);for(let C=0;C<this.xCellCount*this.yCellCount;C++)g.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=u,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,u,f,g,_){this._forEachCell(u,f,g,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(_)}insertCircle(o,u,f,g){this._forEachCell(u-g,f-g,u+g,f+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(u),this.circles.push(f),this.circles.push(g)}_insertBoxCell(o,u,f,g,_,C){this.boxCells[_].push(C)}_insertCircleCell(o,u,f,g,_,C){this.circleCells[_].push(C)}_query(o,u,f,g,_,C,E){if(f<0||o>this.width||g<0||u>this.height)return[];const A=[];if(o<=0&&u<=0&&this.width<=f&&this.height<=g){if(_)return[{key:null,x1:o,y1:u,x2:f,y2:g}];for(let R=0;R<this.boxKeys.length;R++)A.push({key:this.boxKeys[R],x1:this.bboxes[4*R],y1:this.bboxes[4*R+1],x2:this.bboxes[4*R+2],y2:this.bboxes[4*R+3]});for(let R=0;R<this.circleKeys.length;R++){const B=this.circles[3*R],F=this.circles[3*R+1],X=this.circles[3*R+2];A.push({key:this.circleKeys[R],x1:B-X,y1:F-X,x2:B+X,y2:F+X})}}else this._forEachCell(o,u,f,g,this._queryCell,A,{hitTest:_,overlapMode:C,seenUids:{box:{},circle:{}}},E);return A}query(o,u,f,g){return this._query(o,u,f,g,!1,null)}hitTest(o,u,f,g,_,C){return this._query(o,u,f,g,!0,_,C).length>0}hitTestCircle(o,u,f,g,_){const C=o-f,E=o+f,A=u-f,R=u+f;if(E<0||C>this.width||R<0||A>this.height)return!1;const B=[];return this._forEachCell(C,A,E,R,this._queryCellCircle,B,{hitTest:!0,overlapMode:g,circle:{x:o,y:u,radius:f},seenUids:{box:{},circle:{}}},_),B.length>0}_queryCell(o,u,f,g,_,C,E,A){const{seenUids:R,hitTest:B,overlapMode:F}=E,X=this.boxCells[_];if(X!==null){const ie=this.bboxes;for(const ae of X)if(!R.box[ae]){R.box[ae]=!0;const ne=4*ae,_e=this.boxKeys[ae];if(o<=ie[ne+2]&&u<=ie[ne+3]&&f>=ie[ne+0]&&g>=ie[ne+1]&&(!A||A(_e))&&(!B||!Pn(F,_e.overlapMode))&&(C.push({key:_e,x1:ie[ne],y1:ie[ne+1],x2:ie[ne+2],y2:ie[ne+3]}),B))return!0}}const oe=this.circleCells[_];if(oe!==null){const ie=this.circles;for(const ae of oe)if(!R.circle[ae]){R.circle[ae]=!0;const ne=3*ae,_e=this.circleKeys[ae];if(this._circleAndRectCollide(ie[ne],ie[ne+1],ie[ne+2],o,u,f,g)&&(!A||A(_e))&&(!B||!Pn(F,_e.overlapMode))){const Ee=ie[ne],pe=ie[ne+1],xe=ie[ne+2];if(C.push({key:_e,x1:Ee-xe,y1:pe-xe,x2:Ee+xe,y2:pe+xe}),B)return!0}}}return!1}_queryCellCircle(o,u,f,g,_,C,E,A){const{circle:R,seenUids:B,overlapMode:F}=E,X=this.boxCells[_];if(X!==null){const ie=this.bboxes;for(const ae of X)if(!B.box[ae]){B.box[ae]=!0;const ne=4*ae,_e=this.boxKeys[ae];if(this._circleAndRectCollide(R.x,R.y,R.radius,ie[ne+0],ie[ne+1],ie[ne+2],ie[ne+3])&&(!A||A(_e))&&!Pn(F,_e.overlapMode))return C.push(!0),!0}}const oe=this.circleCells[_];if(oe!==null){const ie=this.circles;for(const ae of oe)if(!B.circle[ae]){B.circle[ae]=!0;const ne=3*ae,_e=this.circleKeys[ae];if(this._circlesCollide(ie[ne],ie[ne+1],ie[ne+2],R.x,R.y,R.radius)&&(!A||A(_e))&&!Pn(F,_e.overlapMode))return C.push(!0),!0}}}_forEachCell(o,u,f,g,_,C,E,A){const R=this._convertToXCellCoord(o),B=this._convertToYCellCoord(u),F=this._convertToXCellCoord(f),X=this._convertToYCellCoord(g);for(let oe=R;oe<=F;oe++)for(let ie=B;ie<=X;ie++)if(_.call(this,o,u,f,g,this.xCellCount*ie+oe,C,E,A))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,u,f,g,_,C){const E=g-o,A=_-u,R=f+C;return R*R>E*E+A*A}_circleAndRectCollide(o,u,f,g,_,C,E){const A=(C-g)/2,R=Math.abs(o-(g+A));if(R>A+f)return!1;const B=(E-_)/2,F=Math.abs(u-(_+B));if(F>B+f)return!1;if(R<=A||F<=B)return!0;const X=R-A,oe=F-B;return X*X+oe*oe<=f*f}}function Ke(y,o,u,f,g){const _=a.Z();return o?(a.a0(_,_,[1/g,1/g,1]),u||a.ae(_,_,f.angle)):a.a1(_,f.labelPlaneMatrix,y),_}function Nn(y,o,u,f,g){if(o){const _=a.af(y);return a.a0(_,_,[g,g,1]),u||a.ae(_,_,-f.angle),_}return f.glCoordMatrix}function dn(y,o,u){let f;u?(f=[y.x,y.y,u(y.x,y.y),1],a.ag(f,f,o)):(f=[y.x,y.y,0,1],le(f,f,o));const g=f[3];return{point:new a.P(f[0]/g,f[1]/g),signedDistanceFromCamera:g}}function It(y,o){return .5+y/o*.5}function vn(y,o){const u=y[0]/y[3],f=y[1]/y[3];return u>=-o[0]&&u<=o[0]&&f>=-o[1]&&f<=o[1]}function Ze(y,o,u,f,g,_,C,E,A,R){const B=f?y.textSizeData:y.iconSizeData,F=a.ah(B,u.transform.zoom),X=[256/u.width*2+1,256/u.height*2+1],oe=f?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;oe.clear();const ie=y.lineVertexArray,ae=f?y.text.placedSymbolArray:y.icon.placedSymbolArray,ne=u.transform.width/u.transform.height;let _e=!1;for(let Ee=0;Ee<ae.length;Ee++){const pe=ae.get(Ee);if(pe.hidden||pe.writingMode===a.ai.vertical&&!_e){te(pe.numGlyphs,oe);continue}let xe;if(_e=!1,R?(xe=[pe.anchorX,pe.anchorY,R(pe.anchorX,pe.anchorY),1],a.ag(xe,xe,o)):(xe=[pe.anchorX,pe.anchorY,0,1],le(xe,xe,o)),!vn(xe,X)){te(pe.numGlyphs,oe);continue}const Ie=It(u.transform.cameraToCenterDistance,xe[3]),Re=a.aj(B,F,pe),je=C?Re/Ie:Re*Ie,Xe=new a.P(pe.anchorX,pe.anchorY),He=dn(Xe,g,R).point,Je={projections:{},offsets:{}},vt=pi(pe,je,!1,E,o,g,_,y.glyphOffsetArray,ie,oe,He,Xe,Je,ne,A,R);_e=vt.useVertical,(vt.notEnoughRoom||_e||vt.needsFlipping&&pi(pe,je,!0,E,o,g,_,y.glyphOffsetArray,ie,oe,He,Xe,Je,ne,A,R).notEnoughRoom)&&te(pe.numGlyphs,oe)}f?y.text.dynamicLayoutVertexBuffer.updateData(oe):y.icon.dynamicLayoutVertexBuffer.updateData(oe)}function $t(y,o,u,f,g,_,C,E,A,R,B,F,X){const oe=E.glyphStartIndex+E.numGlyphs,ie=E.lineStartIndex,ae=E.lineStartIndex+E.lineLength,ne=o.getoffsetX(E.glyphStartIndex),_e=o.getoffsetX(oe-1),Ee=W(y*ne,u,f,g,_,C,E.segment,ie,ae,A,R,B,F,X);if(!Ee)return null;const pe=W(y*_e,u,f,g,_,C,E.segment,ie,ae,A,R,B,F,X);return pe?{first:Ee,last:pe}:null}function Ft(y,o,u,f){return y===a.ai.horizontal&&Math.abs(u.y-o.y)>Math.abs(u.x-o.x)*f?{useVertical:!0}:(y===a.ai.vertical?o.y<u.y:o.x>u.x)?{needsFlipping:!0}:null}function pi(y,o,u,f,g,_,C,E,A,R,B,F,X,oe,ie,ae){const ne=o/24,_e=y.lineOffsetX*ne,Ee=y.lineOffsetY*ne;let pe;if(y.numGlyphs>1){const xe=y.glyphStartIndex+y.numGlyphs,Ie=y.lineStartIndex,Re=y.lineStartIndex+y.lineLength,je=$t(ne,E,_e,Ee,u,B,F,y,A,_,X,ie,ae);if(!je)return{notEnoughRoom:!0};const Xe=dn(je.first.point,C,ae).point,He=dn(je.last.point,C,ae).point;if(f&&!u){const Je=Ft(y.writingMode,Xe,He,oe);if(Je)return Je}pe=[je.first];for(let Je=y.glyphStartIndex+1;Je<xe-1;Je++)pe.push(W(ne*E.getoffsetX(Je),_e,Ee,u,B,F,y.segment,Ie,Re,A,_,X,ie,ae));pe.push(je.last)}else{if(f&&!u){const Ie=dn(F,g,ae).point,Re=y.lineStartIndex+y.segment+1,je=new a.P(A.getx(Re),A.gety(Re)),Xe=dn(je,g,ae),He=Xe.signedDistanceFromCamera>0?Xe.point:Go(F,je,Ie,1,g,ae),Je=Ft(y.writingMode,Ie,He,oe);if(Je)return Je}const xe=W(ne*E.getoffsetX(y.glyphStartIndex),_e,Ee,u,B,F,y.segment,y.lineStartIndex,y.lineStartIndex+y.lineLength,A,_,X,ie,ae);if(!xe)return{notEnoughRoom:!0};pe=[xe]}for(const xe of pe)a.ak(R,xe.point,xe.angle);return{}}function Go(y,o,u,f,g,_){const C=dn(y.add(y.sub(o)._unit()),g,_).point,E=u.sub(C);return u.add(E._mult(f/E.mag()))}function Kt(y,o){const{projectionCache:u,lineVertexArray:f,labelPlaneMatrix:g,tileAnchorPoint:_,distanceFromAnchor:C,getElevation:E,previousVertex:A,direction:R,absOffsetX:B}=o;if(u.projections[y])return u.projections[y];const F=new a.P(f.getx(y),f.gety(y)),X=dn(F,g,E);if(X.signedDistanceFromCamera>0)return u.projections[y]=X.point,X.point;const oe=y-R;return Go(C===0?_:new a.P(f.getx(oe),f.gety(oe)),F,A,B-C+1,g,E)}function _s(y,o,u){return y._unit()._perp()._mult(o*u)}function se(y,o,u,f,g,_,C,E){const{projectionCache:A,direction:R}=E;if(A.offsets[y])return A.offsets[y];const B=u.add(o);if(y+R<f||y+R>=g)return A.offsets[y]=B,B;const F=Kt(y+R,E),X=_s(F.sub(u),C,R),oe=u.add(X),ie=F.add(X);return A.offsets[y]=a.al(_,B,oe,ie)||B,A.offsets[y]}function W(y,o,u,f,g,_,C,E,A,R,B,F,X,oe){const ie=f?y-o:y+o;let ae=ie>0?1:-1,ne=0;f&&(ae*=-1,ne=Math.PI),ae<0&&(ne+=Math.PI);let _e,Ee,pe=ae>0?E+C:E+C+1,xe=g,Ie=g,Re=0,je=0;const Xe=Math.abs(ie),He=[];let Je;for(;Re+je<=Xe;){if(pe+=ae,pe<E||pe>=A)return null;Re+=je,Ie=xe,Ee=_e;const ot={projectionCache:F,lineVertexArray:R,labelPlaneMatrix:B,tileAnchorPoint:_,distanceFromAnchor:Re,getElevation:oe,previousVertex:Ie,direction:ae,absOffsetX:Xe};if(xe=Kt(pe,ot),u===0)He.push(Ie),Je=xe.sub(Ie);else{let Rt;const bt=xe.sub(Ie);Rt=bt.mag()===0?_s(Kt(pe+ae,ot).sub(xe),u,ae):_s(bt,u,ae),Ee||(Ee=Ie.add(Rt)),_e=se(pe,Rt,xe,E,A,Ee,u,ot),He.push(Ee),Je=_e.sub(Ee)}je=Je.mag()}const vt=Je._mult((Xe-Re)/je)._add(Ee||Ie),sn=ne+Math.atan2(xe.y-Ie.y,xe.x-Ie.x);return He.push(vt),{point:vt,angle:X?sn:0,path:He}}const Z=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function te(y,o){for(let u=0;u<y;u++){const f=o.length;o.resize(f+4),o.float32.set(Z,3*f)}}function le(y,o,u){const f=o[0],g=o[1];return y[0]=u[0]*f+u[4]*g+u[12],y[1]=u[1]*f+u[5]*g+u[13],y[3]=u[3]*f+u[7]*g+u[15],y}const de=100;class Se{constructor(o,u=new zt(o.width+200,o.height+200,25),f=new zt(o.width+200,o.height+200,25)){this.transform=o,this.grid=u,this.ignoredGrid=f,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+de,this.screenBottomBoundary=o.height+de,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(o,u,f,g,_,C){const E=this.projectAndGetPerspectiveRatio(g,o.anchorPointX,o.anchorPointY,C),A=f*E.perspectiveRatio,R=o.x1*A+E.point.x,B=o.y1*A+E.point.y,F=o.x2*A+E.point.x,X=o.y2*A+E.point.y;return!this.isInsideGrid(R,B,F,X)||u!=="always"&&this.grid.hitTest(R,B,F,X,u,_)||E.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[R,B,F,X],offscreen:this.isOffscreen(R,B,F,X)}}placeCollisionCircles(o,u,f,g,_,C,E,A,R,B,F,X,oe,ie){const ae=[],ne=new a.P(u.anchorX,u.anchorY),_e=dn(ne,C,ie),Ee=It(this.transform.cameraToCenterDistance,_e.signedDistanceFromCamera),pe=(B?_/Ee:_*Ee)/a.ap,xe=dn(ne,E,ie).point,Ie=$t(pe,g,u.lineOffsetX*pe,u.lineOffsetY*pe,!1,xe,ne,u,f,E,{projections:{},offsets:{}},!1,ie);let Re=!1,je=!1,Xe=!0;if(Ie){const He=.5*X*Ee+oe,Je=new a.P(-100,-100),vt=new a.P(this.screenRightBoundary,this.screenBottomBoundary),sn=new ni,ot=Ie.first,Rt=Ie.last;let bt=[];for(let Qt=ot.path.length-1;Qt>=1;Qt--)bt.push(ot.path[Qt]);for(let Qt=1;Qt<Rt.path.length;Qt++)bt.push(Rt.path[Qt]);const Ln=2.5*He;if(A){const Qt=bt.map(an=>dn(an,A,ie));bt=Qt.some(an=>an.signedDistanceFromCamera<=0)?[]:Qt.map(an=>an.point)}let rn=[];if(bt.length>0){const Qt=bt[0].clone(),an=bt[0].clone();for(let dr=1;dr<bt.length;dr++)Qt.x=Math.min(Qt.x,bt[dr].x),Qt.y=Math.min(Qt.y,bt[dr].y),an.x=Math.max(an.x,bt[dr].x),an.y=Math.max(an.y,bt[dr].y);rn=Qt.x>=Je.x&&an.x<=vt.x&&Qt.y>=Je.y&&an.y<=vt.y?[bt]:an.x<Je.x||Qt.x>vt.x||an.y<Je.y||Qt.y>vt.y?[]:a.am([bt],Je.x,Je.y,vt.x,vt.y)}for(const Qt of rn){sn.reset(Qt,.25*He);let an=0;an=sn.length<=.5*He?1:Math.ceil(sn.paddedLength/Ln)+1;for(let dr=0;dr<an;dr++){const jn=dr/Math.max(an-1,1),Xr=sn.lerp(jn),Rr=Xr.x+de,vr=Xr.y+de;ae.push(Rr,vr,He,0);const eo=Rr-He,Hn=vr-He,qo=Rr+He,Zo=vr+He;if(Xe=Xe&&this.isOffscreen(eo,Hn,qo,Zo),je=je||this.isInsideGrid(eo,Hn,qo,Zo),o!=="always"&&this.grid.hitTestCircle(Rr,vr,He,o,F)&&(Re=!0,!R))return{circles:[],offscreen:!1,collisionDetected:Re}}}}return{circles:!R&&Re||!je||Ee<this.perspectiveRatioCutoff?[]:ae,offscreen:Xe,collisionDetected:Re}}queryRenderedSymbols(o){if(o.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let f=1/0,g=1/0,_=-1/0,C=-1/0;for(const B of o){const F=new a.P(B.x+de,B.y+de);f=Math.min(f,F.x),g=Math.min(g,F.y),_=Math.max(_,F.x),C=Math.max(C,F.y),u.push(F)}const E=this.grid.query(f,g,_,C).concat(this.ignoredGrid.query(f,g,_,C)),A={},R={};for(const B of E){const F=B.key;if(A[F.bucketInstanceId]===void 0&&(A[F.bucketInstanceId]={}),A[F.bucketInstanceId][F.featureIndex])continue;const X=[new a.P(B.x1,B.y1),new a.P(B.x2,B.y1),new a.P(B.x2,B.y2),new a.P(B.x1,B.y2)];a.an(u,X)&&(A[F.bucketInstanceId][F.featureIndex]=!0,R[F.bucketInstanceId]===void 0&&(R[F.bucketInstanceId]=[]),R[F.bucketInstanceId].push(F.featureIndex))}return R}insertCollisionBox(o,u,f,g,_,C){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:_,collisionGroupID:C,overlapMode:u},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,u,f,g,_,C){const E=f?this.ignoredGrid:this.grid,A={bucketInstanceId:g,featureIndex:_,collisionGroupID:C,overlapMode:u};for(let R=0;R<o.length;R+=4)E.insertCircle(A,o[R],o[R+1],o[R+2])}projectAndGetPerspectiveRatio(o,u,f,g){let _;return g?(_=[u,f,g(u,f),1],a.ag(_,_,o)):(_=[u,f,0,1],le(_,_,o)),{point:new a.P((_[0]/_[3]+1)/2*this.transform.width+de,(-_[1]/_[3]+1)/2*this.transform.height+de),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(o,u,f,g){return f<de||o>=this.screenRightBoundary||g<de||u>this.screenBottomBoundary}isInsideGrid(o,u,f,g){return f>=0&&o<this.gridRightBoundary&&g>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const o=a.ao([]);return a.$(o,o,[-100,-100,0]),o}}function ve(y,o,u){return o*(a.N/(y.tileSize*Math.pow(2,u-y.tileID.overscaledZ)))}class me{constructor(o,u,f,g){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?u:-u))):g&&f?1:0,this.placed=f}isHidden(){return this.opacity===0&&!this.placed}}class be{constructor(o,u,f,g,_){this.text=new me(o?o.text:null,u,f,_),this.icon=new me(o?o.icon:null,u,g,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Fe{constructor(o,u,f){this.text=o,this.icon=u,this.skipFade=f}}class $e{constructor(){this.invProjMatrix=a.Z(),this.viewportMatrix=a.Z(),this.circles=[]}}class Ge{constructor(o,u,f,g,_){this.bucketInstanceId=o,this.featureIndex=u,this.sourceLayerIndex=f,this.bucketIndex=g,this.tileID=_}}class Et{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const u=++this.maxGroupID;this.collisionGroups[o]={ID:u,predicate:f=>f.collisionGroupID===u}}return this.collisionGroups[o]}}function Nt(y,o,u,f,g){const{horizontalAlign:_,verticalAlign:C}=a.au(y);return new a.P(-(_-.5)*o+f[0]*g,-(C-.5)*u+f[1]*g)}function yt(y,o,u,f,g,_){const{x1:C,x2:E,y1:A,y2:R,anchorPointX:B,anchorPointY:F}=y,X=new a.P(o,u);return f&&X._rotate(g?_:-_),{x1:C+X.x,y1:A+X.y,x2:E+X.x,y2:R+X.y,anchorPointX:B,anchorPointY:F}}class kt{constructor(o,u,f,g,_){this.transform=o.clone(),this.terrain=u,this.collisionIndex=new Se(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Et(g),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,u,f,g){const _=f.getBucket(u),C=f.latestFeatureIndex;if(!_||!C||u.id!==_.layerIds[0])return;const E=f.collisionBoxArray,A=_.layers[0].layout,R=Math.pow(2,this.transform.zoom-f.tileID.overscaledZ),B=f.tileSize/a.N,F=this.transform.calculatePosMatrix(f.tileID.toUnwrapped()),X=A.get("text-pitch-alignment")==="map",oe=A.get("text-rotation-alignment")==="map",ie=ve(f,1,this.transform.zoom),ae=Ke(F,X,oe,this.transform,ie);let ne=null;if(X){const Ee=Nn(F,X,oe,this.transform,ie);ne=a.a1([],this.transform.labelPlaneMatrix,Ee)}this.retainedQueryData[_.bucketInstanceId]=new Ge(_.bucketInstanceId,C,_.sourceLayerIndex,_.index,f.tileID);const _e={bucket:_,layout:A,posMatrix:F,textLabelPlaneMatrix:ae,labelToScreenMatrix:ne,scale:R,textPixelRatio:B,holdingForFade:f.holdingForFade(),collisionBoxArray:E,partiallyEvaluatedTextSize:a.ah(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(g)for(const Ee of _.sortKeyRanges){const{sortKey:pe,symbolInstanceStart:xe,symbolInstanceEnd:Ie}=Ee;o.push({sortKey:pe,symbolInstanceStart:xe,symbolInstanceEnd:Ie,parameters:_e})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:_e})}attemptAnchorPlacement(o,u,f,g,_,C,E,A,R,B,F,X,oe,ie,ae,ne){const _e=a.aq[o.textAnchor],Ee=[o.textOffset0,o.textOffset1],pe=Nt(_e,f,g,Ee,_),xe=this.collisionIndex.placeCollisionBox(yt(u,pe.x,pe.y,C,E,this.transform.angle),F,A,R,B.predicate,ne);if((!ae||this.collisionIndex.placeCollisionBox(yt(ae,pe.x,pe.y,C,E,this.transform.angle),F,A,R,B.predicate,ne).box.length!==0)&&xe.box.length>0){let Ie;if(this.prevPlacement&&this.prevPlacement.variableOffsets[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID].text&&(Ie=this.prevPlacement.variableOffsets[X.crossTileID].anchor),X.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[X.crossTileID]={textOffset:Ee,width:f,height:g,anchor:_e,textBoxScale:_,prevAnchor:Ie},this.markUsedJustification(oe,_e,X,ie),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,ie,X),this.placedOrientations[X.crossTileID]=ie),{shift:pe,placedGlyphBoxes:xe}}}placeLayerBucketPart(o,u,f){const{bucket:g,layout:_,posMatrix:C,textLabelPlaneMatrix:E,labelToScreenMatrix:A,textPixelRatio:R,holdingForFade:B,collisionBoxArray:F,partiallyEvaluatedTextSize:X,collisionGroup:oe}=o.parameters,ie=_.get("text-optional"),ae=_.get("icon-optional"),ne=a.ar(_,"text-overlap","text-allow-overlap"),_e=ne==="always",Ee=a.ar(_,"icon-overlap","icon-allow-overlap"),pe=Ee==="always",xe=_.get("text-rotation-alignment")==="map",Ie=_.get("text-pitch-alignment")==="map",Re=_.get("icon-text-fit")!=="none",je=_.get("symbol-z-order")==="viewport-y",Xe=_e&&(pe||!g.hasIconData()||ae),He=pe&&(_e||!g.hasTextData()||ie);!g.collisionArrays&&F&&g.deserializeCollisionBoxes(F);const Je=this.retainedQueryData[g.bucketInstanceId].tileID,vt=this.terrain?(ot,Rt)=>this.terrain.getElevation(Je,ot,Rt):null,sn=(ot,Rt)=>{var bt,Ln;if(u[ot.crossTileID])return;if(B)return void(this.placements[ot.crossTileID]=new Fe(!1,!1,!1));let rn=!1,Qt=!1,an=!0,dr=null,jn={box:null,offscreen:null},Xr={box:null,offscreen:null},Rr=null,vr=null,eo=null,Hn=0,qo=0,Zo=0;Rt.textFeatureIndex?Hn=Rt.textFeatureIndex:ot.useRuntimeCollisionCircles&&(Hn=ot.featureIndex),Rt.verticalTextFeatureIndex&&(qo=Rt.verticalTextFeatureIndex);const Zs=Rt.textBox;if(Zs){const oi=pr=>{let Lr=a.ai.horizontal;if(g.allowVerticalPlacement&&!pr&&this.prevPlacement){const Ri=this.prevPlacement.placedOrientations[ot.crossTileID];Ri&&(this.placedOrientations[ot.crossTileID]=Ri,Lr=Ri,this.markUsedOrientation(g,Lr,ot))}return Lr},Yr=(pr,Lr)=>{if(g.allowVerticalPlacement&&ot.numVerticalGlyphVertices>0&&Rt.verticalTextBox){for(const Ri of g.writingModes)if(Ri===a.ai.vertical?(jn=Lr(),Xr=jn):jn=pr(),jn&&jn.box&&jn.box.length)break}else jn=pr()},mi=ot.textAnchorOffsetStartIndex,Pa=ot.textAnchorOffsetEndIndex;if(Pa===mi){const pr=(Lr,Ri)=>{const fr=this.collisionIndex.placeCollisionBox(Lr,ne,R,C,oe.predicate,vt);return fr&&fr.box&&fr.box.length&&(this.markUsedOrientation(g,Ri,ot),this.placedOrientations[ot.crossTileID]=Ri),fr};Yr(()=>pr(Zs,a.ai.horizontal),()=>{const Lr=Rt.verticalTextBox;return g.allowVerticalPlacement&&ot.numVerticalGlyphVertices>0&&Lr?pr(Lr,a.ai.vertical):{box:null,offscreen:null}}),oi(jn&&jn.box&&jn.box.length)}else{let pr=a.aq[(Ln=(bt=this.prevPlacement)===null||bt===void 0?void 0:bt.variableOffsets[ot.crossTileID])===null||Ln===void 0?void 0:Ln.anchor];const Lr=(fr,ka,Tu)=>{const $m=fr.x2-fr.x1,jm=fr.y2-fr.y1,jv=ot.textBoxScale,Fd=Re&&Ee==="never"?ka:null;let Ko={box:[],offscreen:!1},Aa=ne==="never"?1:2,Xo="never";pr&&Aa++;for(let vo=0;vo<Aa;vo++){for(let Yo=mi;Yo<Pa;Yo++){const Nd=g.textAnchorOffsets.get(Yo);if(pr&&Nd.textAnchor!==pr)continue;const Ts=this.attemptAnchorPlacement(Nd,fr,$m,jm,jv,xe,Ie,R,C,oe,Xo,ot,g,Tu,Fd,vt);if(Ts&&(Ko=Ts.placedGlyphBoxes,Ko&&Ko.box&&Ko.box.length))return rn=!0,dr=Ts.shift,Ko}pr?pr=null:Xo=ne}return Ko};Yr(()=>Lr(Zs,Rt.iconBox,a.ai.horizontal),()=>{const fr=Rt.verticalTextBox;return g.allowVerticalPlacement&&!(jn&&jn.box&&jn.box.length)&&ot.numVerticalGlyphVertices>0&&fr?Lr(fr,Rt.verticalIconBox,a.ai.vertical):{box:null,offscreen:null}}),jn&&(rn=jn.box,an=jn.offscreen);const Ri=oi(jn&&jn.box);if(!rn&&this.prevPlacement){const fr=this.prevPlacement.variableOffsets[ot.crossTileID];fr&&(this.variableOffsets[ot.crossTileID]=fr,this.markUsedJustification(g,fr.anchor,ot,Ri))}}}if(Rr=jn,rn=Rr&&Rr.box&&Rr.box.length>0,an=Rr&&Rr.offscreen,ot.useRuntimeCollisionCircles){const oi=g.text.placedSymbolArray.get(ot.centerJustifiedTextSymbolIndex),Yr=a.aj(g.textSizeData,X,oi),mi=_.get("text-padding");vr=this.collisionIndex.placeCollisionCircles(ne,oi,g.lineVertexArray,g.glyphOffsetArray,Yr,C,E,A,f,Ie,oe.predicate,ot.collisionCircleDiameter,mi,vt),vr.circles.length&&vr.collisionDetected&&!f&&a.w("Collisions detected, but collision boxes are not shown"),rn=_e||vr.circles.length>0&&!vr.collisionDetected,an=an&&vr.offscreen}if(Rt.iconFeatureIndex&&(Zo=Rt.iconFeatureIndex),Rt.iconBox){const oi=Yr=>{const mi=Re&&dr?yt(Yr,dr.x,dr.y,xe,Ie,this.transform.angle):Yr;return this.collisionIndex.placeCollisionBox(mi,Ee,R,C,oe.predicate,vt)};Xr&&Xr.box&&Xr.box.length&&Rt.verticalIconBox?(eo=oi(Rt.verticalIconBox),Qt=eo.box.length>0):(eo=oi(Rt.iconBox),Qt=eo.box.length>0),an=an&&eo.offscreen}const Ea=ie||ot.numHorizontalGlyphVertices===0&&ot.numVerticalGlyphVertices===0,dl=ae||ot.numIconVertices===0;if(Ea||dl?dl?Ea||(Qt=Qt&&rn):rn=Qt&&rn:Qt=rn=Qt&&rn,rn&&Rr&&Rr.box&&this.collisionIndex.insertCollisionBox(Rr.box,ne,_.get("text-ignore-placement"),g.bucketInstanceId,Xr&&Xr.box&&qo?qo:Hn,oe.ID),Qt&&eo&&this.collisionIndex.insertCollisionBox(eo.box,Ee,_.get("icon-ignore-placement"),g.bucketInstanceId,Zo,oe.ID),vr&&(rn&&this.collisionIndex.insertCollisionCircles(vr.circles,ne,_.get("text-ignore-placement"),g.bucketInstanceId,Hn,oe.ID),f)){const oi=g.bucketInstanceId;let Yr=this.collisionCircleArrays[oi];Yr===void 0&&(Yr=this.collisionCircleArrays[oi]=new $e);for(let mi=0;mi<vr.circles.length;mi+=4)Yr.circles.push(vr.circles[mi+0]),Yr.circles.push(vr.circles[mi+1]),Yr.circles.push(vr.circles[mi+2]),Yr.circles.push(vr.collisionDetected?1:0)}if(ot.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ot.crossTileID]=new Fe(rn||Xe,Qt||He,an||g.justReloaded),u[ot.crossTileID]=!0};if(je){if(o.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const ot=g.getSortedSymbolIndexes(this.transform.angle);for(let Rt=ot.length-1;Rt>=0;--Rt){const bt=ot[Rt];sn(g.symbolInstances.get(bt),g.collisionArrays[bt])}}else for(let ot=o.symbolInstanceStart;ot<o.symbolInstanceEnd;ot++)sn(g.symbolInstances.get(ot),g.collisionArrays[ot]);if(f&&g.bucketInstanceId in this.collisionCircleArrays){const ot=this.collisionCircleArrays[g.bucketInstanceId];a.as(ot.invProjMatrix,C),ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}markUsedJustification(o,u,f,g){let _;_=g===a.ai.vertical?f.verticalPlacedTextSymbolIndex:{left:f.leftJustifiedTextSymbolIndex,center:f.centerJustifiedTextSymbolIndex,right:f.rightJustifiedTextSymbolIndex}[a.at(u)];const C=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex];for(const E of C)E>=0&&(o.text.placedSymbolArray.get(E).crossTileID=_>=0&&E!==_?0:f.crossTileID)}markUsedOrientation(o,u,f){const g=u===a.ai.horizontal||u===a.ai.horizontalOnly?u:0,_=u===a.ai.vertical?u:0,C=[f.leftJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.rightJustifiedTextSymbolIndex];for(const E of C)o.text.placedSymbolArray.get(E).placedOrientation=g;f.verticalPlacedTextSymbolIndex&&(o.text.placedSymbolArray.get(f.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let f=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const g=u?u.symbolFadeChange(o):1,_=u?u.opacities:{},C=u?u.variableOffsets:{},E=u?u.placedOrientations:{};for(const A in this.placements){const R=this.placements[A],B=_[A];B?(this.opacities[A]=new be(B,g,R.text,R.icon),f=f||R.text!==B.text.placed||R.icon!==B.icon.placed):(this.opacities[A]=new be(null,g,R.text,R.icon,R.skipFade),f=f||R.text||R.icon)}for(const A in _){const R=_[A];if(!this.opacities[A]){const B=new be(R,g,!1,!1);B.isHidden()||(this.opacities[A]=B,f=f||R.text.placed||R.icon.placed)}}for(const A in C)this.variableOffsets[A]||!this.opacities[A]||this.opacities[A].isHidden()||(this.variableOffsets[A]=C[A]);for(const A in E)this.placedOrientations[A]||!this.opacities[A]||this.opacities[A].isHidden()||(this.placedOrientations[A]=E[A]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");f?this.lastPlacementChangeTime=o:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:o)}updateLayerOpacities(o,u){const f={};for(const g of u){const _=g.getBucket(o);_&&g.latestFeatureIndex&&o.id===_.layerIds[0]&&this.updateBucketOpacities(_,f,g.collisionBoxArray)}}updateBucketOpacities(o,u,f){o.hasTextData()&&(o.text.opacityVertexArray.clear(),o.text.hasVisibleVertices=!1),o.hasIconData()&&(o.icon.opacityVertexArray.clear(),o.icon.hasVisibleVertices=!1),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const g=o.layers[0],_=g.layout,C=new be(null,0,!1,!1,!0),E=_.get("text-allow-overlap"),A=_.get("icon-allow-overlap"),R=g._unevaluatedLayout.hasValue("text-variable-anchor")||g._unevaluatedLayout.hasValue("text-variable-anchor-offset"),B=_.get("text-rotation-alignment")==="map",F=_.get("text-pitch-alignment")==="map",X=_.get("icon-text-fit")!=="none",oe=new be(null,0,E&&(A||!o.hasIconData()||_.get("icon-optional")),A&&(E||!o.hasTextData()||_.get("text-optional")),!0);!o.collisionArrays&&f&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(f);const ie=(ae,ne,_e)=>{for(let Ee=0;Ee<ne/4;Ee++)ae.opacityVertexArray.emplaceBack(_e);ae.hasVisibleVertices=ae.hasVisibleVertices||_e!==ho};for(let ae=0;ae<o.symbolInstances.length;ae++){const ne=o.symbolInstances.get(ae),{numHorizontalGlyphVertices:_e,numVerticalGlyphVertices:Ee,crossTileID:pe}=ne;let xe=this.opacities[pe];u[pe]?xe=C:xe||(xe=oe,this.opacities[pe]=xe),u[pe]=!0;const Ie=ne.numIconVertices>0,Re=this.placedOrientations[ne.crossTileID],je=Re===a.ai.vertical,Xe=Re===a.ai.horizontal||Re===a.ai.horizontalOnly;if(_e>0||Ee>0){const He=Zr(xe.text);ie(o.text,_e,je?ho:He),ie(o.text,Ee,Xe?ho:He);const Je=xe.text.isHidden();[ne.rightJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.leftJustifiedTextSymbolIndex].forEach(ot=>{ot>=0&&(o.text.placedSymbolArray.get(ot).hidden=Je||je?1:0)}),ne.verticalPlacedTextSymbolIndex>=0&&(o.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).hidden=Je||Xe?1:0);const vt=this.variableOffsets[ne.crossTileID];vt&&this.markUsedJustification(o,vt.anchor,ne,Re);const sn=this.placedOrientations[ne.crossTileID];sn&&(this.markUsedJustification(o,"left",ne,sn),this.markUsedOrientation(o,sn,ne))}if(Ie){const He=Zr(xe.icon),Je=!(X&&ne.verticalPlacedIconSymbolIndex&&je);ne.placedIconSymbolIndex>=0&&(ie(o.icon,ne.numIconVertices,Je?He:ho),o.icon.placedSymbolArray.get(ne.placedIconSymbolIndex).hidden=xe.icon.isHidden()),ne.verticalPlacedIconSymbolIndex>=0&&(ie(o.icon,ne.numVerticalIconVertices,Je?ho:He),o.icon.placedSymbolArray.get(ne.verticalPlacedIconSymbolIndex).hidden=xe.icon.isHidden())}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const He=o.collisionArrays[ae];if(He){let Je=new a.P(0,0);if(He.textBox||He.verticalTextBox){let sn=!0;if(R){const ot=this.variableOffsets[pe];ot?(Je=Nt(ot.anchor,ot.width,ot.height,ot.textOffset,ot.textBoxScale),B&&Je._rotate(F?this.transform.angle:-this.transform.angle)):sn=!1}He.textBox&&jt(o.textCollisionBox.collisionVertexArray,xe.text.placed,!sn||je,Je.x,Je.y),He.verticalTextBox&&jt(o.textCollisionBox.collisionVertexArray,xe.text.placed,!sn||Xe,Je.x,Je.y)}const vt=!!(!Xe&&He.verticalIconBox);He.iconBox&&jt(o.iconCollisionBox.collisionVertexArray,xe.icon.placed,vt,X?Je.x:0,X?Je.y:0),He.verticalIconBox&&jt(o.iconCollisionBox.collisionVertexArray,xe.icon.placed,!vt,X?Je.x:0,X?Je.y:0)}}}if(o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.text.opacityVertexArray.length!==o.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${o.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${o.text.layoutVertexArray.length}) / 4`);if(o.icon.opacityVertexArray.length!==o.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${o.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${o.icon.layoutVertexArray.length}) / 4`);if(o.bucketInstanceId in this.collisionCircleArrays){const ae=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=ae.invProjMatrix,o.placementViewportMatrix=ae.viewportMatrix,o.collisionCircleArray=ae.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return this.fadeDuration===0?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,u){const f=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*f>o}setStale(){this.stale=!0}}function jt(y,o,u,f,g){y.emplaceBack(o?1:0,u?1:0,f||0,g||0),y.emplaceBack(o?1:0,u?1:0,f||0,g||0),y.emplaceBack(o?1:0,u?1:0,f||0,g||0),y.emplaceBack(o?1:0,u?1:0,f||0,g||0)}const Tn=Math.pow(2,25),Dn=Math.pow(2,24),gn=Math.pow(2,17),mn=Math.pow(2,16),ri=Math.pow(2,9),$n=Math.pow(2,8),Tr=Math.pow(2,1);function Zr(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const o=y.placed?1:0,u=Math.floor(127*y.opacity);return u*Tn+o*Dn+u*gn+o*mn+u*ri+o*$n+u*Tr+o}const ho=0;class nm{constructor(o){this._sortAcrossTiles=o.layout.get("symbol-z-order")!=="viewport-y"&&!o.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,u,f,g,_){const C=this._bucketParts;for(;this._currentTileIndex<o.length;)if(u.getBucketParts(C,g,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((E,A)=>E.sortKey-A.sortKey));this._currentPartIndex<C.length;)if(u.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,f),this._currentPartIndex++,_())return!0;return!1}}class Qa{constructor(o,u,f,g,_,C,E,A){this.placement=new kt(o,u,C,E,A),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(o,u,f){const g=a.h.now(),_=()=>!this._forceFullPlacement&&a.h.now()-g>2;for(;this._currentPlacementIndex>=0;){const C=u[o[this._currentPlacementIndex]],E=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=E)&&(!C.maxzoom||C.maxzoom>E)){if(this._inProgressLayer||(this._inProgressLayer=new nm(C)),this._inProgressLayer.continuePlacement(f[C.source],this.placement,this._showCollisionBoxes,C,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const el=512/a.N/2;class Cv{constructor(o,u,f){this.tileID=o,this.bucketInstanceId=f,this._symbolsByKey={};const g=new Map;for(let _=0;_<u.length;_++){const C=u.get(_),E=C.key,A=g.get(E);A?A.push(C):g.set(E,[C])}for(const[_,C]of g){const E={positions:C.map(A=>({x:Math.floor(A.anchorX*el),y:Math.floor(A.anchorY*el)})),crossTileIDs:C.map(A=>A.crossTileID)};if(E.positions.length>128){const A=new a.av(E.positions.length,16,Uint16Array);for(const{x:R,y:B}of E.positions)A.add(R,B);A.finish(),delete E.positions,E.index=A}this._symbolsByKey[_]=E}}getScaledCoordinates(o,u){const{x:f,y:g,z:_}=this.tileID.canonical,{x:C,y:E,z:A}=u.canonical,R=el/Math.pow(2,A-_),B=(E*a.N+o.anchorY)*R,F=g*a.N*el;return{x:Math.floor((C*a.N+o.anchorX)*R-f*a.N*el),y:Math.floor(B-F)}}findMatches(o,u,f){const g=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let _=0;_<o.length;_++){const C=o.get(_);if(C.crossTileID)continue;const E=this._symbolsByKey[C.key];if(!E)continue;const A=this.getScaledCoordinates(C,u);if(E.index){const R=E.index.range(A.x-g,A.y-g,A.x+g,A.y+g).sort();for(const B of R){const F=E.crossTileIDs[B];if(!f[F]){f[F]=!0,C.crossTileID=F;break}}}else if(E.positions)for(let R=0;R<E.positions.length;R++){const B=E.positions[R],F=E.crossTileIDs[R];if(Math.abs(B.x-A.x)<=g&&Math.abs(B.y-A.y)<=g&&!f[F]){f[F]=!0,C.crossTileID=F;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:o})=>o)}}class Rn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Yh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const u=Math.round((o-this.lng)/360);if(u!==0)for(const f in this.indexes){const g=this.indexes[f],_={};for(const C in g){const E=g[C];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+u),_[E.tileID.key]=E}this.indexes[f]=_}this.lng=o}addBucket(o,u,f){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let _=0;_<u.symbolInstances.length;_++)u.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const g=this.usedCrossTileIDs[o.overscaledZ];for(const _ in this.indexes){const C=this.indexes[_];if(Number(_)>o.overscaledZ)for(const E in C){const A=C[E];A.tileID.isChildOf(o)&&A.findMatches(u.symbolInstances,o,g)}else{const E=C[o.scaledTo(Number(_)).key];E&&E.findMatches(u.symbolInstances,o,g)}}for(let _=0;_<u.symbolInstances.length;_++){const C=u.symbolInstances.get(_);C.crossTileID||(C.crossTileID=f.generate(),g[C.crossTileID]=!0)}return this.indexes[o.overscaledZ]===void 0&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Cv(o,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(o,u){for(const f of u.getCrossTileIDsLists())for(const g of f)delete this.usedCrossTileIDs[o][g]}removeStaleBuckets(o){let u=!1;for(const f in this.indexes){const g=this.indexes[f];for(const _ in g)o[g[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(f,g[_]),delete g[_],u=!0)}return u}}class Yc{constructor(){this.layerIndexes={},this.crossTileIDs=new Rn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,u,f){let g=this.layerIndexes[o.id];g===void 0&&(g=this.layerIndexes[o.id]=new Yh);let _=!1;const C={};g.handleWrapJump(f);for(const E of u){const A=E.getBucket(o);A&&o.id===A.layerIds[0]&&(A.bucketInstanceId||(A.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(E.tileID,A,this.crossTileIDs)&&(_=!0),C[A.bucketInstanceId]=!0)}return g.removeStaleBuckets(C)&&(_=!0),_}pruneUnusedLayers(o){const u={};o.forEach(f=>{u[f]=!0});for(const f in this.layerIndexes)u[f]||delete this.layerIndexes[f]}}const ii=(y,o)=>a.x(y,o&&o.filter(u=>u.identifier!=="source.canvas")),Ki=a.F(a.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Tv=a.F(a.ax,["setCenter","setZoom","setBearing","setPitch"]),po=a.aw();class Kr extends a.E{constructor(o,u={}){super(),this.map=o,this.dispatcher=new ft(Ai(),this,o._getMapId()),this.imageManager=new Le,this.imageManager.setEventedParent(this),this.glyphManager=new Ve(o._requestManager,u.localIdeographFontFamily),this.lineAtlas=new tt(256,512),this.crossTileSymbolIndex=new Yc,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.az());const f=this;this._rtlTextPluginCallback=Kr.registerForPluginStateChange(g=>{f.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:g.pluginStatus,pluginURL:g.pluginURL},(_,C)=>{if(a.aA(_),C&&C.every(E=>E))for(const E in f.sourceCaches){const A=f.sourceCaches[E].getSource().type;A!=="vector"&&A!=="geojson"||f.sourceCaches[E].reload()}})}),this.on("data",g=>{if(g.dataType!=="source"||g.sourceDataType!=="metadata")return;const _=this.sourceCaches[g.sourceId];if(!_)return;const C=_.getSource();if(C&&C.vectorLayerIds)for(const E in this._layers){const A=this._layers[E];A.source===C.id&&this._validateLayer(A)}})}loadURL(o,u={},f){this.fire(new a.k("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;const g=this.map._requestManager.transformRequest(o,L.Style);this._request=a.f(g,(_,C)=>{this._request=null,_?this.fire(new a.j(_)):C&&this._load(C,u,f)})}loadJSON(o,u={},f){this.fire(new a.k("dataloading",{dataType:"style"})),this._request=a.h.frame(()=>{this._request=null,u.validate=u.validate!==!1,this._load(o,u,f)})}loadEmpty(){this.fire(new a.k("dataloading",{dataType:"style"})),this._load(po,{validate:!1})}_load(o,u,f){var g;const _=u.transformStyle?u.transformStyle(f,o):o;if(!u.validate||!ii(this,a.y(_))){this._loaded=!0,this.stylesheet=_;for(const C in _.sources)this.addSource(C,_.sources[C],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Ae(this.stylesheet.light),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new a.k("data",{dataType:"style"})),this.fire(new a.k("style.load"))}}_createLayers(){const o=a.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",o),this._order=o.map(u=>u.id),this._layers={},this._serializedLayers=null;for(const u of o){const f=a.aC(u);f.setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=f}}_loadSprite(o,u=!1,f=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(g,_,C,E){const A=he(g),R=A.length,B=C>1?"@2x":"",F={},X={},oe={};for(const{id:ie,url:ae}of A){const ne=_.transformRequest(_.normalizeSpriteURL(ae,B,".json"),L.SpriteJSON),_e=`${ie}_${ne.url}`;F[_e]=a.f(ne,(xe,Ie)=>{delete F[_e],X[ie]=Ie,Pe(E,X,oe,xe,R)});const Ee=_.transformRequest(_.normalizeSpriteURL(ae,B,".png"),L.SpriteImage),pe=`${ie}_${Ee.url}`;F[pe]=q.getImage(Ee,(xe,Ie)=>{delete F[pe],oe[ie]=Ie,Pe(E,X,oe,xe,R)})}return{cancel(){for(const ie of Object.values(F))ie.cancel()}}}(o,this.map._requestManager,this.map.getPixelRatio(),(g,_)=>{if(this._spriteRequest=null,g)this.fire(new a.j(g));else if(_)for(const C in _){this._spritesImagesIds[C]=[];const E=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(A=>!(A in _)):[];for(const A of E)this.imageManager.removeImage(A),this._changedImages[A]=!0;for(const A in _[C]){const R=C==="default"?A:`${C}:${A}`;this._spritesImagesIds[C].push(R),R in this.imageManager.images?this.imageManager.updateImage(R,_[C][A],!1):this.imageManager.addImage(R,_[C][A]),u&&(this._changedImages[R]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"})),f&&f(g)})}_unloadSprite(){for(const o of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(o),this._changedImages[o]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}_validateLayer(o){const u=this.sourceCaches[o.source];if(!u)return;const f=o.sourceLayer;if(!f)return;const g=u.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(f)===-1)&&this.fire(new a.j(new Error(`Source layer "${f}" does not exist on source "${g.id}" as specified by style layer "${o.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(o){const u=this._serializedAllLayers();if(!o||o.length===0)return Object.values(u);const f=[];for(const g of o)u[g]&&f.push(u[g]);return f}_serializedAllLayers(){let o=this._serializedLayers;if(o)return o;o=this._serializedLayers={};const u=Object.keys(this._layers);for(const f of u){const g=this._layers[f];g.type!=="custom"&&(o[f]=g.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(o){if(!this._loaded)return;const u=this._changed;if(this._changed){const g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(g.length||_.length)&&this._updateWorkerLayers(g,_);for(const C in this._updatedSources){const E=this._updatedSources[C];if(E==="reload")this._reloadSource(C);else{if(E!=="clear")throw new Error(`Invalid action ${E}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const C in this._updatedPaintProps)this._layers[C].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}const f={};for(const g in this.sourceCaches){const _=this.sourceCaches[g];f[g]=_.used,_.used=!1}for(const g of this._order){const _=this._layers[g];_.recalculate(o,this._availableImages),!_.isHidden(o.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const g in f){const _=this.sourceCaches[g];f[g]!==_.used&&_.fire(new a.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(o),this.z=o.zoom,u&&this.fire(new a.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(o,u){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(o),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(o,u={}){this._checkLoaded();const f=this.serialize();if(o=u.transformStyle?u.transformStyle(f,o):o,ii(this,a.y(o)))return!1;(o=a.aD(o)).layers=a.aB(o.layers);const g=a.aE(f,o).filter(C=>!(C.command in Tv));if(g.length===0)return!1;const _=g.filter(C=>!(C.command in Ki));if(_.length>0)throw new Error(`Unimplemented: ${_.map(C=>C.command).join(", ")}.`);for(const C of g)C.command!=="setTransition"&&this[C.command].apply(this,C.args);return this.stylesheet=o,this._serializedLayers=null,!0}addImage(o,u){if(this.getImage(o))return this.fire(new a.j(new Error(`An image named "${o}" already exists.`)));this.imageManager.addImage(o,u),this._afterImageUpdated(o)}updateImage(o,u){this.imageManager.updateImage(o,u)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){if(!this.getImage(o))return this.fire(new a.j(new Error(`An image named "${o}" does not exist.`)));this.imageManager.removeImage(o),this._afterImageUpdated(o)}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(o,u,f={}){if(this._checkLoaded(),this.sourceCaches[o]!==void 0)throw new Error(`Source "${o}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(a.y.source,`sources.${o}`,u,null,f))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const g=this.sourceCaches[o]=new on(o,u,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:o})),g.onAdd(this.map),this._changed=!0}removeSource(o){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error("There is no source with this ID");for(const f in this._layers)if(this._layers[f].source===o)return this.fire(new a.j(new Error(`Source "${o}" cannot be removed while layer "${f}" is using it.`)));const u=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],u.fire(new a.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(o,u){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error(`There is no source with this ID=${o}`);const f=this.sourceCaches[o].getSource();if(f.type!=="geojson")throw new Error(`geojsonSource.type is ${f.type}, which is !== 'geojson`);f.setData(u),this._changed=!0}getSource(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()}addLayer(o,u,f={}){this._checkLoaded();const g=o.id;if(this.getLayer(g))return void this.fire(new a.j(new Error(`Layer "${g}" already exists on this map.`)));let _;if(o.type==="custom"){if(ii(this,a.aF(o)))return;_=a.aC(o)}else{if("source"in o&&typeof o.source=="object"&&(this.addSource(g,o.source),o=a.aD(o),o=a.e(o,{source:g})),this._validate(a.y.layer,`layers.${g}`,o,{arrayIndex:-1},f))return;_=a.aC(o),this._validateLayer(_),_.setEventedParent(this,{layer:{id:g}})}const C=u?this._order.indexOf(u):this._order.length;if(u&&C===-1)this.fire(new a.j(new Error(`Cannot add layer "${g}" before non-existing layer "${u}".`)));else{if(this._order.splice(C,0,g),this._layerOrderChanged=!0,this._layers[g]=_,this._removedLayers[g]&&_.source&&_.type!=="custom"){const E=this._removedLayers[g];delete this._removedLayers[g],E.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(o,u){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new a.j(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===u)return;const f=this._order.indexOf(o);this._order.splice(f,1);const g=u?this._order.indexOf(u):this._order.length;u&&g===-1?this.fire(new a.j(new Error(`Cannot move layer "${o}" before non-existing layer "${u}".`))):(this._order.splice(g,0,o),this._layerOrderChanged=!0)}removeLayer(o){this._checkLoaded();const u=this._layers[o];if(!u)return void this.fire(new a.j(new Error(`Cannot remove non-existing layer "${o}".`)));u.setEventedParent(null);const f=this._order.indexOf(o);this._order.splice(f,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=u,delete this._layers[o],this._serializedLayers&&delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],u.onRemove&&u.onRemove(this.map)}getLayer(o){return this._layers[o]}getLayersOrder(){return[...this._order]}hasLayer(o){return o in this._layers}setLayerZoomRange(o,u,f){this._checkLoaded();const g=this.getLayer(o);g?g.minzoom===u&&g.maxzoom===f||(u!=null&&(g.minzoom=u),f!=null&&(g.maxzoom=f),this._updateLayer(g)):this.fire(new a.j(new Error(`Cannot set the zoom range of non-existing layer "${o}".`)))}setFilter(o,u,f={}){this._checkLoaded();const g=this.getLayer(o);if(g){if(!a.aG(g.filter,u))return u==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(a.y.filter,`layers.${g.id}.filter`,u,null,f)||(g.filter=a.aD(u),this._updateLayer(g)))}else this.fire(new a.j(new Error(`Cannot filter non-existing layer "${o}".`)))}getFilter(o){return a.aD(this.getLayer(o).filter)}setLayoutProperty(o,u,f,g={}){this._checkLoaded();const _=this.getLayer(o);_?a.aG(_.getLayoutProperty(u),f)||(_.setLayoutProperty(u,f,g),this._updateLayer(_)):this.fire(new a.j(new Error(`Cannot style non-existing layer "${o}".`)))}getLayoutProperty(o,u){const f=this.getLayer(o);if(f)return f.getLayoutProperty(u);this.fire(new a.j(new Error(`Cannot get style of non-existing layer "${o}".`)))}setPaintProperty(o,u,f,g={}){this._checkLoaded();const _=this.getLayer(o);_?a.aG(_.getPaintProperty(u),f)||(_.setPaintProperty(u,f,g)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new a.j(new Error(`Cannot style non-existing layer "${o}".`)))}getPaintProperty(o,u){return this.getLayer(o).getPaintProperty(u)}setFeatureState(o,u){this._checkLoaded();const f=o.source,g=o.sourceLayer,_=this.sourceCaches[f];if(_===void 0)return void this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)));const C=_.getSource().type;C==="geojson"&&g?this.fire(new a.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||g?(o.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(g,o.id,u)):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(o,u){this._checkLoaded();const f=o.source,g=this.sourceCaches[f];if(g===void 0)return void this.fire(new a.j(new Error(`The source '${f}' does not exist in the map's style.`)));const _=g.getSource().type,C=_==="vector"?o.sourceLayer:void 0;_!=="vector"||C?u&&typeof o.id!="string"&&typeof o.id!="number"?this.fire(new a.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(C,o.id,u):this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(o){this._checkLoaded();const u=o.source,f=o.sourceLayer,g=this.sourceCaches[u];if(g!==void 0)return g.getSource().type!=="vector"||f?(o.id===void 0&&this.fire(new a.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(f,o.id)):void this.fire(new a.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.j(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const o=a.aH(this.sourceCaches,_=>_.serialize()),u=this._serializeByIds(this._order),f=this.map.getTerrain()||void 0,g=this.stylesheet;return a.aI({version:g.version,name:g.name,metadata:g.metadata,light:g.light,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:o,layers:u,terrain:f},_=>_!==void 0)}_updateLayer(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&this.sourceCaches[o.source].getSource().type!=="raster"&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(o){const u=C=>this._layers[C].type==="fill-extrusion",f={},g=[];for(let C=this._order.length-1;C>=0;C--){const E=this._order[C];if(u(E)){f[E]=C;for(const A of o){const R=A[E];if(R)for(const B of R)g.push(B)}}}g.sort((C,E)=>E.intersectionZ-C.intersectionZ);const _=[];for(let C=this._order.length-1;C>=0;C--){const E=this._order[C];if(u(E))for(let A=g.length-1;A>=0;A--){const R=g[A].feature;if(f[R.layer.id]<C)break;_.push(R),g.pop()}else for(const A of o){const R=A[E];if(R)for(const B of R)_.push(B.feature)}}return _}queryRenderedFeatures(o,u,f){u&&u.filter&&this._validate(a.y.filter,"queryRenderedFeatures.filter",u.filter,null,u);const g={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new a.j(new Error("parameters.layers must be an Array."))),[];for(const E of u.layers){const A=this._layers[E];if(!A)return this.fire(new a.j(new Error(`The layer '${E}' does not exist in the map's style and cannot be queried for features.`))),[];g[A.source]=!0}}const _=[];u.availableImages=this._availableImages;const C=this._serializedAllLayers();for(const E in this.sourceCaches)u.layers&&!g[E]||_.push(sr(this.sourceCaches[E],this._layers,C,o,u,f));return this.placement&&_.push(function(E,A,R,B,F,X,oe){const ie={},ae=X.queryRenderedSymbols(B),ne=[];for(const _e of Object.keys(ae).map(Number))ne.push(oe[_e]);ne.sort(Fn);for(const _e of ne){const Ee=_e.featureIndex.lookupSymbolFeatures(ae[_e.bucketInstanceId],A,_e.bucketIndex,_e.sourceLayerIndex,F.filter,F.layers,F.availableImages,E);for(const pe in Ee){const xe=ie[pe]=ie[pe]||[],Ie=Ee[pe];Ie.sort((Re,je)=>{const Xe=_e.featureSortOrder;if(Xe){const He=Xe.indexOf(Re.featureIndex);return Xe.indexOf(je.featureIndex)-He}return je.featureIndex-Re.featureIndex});for(const Re of Ie)xe.push(Re)}}for(const _e in ie)ie[_e].forEach(Ee=>{const pe=Ee.feature,xe=R[E[_e].source].getFeatureState(pe.layer["source-layer"],pe.id);pe.source=pe.layer.source,pe.layer["source-layer"]&&(pe.sourceLayer=pe.layer["source-layer"]),pe.state=xe});return ie}(this._layers,C,this.sourceCaches,o,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(o,u){u&&u.filter&&this._validate(a.y.filter,"querySourceFeatures.filter",u.filter,null,u);const f=this.sourceCaches[o];return f?function(g,_){const C=g.getRenderableIds().map(R=>g.getTileByID(R)),E=[],A={};for(let R=0;R<C.length;R++){const B=C[R],F=B.tileID.canonical.key;A[F]||(A[F]=!0,B.querySourceFeatures(E,_))}return E}(f,u):[]}addSourceType(o,u,f){return At(o)?f(new Error(`A source type called "${o}" already exists.`)):(((g,_)=>{Ut[g]=_})(o,u),u.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:u.workerSourceURL},f):f(null,null))}getLight(){return this.light.getLight()}setLight(o,u={}){this._checkLoaded();const f=this.light.getLight();let g=!1;for(const C in o)if(!a.aG(o[C],f[C])){g=!0;break}if(!g)return;const _={now:a.h.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,u),this.light.updateTransitions(_)}_validate(o,u,f,g,_={}){return(!_||_.validate!==!1)&&ii(this,o.call(a.y,a.e({key:u,style:this.serialize(),value:f,styleSpec:a.v},g)))}_remove(o=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const f=this.sourceCaches[u];f.setEventedParent(null),f.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(o)}_clearSource(o){this.sourceCaches[o].clearTiles()}_reloadSource(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()}_updateSources(o){for(const u in this.sourceCaches)this.sourceCaches[u].update(o,this.map.terrain)}_generateCollisionBoxes(){for(const o in this.sourceCaches)this._reloadSource(o)}_updatePlacement(o,u,f,g,_=!1){let C=!1,E=!1;const A={};for(const R of this._order){const B=this._layers[R];if(B.type!=="symbol")continue;if(!A[B.source]){const X=this.sourceCaches[B.source];A[B.source]=X.getRenderableIds(!0).map(oe=>X.getTileByID(oe)).sort((oe,ie)=>ie.tileID.overscaledZ-oe.tileID.overscaledZ||(oe.tileID.isLessThan(ie.tileID)?-1:1))}const F=this.crossTileSymbolIndex.addLayer(B,A[B.source],o.center.lng);C=C||F}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||f===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.h.now(),o.zoom))&&(this.pauseablePlacement=new Qa(o,this.map.terrain,this._order,_,u,f,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,A),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.h.now()),E=!0),C&&this.pauseablePlacement.placement.setStale()),E||C)for(const R of this._order){const B=this._layers[R];B.type==="symbol"&&this.placement.updateLayerOpacities(B,A[B.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.h.now())}_releaseSymbolFadeTiles(){for(const o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,u,f){this.imageManager.getImages(u.icons,f),this._updateTilesForChangedImages();const g=this.sourceCaches[u.source];g&&g.setDependencies(u.tileID.key,u.type,u.icons)}getGlyphs(o,u,f){this.glyphManager.getGlyphs(u.stacks,f);const g=this.sourceCaches[u.source];g&&g.setDependencies(u.tileID.key,u.type,[""])}getResource(o,u,f){return a.m(u,f)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(o,u={}){this._checkLoaded(),o&&this._validate(a.y.glyphs,"glyphs",o,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=o,this.glyphManager.entries={},this.glyphManager.setURL(o))}addSprite(o,u,f={},g){this._checkLoaded();const _=[{id:o,url:u}],C=[...he(this.stylesheet.sprite),..._];this._validate(a.y.sprite,"sprite",C,null,f)||(this.stylesheet.sprite=C,this._loadSprite(_,!0,g))}removeSprite(o){this._checkLoaded();const u=he(this.stylesheet.sprite);if(u.find(f=>f.id===o)){if(this._spritesImagesIds[o])for(const f of this._spritesImagesIds[o])this.imageManager.removeImage(f),this._changedImages[f]=!0;u.splice(u.findIndex(f=>f.id===o),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[o],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.k("data",{dataType:"style"}))}else this.fire(new a.j(new Error(`Sprite "${o}" doesn't exists on this map.`)))}getSprite(){return he(this.stylesheet.sprite)}setSprite(o,u={},f){this._checkLoaded(),o&&this._validate(a.y.sprite,"sprite",o,null,u)||(this.stylesheet.sprite=o,o?this._loadSprite(o,!0,f):(this._unloadSprite(),f&&f(null)))}}Kr.registerForPluginStateChange=a.aK;var Jc=a.Q([{name:"a_pos",type:"Int16",components:2}]),tl="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const er={prelude:bn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:bn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:bn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:bn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:bn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:bn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:bn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:bn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:bn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:bn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:bn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:bn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:bn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:bn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:bn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:bn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:bn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:bn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:bn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:bn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:bn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:bn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:bn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:bn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",tl),terrainDepth:bn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",tl),terrainCoords:bn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",tl)};function bn(y,o){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,f=o.match(/attribute ([\w]+) ([\w]+)/g),g=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=o.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=_?_.concat(g):g,E={};return{fragmentSource:y=y.replace(u,(A,R,B,F,X)=>(E[X]=!0,R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${B} ${F} ${X};
#else
uniform ${B} ${F} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${B} ${F} ${X} = u_${X};
#endif
`)),vertexSource:o=o.replace(u,(A,R,B,F,X)=>{const oe=F==="float"?"vec2":"vec4",ie=X.match(/color/)?"color":oe;return E[X]?R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${B} ${oe} a_${X};
varying ${B} ${F} ${X};
#else
uniform ${B} ${F} u_${X};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${B} ${F} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${ie}(a_${X}, u_${X}_t);
#else
    ${B} ${F} ${X} = u_${X};
#endif
`:R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${B} ${oe} a_${X};
#else
uniform ${B} ${F} u_${X};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${B} ${F} ${X} = a_${X};
#else
    ${B} ${F} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${B} ${F} ${X} = unpack_mix_${ie}(a_${X}, u_${X}_t);
#else
    ${B} ${F} ${X} = u_${X};
#endif
`}),staticAttributes:f,staticUniforms:C}}class va{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(o,u,f,g,_,C,E,A,R){this.context=o;let B=this.boundPaintVertexBuffers.length!==g.length;for(let F=0;!B&&F<g.length;F++)this.boundPaintVertexBuffers[F]!==g[F]&&(B=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==f||B||this.boundIndexBuffer!==_||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==E||this.boundDynamicVertexBuffer2!==A||this.boundDynamicVertexBuffer3!==R?this.freshBind(u,f,g,_,C,E,A,R):(o.bindVertexArray.set(this.vao),E&&E.bind(),_&&_.dynamicDraw&&_.bind(),A&&A.bind(),R&&R.bind())}freshBind(o,u,f,g,_,C,E,A){const R=o.numAttributes,B=this.context,F=B.gl;this.vao&&this.destroy(),this.vao=B.createVertexArray(),B.bindVertexArray.set(this.vao),this.boundProgram=o,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=f,this.boundIndexBuffer=g,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=E,this.boundDynamicVertexBuffer3=A,u.enableAttributes(F,o);for(const X of f)X.enableAttributes(F,o);C&&C.enableAttributes(F,o),E&&E.enableAttributes(F,o),A&&A.enableAttributes(F,o),u.bind(),u.setVertexAttribPointers(F,o,_);for(const X of f)X.bind(),X.setVertexAttribPointers(F,o,_);C&&(C.bind(),C.setVertexAttribPointers(F,o,_)),g&&g.bind(),E&&(E.bind(),E.setVertexAttribPointers(F,o,_)),A&&(A.bind(),A.setVertexAttribPointers(F,o,_)),B.currentNumAttributes=R}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function ar(y){const o=[];for(let u=0;u<y.length;u++){if(y[u]===null)continue;const f=y[u].split(" ");o.push(f.pop())}return o}class Qc{constructor(o,u,f,g,_,C){const E=o.gl;this.program=E.createProgram();const A=ar(u.staticAttributes),R=f?f.getBinderAttributes():[],B=A.concat(R),F=er.prelude.staticUniforms?ar(er.prelude.staticUniforms):[],X=u.staticUniforms?ar(u.staticUniforms):[],oe=f?f.getBinderUniforms():[],ie=F.concat(X).concat(oe),ae=[];for(const Re of ie)ae.indexOf(Re)<0&&ae.push(Re);const ne=f?f.defines():[];_&&ne.push("#define OVERDRAW_INSPECTOR;"),C&&ne.push("#define TERRAIN3D;");const _e=ne.concat(er.prelude.fragmentSource,u.fragmentSource).join(`
`),Ee=ne.concat(er.prelude.vertexSource,u.vertexSource).join(`
`),pe=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);if(E.shaderSource(pe,_e),E.compileShader(pe),!E.getShaderParameter(pe,E.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${E.getShaderInfoLog(pe)}`);E.attachShader(this.program,pe);const xe=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);if(E.shaderSource(xe,Ee),E.compileShader(xe),!E.getShaderParameter(xe,E.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${E.getShaderInfoLog(xe)}`);E.attachShader(this.program,xe),this.attributes={};const Ie={};this.numAttributes=B.length;for(let Re=0;Re<this.numAttributes;Re++)B[Re]&&(E.bindAttribLocation(this.program,Re,B[Re]),this.attributes[B[Re]]=Re);if(E.linkProgram(this.program),!E.getProgramParameter(this.program,E.LINK_STATUS))throw new Error(`Program failed to link: ${E.getProgramInfoLog(this.program)}`);E.deleteShader(xe),E.deleteShader(pe);for(let Re=0;Re<ae.length;Re++){const je=ae[Re];if(je&&!Ie[je]){const Xe=E.getUniformLocation(this.program,je);Xe&&(Ie[je]=Xe)}}this.fixedUniforms=g(o,Ie),this.terrainUniforms=((Re,je)=>({u_depth:new a.aL(Re,je.u_depth),u_terrain:new a.aL(Re,je.u_terrain),u_terrain_dim:new a.aM(Re,je.u_terrain_dim),u_terrain_matrix:new a.aN(Re,je.u_terrain_matrix),u_terrain_unpack:new a.aO(Re,je.u_terrain_unpack),u_terrain_exaggeration:new a.aM(Re,je.u_terrain_exaggeration)}))(o,Ie),this.binderUniforms=f?f.getUniforms(o,Ie):[]}draw(o,u,f,g,_,C,E,A,R,B,F,X,oe,ie,ae,ne,_e,Ee){const pe=o.gl;if(this.failedToCreate)return;if(o.program.set(this.program),o.setDepthMode(f),o.setStencilMode(g),o.setColorMode(_),o.setCullFace(C),A){o.activeTexture.set(pe.TEXTURE2),pe.bindTexture(pe.TEXTURE_2D,A.depthTexture),o.activeTexture.set(pe.TEXTURE3),pe.bindTexture(pe.TEXTURE_2D,A.texture);for(const Ie in this.terrainUniforms)this.terrainUniforms[Ie].set(A[Ie])}for(const Ie in this.fixedUniforms)this.fixedUniforms[Ie].set(E[Ie]);ae&&ae.setUniforms(o,this.binderUniforms,oe,{zoom:ie});let xe=0;switch(u){case pe.LINES:xe=2;break;case pe.TRIANGLES:xe=3;break;case pe.LINE_STRIP:xe=1}for(const Ie of X.get()){const Re=Ie.vaos||(Ie.vaos={});(Re[R]||(Re[R]=new va)).bind(o,this,B,ae?ae.getPaintVertexBuffers():[],F,Ie.vertexOffset,ne,_e,Ee),pe.drawElements(u,Ie.primitiveLength*xe,pe.UNSIGNED_SHORT,Ie.primitiveOffset*xe*2)}}}function fo(y,o,u){const f=1/ve(u,1,o.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),_=u.tileSize*Math.pow(2,o.transform.tileZoom)/g,C=_*(u.tileID.canonical.x+u.tileID.wrap*g),E=_*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[f,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[C>>16,E>>16],u_pixel_coord_lower:[65535&C,65535&E]}}const Jh=(y,o,u,f)=>{const g=o.style.light,_=g.properties.get("position"),C=[_.x,_.y,_.z],E=function(){var R=new a.A(9);return a.A!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}();g.properties.get("anchor")==="viewport"&&function(R,B){var F=Math.sin(B),X=Math.cos(B);R[0]=X,R[1]=F,R[2]=0,R[3]=-F,R[4]=X,R[5]=0,R[6]=0,R[7]=0,R[8]=1}(E,-o.transform.angle),function(R,B,F){var X=B[0],oe=B[1],ie=B[2];R[0]=X*F[0]+oe*F[3]+ie*F[6],R[1]=X*F[1]+oe*F[4]+ie*F[7],R[2]=X*F[2]+oe*F[5]+ie*F[8]}(C,C,E);const A=g.properties.get("color");return{u_matrix:y,u_lightpos:C,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[A.r,A.g,A.b],u_vertical_gradient:+u,u_opacity:f}},Vs=(y,o,u,f,g,_,C)=>a.e(Jh(y,o,u,f),fo(_,o,C),{u_height_factor:-Math.pow(2,g.overscaledZ)/C.tileSize/8}),rm=y=>({u_matrix:y}),Qh=(y,o,u,f)=>a.e(rm(y),fo(u,o,f)),eu=(y,o)=>({u_matrix:y,u_world:o}),tu=(y,o,u,f,g)=>a.e(Qh(y,o,u,f),{u_world:g}),Us=(y,o,u,f)=>{const g=y.transform;let _,C;if(f.paint.get("circle-pitch-alignment")==="map"){const E=ve(u,1,g.zoom);_=!0,C=[E,E]}else _=!1,C=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_matrix:y.translatePosMatrix(o.posMatrix,u,f.paint.get("circle-translate"),f.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:C}},ed=(y,o,u)=>{const f=ve(u,1,o.zoom),g=Math.pow(2,o.zoom-u.tileID.overscaledZ),_=u.tileID.overscaleFactor();return{u_matrix:y,u_camera_to_center_distance:o.cameraToCenterDistance,u_pixels_to_tile_units:f,u_extrude_scale:[o.pixelsToGLUnits[0]/(f*g),o.pixelsToGLUnits[1]/(f*g)],u_overscale_factor:_}},Xl=(y,o,u=1)=>({u_matrix:y,u_color:o,u_overlay:0,u_overlay_scale:u}),im=y=>({u_matrix:y}),Ev=(y,o,u,f)=>({u_matrix:y,u_extrude_scale:ve(o,1,u),u_intensity:f});function td(y,o){const u=Math.pow(2,o.canonical.z),f=o.canonical.y;return[new a.U(0,f/u).toLngLat().lat,new a.U(0,(f+1)/u).toLngLat().lat]}const nd=(y,o,u,f)=>{const g=y.transform;return{u_matrix:nu(y,o,u,f),u_ratio:1/ve(o,1,g.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},om=(y,o,u,f,g)=>a.e(nd(y,o,u,g),{u_image:0,u_image_height:f}),Pv=(y,o,u,f,g)=>{const _=y.transform,C=am(o,_);return{u_matrix:nu(y,o,u,g),u_texsize:o.imageAtlasTexture.size,u_ratio:1/ve(o,1,_.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[C,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},sm=(y,o,u,f,g,_)=>{const C=y.lineAtlas,E=am(o,y.transform),A=u.layout.get("line-cap")==="round",R=C.getDash(f.from,A),B=C.getDash(f.to,A),F=R.width*g.fromScale,X=B.width*g.toScale;return a.e(nd(y,o,u,_),{u_patternscale_a:[E/F,-R.height/2],u_patternscale_b:[E/X,-B.height/2],u_sdfgamma:C.width/(256*Math.min(F,X)*y.pixelRatio)/2,u_image:0,u_tex_y_a:R.y,u_tex_y_b:B.y,u_mix:g.t})};function am(y,o){return 1/ve(y,1,o.tileZoom)}function nu(y,o,u,f){return y.translatePosMatrix(f?f.posMatrix:o.tileID.posMatrix,o,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const lm=(y,o,u,f,g)=>{return{u_matrix:y,u_tl_parent:o,u_scale_parent:u,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(C=g.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:cm(g.paint.get("raster-hue-rotate"))};var _,C};function cm(y){y*=Math.PI/180;const o=Math.sin(y),u=Math.cos(y);return[(2*u+1)/3,(-Math.sqrt(3)*o-u+1)/3,(Math.sqrt(3)*o-u+1)/3]}const rd=(y,o,u,f,g,_,C,E,A,R)=>{const B=g.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:B.cameraToCenterDistance,u_pitch:B.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:B.width/B.height,u_fade_change:g.options.fadeDuration?g.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:C,u_coord_matrix:E,u_is_text:+A,u_pitch_with_map:+f,u_texsize:R,u_texture:0}},id=(y,o,u,f,g,_,C,E,A,R,B)=>{const F=g.transform;return a.e(rd(y,o,u,f,g,_,C,E,A,R),{u_gamma_scale:f?Math.cos(F._pitch)*F.cameraToCenterDistance:1,u_device_pixel_ratio:g.pixelRatio,u_is_halo:+B})},_a=(y,o,u,f,g,_,C,E,A,R)=>a.e(id(y,o,u,f,g,_,C,E,!0,A,!0),{u_texsize_icon:R,u_texture_icon:1}),ru=(y,o,u)=>({u_matrix:y,u_opacity:o,u_color:u}),mo=(y,o,u,f,g,_)=>a.e(function(C,E,A,R){const B=A.imageManager.getPattern(C.from.toString()),F=A.imageManager.getPattern(C.to.toString()),{width:X,height:oe}=A.imageManager.getPixelSize(),ie=Math.pow(2,R.tileID.overscaledZ),ae=R.tileSize*Math.pow(2,A.transform.tileZoom)/ie,ne=ae*(R.tileID.canonical.x+R.tileID.wrap*ie),_e=ae*R.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:B.tl,u_pattern_br_a:B.br,u_pattern_tl_b:F.tl,u_pattern_br_b:F.br,u_texsize:[X,oe],u_mix:E.t,u_pattern_size_a:B.displaySize,u_pattern_size_b:F.displaySize,u_scale_a:E.fromScale,u_scale_b:E.toScale,u_tile_units_to_pixels:1/ve(R,1,A.transform.tileZoom),u_pixel_coord_upper:[ne>>16,_e>>16],u_pixel_coord_lower:[65535&ne,65535&_e]}}(f,_,u,g),{u_matrix:y,u_opacity:o}),iu={fillExtrusion:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_lightpos:new a.aP(y,o.u_lightpos),u_lightintensity:new a.aM(y,o.u_lightintensity),u_lightcolor:new a.aP(y,o.u_lightcolor),u_vertical_gradient:new a.aM(y,o.u_vertical_gradient),u_opacity:new a.aM(y,o.u_opacity)}),fillExtrusionPattern:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_lightpos:new a.aP(y,o.u_lightpos),u_lightintensity:new a.aM(y,o.u_lightintensity),u_lightcolor:new a.aP(y,o.u_lightcolor),u_vertical_gradient:new a.aM(y,o.u_vertical_gradient),u_height_factor:new a.aM(y,o.u_height_factor),u_image:new a.aL(y,o.u_image),u_texsize:new a.aQ(y,o.u_texsize),u_pixel_coord_upper:new a.aQ(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,o.u_pixel_coord_lower),u_scale:new a.aP(y,o.u_scale),u_fade:new a.aM(y,o.u_fade),u_opacity:new a.aM(y,o.u_opacity)}),fill:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix)}),fillPattern:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_image:new a.aL(y,o.u_image),u_texsize:new a.aQ(y,o.u_texsize),u_pixel_coord_upper:new a.aQ(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,o.u_pixel_coord_lower),u_scale:new a.aP(y,o.u_scale),u_fade:new a.aM(y,o.u_fade)}),fillOutline:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_world:new a.aQ(y,o.u_world)}),fillOutlinePattern:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_world:new a.aQ(y,o.u_world),u_image:new a.aL(y,o.u_image),u_texsize:new a.aQ(y,o.u_texsize),u_pixel_coord_upper:new a.aQ(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,o.u_pixel_coord_lower),u_scale:new a.aP(y,o.u_scale),u_fade:new a.aM(y,o.u_fade)}),circle:(y,o)=>({u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_scale_with_map:new a.aL(y,o.u_scale_with_map),u_pitch_with_map:new a.aL(y,o.u_pitch_with_map),u_extrude_scale:new a.aQ(y,o.u_extrude_scale),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_matrix:new a.aN(y,o.u_matrix)}),collisionBox:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_pixels_to_tile_units:new a.aM(y,o.u_pixels_to_tile_units),u_extrude_scale:new a.aQ(y,o.u_extrude_scale),u_overscale_factor:new a.aM(y,o.u_overscale_factor)}),collisionCircle:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_inv_matrix:new a.aN(y,o.u_inv_matrix),u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_viewport_size:new a.aQ(y,o.u_viewport_size)}),debug:(y,o)=>({u_color:new a.aR(y,o.u_color),u_matrix:new a.aN(y,o.u_matrix),u_overlay:new a.aL(y,o.u_overlay),u_overlay_scale:new a.aM(y,o.u_overlay_scale)}),clippingMask:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix)}),heatmap:(y,o)=>({u_extrude_scale:new a.aM(y,o.u_extrude_scale),u_intensity:new a.aM(y,o.u_intensity),u_matrix:new a.aN(y,o.u_matrix)}),heatmapTexture:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_world:new a.aQ(y,o.u_world),u_image:new a.aL(y,o.u_image),u_color_ramp:new a.aL(y,o.u_color_ramp),u_opacity:new a.aM(y,o.u_opacity)}),hillshade:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_image:new a.aL(y,o.u_image),u_latrange:new a.aQ(y,o.u_latrange),u_light:new a.aQ(y,o.u_light),u_shadow:new a.aR(y,o.u_shadow),u_highlight:new a.aR(y,o.u_highlight),u_accent:new a.aR(y,o.u_accent)}),hillshadePrepare:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_image:new a.aL(y,o.u_image),u_dimension:new a.aQ(y,o.u_dimension),u_zoom:new a.aM(y,o.u_zoom),u_unpack:new a.aO(y,o.u_unpack)}),line:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_ratio:new a.aM(y,o.u_ratio),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,o.u_units_to_pixels)}),lineGradient:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_ratio:new a.aM(y,o.u_ratio),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,o.u_units_to_pixels),u_image:new a.aL(y,o.u_image),u_image_height:new a.aM(y,o.u_image_height)}),linePattern:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_texsize:new a.aQ(y,o.u_texsize),u_ratio:new a.aM(y,o.u_ratio),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_image:new a.aL(y,o.u_image),u_units_to_pixels:new a.aQ(y,o.u_units_to_pixels),u_scale:new a.aP(y,o.u_scale),u_fade:new a.aM(y,o.u_fade)}),lineSDF:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_ratio:new a.aM(y,o.u_ratio),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_units_to_pixels:new a.aQ(y,o.u_units_to_pixels),u_patternscale_a:new a.aQ(y,o.u_patternscale_a),u_patternscale_b:new a.aQ(y,o.u_patternscale_b),u_sdfgamma:new a.aM(y,o.u_sdfgamma),u_image:new a.aL(y,o.u_image),u_tex_y_a:new a.aM(y,o.u_tex_y_a),u_tex_y_b:new a.aM(y,o.u_tex_y_b),u_mix:new a.aM(y,o.u_mix)}),raster:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_tl_parent:new a.aQ(y,o.u_tl_parent),u_scale_parent:new a.aM(y,o.u_scale_parent),u_buffer_scale:new a.aM(y,o.u_buffer_scale),u_fade_t:new a.aM(y,o.u_fade_t),u_opacity:new a.aM(y,o.u_opacity),u_image0:new a.aL(y,o.u_image0),u_image1:new a.aL(y,o.u_image1),u_brightness_low:new a.aM(y,o.u_brightness_low),u_brightness_high:new a.aM(y,o.u_brightness_high),u_saturation_factor:new a.aM(y,o.u_saturation_factor),u_contrast_factor:new a.aM(y,o.u_contrast_factor),u_spin_weights:new a.aP(y,o.u_spin_weights)}),symbolIcon:(y,o)=>({u_is_size_zoom_constant:new a.aL(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,o.u_is_size_feature_constant),u_size_t:new a.aM(y,o.u_size_t),u_size:new a.aM(y,o.u_size),u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_pitch:new a.aM(y,o.u_pitch),u_rotate_symbol:new a.aL(y,o.u_rotate_symbol),u_aspect_ratio:new a.aM(y,o.u_aspect_ratio),u_fade_change:new a.aM(y,o.u_fade_change),u_matrix:new a.aN(y,o.u_matrix),u_label_plane_matrix:new a.aN(y,o.u_label_plane_matrix),u_coord_matrix:new a.aN(y,o.u_coord_matrix),u_is_text:new a.aL(y,o.u_is_text),u_pitch_with_map:new a.aL(y,o.u_pitch_with_map),u_texsize:new a.aQ(y,o.u_texsize),u_texture:new a.aL(y,o.u_texture)}),symbolSDF:(y,o)=>({u_is_size_zoom_constant:new a.aL(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,o.u_is_size_feature_constant),u_size_t:new a.aM(y,o.u_size_t),u_size:new a.aM(y,o.u_size),u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_pitch:new a.aM(y,o.u_pitch),u_rotate_symbol:new a.aL(y,o.u_rotate_symbol),u_aspect_ratio:new a.aM(y,o.u_aspect_ratio),u_fade_change:new a.aM(y,o.u_fade_change),u_matrix:new a.aN(y,o.u_matrix),u_label_plane_matrix:new a.aN(y,o.u_label_plane_matrix),u_coord_matrix:new a.aN(y,o.u_coord_matrix),u_is_text:new a.aL(y,o.u_is_text),u_pitch_with_map:new a.aL(y,o.u_pitch_with_map),u_texsize:new a.aQ(y,o.u_texsize),u_texture:new a.aL(y,o.u_texture),u_gamma_scale:new a.aM(y,o.u_gamma_scale),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_is_halo:new a.aL(y,o.u_is_halo)}),symbolTextAndIcon:(y,o)=>({u_is_size_zoom_constant:new a.aL(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new a.aL(y,o.u_is_size_feature_constant),u_size_t:new a.aM(y,o.u_size_t),u_size:new a.aM(y,o.u_size),u_camera_to_center_distance:new a.aM(y,o.u_camera_to_center_distance),u_pitch:new a.aM(y,o.u_pitch),u_rotate_symbol:new a.aL(y,o.u_rotate_symbol),u_aspect_ratio:new a.aM(y,o.u_aspect_ratio),u_fade_change:new a.aM(y,o.u_fade_change),u_matrix:new a.aN(y,o.u_matrix),u_label_plane_matrix:new a.aN(y,o.u_label_plane_matrix),u_coord_matrix:new a.aN(y,o.u_coord_matrix),u_is_text:new a.aL(y,o.u_is_text),u_pitch_with_map:new a.aL(y,o.u_pitch_with_map),u_texsize:new a.aQ(y,o.u_texsize),u_texsize_icon:new a.aQ(y,o.u_texsize_icon),u_texture:new a.aL(y,o.u_texture),u_texture_icon:new a.aL(y,o.u_texture_icon),u_gamma_scale:new a.aM(y,o.u_gamma_scale),u_device_pixel_ratio:new a.aM(y,o.u_device_pixel_ratio),u_is_halo:new a.aL(y,o.u_is_halo)}),background:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_opacity:new a.aM(y,o.u_opacity),u_color:new a.aR(y,o.u_color)}),backgroundPattern:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_opacity:new a.aM(y,o.u_opacity),u_image:new a.aL(y,o.u_image),u_pattern_tl_a:new a.aQ(y,o.u_pattern_tl_a),u_pattern_br_a:new a.aQ(y,o.u_pattern_br_a),u_pattern_tl_b:new a.aQ(y,o.u_pattern_tl_b),u_pattern_br_b:new a.aQ(y,o.u_pattern_br_b),u_texsize:new a.aQ(y,o.u_texsize),u_mix:new a.aM(y,o.u_mix),u_pattern_size_a:new a.aQ(y,o.u_pattern_size_a),u_pattern_size_b:new a.aQ(y,o.u_pattern_size_b),u_scale_a:new a.aM(y,o.u_scale_a),u_scale_b:new a.aM(y,o.u_scale_b),u_pixel_coord_upper:new a.aQ(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new a.aQ(y,o.u_pixel_coord_lower),u_tile_units_to_pixels:new a.aM(y,o.u_tile_units_to_pixels)}),terrain:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_texture:new a.aL(y,o.u_texture),u_ele_delta:new a.aM(y,o.u_ele_delta)}),terrainDepth:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_ele_delta:new a.aM(y,o.u_ele_delta)}),terrainCoords:(y,o)=>({u_matrix:new a.aN(y,o.u_matrix),u_texture:new a.aL(y,o.u_texture),u_terrain_coords_id:new a.aM(y,o.u_terrain_coords_id),u_ele_delta:new a.aM(y,o.u_ele_delta)})};class ou{constructor(o,u,f){this.context=o;const g=o.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!f,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Yl={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class su{constructor(o,u,f,g){this.length=u.length,this.attributes=f,this.itemSize=u.bytesPerElement,this.dynamicDraw=g,this.context=o;const _=o.gl;this.buffer=_.createBuffer(),o.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){if(o.length!==this.length)throw new Error(`Length of new data is ${o.length}, which doesn't match current length of ${this.length}`);const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,u){for(let f=0;f<this.attributes.length;f++){const g=u.attributes[this.attributes[f].name];g!==void 0&&o.enableVertexAttribArray(g)}}setVertexAttribPointers(o,u,f){for(let g=0;g<this.attributes.length;g++){const _=this.attributes[g],C=u.attributes[_.name];C!==void 0&&o.vertexAttribPointer(C,_.components,o[Yl[_.type]],!1,this.itemSize,_.offset+this.itemSize*(f||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const nl=new WeakMap;function Ws(y){var o;if(nl.has(y))return nl.get(y);{const u=(o=y.getParameter(y.VERSION))===null||o===void 0?void 0:o.startsWith("WebGL 2.0");return nl.set(y,u),u}}class pn{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class au extends pn{getDefault(){return a.aT.transparent}set(o){const u=this.current;(o.r!==u.r||o.g!==u.g||o.b!==u.b||o.a!==u.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class Xi extends pn{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class Yi extends pn{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class od extends pn{getDefault(){return[!0,!0,!0,!0]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||o[3]!==u[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class lu extends pn{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class cu extends pn{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class sd extends pn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const u=this.current;(o.func!==u.func||o.ref!==u.ref||o.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class ad extends pn{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class uu extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=o,this.dirty=!1}}class ld extends pn{getDefault(){return[0,1]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class cd extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=o,this.dirty=!1}}class hu extends pn{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class um extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.BLEND):u.disable(u.BLEND),this.current=o,this.dirty=!1}}class hm extends pn{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class rl extends pn{getDefault(){return a.aT.transparent}set(o){const u=this.current;(o.r!==u.r||o.g!==u.g||o.b!==u.b||o.a!==u.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class kv extends pn{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class Av extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;o?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=o,this.dirty=!1}}class Iv extends pn{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class Mv extends pn{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class Rv extends pn{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class Lv extends pn{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class ud extends pn{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const u=this.current;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||o[3]!==u[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class du extends pn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class hd extends pn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class dd extends pn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class il extends pn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class dm extends pn{getDefault(){return null}set(o){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class pm extends pn{getDefault(){return null}set(o){var u;if(o===this.current&&!this.dirty)return;const f=this.gl;Ws(f)?f.bindVertexArray(o):(u=f.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(o),this.current=o,this.dirty=!1}}class pd extends pn{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class xa extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class fm extends pn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class Gs extends pn{constructor(o,u){super(o),this.context=o,this.parent=u}getDefault(){return null}}class ol extends Gs{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class mm extends Gs{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class fd extends Gs{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class wn{constructor(o,u,f,g,_){this.context=o,this.width=u,this.height=f;const C=o.gl,E=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new ol(o,E),g)this.depthAttachment=_?new fd(o,E):new mm(o,E);else if(_)throw new Error("Stencil cannot be setted without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const o=this.context.gl,u=this.colorAttachment.get();if(u&&o.deleteTexture(u),this.depthAttachment){const f=this.depthAttachment.get();f&&o.deleteRenderbuffer(f)}o.deleteFramebuffer(this.framebuffer)}}class tr{constructor(o,u,f){this.blendFunction=o,this.blendColor=u,this.mask=f}}tr.Replace=[1,0],tr.disabled=new tr(tr.Replace,a.aT.transparent,[!1,!1,!1,!1]),tr.unblended=new tr(tr.Replace,a.aT.transparent,[!0,!0,!0,!0]),tr.alphaBlended=new tr([1,771],a.aT.transparent,[!0,!0,!0,!0]);class Dv{constructor(o){var u,f;if(this.gl=o,this.clearColor=new au(this),this.clearDepth=new Xi(this),this.clearStencil=new Yi(this),this.colorMask=new od(this),this.depthMask=new lu(this),this.stencilMask=new cu(this),this.stencilFunc=new sd(this),this.stencilOp=new ad(this),this.stencilTest=new uu(this),this.depthRange=new ld(this),this.depthTest=new cd(this),this.depthFunc=new hu(this),this.blend=new um(this),this.blendFunc=new hm(this),this.blendColor=new rl(this),this.blendEquation=new kv(this),this.cullFace=new Av(this),this.cullFaceSide=new Iv(this),this.frontFace=new Mv(this),this.program=new Rv(this),this.activeTexture=new Lv(this),this.viewport=new ud(this),this.bindFramebuffer=new du(this),this.bindRenderbuffer=new hd(this),this.bindTexture=new dd(this),this.bindVertexBuffer=new il(this),this.bindElementBuffer=new dm(this),this.bindVertexArray=new pm(this),this.pixelStoreUnpack=new pd(this),this.pixelStoreUnpackPremultiplyAlpha=new xa(this),this.pixelStoreUnpackFlipY=new fm(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),Ws(o)){this.HALF_FLOAT=o.HALF_FLOAT;const g=o.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=o.RGBA16F)!==null&&u!==void 0?u:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(f=o.RGB16F)!==null&&f!==void 0?f:g==null?void 0:g.RGB16F_EXT,o.getExtension("EXT_color_buffer_float")}else{o.getExtension("EXT_color_buffer_half_float"),o.getExtension("OES_texture_half_float_linear");const g=o.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,u){return new ou(this,o,u)}createVertexBuffer(o,u,f){return new su(this,o,u,f)}createRenderbuffer(o,u,f){const g=this.gl,_=g.createRenderbuffer();return this.bindRenderbuffer.set(_),g.renderbufferStorage(g.RENDERBUFFER,o,u,f),this.bindRenderbuffer.set(null),_}createFramebuffer(o,u,f,g){return new wn(this,o,u,f,g)}clear({color:o,depth:u,stencil:f}){const g=this.gl;let _=0;o&&(_|=g.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(_|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),f!==void 0&&(_|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(f),this.stencilMask.set(255)),g.clear(_)}setCullFace(o){o.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){a.aG(o.blendFunction,tr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}createVertexArray(){var o;return Ws(this.gl)?this.gl.createVertexArray():(o=this.gl.getExtension("OES_vertex_array_object"))===null||o===void 0?void 0:o.createVertexArrayOES()}deleteVertexArray(o){var u;return Ws(this.gl)?this.gl.deleteVertexArray(o):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(o)}unbindVAO(){this.bindVertexArray.set(null)}}class fn{constructor(o,u,f){this.func=o,this.mask=u,this.range=f}}fn.ReadOnly=!1,fn.ReadWrite=!0,fn.disabled=new fn(519,fn.ReadOnly,[0,1]);const ba=7680;class nr{constructor(o,u,f,g,_,C){this.test=o,this.ref=u,this.mask=f,this.fail=g,this.depthFail=_,this.pass=C}}nr.disabled=new nr({func:519,mask:0},0,0,ba,ba,ba);class Kn{constructor(o,u,f){this.enable=o,this.mode=u,this.frontFace=f}}let Jl;function gm(y,o,u,f,g,_,C){const E=y.context,A=E.gl,R=y.useProgram("collisionBox"),B=[];let F=0,X=0;for(let pe=0;pe<f.length;pe++){const xe=f[pe],Ie=o.getTile(xe),Re=Ie.getBucket(u);if(!Re)continue;let je=xe.posMatrix;g[0]===0&&g[1]===0||(je=y.translatePosMatrix(xe.posMatrix,Ie,g,_));const Xe=C?Re.textCollisionBox:Re.iconCollisionBox,He=Re.collisionCircleArray;if(He.length>0){const Je=a.Z(),vt=je;a.aU(Je,Re.placementInvProjMatrix,y.transform.glCoordMatrix),a.aU(Je,Je,Re.placementViewportMatrix),B.push({circleArray:He,circleOffset:X,transform:vt,invTransform:Je,coord:xe}),F+=He.length/4,X=F}Xe&&R.draw(E,A.LINES,fn.disabled,nr.disabled,y.colorModeForRenderPass(),Kn.disabled,ed(je,y.transform,Ie),y.style.map.terrain&&y.style.map.terrain.getTerrainData(xe),u.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,null,y.transform.zoom,null,null,Xe.collisionVertexBuffer)}if(!C||!B.length)return;const oe=y.useProgram("collisionCircle"),ie=new a.aV;ie.resize(4*F),ie._trim();let ae=0;for(const pe of B)for(let xe=0;xe<pe.circleArray.length/4;xe++){const Ie=4*xe,Re=pe.circleArray[Ie+0],je=pe.circleArray[Ie+1],Xe=pe.circleArray[Ie+2],He=pe.circleArray[Ie+3];ie.emplace(ae++,Re,je,Xe,He,0),ie.emplace(ae++,Re,je,Xe,He,1),ie.emplace(ae++,Re,je,Xe,He,2),ie.emplace(ae++,Re,je,Xe,He,3)}(!Jl||Jl.length<2*F)&&(Jl=function(pe){const xe=2*pe,Ie=new a.aX;Ie.resize(xe),Ie._trim();for(let Re=0;Re<xe;Re++){const je=6*Re;Ie.uint16[je+0]=4*Re+0,Ie.uint16[je+1]=4*Re+1,Ie.uint16[je+2]=4*Re+2,Ie.uint16[je+3]=4*Re+2,Ie.uint16[je+4]=4*Re+3,Ie.uint16[je+5]=4*Re+0}return Ie}(F));const ne=E.createIndexBuffer(Jl,!0),_e=E.createVertexBuffer(ie,a.aW.members,!0);for(const pe of B){const xe={u_matrix:pe.transform,u_inv_matrix:pe.invTransform,u_camera_to_center_distance:(Ee=y.transform).cameraToCenterDistance,u_viewport_size:[Ee.width,Ee.height]};oe.draw(E,A.TRIANGLES,fn.disabled,nr.disabled,y.colorModeForRenderPass(),Kn.disabled,xe,y.style.map.terrain&&y.style.map.terrain.getTerrainData(pe.coord),u.id,_e,ne,a.S.simpleSegment(0,2*pe.circleOffset,pe.circleArray.length,pe.circleArray.length/2),null,y.transform.zoom,null,null,null)}var Ee;_e.destroy(),ne.destroy()}Kn.disabled=new Kn(!1,1029,2305),Kn.backCCW=new Kn(!0,1029,2305);const md=a.ao(new Float32Array(16));function pu(y,o,u,f,g,_){const{horizontalAlign:C,verticalAlign:E}=a.au(y);return new a.P((-(C-.5)*o/g+f[0])*_,(-(E-.5)*u/g+f[1])*_)}function fu(y,o,u,f,g,_,C,E,A,R,B){const F=y.text.placedSymbolArray,X=y.text.dynamicLayoutVertexArray,oe=y.icon.dynamicLayoutVertexArray,ie={};X.clear();for(let ae=0;ae<F.length;ae++){const ne=F.get(ae),_e=ne.hidden||!ne.crossTileID||y.allowVerticalPlacement&&!ne.placedOrientation?null:f[ne.crossTileID];if(_e){const Ee=new a.P(ne.anchorX,ne.anchorY),pe=dn(Ee,u?C:_,B),xe=It(g.cameraToCenterDistance,pe.signedDistanceFromCamera);let Ie=a.aj(y.textSizeData,A,ne)*xe/a.ap;u&&(Ie*=y.tilePixelRatio/E);const{width:Re,height:je,anchor:Xe,textOffset:He,textBoxScale:Je}=_e,vt=pu(Xe,Re,je,He,Je,Ie),sn=u?dn(Ee.add(vt),_,B).point:pe.point.add(o?vt.rotate(-g.angle):vt),ot=y.allowVerticalPlacement&&ne.placedOrientation===a.ai.vertical?Math.PI/2:0;for(let Rt=0;Rt<ne.numGlyphs;Rt++)a.ak(X,sn,ot);R&&ne.associatedIconIndex>=0&&(ie[ne.associatedIconIndex]={shiftedAnchor:sn,angle:ot})}else te(ne.numGlyphs,X)}if(R){oe.clear();const ae=y.icon.placedSymbolArray;for(let ne=0;ne<ae.length;ne++){const _e=ae.get(ne);if(_e.hidden)te(_e.numGlyphs,oe);else{const Ee=ie[ne];if(Ee)for(let pe=0;pe<_e.numGlyphs;pe++)a.ak(oe,Ee.shiftedAnchor,Ee.angle);else te(_e.numGlyphs,oe)}}y.icon.dynamicLayoutVertexBuffer.updateData(oe)}y.text.dynamicLayoutVertexBuffer.updateData(X)}function gd(y,o,u){return u.iconsInText&&o?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function mu(y,o,u,f,g,_,C,E,A,R,B,F){const X=y.context,oe=X.gl,ie=y.transform,ae=E==="map",ne=A==="map",_e=E!=="viewport"&&u.layout.get("symbol-placement")!=="point",Ee=ae&&!ne&&!_e,pe=!u.layout.get("symbol-sort-key").isConstant();let xe=!1;const Ie=y.depthModeForSublayer(0,fn.ReadOnly),Re=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),je=[];for(const Xe of f){const He=o.getTile(Xe),Je=He.getBucket(u);if(!Je)continue;const vt=g?Je.text:Je.icon;if(!vt||!vt.segments.get().length||!vt.hasVisibleVertices)continue;const sn=vt.programConfigurations.get(u.id),ot=g||Je.sdfIcons,Rt=g?Je.textSizeData:Je.iconSizeData,bt=ne||ie.pitch!==0,Ln=y.useProgram(gd(ot,g,Je),sn),rn=a.ah(Rt,ie.zoom),Qt=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Xe);let an,dr,jn,Xr,Rr=[0,0],vr=null;if(g)dr=He.glyphAtlasTexture,jn=oe.LINEAR,an=He.glyphAtlasTexture.size,Je.iconsInText&&(Rr=He.imageAtlasTexture.size,vr=He.imageAtlasTexture,Xr=bt||y.options.rotating||y.options.zooming||Rt.kind==="composite"||Rt.kind==="camera"?oe.LINEAR:oe.NEAREST);else{const pr=u.layout.get("icon-size").constantOr(0)!==1||Je.iconsNeedLinear;dr=He.imageAtlasTexture,jn=ot||y.options.rotating||y.options.zooming||pr||bt?oe.LINEAR:oe.NEAREST,an=He.imageAtlasTexture.size}const eo=ve(He,1,y.transform.zoom),Hn=Ke(Xe.posMatrix,ne,ae,y.transform,eo),qo=Nn(Xe.posMatrix,ne,ae,y.transform,eo),Zo=Re&&Je.hasTextData(),Zs=u.layout.get("icon-text-fit")!=="none"&&Zo&&Je.hasIconData();if(_e){const pr=y.style.map.terrain?(Ri,fr)=>y.style.map.terrain.getElevation(Xe,Ri,fr):null,Lr=u.layout.get("text-rotation-alignment")==="map";Ze(Je,Xe.posMatrix,y,g,Hn,qo,ne,R,Lr,pr)}const Ea=y.translatePosMatrix(Xe.posMatrix,He,_,C),dl=_e||g&&Re||Zs?md:Hn,oi=y.translatePosMatrix(qo,He,_,C,!0),Yr=ot&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let mi;mi=ot?Je.iconsInText?_a(Rt.kind,rn,Ee,ne,y,Ea,dl,oi,an,Rr):id(Rt.kind,rn,Ee,ne,y,Ea,dl,oi,g,an,!0):rd(Rt.kind,rn,Ee,ne,y,Ea,dl,oi,g,an);const Pa={program:Ln,buffers:vt,uniformValues:mi,atlasTexture:dr,atlasTextureIcon:vr,atlasInterpolation:jn,atlasInterpolationIcon:Xr,isSDF:ot,hasHalo:Yr};if(pe&&Je.canOverlap){xe=!0;const pr=vt.segments.get();for(const Lr of pr)je.push({segments:new a.S([Lr]),sortKey:Lr.sortKey,state:Pa,terrainData:Qt})}else je.push({segments:vt.segments,sortKey:0,state:Pa,terrainData:Qt})}xe&&je.sort((Xe,He)=>Xe.sortKey-He.sortKey);for(const Xe of je){const He=Xe.state;if(X.activeTexture.set(oe.TEXTURE0),He.atlasTexture.bind(He.atlasInterpolation,oe.CLAMP_TO_EDGE),He.atlasTextureIcon&&(X.activeTexture.set(oe.TEXTURE1),He.atlasTextureIcon&&He.atlasTextureIcon.bind(He.atlasInterpolationIcon,oe.CLAMP_TO_EDGE)),He.isSDF){const Je=He.uniformValues;He.hasHalo&&(Je.u_is_halo=1,yd(He.buffers,Xe.segments,u,y,He.program,Ie,B,F,Je,Xe.terrainData)),Je.u_is_halo=0}yd(He.buffers,Xe.segments,u,y,He.program,Ie,B,F,He.uniformValues,Xe.terrainData)}}function yd(y,o,u,f,g,_,C,E,A,R){const B=f.context;g.draw(B,B.gl.TRIANGLES,_,C,E,Kn.disabled,A,R,u.id,y.layoutVertexBuffer,y.indexBuffer,o,u.paint,f.transform.zoom,y.programConfigurations.get(u.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function Ql(y,o,u,f,g){if(!u||!f||!f.imageAtlas)return;const _=f.imageAtlas.patternPositions;let C=_[u.to.toString()],E=_[u.from.toString()];if(!C&&E&&(C=E),!E&&C&&(E=C),!C||!E){const A=g.getPaintProperty(o);C=_[A],E=_[A]}C&&E&&y.setConstantPatternPositions(C,E)}function ec(y,o,u,f,g,_,C){const E=y.context.gl,A="fill-pattern",R=u.paint.get(A),B=R&&R.constantOr(1),F=u.getCrossfadeParameters();let X,oe,ie,ae,ne;C?(oe=B&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=E.LINES):(oe=B?"fillPattern":"fill",X=E.TRIANGLES);const _e=R.constantOr(null);for(const Ee of f){const pe=o.getTile(Ee);if(B&&!pe.patternsLoaded())continue;const xe=pe.getBucket(u);if(!xe)continue;const Ie=xe.programConfigurations.get(u.id),Re=y.useProgram(oe,Ie),je=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ee);B&&(y.context.activeTexture.set(E.TEXTURE0),pe.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),Ie.updatePaintBuffers(F)),Ql(Ie,A,_e,pe,u);const Xe=je?Ee:null,He=y.translatePosMatrix(Xe?Xe.posMatrix:Ee.posMatrix,pe,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(C){ae=xe.indexBuffer2,ne=xe.segments2;const Je=[E.drawingBufferWidth,E.drawingBufferHeight];ie=oe==="fillOutlinePattern"&&B?tu(He,y,F,pe,Je):eu(He,Je)}else ae=xe.indexBuffer,ne=xe.segments,ie=B?Qh(He,y,F,pe):rm(He);Re.draw(y.context,X,g,y.stencilModeForClipping(Ee),_,Kn.disabled,ie,je,u.id,xe.layoutVertexBuffer,ae,ne,u.paint,y.transform.zoom,Ie)}}function tc(y,o,u,f,g,_,C){const E=y.context,A=E.gl,R="fill-extrusion-pattern",B=u.paint.get(R),F=B.constantOr(1),X=u.getCrossfadeParameters(),oe=u.paint.get("fill-extrusion-opacity"),ie=B.constantOr(null);for(const ae of f){const ne=o.getTile(ae),_e=ne.getBucket(u);if(!_e)continue;const Ee=y.style.map.terrain&&y.style.map.terrain.getTerrainData(ae),pe=_e.programConfigurations.get(u.id),xe=y.useProgram(F?"fillExtrusionPattern":"fillExtrusion",pe);F&&(y.context.activeTexture.set(A.TEXTURE0),ne.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),pe.updatePaintBuffers(X)),Ql(pe,R,ie,ne,u);const Ie=y.translatePosMatrix(ae.posMatrix,ne,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Re=u.paint.get("fill-extrusion-vertical-gradient"),je=F?Vs(Ie,y,Re,oe,ae,X,ne):Jh(Ie,y,Re,oe);xe.draw(E,E.gl.TRIANGLES,g,_,C,Kn.backCCW,je,Ee,u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,u.paint,y.transform.zoom,pe,y.style.map.terrain&&_e.centroidVertexBuffer)}}function zv(y,o,u,f,g,_,C){const E=y.context,A=E.gl,R=u.fbo;if(!R)return;const B=y.useProgram("hillshade"),F=y.style.map.terrain&&y.style.map.terrain.getTerrainData(o);E.activeTexture.set(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,R.colorAttachment.get()),B.draw(E,A.TRIANGLES,g,_,C,Kn.disabled,((X,oe,ie,ae)=>{const ne=ie.paint.get("hillshade-shadow-color"),_e=ie.paint.get("hillshade-highlight-color"),Ee=ie.paint.get("hillshade-accent-color");let pe=ie.paint.get("hillshade-illumination-direction")*(Math.PI/180);ie.paint.get("hillshade-illumination-anchor")==="viewport"&&(pe-=X.transform.angle);const xe=!X.options.moving;return{u_matrix:ae?ae.posMatrix:X.transform.calculatePosMatrix(oe.tileID.toUnwrapped(),xe),u_image:0,u_latrange:td(0,oe.tileID),u_light:[ie.paint.get("hillshade-exaggeration"),pe],u_shadow:ne,u_highlight:_e,u_accent:Ee}})(y,u,f,F?o:null),F,f.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments)}function vd(y,o,u,f,g,_){const C=y.context,E=C.gl,A=o.dem;if(A&&A.data){const R=A.dim,B=A.stride,F=A.getPixels();if(C.activeTexture.set(E.TEXTURE1),C.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||y.getTileTexture(B),o.demTexture){const oe=o.demTexture;oe.update(F,{premultiply:!1}),oe.bind(E.NEAREST,E.CLAMP_TO_EDGE)}else o.demTexture=new G(C,F,E.RGBA,{premultiply:!1}),o.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE);C.activeTexture.set(E.TEXTURE0);let X=o.fbo;if(!X){const oe=new G(C,{width:R,height:R,data:null},E.RGBA);oe.bind(E.LINEAR,E.CLAMP_TO_EDGE),X=o.fbo=C.createFramebuffer(R,R,!0,!1),X.colorAttachment.set(oe.texture)}C.bindFramebuffer.set(X.framebuffer),C.viewport.set([0,0,R,R]),y.useProgram("hillshadePrepare").draw(C,E.TRIANGLES,f,g,_,Kn.disabled,((oe,ie)=>{const ae=ie.stride,ne=a.Z();return a.aS(ne,0,a.N,-a.N,0,0,1),a.$(ne,ne,[0,-a.N,0]),{u_matrix:ne,u_image:1,u_dimension:[ae,ae],u_zoom:oe.overscaledZ,u_unpack:ie.getUnpackVector()}})(o.tileID,A),null,u.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments),o.needsHillshadePrepare=!1}}function Bv(y,o,u,f,g,_){const C=f.paint.get("raster-fade-duration");if(!_&&C>0){const E=a.h.now(),A=(E-y.timeAdded)/C,R=o?(E-o.timeAdded)/C:-1,B=u.getSource(),F=g.coveringZoomLevel({tileSize:B.tileSize,roundZoom:B.roundZoom}),X=!o||Math.abs(o.tileID.overscaledZ-F)>Math.abs(y.tileID.overscaledZ-F),oe=X&&y.refreshedUponExpiration?1:a.ad(X?A:1-R,0,1);return y.refreshedUponExpiration&&A>=1&&(y.refreshedUponExpiration=!1),o?{opacity:1,mix:1-oe}:{opacity:oe,mix:0}}return{opacity:1,mix:0}}const ym=new a.aT(1,0,0,1),gu=new a.aT(0,1,0,1),_d=new a.aT(0,0,1,1),vm=new a.aT(1,0,1,1),_m=new a.aT(0,1,1,1);function nc(y,o,u,f){vu(y,0,o+u/2,y.transform.width,u,f)}function yu(y,o,u,f){vu(y,o-u/2,0,u,y.transform.height,f)}function vu(y,o,u,f,g,_){const C=y.context,E=C.gl;E.enable(E.SCISSOR_TEST),E.scissor(o*y.pixelRatio,u*y.pixelRatio,f*y.pixelRatio,g*y.pixelRatio),C.clear({color:_}),E.disable(E.SCISSOR_TEST)}function xm(y,o,u){const f=y.context,g=f.gl,_=u.posMatrix,C=y.useProgram("debug"),E=fn.disabled,A=nr.disabled,R=y.colorModeForRenderPass(),B="$debug",F=y.style.map.terrain&&y.style.map.terrain.getTerrainData(u);f.activeTexture.set(g.TEXTURE0);const X=o.getTileByID(u.key).latestRawTileData,oe=Math.floor((X&&X.byteLength||0)/1024),ie=o.getTile(u).tileSize,ae=512/Math.min(ie,512)*(u.overscaledZ/y.transform.zoom)*.5;let ne=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(ne+=` => ${u.overscaledZ}`),function(_e,Ee){_e.initDebugOverlayCanvas();const pe=_e.debugOverlayCanvas,xe=_e.context.gl,Ie=_e.debugOverlayCanvas.getContext("2d");Ie.clearRect(0,0,pe.width,pe.height),Ie.shadowColor="white",Ie.shadowBlur=2,Ie.lineWidth=1.5,Ie.strokeStyle="white",Ie.textBaseline="top",Ie.font="bold 36px Open Sans, sans-serif",Ie.fillText(Ee,5,5),Ie.strokeText(Ee,5,5),_e.debugOverlayTexture.update(pe),_e.debugOverlayTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)}(y,`${ne} ${oe}kB`),C.draw(f,g.TRIANGLES,E,A,tr.alphaBlended,Kn.disabled,Xl(_,a.aT.transparent,ae),null,B,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),C.draw(f,g.LINE_STRIP,E,A,R,Kn.disabled,Xl(_,a.aT.red),F,B,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function lr(y,o,u){const f=y.context,g=f.gl,_=y.colorModeForRenderPass(),C=new fn(g.LEQUAL,fn.ReadWrite,y.depthRangeFor3D),E=y.useProgram("terrain"),A=o.getTerrainMesh();f.bindFramebuffer.set(null),f.viewport.set([0,0,y.width,y.height]);for(const R of u){const B=y.renderToTexture.getTexture(R),F=o.getTerrainData(R.tileID);f.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,B.texture);const X={u_matrix:y.transform.calculatePosMatrix(R.tileID.toUnwrapped()),u_texture:0,u_ele_delta:o.getMeshFrameDelta(y.transform.zoom)};E.draw(f,g.TRIANGLES,C,nr.disabled,_,Kn.backCCW,X,F,"terrain",A.vertexBuffer,A.indexBuffer,A.segments)}}class wa{constructor(o,u){this.context=new Dv(o),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.Z(),renderTime:0},this.setup(),this.numSublayers=on.maxUnderzooming+on.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Yc}resize(o,u,f){if(this.width=Math.floor(o*f),this.height=Math.floor(u*f),this.pixelRatio=f,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const o=this.context,u=new a.a_;u.emplaceBack(0,0),u.emplaceBack(a.N,0),u.emplaceBack(0,a.N),u.emplaceBack(a.N,a.N),this.tileExtentBuffer=o.createVertexBuffer(u,Jc.members),this.tileExtentSegments=a.S.simpleSegment(0,0,4,2);const f=new a.a_;f.emplaceBack(0,0),f.emplaceBack(a.N,0),f.emplaceBack(0,a.N),f.emplaceBack(a.N,a.N),this.debugBuffer=o.createVertexBuffer(f,Jc.members),this.debugSegments=a.S.simpleSegment(0,0,4,5);const g=new a.V;g.emplaceBack(0,0,0,0),g.emplaceBack(a.N,0,a.N,0),g.emplaceBack(0,a.N,0,a.N),g.emplaceBack(a.N,a.N,a.N,a.N),this.rasterBoundsBuffer=o.createVertexBuffer(g,Vt.members),this.rasterBoundsSegments=a.S.simpleSegment(0,0,4,2);const _=new a.a_;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(_,Jc.members),this.viewportSegments=a.S.simpleSegment(0,0,4,2);const C=new a.a$;C.emplaceBack(0),C.emplaceBack(1),C.emplaceBack(3),C.emplaceBack(2),C.emplaceBack(0),this.tileBorderIndexBuffer=o.createIndexBuffer(C);const E=new a.b0;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(E);const A=this.context.gl;this.stencilClearMode=new nr({func:A.ALWAYS,mask:0},0,255,A.ZERO,A.ZERO,A.ZERO)}clearStencil(){const o=this.context,u=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const f=a.Z();a.aS(f,0,this.width,this.height,0,0,1),a.a0(f,f,[u.drawingBufferWidth,u.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(o,u.TRIANGLES,fn.disabled,this.stencilClearMode,tr.disabled,Kn.disabled,im(f),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(o,u){if(this.currentStencilSource===o.source||!o.isTileClipped()||!u||!u.length)return;this.currentStencilSource=o.source;const f=this.context,g=f.gl;this.nextStencilID+u.length>256&&this.clearStencil(),f.setColorMode(tr.disabled),f.setDepthMode(fn.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const C of u){const E=this._tileClippingMaskIDs[C.key]=this.nextStencilID++,A=this.style.map.terrain&&this.style.map.terrain.getTerrainData(C);_.draw(f,g.TRIANGLES,fn.disabled,new nr({func:g.ALWAYS,mask:0},E,255,g.KEEP,g.KEEP,g.REPLACE),tr.disabled,Kn.disabled,im(C.posMatrix),A,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,u=this.context.gl;return new nr({func:u.NOTEQUAL,mask:255},o,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(o){const u=this.context.gl;return new nr({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(o){const u=this.context.gl,f=o.sort((C,E)=>E.overscaledZ-C.overscaledZ),g=f[f.length-1].overscaledZ,_=f[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const C={};for(let E=0;E<_;E++)C[E+g]=new nr({func:u.GEQUAL,mask:255},E+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=_,[C,f]}return[{[g]:nr.disabled},f]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new tr([o.CONSTANT_COLOR,o.ONE],new a.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?tr.unblended:tr.alphaBlended}depthModeForSublayer(o,u,f){if(!this.opaquePassEnabledForLayer())return fn.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new fn(f||this.context.gl.LEQUAL,u,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,u){this.style=o,this.options=u,this.lineAtlas=o.lineAtlas,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(a.h.now()),this.imageManager.beginFrame();const f=this.style._order,g=this.style.sourceCaches,_={},C={},E={};for(const A in g){const R=g[A];R.used&&R.prepare(this.context),_[A]=R.getVisibleCoordinates(),C[A]=_[A].slice().reverse(),E[A]=R.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let A=0;A<f.length;A++)if(this.style._layers[f[A]].is3D()){this.opaquePassCutoff=A;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const A=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||A.length)&&(a.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(R,B){const F=R.context,X=F.gl,oe=tr.unblended,ie=new fn(X.LEQUAL,fn.ReadWrite,[0,1]),ae=B.getTerrainMesh(),ne=B.sourceCache.getRenderableTiles(),_e=R.useProgram("terrainDepth");F.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),F.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),F.clear({color:a.aT.transparent,depth:1});for(const Ee of ne){const pe=B.getTerrainData(Ee.tileID),xe={u_matrix:R.transform.calculatePosMatrix(Ee.tileID.toUnwrapped()),u_ele_delta:B.getMeshFrameDelta(R.transform.zoom)};_e.draw(F,X.TRIANGLES,ie,nr.disabled,oe,Kn.backCCW,xe,pe,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments)}F.bindFramebuffer.set(null),F.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain),function(R,B){const F=R.context,X=F.gl,oe=tr.unblended,ie=new fn(X.LEQUAL,fn.ReadWrite,[0,1]),ae=B.getTerrainMesh(),ne=B.getCoordsTexture(),_e=B.sourceCache.getRenderableTiles(),Ee=R.useProgram("terrainCoords");F.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),F.viewport.set([0,0,R.width/devicePixelRatio,R.height/devicePixelRatio]),F.clear({color:a.aT.transparent,depth:1}),B.coordsIndex=[];for(const pe of _e){const xe=B.getTerrainData(pe.tileID);F.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ne.texture);const Ie={u_matrix:R.transform.calculatePosMatrix(pe.tileID.toUnwrapped()),u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0,u_ele_delta:B.getMeshFrameDelta(R.transform.zoom)};Ee.draw(F,X.TRIANGLES,ie,nr.disabled,oe,Kn.backCCW,Ie,xe,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments),B.coordsIndex.push(pe.tileID.key)}F.bindFramebuffer.set(null),F.viewport.set([0,0,R.width,R.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const A of f){const R=this.style._layers[A];if(!R.hasOffscreenPass()||R.isHidden(this.transform.zoom))continue;const B=C[R.source];(R.type==="custom"||B.length)&&this.renderLayer(this,g[R.source],R,B)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?a.aT.black:a.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(o._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=f.length-1;this.currentLayer>=0;this.currentLayer--){const A=this.style._layers[f[this.currentLayer]],R=g[A.source],B=_[A.source];this._renderTileClippingMasks(A,B),this.renderLayer(this,R,A,B)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<f.length;this.currentLayer++){const A=this.style._layers[f[this.currentLayer]],R=g[A.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(A))continue;const B=(A.type==="symbol"?E:C)[A.source];this._renderTileClippingMasks(A,_[A.source]),this.renderLayer(this,R,A,B)}if(this.options.showTileBoundaries){const A=function(R,B){let F=null;const X=Object.values(R._layers).flatMap(ne=>ne.source&&!ne.isHidden(B)?[R.sourceCaches[ne.source]]:[]),oe=X.filter(ne=>ne.getSource().type==="vector"),ie=X.filter(ne=>ne.getSource().type!=="vector"),ae=ne=>{(!F||F.getSource().maxzoom<ne.getSource().maxzoom)&&(F=ne)};return oe.forEach(ne=>ae(ne)),F||ie.forEach(ne=>ae(ne)),F}(this.style,this.transform.zoom);A&&function(R,B,F){for(let X=0;X<F.length;X++)xm(R,B,F[X])}(this,A,A.getVisibleCoordinates())}this.options.showPadding&&function(A){const R=A.transform.padding;nc(A,A.transform.height-(R.top||0),3,ym),nc(A,R.bottom||0,3,gu),yu(A,R.left||0,3,_d),yu(A,A.transform.width-(R.right||0),3,vm);const B=A.transform.centerPoint;(function(F,X,oe,ie){vu(F,X-1,oe-10,2,20,ie),vu(F,X-10,oe-1,20,2,ie)})(A,B.x,A.transform.height-B.y,_m)}(this),this.context.setDefault()}renderLayer(o,u,f,g){if(!f.isHidden(this.transform.zoom)&&(f.type==="background"||f.type==="custom"||(g||[]).length))switch(this.id=f.id,f.type){case"symbol":(function(_,C,E,A,R){if(_.renderPass!=="translucent")return;const B=nr.disabled,F=_.colorModeForRenderPass();(E._unevaluatedLayout.hasValue("text-variable-anchor")||E._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,oe,ie,ae,ne,_e,Ee){const pe=oe.transform,xe=ne==="map",Ie=_e==="map";for(const Re of X){const je=ae.getTile(Re),Xe=je.getBucket(ie);if(!Xe||!Xe.text||!Xe.text.segments.get().length)continue;const He=a.ah(Xe.textSizeData,pe.zoom),Je=ve(je,1,oe.transform.zoom),vt=Ke(Re.posMatrix,Ie,xe,oe.transform,Je),sn=ie.layout.get("icon-text-fit")!=="none"&&Xe.hasIconData();if(He){const ot=Math.pow(2,pe.zoom-je.tileID.overscaledZ);fu(Xe,xe,Ie,Ee,pe,vt,Re.posMatrix,ot,He,sn,oe.style.map.terrain?(Rt,bt)=>oe.style.map.terrain.getElevation(Re,Rt,bt):null)}}}(A,_,E,C,E.layout.get("text-rotation-alignment"),E.layout.get("text-pitch-alignment"),R),E.paint.get("icon-opacity").constantOr(1)!==0&&mu(_,C,E,A,!1,E.paint.get("icon-translate"),E.paint.get("icon-translate-anchor"),E.layout.get("icon-rotation-alignment"),E.layout.get("icon-pitch-alignment"),E.layout.get("icon-keep-upright"),B,F),E.paint.get("text-opacity").constantOr(1)!==0&&mu(_,C,E,A,!0,E.paint.get("text-translate"),E.paint.get("text-translate-anchor"),E.layout.get("text-rotation-alignment"),E.layout.get("text-pitch-alignment"),E.layout.get("text-keep-upright"),B,F),C.map.showCollisionBoxes&&(gm(_,C,E,A,E.paint.get("text-translate"),E.paint.get("text-translate-anchor"),!0),gm(_,C,E,A,E.paint.get("icon-translate"),E.paint.get("icon-translate-anchor"),!1))})(o,u,f,g,this.style.placement.variableOffsets);break;case"circle":(function(_,C,E,A){if(_.renderPass!=="translucent")return;const R=E.paint.get("circle-opacity"),B=E.paint.get("circle-stroke-width"),F=E.paint.get("circle-stroke-opacity"),X=!E.layout.get("circle-sort-key").isConstant();if(R.constantOr(1)===0&&(B.constantOr(1)===0||F.constantOr(1)===0))return;const oe=_.context,ie=oe.gl,ae=_.depthModeForSublayer(0,fn.ReadOnly),ne=nr.disabled,_e=_.colorModeForRenderPass(),Ee=[];for(let pe=0;pe<A.length;pe++){const xe=A[pe],Ie=C.getTile(xe),Re=Ie.getBucket(E);if(!Re)continue;const je=Re.programConfigurations.get(E.id),Xe=_.useProgram("circle",je),He=Re.layoutVertexBuffer,Je=Re.indexBuffer,vt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe),sn={programConfiguration:je,program:Xe,layoutVertexBuffer:He,indexBuffer:Je,uniformValues:Us(_,xe,Ie,E),terrainData:vt};if(X){const ot=Re.segments.get();for(const Rt of ot)Ee.push({segments:new a.S([Rt]),sortKey:Rt.sortKey,state:sn})}else Ee.push({segments:Re.segments,sortKey:0,state:sn})}X&&Ee.sort((pe,xe)=>pe.sortKey-xe.sortKey);for(const pe of Ee){const{programConfiguration:xe,program:Ie,layoutVertexBuffer:Re,indexBuffer:je,uniformValues:Xe,terrainData:He}=pe.state;Ie.draw(oe,ie.TRIANGLES,ae,ne,_e,Kn.disabled,Xe,He,E.id,Re,je,pe.segments,E.paint,_.transform.zoom,xe)}})(o,u,f,g);break;case"heatmap":(function(_,C,E,A){if(E.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const R=_.context,B=R.gl,F=nr.disabled,X=new tr([B.ONE,B.ONE],a.aT.transparent,[!0,!0,!0,!0]);(function(oe,ie,ae){const ne=oe.gl;oe.activeTexture.set(ne.TEXTURE1),oe.viewport.set([0,0,ie.width/4,ie.height/4]);let _e=ae.heatmapFbo;if(_e)ne.bindTexture(ne.TEXTURE_2D,_e.colorAttachment.get()),oe.bindFramebuffer.set(_e.framebuffer);else{const Ee=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,Ee),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),_e=ae.heatmapFbo=oe.createFramebuffer(ie.width/4,ie.height/4,!1,!1),function(pe,xe,Ie,Re){var je,Xe;const He=pe.gl,Je=(je=pe.HALF_FLOAT)!==null&&je!==void 0?je:He.UNSIGNED_BYTE,vt=(Xe=pe.RGBA16F)!==null&&Xe!==void 0?Xe:He.RGBA;He.texImage2D(He.TEXTURE_2D,0,vt,xe.width/4,xe.height/4,0,He.RGBA,Je,null),Re.colorAttachment.set(Ie)}(oe,ie,Ee,_e)}})(R,_,E),R.clear({color:a.aT.transparent});for(let oe=0;oe<A.length;oe++){const ie=A[oe];if(C.hasRenderableParent(ie))continue;const ae=C.getTile(ie),ne=ae.getBucket(E);if(!ne)continue;const _e=ne.programConfigurations.get(E.id),Ee=_.useProgram("heatmap",_e),{zoom:pe}=_.transform;Ee.draw(R,B.TRIANGLES,fn.disabled,F,X,Kn.disabled,Ev(ie.posMatrix,ae,pe,E.paint.get("heatmap-intensity")),null,E.id,ne.layoutVertexBuffer,ne.indexBuffer,ne.segments,E.paint,_.transform.zoom,_e)}R.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(R,B){const F=R.context,X=F.gl,oe=B.heatmapFbo;if(!oe)return;F.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,oe.colorAttachment.get()),F.activeTexture.set(X.TEXTURE1);let ie=B.colorRampTexture;ie||(ie=B.colorRampTexture=new G(F,B.colorRamp,X.RGBA)),ie.bind(X.LINEAR,X.CLAMP_TO_EDGE),R.useProgram("heatmapTexture").draw(F,X.TRIANGLES,fn.disabled,nr.disabled,R.colorModeForRenderPass(),Kn.disabled,((ae,ne,_e,Ee)=>{const pe=a.Z();a.aS(pe,0,ae.width,ae.height,0,0,1);const xe=ae.context.gl;return{u_matrix:pe,u_world:[xe.drawingBufferWidth,xe.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ne.paint.get("heatmap-opacity")}})(R,B),null,B.id,R.viewportBuffer,R.quadTriangleIndexBuffer,R.viewportSegments,B.paint,R.transform.zoom)}(_,E))})(o,u,f,g);break;case"line":(function(_,C,E,A){if(_.renderPass!=="translucent")return;const R=E.paint.get("line-opacity"),B=E.paint.get("line-width");if(R.constantOr(1)===0||B.constantOr(1)===0)return;const F=_.depthModeForSublayer(0,fn.ReadOnly),X=_.colorModeForRenderPass(),oe=E.paint.get("line-dasharray"),ie=E.paint.get("line-pattern"),ae=ie.constantOr(1),ne=E.paint.get("line-gradient"),_e=E.getCrossfadeParameters(),Ee=ae?"linePattern":oe?"lineSDF":ne?"lineGradient":"line",pe=_.context,xe=pe.gl;let Ie=!0;for(const Re of A){const je=C.getTile(Re);if(ae&&!je.patternsLoaded())continue;const Xe=je.getBucket(E);if(!Xe)continue;const He=Xe.programConfigurations.get(E.id),Je=_.context.program.get(),vt=_.useProgram(Ee,He),sn=Ie||vt.program!==Je,ot=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Re),Rt=ie.constantOr(null);if(Rt&&je.imageAtlas){const rn=je.imageAtlas,Qt=rn.patternPositions[Rt.to.toString()],an=rn.patternPositions[Rt.from.toString()];Qt&&an&&He.setConstantPatternPositions(Qt,an)}const bt=ot?Re:null,Ln=ae?Pv(_,je,E,_e,bt):oe?sm(_,je,E,oe,_e,bt):ne?om(_,je,E,Xe.lineClipsArray.length,bt):nd(_,je,E,bt);if(ae)pe.activeTexture.set(xe.TEXTURE0),je.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),He.updatePaintBuffers(_e);else if(oe&&(sn||_.lineAtlas.dirty))pe.activeTexture.set(xe.TEXTURE0),_.lineAtlas.bind(pe);else if(ne){const rn=Xe.gradients[E.id];let Qt=rn.texture;if(E.gradientVersion!==rn.version){let an=256;if(E.stepInterpolant){const dr=C.getSource().maxzoom,jn=Re.canonical.z===dr?Math.ceil(1<<_.transform.maxZoom-Re.canonical.z):1;an=a.ad(a.aY(Xe.maxLineLength/a.N*1024*jn),256,pe.maxTextureSize)}rn.gradient=a.aZ({expression:E.gradientExpression(),evaluationKey:"lineProgress",resolution:an,image:rn.gradient||void 0,clips:Xe.lineClipsArray}),rn.texture?rn.texture.update(rn.gradient):rn.texture=new G(pe,rn.gradient,xe.RGBA),rn.version=E.gradientVersion,Qt=rn.texture}pe.activeTexture.set(xe.TEXTURE0),Qt.bind(E.stepInterpolant?xe.NEAREST:xe.LINEAR,xe.CLAMP_TO_EDGE)}vt.draw(pe,xe.TRIANGLES,F,_.stencilModeForClipping(Re),X,Kn.disabled,Ln,ot,E.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,E.paint,_.transform.zoom,He,Xe.layoutVertexBuffer2),Ie=!1}})(o,u,f,g);break;case"fill":(function(_,C,E,A){const R=E.paint.get("fill-color"),B=E.paint.get("fill-opacity");if(B.constantOr(1)===0)return;const F=_.colorModeForRenderPass(),X=E.paint.get("fill-pattern"),oe=_.opaquePassEnabledForLayer()&&!X.constantOr(1)&&R.constantOr(a.aT.transparent).a===1&&B.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===oe){const ie=_.depthModeForSublayer(1,_.renderPass==="opaque"?fn.ReadWrite:fn.ReadOnly);ec(_,C,E,A,ie,F,!1)}if(_.renderPass==="translucent"&&E.paint.get("fill-antialias")){const ie=_.depthModeForSublayer(E.getPaintProperty("fill-outline-color")?2:0,fn.ReadOnly);ec(_,C,E,A,ie,F,!0)}})(o,u,f,g);break;case"fill-extrusion":(function(_,C,E,A){const R=E.paint.get("fill-extrusion-opacity");if(R!==0&&_.renderPass==="translucent"){const B=new fn(_.context.gl.LEQUAL,fn.ReadWrite,_.depthRangeFor3D);if(R!==1||E.paint.get("fill-extrusion-pattern").constantOr(1))tc(_,C,E,A,B,nr.disabled,tr.disabled),tc(_,C,E,A,B,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const F=_.colorModeForRenderPass();tc(_,C,E,A,B,nr.disabled,F)}}})(o,u,f,g);break;case"hillshade":(function(_,C,E,A){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const R=_.context,B=_.depthModeForSublayer(0,fn.ReadOnly),F=_.colorModeForRenderPass(),[X,oe]=_.renderPass==="translucent"?_.stencilConfigForOverlap(A):[{},A];for(const ie of oe){const ae=C.getTile(ie);ae.needsHillshadePrepare!==void 0&&ae.needsHillshadePrepare&&_.renderPass==="offscreen"?vd(_,ae,E,B,nr.disabled,F):_.renderPass==="translucent"&&zv(_,ie,ae,E,B,X[ie.overscaledZ],F)}R.viewport.set([0,0,_.width,_.height])})(o,u,f,g);break;case"raster":(function(_,C,E,A){if(_.renderPass!=="translucent"||E.paint.get("raster-opacity")===0||!A.length)return;const R=_.context,B=R.gl,F=C.getSource(),X=_.useProgram("raster"),oe=_.colorModeForRenderPass(),[ie,ae]=F instanceof mt?[{},A]:_.stencilConfigForOverlap(A),ne=ae[ae.length-1].overscaledZ,_e=!_.options.moving;for(const Ee of ae){const pe=_.depthModeForSublayer(Ee.overscaledZ-ne,E.paint.get("raster-opacity")===1?fn.ReadWrite:fn.ReadOnly,B.LESS),xe=C.getTile(Ee);xe.registerFadeDuration(E.paint.get("raster-fade-duration"));const Ie=C.findLoadedParent(Ee,0),Re=Bv(xe,Ie,C,E,_.transform,_.style.map.terrain);let je,Xe;const He=E.paint.get("raster-resampling")==="nearest"?B.NEAREST:B.LINEAR;R.activeTexture.set(B.TEXTURE0),xe.texture.bind(He,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),R.activeTexture.set(B.TEXTURE1),Ie?(Ie.texture.bind(He,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),je=Math.pow(2,Ie.tileID.overscaledZ-xe.tileID.overscaledZ),Xe=[xe.tileID.canonical.x*je%1,xe.tileID.canonical.y*je%1]):xe.texture.bind(He,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST);const Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ee),vt=Je?Ee:null,sn=vt?vt.posMatrix:_.transform.calculatePosMatrix(Ee.toUnwrapped(),_e),ot=lm(sn,Xe||[0,0],je||1,Re,E);F instanceof mt?X.draw(R,B.TRIANGLES,pe,nr.disabled,oe,Kn.disabled,ot,Je,E.id,F.boundsBuffer,_.quadTriangleIndexBuffer,F.boundsSegments):X.draw(R,B.TRIANGLES,pe,ie[Ee.overscaledZ],oe,Kn.disabled,ot,Je,E.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(o,u,f,g);break;case"background":(function(_,C,E,A){const R=E.paint.get("background-color"),B=E.paint.get("background-opacity");if(B===0)return;const F=_.context,X=F.gl,oe=_.transform,ie=oe.tileSize,ae=E.paint.get("background-pattern");if(_.isPatternMissing(ae))return;const ne=!ae&&R.a===1&&B===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==ne)return;const _e=nr.disabled,Ee=_.depthModeForSublayer(0,ne==="opaque"?fn.ReadWrite:fn.ReadOnly),pe=_.colorModeForRenderPass(),xe=_.useProgram(ae?"backgroundPattern":"background"),Ie=A||oe.coveringTiles({tileSize:ie,terrain:_.style.map.terrain});ae&&(F.activeTexture.set(X.TEXTURE0),_.imageManager.bind(_.context));const Re=E.getCrossfadeParameters();for(const je of Ie){const Xe=A?je.posMatrix:_.transform.calculatePosMatrix(je.toUnwrapped()),He=ae?mo(Xe,B,_,ae,{tileID:je,tileSize:ie},Re):ru(Xe,B,R),Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(je);xe.draw(F,X.TRIANGLES,Ee,_e,pe,Kn.disabled,He,Je,E.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(o,0,f,g);break;case"custom":(function(_,C,E){const A=_.context,R=E.implementation;if(_.renderPass==="offscreen"){const B=R.prerender;B&&(_.setCustomLayerDefaults(),A.setColorMode(_.colorModeForRenderPass()),B.call(R,A.gl,_.transform.customLayerMatrix()),A.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),A.setColorMode(_.colorModeForRenderPass()),A.setStencilMode(nr.disabled);const B=R.renderingMode==="3d"?new fn(_.context.gl.LEQUAL,fn.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,fn.ReadOnly);A.setDepthMode(B),R.render(A.gl,_.transform.customLayerMatrix()),A.setDirty(),_.setBaseState(),A.bindFramebuffer.set(null)}})(o,0,f)}}translatePosMatrix(o,u,f,g,_){if(!f[0]&&!f[1])return o;const C=_?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(C){const R=Math.sin(C),B=Math.cos(C);f=[f[0]*B-f[1]*R,f[0]*R+f[1]*B]}const E=[_?f[0]:ve(u,f[0],this.transform.zoom),_?f[1]:ve(u,f[1],this.transform.zoom),0],A=new Float32Array(16);return a.$(A,o,E),A}saveTileTexture(o){const u=this._tileTextures[o.size[0]];u?u.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const u=this._tileTextures[o];return u&&u.length>0?u.pop():null}isPatternMissing(o){if(!o)return!1;if(!o.from||!o.to)return!0;const u=this.imageManager.getPattern(o.from.toString()),f=this.imageManager.getPattern(o.to.toString());return!u||!f}useProgram(o,u){this.cache=this.cache||{};const f=o+(u?u.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[f]||(this.cache[f]=new Qc(this.context,er[o],u,iu[o],this._showOverdrawInspector,this.style.map.terrain)),this.cache[f]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new G(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:o,drawingBufferHeight:u}=this.context.gl;return this.width!==o||this.height!==u}}class Ii{constructor(o,u){this.points=o,this.planes=u}static fromInvProjectionMatrix(o,u,f){const g=Math.pow(2,f),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(E=>{const A=1/(E=a.ag([],E,o))[3]/u*g;return a.b3(E,E,[A,A,1/E[3],A])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(E=>{const A=function(X,oe){var ie=oe[0],ae=oe[1],ne=oe[2],_e=ie*ie+ae*ae+ne*ne;return _e>0&&(_e=1/Math.sqrt(_e)),X[0]=oe[0]*_e,X[1]=oe[1]*_e,X[2]=oe[2]*_e,X}([],function(X,oe,ie){var ae=oe[0],ne=oe[1],_e=oe[2],Ee=ie[0],pe=ie[1],xe=ie[2];return X[0]=ne*xe-_e*pe,X[1]=_e*Ee-ae*xe,X[2]=ae*pe-ne*Ee,X}([],ue([],_[E[0]],_[E[1]]),ue([],_[E[2]],_[E[1]]))),R=-((B=A)[0]*(F=_[E[1]])[0]+B[1]*F[1]+B[2]*F[2]);var B,F;return A.concat(R)});return new Ii(_,C)}}class sl{constructor(o,u){this.min=o,this.max=u,this.center=function(f,g,_){return f[0]=.5*g[0],f[1]=.5*g[1],f[2]=.5*g[2],f}([],function(f,g,_){return f[0]=g[0]+_[0],f[1]=g[1]+_[1],f[2]=g[2]+_[2],f}([],this.min,this.max))}quadrant(o){const u=[o%2==0,o<2],f=K(this.min),g=K(this.max);for(let _=0;_<u.length;_++)f[_]=u[_]?this.min[_]:this.center[_],g[_]=u[_]?this.center[_]:this.max[_];return g[2]=this.max[2],new sl(f,g)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}intersects(o){const u=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let f=!0;for(let g=0;g<o.planes.length;g++){const _=o.planes[g];let C=0;for(let E=0;E<u.length;E++)a.b4(_,u[E])>=0&&C++;if(C===0)return 0;C!==u.length&&(f=!1)}if(f)return 2;for(let g=0;g<3;g++){let _=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(let E=0;E<o.points.length;E++){const A=o.points[E][g]-this.min[g];_=Math.min(_,A),C=Math.max(C,A)}if(C<0||_>this.max[g]-this.min[g])return 0}return 1}}class rc{constructor(o=0,u=0,f=0,g=0){if(isNaN(o)||o<0||isNaN(u)||u<0||isNaN(f)||f<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=u,this.left=f,this.right=g}interpolate(o,u,f){return u.top!=null&&o.top!=null&&(this.top=a.B.number(o.top,u.top,f)),u.bottom!=null&&o.bottom!=null&&(this.bottom=a.B.number(o.bottom,u.bottom,f)),u.left!=null&&o.left!=null&&(this.left=a.B.number(o.left,u.left,f)),u.right!=null&&o.right!=null&&(this.right=a.B.number(o.right,u.right,f)),this}getCenter(o,u){const f=a.ad((this.left+o-this.right)/2,0,o),g=a.ad((this.top+u-this.bottom)/2,0,u);return new a.P(f,g)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new rc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class _u{constructor(o,u,f,g,_){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0||!!_,this._minZoom=o||0,this._maxZoom=u||22,this._minPitch=f??0,this._maxPitch=g??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new rc,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const o=new _u(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return o.apply(this),o}apply(o){this.tileSize=o.tileSize,this.latRange=o.latRange,this.width=o.width,this.height=o.height,this._center=o._center,this._elevation=o._elevation,this._minEleveationForCurrentTile=o._minEleveationForCurrentTile,this.zoom=o.zoom,this.angle=o.angle,this._fov=o._fov,this._pitch=o._pitch,this._unmodified=o._unmodified,this._edgeInsets=o._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(o){o===void 0?o=!0:o===null&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(o){const u=-a.b5(o,-180,180)*Math.PI/180;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=function(){var f=new a.A(4);return a.A!=Float32Array&&(f[1]=0,f[2]=0),f[0]=1,f[3]=1,f}(),function(f,g,_){var C=g[0],E=g[1],A=g[2],R=g[3],B=Math.sin(_),F=Math.cos(_);f[0]=C*F+A*B,f[1]=E*F+R*B,f[2]=C*-B+A*F,f[3]=E*-B+R*F}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const u=a.ad(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=o/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(o){const u=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this.tileZoom=Math.max(0,Math.floor(u)),this.scale=this.zoomScale(u),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(o){o!==this._elevation&&(this._elevation=o,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,u,f){this._unmodified=!1,this._edgeInsets.interpolate(o,u,f),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const u=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(o){const u=[new a.b6(0,o)];if(this._renderWorldCopies){const f=this.pointCoordinate(new a.P(0,0)),g=this.pointCoordinate(new a.P(this.width,0)),_=this.pointCoordinate(new a.P(this.width,this.height)),C=this.pointCoordinate(new a.P(0,this.height)),E=Math.floor(Math.min(f.x,g.x,_.x,C.x)),A=Math.floor(Math.max(f.x,g.x,_.x,C.x)),R=1;for(let B=E-R;B<=A+R;B++)B!==0&&u.push(new a.b6(B,o))}return u}coveringTiles(o){var u,f;let g=this.coveringZoomLevel(o);const _=g;if(o.minzoom!==void 0&&g<o.minzoom)return[];o.maxzoom!==void 0&&g>o.maxzoom&&(g=o.maxzoom);const C=this.pointCoordinate(this.getCameraPoint()),E=a.U.fromLngLat(this.center),A=Math.pow(2,g),R=[A*C.x,A*C.y,0],B=[A*E.x,A*E.y,0],F=Ii.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,g);let X=o.minzoom||0;!o.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=g);const oe=o.terrain?2/Math.min(this.tileSize,o.tileSize)*this.tileSize:3,ie=pe=>({aabb:new sl([pe*A,0,0],[(pe+1)*A,A,0]),zoom:0,x:0,y:0,wrap:pe,fullyVisible:!1}),ae=[],ne=[],_e=g,Ee=o.reparseOverscaled?_:g;if(this._renderWorldCopies)for(let pe=1;pe<=3;pe++)ae.push(ie(-pe)),ae.push(ie(pe));for(ae.push(ie(0));ae.length>0;){const pe=ae.pop(),xe=pe.x,Ie=pe.y;let Re=pe.fullyVisible;if(!Re){const vt=pe.aabb.intersects(F);if(vt===0)continue;Re=vt===2}const je=o.terrain?R:B,Xe=pe.aabb.distanceX(je),He=pe.aabb.distanceY(je),Je=Math.max(Math.abs(Xe),Math.abs(He));if(pe.zoom===_e||Je>oe+(1<<_e-pe.zoom)-2&&pe.zoom>=X){const vt=_e-pe.zoom,sn=R[0]-.5-(xe<<vt),ot=R[1]-.5-(Ie<<vt);ne.push({tileID:new a.O(pe.zoom===_e?Ee:pe.zoom,pe.wrap,pe.zoom,xe,Ie),distanceSq:ge([B[0]-.5-xe,B[1]-.5-Ie]),tileDistanceToCamera:Math.sqrt(sn*sn+ot*ot)})}else for(let vt=0;vt<4;vt++){const sn=(xe<<1)+vt%2,ot=(Ie<<1)+(vt>>1),Rt=pe.zoom+1;let bt=pe.aabb.quadrant(vt);if(o.terrain){const Ln=new a.O(Rt,pe.wrap,Rt,sn,ot),rn=o.terrain.getMinMaxElevation(Ln),Qt=(u=rn.minElevation)!==null&&u!==void 0?u:this.elevation,an=(f=rn.maxElevation)!==null&&f!==void 0?f:this.elevation;bt=new sl([bt.min[0],bt.min[1],Qt],[bt.max[0],bt.max[1],an])}ae.push({aabb:bt,zoom:Rt,x:sn,y:ot,wrap:pe.wrap,fullyVisible:Re})}}return ne.sort((pe,xe)=>pe.distanceSq-xe.distanceSq).map(pe=>pe.tileID)}resize(o,u){this.width=o,this.height=u,this.pixelsToGLUnits=[2/o,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const u=a.ad(o.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.P(a.G(o.lng)*this.worldSize,a.H(u)*this.worldSize)}unproject(o){return new a.U(o.x/this.worldSize,o.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(o){const u=this.pointLocation(this.centerPoint,o),f=o.getElevationForLngLatZoom(u,this.tileZoom);if(!(this.elevation-f))return;const g=this.getCameraPosition(),_=a.U.fromLngLat(g.lngLat,g.altitude),C=a.U.fromLngLat(u,f),E=_.x-C.x,A=_.y-C.y,R=_.z-C.z,B=Math.sqrt(E*E+A*A+R*R),F=this.scaleZoom(this.cameraToCenterDistance/B/this.tileSize);this._elevation=f,this._center=u,this.zoom=F}setLocationAtPoint(o,u){const f=this.pointCoordinate(u),g=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(o),C=new a.U(_.x-(f.x-g.x),_.y-(f.y-g.y));this.center=this.coordinateLocation(C),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(o,u){return u?this.coordinatePoint(this.locationCoordinate(o),u.getElevationForLngLatZoom(o,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(o))}pointLocation(o,u){return this.coordinateLocation(this.pointCoordinate(o,u))}locationCoordinate(o){return a.U.fromLngLat(o)}coordinateLocation(o){return o&&o.toLngLat()}pointCoordinate(o,u){if(u){const X=u.pointCoordinate(o);if(X!=null)return X}const f=[o.x,o.y,0,1],g=[o.x,o.y,1,1];a.ag(f,f,this.pixelMatrixInverse),a.ag(g,g,this.pixelMatrixInverse);const _=f[3],C=g[3],E=f[1]/_,A=g[1]/C,R=f[2]/_,B=g[2]/C,F=R===B?0:(0-R)/(B-R);return new a.U(a.B.number(f[0]/_,g[0]/C,F)/this.worldSize,a.B.number(E,A,F)/this.worldSize)}coordinatePoint(o,u=0,f=this.pixelMatrix){const g=[o.x*this.worldSize,o.y*this.worldSize,u,1];return a.ag(g,g,f),new a.P(g[0]/g[3],g[1]/g[3])}getBounds(){const o=Math.max(0,this.height/2-this.getHorizon());return new ut().extend(this.pointLocation(new a.P(0,o))).extend(this.pointLocation(new a.P(this.width,o))).extend(this.pointLocation(new a.P(this.width,this.height))).extend(this.pointLocation(new a.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ut([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(o){o?(this.lngRange=[o.getWest(),o.getEast()],this.latRange=[o.getSouth(),o.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(o,u=!1){const f=o.key,g=u?this._alignedPosMatrixCache:this._posMatrixCache;if(g[f])return g[f];const _=o.canonical,C=this.worldSize/this.zoomScale(_.z),E=_.x+Math.pow(2,_.z)*o.wrap,A=a.ao(new Float64Array(16));return a.$(A,A,[E*C,_.y*C,0]),a.a0(A,A,[C/a.N,C/a.N,1]),a.a1(A,u?this.alignedProjMatrix:this.projMatrix,A),g[f]=new Float32Array(A),g[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let o,u,f,g,_=-90,C=90,E=-180,A=180;const R=this.size,B=this._unmodified;if(this.latRange){const oe=this.latRange;_=a.H(oe[1])*this.worldSize,C=a.H(oe[0])*this.worldSize,o=C-_<R.y?R.y/(C-_):0}if(this.lngRange){const oe=this.lngRange;E=a.b5(a.G(oe[0])*this.worldSize,0,this.worldSize),A=a.b5(a.G(oe[1])*this.worldSize,0,this.worldSize),A<E&&(A+=this.worldSize),u=A-E<R.x?R.x/(A-E):0}const F=this.point,X=Math.max(u||0,o||0);if(X)return this.center=this.unproject(new a.P(u?(A+E)/2:F.x,o?(C+_)/2:F.y)),this.zoom+=this.scaleZoom(X),this._unmodified=B,void(this._constraining=!1);if(this.latRange){const oe=F.y,ie=R.y/2;oe-ie<_&&(g=_+ie),oe+ie>C&&(g=C-ie)}if(this.lngRange){const oe=(E+A)/2,ie=a.b5(F.x,oe-this.worldSize/2,oe+this.worldSize/2),ae=R.x/2;ie-ae<E&&(f=E+ae),ie+ae>A&&(f=A-ae)}f===void 0&&g===void 0||(this.center=this.unproject(new a.P(f!==void 0?f:F.x,g!==void 0?g:F.y)).wrap()),this._unmodified=B,this._constraining=!1}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,u=this.point.x,f=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.b7(1,this.center.lat)*this.worldSize;let g=a.ao(new Float64Array(16));a.a0(g,g,[this.width/2,-this.height/2,1]),a.$(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=a.ao(new Float64Array(16)),a.a0(g,g,[1,-1,1]),a.$(g,g,[-1,-1,0]),a.a0(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),C=Math.min(this.elevation,this._minEleveationForCurrentTile),E=_-C*this._pixelPerMeter/Math.cos(this._pitch),A=C<0?E:_,R=Math.PI/2+this._pitch,B=this._fov*(.5+o.y/this.height),F=Math.sin(B)*A/Math.sin(a.ad(Math.PI-R-B,.01,Math.PI-.01)),X=this.getHorizon(),oe=2*Math.atan(X/this.cameraToCenterDistance)*(.5+o.y/(2*X)),ie=Math.sin(oe)*A/Math.sin(a.ad(Math.PI-R-oe,.01,Math.PI-.01)),ae=Math.min(F,ie),ne=1.01*(Math.cos(Math.PI/2-this._pitch)*ae+A),_e=this.height/50;g=new Float64Array(16),a.b8(g,this._fov,this.width/this.height,_e,ne),g[8]=2*-o.x/this.width,g[9]=2*o.y/this.height,a.a0(g,g,[1,-1,1]),a.$(g,g,[0,0,-this.cameraToCenterDistance]),a.b9(g,g,this._pitch),a.ae(g,g,this.angle),a.$(g,g,[-u,-f,0]),this.mercatorMatrix=a.a0([],g,[this.worldSize,this.worldSize,this.worldSize]),a.a0(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.a1(new Float64Array(16),this.labelPlaneMatrix,g),a.$(g,g,[0,0,-this.elevation]),this.projMatrix=g,this.invProjMatrix=a.as([],g),this.pixelMatrix3D=a.a1(new Float64Array(16),this.labelPlaneMatrix,g);const Ee=this.width%2/2,pe=this.height%2/2,xe=Math.cos(this.angle),Ie=Math.sin(this.angle),Re=u-Math.round(u)+xe*Ee+Ie*pe,je=f-Math.round(f)+xe*pe+Ie*Ee,Xe=new Float64Array(g);if(a.$(Xe,Xe,[Re>.5?Re-1:Re,je>.5?je-1:je,0]),this.alignedProjMatrix=Xe,g=a.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const o=this.pointCoordinate(new a.P(0,0)),u=[o.x*this.worldSize,o.y*this.worldSize,0,1];return a.ag(u,u,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,o))}getCameraQueryGeometry(o){const u=this.getCameraPoint();if(o.length===1)return[o[0],u];{let f=u.x,g=u.y,_=u.x,C=u.y;for(const E of o)f=Math.min(f,E.x),g=Math.min(g,E.y),_=Math.max(_,E.x),C=Math.max(C,E.y);return[new a.P(f,g),new a.P(_,g),new a.P(_,C),new a.P(f,C),new a.P(f,g)]}}}function Sa(y,o){let u,f=!1,g=null,_=null;const C=()=>{g=null,f&&(y.apply(_,u),g=setTimeout(C,o),f=!1)};return(...E)=>(f=!0,_=this,u=E,g||C(),g)}class ic{constructor(o){this._getCurrentHash=()=>{const u=window.location.hash.replace("#","");if(this._hashName){let f;return u.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(f=g)}),(f&&f[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{const u=this._getCurrentHash();if(u.length>=3&&!u.some(f=>isNaN(f))){const f=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:f,pitch:+(u[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}},this._updateHash=Sa(this._updateHashUnthrottled,300),this._hashName=o&&encodeURIComponent(o)}addTo(o){return this._map=o,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(o){const u=this._map.getCenter(),f=Math.round(100*this._map.getZoom())/100,g=Math.ceil((f*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,g),C=Math.round(u.lng*_)/_,E=Math.round(u.lat*_)/_,A=this._map.getBearing(),R=this._map.getPitch();let B="";if(B+=o?`/${C}/${E}/${f}`:`${f}/${E}/${C}`,(A||R)&&(B+="/"+Math.round(10*A)/10),R&&(B+=`/${Math.round(R)}`),this._hashName){const F=this._hashName;let X=!1;const oe=window.location.hash.slice(1).split("&").map(ie=>{const ae=ie.split("=")[0];return ae===F?(X=!0,`${ae}=${B}`):ie}).filter(ie=>ie);return X||oe.push(`${F}=${B}`),`#${oe.join("&")}`}return`#${B}`}}const al={linearity:.3,easing:a.ba(0,0,.3,1)},bm=a.e({deceleration:2500,maxSpeed:1400},al),wm=a.e({deceleration:20,maxSpeed:1400},al),Sm=a.e({deceleration:1e3,maxSpeed:360},al),Cm=a.e({deceleration:1e3,maxSpeed:90},al);class Tm{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.h.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,u=a.h.now();for(;o.length>0&&u-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)u.zoom+=_.zoomDelta||0,u.bearing+=_.bearingDelta||0,u.pitch+=_.pitchDelta||0,_.panDelta&&u.pan._add(_.panDelta),_.around&&(u.around=_.around),_.pinchAround&&(u.pinchAround=_.pinchAround);const f=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(u.pan.mag()){const _=oc(u.pan.mag(),f,a.e({},bm,o||{}));g.offset=u.pan.mult(_.amount/u.pan.mag()),g.center=this._map.transform.center,Ho(g,_)}if(u.zoom){const _=oc(u.zoom,f,wm);g.zoom=this._map.transform.zoom+_.amount,Ho(g,_)}if(u.bearing){const _=oc(u.bearing,f,Sm);g.bearing=this._map.transform.bearing+a.ad(_.amount,-179,179),Ho(g,_)}if(u.pitch){const _=oc(u.pitch,f,Cm);g.pitch=this._map.transform.pitch+_.amount,Ho(g,_)}if(g.zoom||g.bearing){const _=u.pinchAround===void 0?u.around:u.pinchAround;g.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),a.e(g,{noMoveStart:!0})}}function Ho(y,o){(!y.duration||y.duration<o.duration)&&(y.duration=o.duration,y.easing=o.easing)}function oc(y,o,u){const{maxSpeed:f,linearity:g,deceleration:_}=u,C=a.ad(y*g/(o/1e3),-f,f),E=Math.abs(C)/(_*g);return{easing:u.easing,duration:1e3*E,amount:C*(E/2)}}class Ji extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,f,g={}){const _=w.mousePos(u.getCanvasContainer(),f),C=u.unproject(_);super(o,a.e({point:_,lngLat:C,originalEvent:f},g)),this._defaultPrevented=!1,this.target=u}}class sc extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,f){const g=o==="touchend"?f.changedTouches:f.touches,_=w.touchPos(u.getCanvasContainer(),g),C=_.map(A=>u.unproject(A)),E=_.reduce((A,R,B,F)=>A.add(R.div(F.length)),new a.P(0,0));super(o,{points:_,point:E,lngLats:C,lngLat:u.unproject(E),originalEvent:f}),this._defaultPrevented=!1}}class Em extends a.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,u,f){super(o,{originalEvent:f}),this._defaultPrevented=!1}}class Pm{constructor(o,u){this._map=o,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(o){return this._firePreventable(new Em(o.type,this._map,o))}mousedown(o,u){return this._mousedownPos=u,this._firePreventable(new Ji(o.type,this._map,o))}mouseup(o){this._map.fire(new Ji(o.type,this._map,o))}click(o,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new Ji(o.type,this._map,o))}dblclick(o){return this._firePreventable(new Ji(o.type,this._map,o))}mouseover(o){this._map.fire(new Ji(o.type,this._map,o))}mouseout(o){this._map.fire(new Ji(o.type,this._map,o))}touchstart(o){return this._firePreventable(new sc(o.type,this._map,o))}touchmove(o){this._map.fire(new sc(o.type,this._map,o))}touchend(o){this._map.fire(new sc(o.type,this._map,o))}touchcancel(o){this._map.fire(new sc(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class km{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(o){this._map.fire(new Ji(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ji("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._ignoreContextMenu||this._map.fire(new Ji(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class xs{constructor(o){this._map=o}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(o){return this.transform.pointLocation(a.P.convert(o),this._map.terrain)}}class Am{constructor(o,u){this._map=o,this._tr=new xs(o),this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,u){this.isEnabled()&&o.shiftKey&&o.button===0&&(w.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(o,u){if(!this._active)return;const f=u;if(this._lastPos.equals(f)||!this._box&&f.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=f,this._box||(this._box=w.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",o));const _=Math.min(g.x,f.x),C=Math.max(g.x,f.x),E=Math.min(g.y,f.y),A=Math.max(g.y,f.y);w.setTransform(this._box,`translate(${_}px,${E}px)`),this._box.style.width=C-_+"px",this._box.style.height=A-E+"px"}mouseupWindow(o,u){if(!this._active||o.button!==0)return;const f=this._startPos,g=u;if(this.reset(),w.suppressClick(),f.x!==g.x||f.y!==g.y)return this._map.fire(new a.k("boxzoomend",{originalEvent:o})),{cameraAnimation:_=>_.fitScreenCoordinates(f,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",o)}keydown(o){this._active&&o.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",o))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(o,u){return this._map.fire(new a.k(o,{originalEvent:u}))}}function go(y,o){if(y.length!==o.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${o.length}`);const u={};for(let f=0;f<y.length;f++)u[y[f].identifier]=o[f];return u}class bs{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(o,u,f){(this.centroid||f.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=o.timeStamp),f.length===this.numTouches&&(this.centroid=function(g){const _=new a.P(0,0);for(const C of g)_._add(C);return _.div(g.length)}(u),this.touches=go(f,u)))}touchmove(o,u,f){if(this.aborted||!this.centroid)return;const g=go(f,u);for(const _ in this.touches){const C=g[_];(!C||C.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(o,u,f){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),f.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class xu{constructor(o){this.singleTap=new bs(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(o,u,f){this.singleTap.touchstart(o,u,f)}touchmove(o,u,f){this.singleTap.touchmove(o,u,f)}touchend(o,u,f){const g=this.singleTap.touchend(o,u,f);if(g){const _=o.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(g)<30;if(_&&C||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class ws{constructor(o){this._tr=new xs(o),this._zoomIn=new xu({numTouches:1,numTaps:2}),this._zoomOut=new xu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,u,f){this._zoomIn.touchstart(o,u,f),this._zoomOut.touchstart(o,u,f)}touchmove(o,u,f){this._zoomIn.touchmove(o,u,f),this._zoomOut.touchmove(o,u,f)}touchend(o,u,f){const g=this._zoomIn.touchend(o,u,f),_=this._zoomOut.touchend(o,u,f),C=this._tr;return g?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(g)},{originalEvent:o})}):_?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(_)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ss{constructor(o){this._enabled=!!o.enable,this._moveStateManager=o.moveStateManager,this._clickTolerance=o.clickTolerance||1,this._moveFunction=o.move,this._activateOnStart=!!o.activateOnStart,o.assignEvents(this),this.reset()}reset(o){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(o)}_move(...o){const u=this._moveFunction(...o);if(u.bearingDelta||u.pitchDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(o,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(o)&&(this._moveStateManager.startMove(o),this._lastPoint=u.length?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(o,u){if(!this.isEnabled())return;const f=this._lastPoint;if(!f)return;if(o.preventDefault(),!this._moveStateManager.isValidMoveEvent(o))return void this.reset(o);const g=u.length?u[0]:u;return!this._moved&&g.dist(f)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(f,g))}dragEnd(o){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(o)&&(this._moved&&w.suppressClick(),this.reset(o))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ov={0:1,2:2};class xd{constructor(o){this._correctEvent=o.checkCorrectEvent}startMove(o){const u=w.mouseButton(o);this._eventButton=u}endMove(o){delete this._eventButton}isValidStartEvent(o){return this._correctEvent(o)}isValidMoveEvent(o){return!function(u,f){const g=Ov[f];return u.buttons===void 0||(u.buttons&g)!==g}(o,this._eventButton)}isValidEndEvent(o){return w.mouseButton(o)===this._eventButton}}class Im{constructor(){this._firstTouch=void 0}_isOneFingerTouch(o){return o.targetTouches.length===1}_isSameTouchEvent(o){return o.targetTouches[0].identifier===this._firstTouch}startMove(o){this._firstTouch=o.targetTouches[0].identifier}endMove(o){delete this._firstTouch}isValidStartEvent(o){return this._isOneFingerTouch(o)}isValidMoveEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}isValidEndEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}}const bu=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=function(o){o.preventDefault()}},ll=({enable:y,clickTolerance:o,bearingDegreesPerPixelMoved:u=.8})=>{const f=new xd({checkCorrectEvent:g=>w.mouseButton(g)===0&&g.ctrlKey||w.mouseButton(g)===2});return new Ss({clickTolerance:o,move:(g,_)=>({bearingDelta:(_.x-g.x)*u}),moveStateManager:f,enable:y,assignEvents:bu})},Cs=({enable:y,clickTolerance:o,pitchDegreesPerPixelMoved:u=-.5})=>{const f=new xd({checkCorrectEvent:g=>w.mouseButton(g)===0&&g.ctrlKey||w.mouseButton(g)===2});return new Ss({clickTolerance:o,move:(g,_)=>({pitchDelta:(_.y-g.y)*u}),moveStateManager:f,enable:y,assignEvents:bu})};class dt{constructor(o,u){this._minTouches=o.cooperativeGestures?2:1,this._clickTolerance=o.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(o,u,f){return this._calculateTransform(o,u,f)}touchmove(o,u,f){if(this._map._cooperativeGestures&&(this._minTouches===2&&f.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(o,!1,f.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(f.length<this._minTouches))return o.preventDefault(),this._calculateTransform(o,u,f)}touchend(o,u,f){this._calculateTransform(o,u,f),this._active&&f.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,u,f){f.length>0&&(this._active=!0);const g=go(f,u),_=new a.P(0,0),C=new a.P(0,0);let E=0;for(const R in g){const B=g[R],F=this._touches[R];F&&(_._add(B),C._add(B.sub(F)),E++,g[R]=B)}if(this._touches=g,E<this._minTouches||!C.mag())return;const A=C.div(E);return this._sum._add(A),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(E),panDelta:A}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(o,u,f){this._firstTwoTouches||f.length<2||(this._firstTwoTouches=[f[0].identifier,f[1].identifier],this._start([u[0],u[1]]))}touchmove(o,u,f){if(!this._firstTwoTouches)return;o.preventDefault();const[g,_]=this._firstTwoTouches,C=Hs(f,u,g),E=Hs(f,u,_);if(!C||!E)return;const A=this._aroundCenter?null:C.add(E).div(2);return this._move([C,E],A,o)}touchend(o,u,f){if(!this._firstTwoTouches)return;const[g,_]=this._firstTwoTouches,C=Hs(f,u,g),E=Hs(f,u,_);C&&E||(this._active&&w.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&o.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Hs(y,o,u){for(let f=0;f<y.length;f++)if(y[f].identifier===u)return o[f]}function cl(y,o){return Math.log(y/o)/Math.LN2}class Mm extends wu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,u){const f=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(cl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:cl(this._distance,f),pinchAround:u}}}function lt(y,o){return 180*y.angleWith(o)/Math.PI}class bd extends wu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,u){const f=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:lt(this._vector,f),pinchAround:u}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const u=25/(Math.PI*this._minDiameter)*360,f=lt(o,this._startVector);return Math.abs(f)<u}}function wd(y){return Math.abs(y.y)>Math.abs(y.x)}class Fv extends wu{constructor(o){super(),this._map=o}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(o,u,f){super.touchstart(o,u,f),this._currentTouchCount=f.length}_start(o){this._lastPoints=o,wd(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,u,f){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const g=o[0].sub(this._lastPoints[0]),_=o[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,_,f.timeStamp),this._valid?(this._lastPoints=o,this._active=!0,{pitchDelta:(g.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(o,u,f){if(this._valid!==void 0)return this._valid;const g=o.mag()>=2,_=u.mag()>=2;if(!g&&!_)return;if(!g||!_)return this._firstMove===void 0&&(this._firstMove=f),f-this._firstMove<100&&void 0;const C=o.y>0==u.y>0;return wd(o)&&wd(u)&&C}}const Sd={panStep:100,bearingStep:15,pitchStep:10};class Rm{constructor(o){this._tr=new xs(o);const u=Sd;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let u=0,f=0,g=0,_=0,C=0;switch(o.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:o.shiftKey?f=-1:(o.preventDefault(),_=-1);break;case 39:o.shiftKey?f=1:(o.preventDefault(),_=1);break;case 38:o.shiftKey?g=1:(o.preventDefault(),C=-1);break;case 40:o.shiftKey?g=-1:(o.preventDefault(),C=1);break;default:return}return this._rotationDisabled&&(f=0,g=0),{cameraAnimation:E=>{const A=this._tr;E.easeTo({duration:300,easeId:"keyboardHandler",easing:Lm,zoom:u?Math.round(A.zoom)+u*(o.shiftKey?2:1):A.zoom,bearing:A.bearing+f*this._bearingStep,pitch:A.pitch+g*this._pitchStep,offset:[-_*this._panStep,-C*this._panStep],center:A.center},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Lm(y){return y*(2-y)}const Dm=4.000244140625;class Nv{constructor(o,u){this._onTimeout=f=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(f)},this._map=o,this._tr=new xs(o),this._el=o.getCanvasContainer(),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&o.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(o){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!o[this._map._metaKey])return;o.preventDefault()}let u=o.deltaMode===WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const f=a.h.now(),g=f-(this._lastWheelEventTime||0);this._lastWheelEventTime=f,u!==0&&u%Dm==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(g*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),o.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=o,this._delta-=u,this._active||this._start(o)),o.preventDefault()}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=w.mousePos(this._el,o),f=this._tr;this._around=a.L.convert(this._aroundCenter?f.center:f.unproject(u)),this._aroundPoint=f.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._tr.transform;if(this._delta!==0){const E=this._type==="wheel"&&Math.abs(this._delta)>Dm?this._wheelZoomRate:this._defaultZoomRate;let A=2/(1+Math.exp(-Math.abs(this._delta*E)));this._delta<0&&A!==0&&(A=1/A);const R=typeof this._targetZoom=="number"?o.zoomScale(this._targetZoom):o.scale;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(R*A))),this._type==="wheel"&&(this._startZoom=o.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom=="number"?this._targetZoom:o.zoom,f=this._startZoom,g=this._easing;let _,C=!1;if(this._type==="wheel"&&f&&g){const E=Math.min((a.h.now()-this._lastWheelEventTime)/200,1),A=g(E);_=a.B.number(f,u,A),E<1?this._frameId||(this._frameId=!0):C=!0}else _=u,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!C,zoomDelta:_-o.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let u=a.bb;if(this._prevEase){const f=this._prevEase,g=(a.h.now()-f.start)/f.duration,_=f.easing(g+.01)-f.easing(g),C=.27/Math.sqrt(_*_+1e-4)*.01,E=Math.sqrt(.0729-C*C);u=a.ba(C,E,.25,1)}return this._prevEase={start:a.h.now(),duration:o,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Cd{constructor(o,u){this._clickZoom=o,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Td{constructor(o){this._tr=new xs(o),this.reset()}reset(){this._active=!1}dblclick(o,u){return o.preventDefault(),{cameraAnimation:f=>{f.easeTo({duration:300,zoom:this._tr.zoom+(o.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ed{constructor(){this._tap=new xu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(o,u,f){if(!this._swipePoint)if(this._tapTime){const g=u[0],_=o.timeStamp-this._tapTime<500,C=this._tapPoint.dist(g)<30;_&&C?f.length>0&&(this._swipePoint=g,this._swipeTouch=f[0].identifier):this.reset()}else this._tap.touchstart(o,u,f)}touchmove(o,u,f){if(this._tapTime){if(this._swipePoint){if(f[0].identifier!==this._swipeTouch)return;const g=u[0],_=g.y-this._swipePoint.y;return this._swipePoint=g,o.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(o,u,f)}touchend(o,u,f){if(this._tapTime)this._swipePoint&&f.length===0&&this.reset();else{const g=this._tap.touchend(o,u,f);g&&(this._tapTime=o.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pd{constructor(o,u,f){this._el=o,this._mousePan=u,this._touchPan=f}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Mi{constructor(o,u,f){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=u,this._mousePitch=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class qs{constructor(o,u,f,g){this._el=o,this._touchZoom=u,this._touchRotate=f,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ac=y=>y.zoom||y.drag||y.pitch||y.rotate;class kd extends a.k{}function lc(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta}class Ad{constructor(o,u){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,_)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const C=g.type==="renderFrame"?void 0:g,E={needsRenderFrame:!1},A={},R={},B=g.touches,F=B?this._getMapTouches(B):void 0,X=F?w.touchPos(this._el,F):w.mousePos(this._el,g);for(const{handlerName:ae,handler:ne,allowed:_e}of this._handlers){if(!ne.isEnabled())continue;let Ee;this._blockedByActive(R,_e,ae)?ne.reset():ne[_||g.type]&&(Ee=ne[_||g.type](g,X,F),this.mergeHandlerResult(E,A,Ee,ae,C),Ee&&Ee.needsRenderFrame&&this._triggerRenderFrame()),(Ee||ne.isActive())&&(R[ae]=ne)}const oe={};for(const ae in this._previousActiveHandlers)R[ae]||(oe[ae]=C);this._previousActiveHandlers=R,(Object.keys(oe).length||lc(E))&&(this._changes.push([E,A,oe]),this._triggerRenderFrame()),(Object.keys(R).length||lc(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ie}=E;ie&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ie(this._map))},this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Tm(o),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);const f=this._el;this._listeners=[[f,"touchstart",{passive:!0}],[f,"touchmove",{passive:!1}],[f,"touchend",void 0],[f,"touchcancel",void 0],[f,"mousedown",void 0],[f,"mousemove",void 0],[f,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[f,"mouseover",void 0],[f,"mouseout",void 0],[f,"dblclick",void 0],[f,"click",void 0],[f,"keydown",{capture:!1}],[f,"keyup",void 0],[f,"wheel",{passive:!1}],[f,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,_,C]of this._listeners)w.addEventListener(g,_,g===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(const[o,u,f]of this._listeners)w.removeEventListener(o,u,o===document?this.handleWindowEvent:this.handleEvent,f)}_addDefaultHandlers(o){const u=this._map,f=u.getCanvasContainer();this._add("mapEvent",new Pm(u,o));const g=u.boxZoom=new Am(u,o);this._add("boxZoom",g),o.interactive&&o.boxZoom&&g.enable();const _=new ws(u),C=new Td(u);u.doubleClickZoom=new Cd(C,_),this._add("tapZoom",_),this._add("clickZoom",C),o.interactive&&o.doubleClickZoom&&u.doubleClickZoom.enable();const E=new Ed;this._add("tapDragZoom",E);const A=u.touchPitch=new Fv(u);this._add("touchPitch",A),o.interactive&&o.touchPitch&&u.touchPitch.enable(o.touchPitch);const R=ll(o),B=Cs(o);u.dragRotate=new Mi(o,R,B),this._add("mouseRotate",R,["mousePitch"]),this._add("mousePitch",B,["mouseRotate"]),o.interactive&&o.dragRotate&&u.dragRotate.enable();const F=(({enable:_e,clickTolerance:Ee})=>{const pe=new xd({checkCorrectEvent:xe=>w.mouseButton(xe)===0&&!xe.ctrlKey});return new Ss({clickTolerance:Ee,move:(xe,Ie)=>({around:Ie,panDelta:Ie.sub(xe)}),activateOnStart:!0,moveStateManager:pe,enable:_e,assignEvents:bu})})(o),X=new dt(o,u);u.dragPan=new Pd(f,F,X),this._add("mousePan",F),this._add("touchPan",X,["touchZoom","touchRotate"]),o.interactive&&o.dragPan&&u.dragPan.enable(o.dragPan);const oe=new bd,ie=new Mm;u.touchZoomRotate=new qs(f,ie,oe,E),this._add("touchRotate",oe,["touchPan","touchZoom"]),this._add("touchZoom",ie,["touchPan","touchRotate"]),o.interactive&&o.touchZoomRotate&&u.touchZoomRotate.enable(o.touchZoomRotate);const ae=u.scrollZoom=new Nv(u,()=>this._triggerRenderFrame());this._add("scrollZoom",ae,["mousePan"]),o.interactive&&o.scrollZoom&&u.scrollZoom.enable(o.scrollZoom);const ne=u.keyboard=new Rm(u);this._add("keyboard",ne),o.interactive&&o.keyboard&&u.keyboard.enable(),this._add("blockableMapEvent",new km(u))}_add(o,u,f){this._handlers.push({handlerName:o,handler:u,allowed:f}),this._handlersById[o]=u}stop(o){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ac(this._eventsInProgress)||this.isZooming()}_blockedByActive(o,u,f){for(const g in o)if(g!==f&&(!u||u.indexOf(g)<0))return!0;return!1}_getMapTouches(o){const u=[];for(const f of o)this._el.contains(f.target)&&u.push(f);return u}mergeHandlerResult(o,u,f,g,_){if(!f)return;a.e(o,f);const C={handlerName:g,originalEvent:f.originalEvent||_};f.zoomDelta!==void 0&&(u.zoom=C),f.panDelta!==void 0&&(u.drag=C),f.pitchDelta!==void 0&&(u.pitch=C),f.bearingDelta!==void 0&&(u.rotate=C)}_applyChanges(){const o={},u={},f={};for(const[g,_,C]of this._changes)g.panDelta&&(o.panDelta=(o.panDelta||new a.P(0,0))._add(g.panDelta)),g.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(o.around=g.around),g.pinchAround!==void 0&&(o.pinchAround=g.pinchAround),g.noInertia&&(o.noInertia=g.noInertia),a.e(u,_),a.e(f,C);this._updateMapTransform(o,u,f),this._changes=[]}_updateMapTransform(o,u,f){const g=this._map,_=g._getTransformForUpdate(),C=g.terrain;if(!(lc(o)||C&&this._terrainMovement))return this._fireEvents(u,f,!0);let{panDelta:E,zoomDelta:A,bearingDelta:R,pitchDelta:B,around:F,pinchAround:X}=o;X!==void 0&&(F=X),g._stop(!0),F=F||g.transform.centerPoint;const oe=_.pointLocation(E?F.sub(E):F);R&&(_.bearing+=R),B&&(_.pitch+=B),A&&(_.zoom+=A),C?this._terrainMovement||!u.drag&&!u.zoom?u.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(E)):_.setLocationAtPoint(oe,F):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(oe,F),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,_.recalculateZoom(g.terrain)})):_.setLocationAtPoint(oe,F),g._applyUpdatedTransform(_),this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(u,f,!0)}_fireEvents(o,u,f){const g=ac(this._eventsInProgress),_=ac(o),C={};for(const B in o){const{originalEvent:F}=o[B];this._eventsInProgress[B]||(C[`${B}start`]=F),this._eventsInProgress[B]=o[B]}!g&&_&&this._fireEvent("movestart",_.originalEvent);for(const B in C)this._fireEvent(B,C[B]);_&&this._fireEvent("move",_.originalEvent);for(const B in o){const{originalEvent:F}=o[B];this._fireEvent(B,F)}const E={};let A;for(const B in this._eventsInProgress){const{handlerName:F,originalEvent:X}=this._eventsInProgress[B];this._handlersById[F].isActive()||(delete this._eventsInProgress[B],A=u[F]||X,E[`${B}end`]=A)}for(const B in E)this._fireEvent(B,E[B]);const R=ac(this._eventsInProgress);if(f&&(g||_)&&!R){this._updatingCamera=!0;const B=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),F=X=>X!==0&&-this._bearingSnap<X&&X<this._bearingSnap;!B||!B.essential&&a.h.prefersReducedMotion?(this._map.fire(new a.k("moveend",{originalEvent:A})),F(this._map.getBearing())&&this._map.resetNorth()):(F(B.bearing||this._map.getBearing())&&(B.bearing=0),B.freezeElevation=!0,this._map.easeTo(B,{originalEvent:A})),this._updatingCamera=!1}}_fireEvent(o,u){this._map.fire(new a.k(o,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{delete this._frameId,this.handleEvent(new kd("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class zm extends a.E{constructor(o,u){super(),this._renderFrameCallback=()=>{const f=Math.min((a.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=u.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.L(this.transform.center.lng,this.transform.center.lat)}setCenter(o,u){return this.jumpTo({center:o},u)}panBy(o,u,f){return o=a.P.convert(o).mult(-1),this.panTo(this.transform.center,a.e({offset:o},u),f)}panTo(o,u,f){return this.easeTo(a.e({center:o},u),f)}getZoom(){return this.transform.zoom}setZoom(o,u){return this.jumpTo({zoom:o},u),this}zoomTo(o,u,f){return this.easeTo(a.e({zoom:o},u),f)}zoomIn(o,u){return this.zoomTo(this.getZoom()+1,o,u),this}zoomOut(o,u){return this.zoomTo(this.getZoom()-1,o,u),this}getBearing(){return this.transform.bearing}setBearing(o,u){return this.jumpTo({bearing:o},u),this}getPadding(){return this.transform.padding}setPadding(o,u){return this.jumpTo({padding:o},u),this}rotateTo(o,u,f){return this.easeTo(a.e({bearing:o},u),f)}resetNorth(o,u){return this.rotateTo(0,a.e({duration:1e3},o),u),this}resetNorthPitch(o,u){return this.easeTo(a.e({bearing:0,pitch:0,duration:1e3},o),u),this}snapToNorth(o,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,u):this}getPitch(){return this.transform.pitch}setPitch(o,u){return this.jumpTo({pitch:o},u),this}cameraForBounds(o,u){o=ut.convert(o);const f=u&&u.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),f,u)}_cameraForBoxAndBearing(o,u,f,g){const _={top:0,bottom:0,right:0,left:0};if(typeof(g=a.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Ie=g.padding;g.padding={top:Ie,bottom:Ie,right:Ie,left:Ie}}g.padding=a.e(_,g.padding);const C=this.transform,E=C.padding,A=C.project(a.L.convert(o)),R=C.project(a.L.convert(u)),B=A.rotate(-f*Math.PI/180),F=R.rotate(-f*Math.PI/180),X=new a.P(Math.max(B.x,F.x),Math.max(B.y,F.y)),oe=new a.P(Math.min(B.x,F.x),Math.min(B.y,F.y)),ie=X.sub(oe),ae=(C.width-(E.left+E.right+g.padding.left+g.padding.right))/ie.x,ne=(C.height-(E.top+E.bottom+g.padding.top+g.padding.bottom))/ie.y;if(ne<0||ae<0)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const _e=Math.min(C.scaleZoom(C.scale*Math.min(ae,ne)),g.maxZoom),Ee=a.P.convert(g.offset),pe=new a.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(f*Math.PI/180),xe=Ee.add(pe).mult(C.scale/C.zoomScale(_e));return{center:C.unproject(A.add(R).div(2).sub(xe)),zoom:_e,bearing:f}}fitBounds(o,u,f){return this._fitInternal(this.cameraForBounds(o,u),u,f)}fitScreenCoordinates(o,u,f,g,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.P.convert(o)),this.transform.pointLocation(a.P.convert(u)),f,g),g,_)}_fitInternal(o,u,f){return o?(delete(u=a.e(o,u)).padding,u.linear?this.easeTo(u,f):this.flyTo(u,f)):this}jumpTo(o,u){this.stop();const f=this._getTransformForUpdate();let g=!1,_=!1,C=!1;return"zoom"in o&&f.zoom!==+o.zoom&&(g=!0,f.zoom=+o.zoom),o.center!==void 0&&(f.center=a.L.convert(o.center)),"bearing"in o&&f.bearing!==+o.bearing&&(_=!0,f.bearing=+o.bearing),"pitch"in o&&f.pitch!==+o.pitch&&(C=!0,f.pitch=+o.pitch),o.padding==null||f.isPaddingEqual(o.padding)||(f.padding=o.padding),this._applyUpdatedTransform(f),this.fire(new a.k("movestart",u)).fire(new a.k("move",u)),g&&this.fire(new a.k("zoomstart",u)).fire(new a.k("zoom",u)).fire(new a.k("zoomend",u)),_&&this.fire(new a.k("rotatestart",u)).fire(new a.k("rotate",u)).fire(new a.k("rotateend",u)),C&&this.fire(new a.k("pitchstart",u)).fire(new a.k("pitch",u)).fire(new a.k("pitchend",u)),this.fire(new a.k("moveend",u))}calculateCameraOptionsFromTo(o,u,f,g=0){const _=a.U.fromLngLat(o,u),C=a.U.fromLngLat(f,g),E=C.x-_.x,A=C.y-_.y,R=C.z-_.z,B=Math.hypot(E,A,R);if(B===0)throw new Error("Can't calculate camera options with same From and To");const F=Math.hypot(E,A),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/B/this.transform.tileSize),oe=180*Math.atan2(E,-A)/Math.PI;let ie=180*Math.acos(F/B)/Math.PI;return ie=R<0?90-ie:90+ie,{center:C.toLngLat(),zoom:X,pitch:ie,bearing:oe}}easeTo(o,u){this._stop(!1,o.easeId),((o=a.e({offset:[0,0],duration:500,easing:a.bb},o)).animate===!1||!o.essential&&a.h.prefersReducedMotion)&&(o.duration=0);const f=this._getTransformForUpdate(),g=this.getZoom(),_=this.getBearing(),C=this.getPitch(),E=this.getPadding(),A="zoom"in o?+o.zoom:g,R="bearing"in o?this._normalizeBearing(o.bearing,_):_,B="pitch"in o?+o.pitch:C,F="padding"in o?o.padding:f.padding,X=a.P.convert(o.offset);let oe=f.centerPoint.add(X);const ie=f.pointLocation(oe),ae=a.L.convert(o.center||ie);this._normalizeCenter(ae);const ne=f.project(ie),_e=f.project(ae).sub(ne),Ee=f.zoomScale(A-g);let pe,xe;o.around&&(pe=a.L.convert(o.around),xe=f.locationPoint(pe));const Ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||A!==g,this._rotating=this._rotating||_!==R,this._pitching=this._pitching||B!==C,this._padding=!f.isPaddingEqual(F),this._easeId=o.easeId,this._prepareEase(u,o.noMoveStart,Ie),this.terrain&&this._prepareElevation(ae),this._ease(Re=>{if(this._zooming&&(f.zoom=a.B.number(g,A,Re)),this._rotating&&(f.bearing=a.B.number(_,R,Re)),this._pitching&&(f.pitch=a.B.number(C,B,Re)),this._padding&&(f.interpolatePadding(E,F,Re),oe=f.centerPoint.add(X)),this.terrain&&!o.freezeElevation&&this._updateElevation(Re),pe)f.setLocationAtPoint(pe,xe);else{const je=f.zoomScale(f.zoom-g),Xe=A>g?Math.min(2,Ee):Math.max(.5,Ee),He=Math.pow(Xe,1-Re),Je=f.unproject(ne.add(_e.mult(Re*He)).mult(je));f.setLocationAtPoint(f.renderWorldCopies?Je.wrap():Je,oe)}this._applyUpdatedTransform(f),this._fireMoveEvents(u)},Re=>{this.terrain&&this._finalizeElevation(),this._afterEase(u,Re)},o),this}_prepareEase(o,u,f={}){this._moving=!0,u||f.moving||this.fire(new a.k("movestart",o)),this._zooming&&!f.zooming&&this.fire(new a.k("zoomstart",o)),this._rotating&&!f.rotating&&this.fire(new a.k("rotatestart",o)),this._pitching&&!f.pitching&&this.fire(new a.k("pitchstart",o))}_prepareElevation(o){this._elevationCenter=o,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(o){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(o<1&&u!==this._elevationTarget){const f=this._elevationTarget-this._elevationStart;this._elevationStart+=o*(f-(u-(f*o+this._elevationStart))/(1-o)),this._elevationTarget=u}this.transform.elevation=a.B.number(this._elevationStart,this._elevationTarget,o)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(o){if(!this.transformCameraUpdate)return;const u=o.clone(),{center:f,zoom:g,pitch:_,bearing:C,elevation:E}=this.transformCameraUpdate(u);f&&(u.center=f),g!==void 0&&(u.zoom=g),_!==void 0&&(u.pitch=_),C!==void 0&&(u.bearing=C),E!==void 0&&(u.elevation=E),this.transform.apply(u)}_fireMoveEvents(o){this.fire(new a.k("move",o)),this._zooming&&this.fire(new a.k("zoom",o)),this._rotating&&this.fire(new a.k("rotate",o)),this._pitching&&this.fire(new a.k("pitch",o))}_afterEase(o,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;const f=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,f&&this.fire(new a.k("zoomend",o)),g&&this.fire(new a.k("rotateend",o)),_&&this.fire(new a.k("pitchend",o)),this.fire(new a.k("moveend",o))}flyTo(o,u){if(!o.essential&&a.h.prefersReducedMotion){const bt=a.F(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(bt,u)}this.stop(),o=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.bb},o);const f=this._getTransformForUpdate(),g=this.getZoom(),_=this.getBearing(),C=this.getPitch(),E=this.getPadding(),A="zoom"in o?a.ad(+o.zoom,f.minZoom,f.maxZoom):g,R="bearing"in o?this._normalizeBearing(o.bearing,_):_,B="pitch"in o?+o.pitch:C,F="padding"in o?o.padding:f.padding,X=f.zoomScale(A-g),oe=a.P.convert(o.offset);let ie=f.centerPoint.add(oe);const ae=f.pointLocation(ie),ne=a.L.convert(o.center||ae);this._normalizeCenter(ne);const _e=f.project(ae),Ee=f.project(ne).sub(_e);let pe=o.curve;const xe=Math.max(f.width,f.height),Ie=xe/X,Re=Ee.mag();if("minZoom"in o){const bt=a.ad(Math.min(o.minZoom,g,A),f.minZoom,f.maxZoom),Ln=xe/f.zoomScale(bt-g);pe=Math.sqrt(Ln/Re*2)}const je=pe*pe;function Xe(bt){const Ln=(Ie*Ie-xe*xe+(bt?-1:1)*je*je*Re*Re)/(2*(bt?Ie:xe)*je*Re);return Math.log(Math.sqrt(Ln*Ln+1)-Ln)}function He(bt){return(Math.exp(bt)-Math.exp(-bt))/2}function Je(bt){return(Math.exp(bt)+Math.exp(-bt))/2}const vt=Xe(!1);let sn=function(bt){return Je(vt)/Je(vt+pe*bt)},ot=function(bt){return xe*((Je(vt)*(He(Ln=vt+pe*bt)/Je(Ln))-He(vt))/je)/Re;var Ln},Rt=(Xe(!0)-vt)/pe;if(Math.abs(Re)<1e-6||!isFinite(Rt)){if(Math.abs(xe-Ie)<1e-6)return this.easeTo(o,u);const bt=Ie<xe?-1:1;Rt=Math.abs(Math.log(Ie/xe))/pe,ot=function(){return 0},sn=function(Ln){return Math.exp(bt*pe*Ln)}}return o.duration="duration"in o?+o.duration:1e3*Rt/("screenSpeed"in o?+o.screenSpeed/pe:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=_!==R,this._pitching=B!==C,this._padding=!f.isPaddingEqual(F),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(ne),this._ease(bt=>{const Ln=bt*Rt,rn=1/sn(Ln);f.zoom=bt===1?A:g+f.scaleZoom(rn),this._rotating&&(f.bearing=a.B.number(_,R,bt)),this._pitching&&(f.pitch=a.B.number(C,B,bt)),this._padding&&(f.interpolatePadding(E,F,bt),ie=f.centerPoint.add(oe)),this.terrain&&!o.freezeElevation&&this._updateElevation(bt);const Qt=bt===1?ne:f.unproject(_e.add(Ee.mult(ot(Ln))).mult(rn));f.setLocationAtPoint(f.renderWorldCopies?Qt.wrap():Qt,ie),this._applyUpdatedTransform(f),this._fireMoveEvents(u)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(u)},o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,u){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,u)}if(!o){const f=this.handlers;f&&f.stop(!1)}return this}_ease(o,u,f){f.animate===!1||f.duration===0?(o(1),u()):(this._easeStart=a.h.now(),this._easeOptions=f,this._onEaseFrame=o,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(o,u){o=a.b5(o,-180,180);const f=Math.abs(o-u);return Math.abs(o-360-u)<f&&(o-=360),Math.abs(o+360-u)<f&&(o+=360),o}_normalizeCenter(o){const u=this.transform;if(!u.renderWorldCopies||u.lngRange)return;const f=o.lng-u.center.lng;o.lng+=f>180?-360:f<-180?360:0}queryTerrainElevation(o){return this.terrain?this.terrain.getElevationForLngLatZoom(a.L.convert(o),this.transform.tileZoom)-this.transform.elevation:null}}class Qi{constructor(o={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=o}getDefaultPosition(){return"bottom-right"}onAdd(o){return this._map=o,this._compact=this.options&&this.options.compact,this._container=w.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=w.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=w.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(o,u){const f=this._map._getUIString(`AttributionControl.${u}`);o.title=f,o.setAttribute("aria-label",f)}_updateAttributions(){if(!this._map.style)return;let o=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=o.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&o.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const u=this._map.style.sourceCaches;for(const g in u){const _=u[g];if(_.used||_.usedForTerrain){const C=_.getSource();C.attribution&&o.indexOf(C.attribution)<0&&o.push(C.attribution)}}o=o.filter(g=>String(g).trim()),o.sort((g,_)=>g.length-_.length),o=o.filter((g,_)=>{for(let C=_+1;C<o.length;C++)if(o[C].indexOf(g)>=0)return!1;return!0});const f=o.join(" | ");f!==this._attribHTML&&(this._attribHTML=f,o.length?(this._innerContainer.innerHTML=f,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Gn{constructor(o={}){this._updateCompact=()=>{const u=this._container.children;if(u.length){const f=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&f.classList.add("maplibregl-compact"):f.classList.remove("maplibregl-compact")}},this.options=o}getDefaultPosition(){return"bottom-left"}onAdd(o){this._map=o,this._compact=this.options&&this.options.compact,this._container=w.create("div","maplibregl-ctrl");const u=w.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){w.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Su{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const u=++this._id;return this._queue.push({callback:o,id:u,cancelled:!1}),u}remove(o){const u=this._currentlyRunning,f=u?this._queue.concat(u):this._queue;for(const g of f)if(g.id===o)return void(g.cancelled=!0)}run(o=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const u=this._currentlyRunning=this._queue;this._queue=[];for(const f of u)if(!f.cancelled&&(f.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Id={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Bm=a.Q([{name:"a_pos3d",type:"Int16",components:3}]);class Om extends a.E{constructor(o){super(),this.sourceCache=o,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,o.usedForTerrain=!0,o.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(o,u){this.sourceCache.update(o,u),this._renderableTilesKeys=[];const f={};for(const g of o.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u}))f[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),a.aS(g.posMatrix,0,a.N,0,a.N,0,1),this._tiles[g.key]=new En(g,this.tileSize));for(const g in this._tiles)f[g]||delete this._tiles[g]}freeRtt(o){for(const u in this._tiles){const f=this._tiles[u];(!o||f.tileID.equals(o)||f.tileID.isChildOf(o)||o.isChildOf(f.tileID))&&(f.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(o=>this.getTileByID(o))}getTileByID(o){return this._tiles[o]}getTerrainCoords(o){const u={};for(const f of this._renderableTilesKeys){const g=this._tiles[f].tileID;if(g.canonical.equals(o.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16),a.aS(_.posMatrix,0,a.N,0,a.N,0,1),u[f]=_}else if(g.canonical.isChildOf(o.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16);const C=g.canonical.z-o.canonical.z,E=g.canonical.x-(g.canonical.x>>C<<C),A=g.canonical.y-(g.canonical.y>>C<<C),R=a.N>>C;a.aS(_.posMatrix,0,R,0,R,0,1),a.$(_.posMatrix,_.posMatrix,[-E*R,-A*R,0]),u[f]=_}else if(o.canonical.isChildOf(g.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16);const C=o.canonical.z-g.canonical.z,E=o.canonical.x-(o.canonical.x>>C<<C),A=o.canonical.y-(o.canonical.y>>C<<C),R=a.N>>C;a.aS(_.posMatrix,0,a.N,0,a.N,0,1),a.$(_.posMatrix,_.posMatrix,[E*R,A*R,0]),a.a0(_.posMatrix,_.posMatrix,[1/2**C,1/2**C,0]),u[f]=_}}return u}getSourceTile(o,u){const f=this.sourceCache._source;let g=o.overscaledZ-this.deltaZoom;if(g>f.maxzoom&&(g=f.maxzoom),g<f.minzoom)return null;this._sourceTileCache[o.key]||(this._sourceTileCache[o.key]=o.scaledTo(g).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[o.key]);if((!_||!_.dem)&&u)for(;g>=f.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(o.scaledTo(g--).key);return _}tilesAfterTime(o=Date.now()){return Object.values(this._tiles).filter(u=>u.timeAdded>=o)}}class Fm{constructor(o,u,f){this.painter=o,this.sourceCache=new Om(u),this.options=f,this.exaggeration=typeof f.exaggeration=="number"?f.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(o,u,f,g=a.N){var _;if(!(u>=0&&u<g&&f>=0&&f<g))return 0;const C=this.getTerrainData(o),E=(_=C.tile)===null||_===void 0?void 0:_.dem;if(!E)return 0;const A=function(ie,ae,ne){var _e=ae[0],Ee=ae[1];return ie[0]=ne[0]*_e+ne[4]*Ee+ne[12],ie[1]=ne[1]*_e+ne[5]*Ee+ne[13],ie}([],[u/g*a.N,f/g*a.N],C.u_terrain_matrix),R=[A[0]*E.dim,A[1]*E.dim],B=Math.floor(R[0]),F=Math.floor(R[1]),X=R[0]-B,oe=R[1]-F;return E.get(B,F)*(1-X)*(1-oe)+E.get(B+1,F)*X*(1-oe)+E.get(B,F+1)*(1-X)*oe+E.get(B+1,F+1)*X*oe}getElevationForLngLatZoom(o,u){const{tileID:f,mercatorX:g,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(o,u);return this.getElevation(f,g%a.N,_%a.N,a.N)}getElevation(o,u,f,g=a.N){return this.getDEMElevation(o,u,f,g)*this.exaggeration}getTerrainData(o){if(!this._emptyDemTexture){const g=this.painter.context,_=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new G(g,_,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new G(g,new a.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ao([])}const u=this.sourceCache.getSourceTile(o,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){const g=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new G(g,u.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),u.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}const f=u&&u+u.tileID.key+o.key;if(f&&!this._demMatrixCache[f]){const g=this.sourceCache.sourceCache._source.maxzoom;let _=o.canonical.z-u.tileID.canonical.z;o.overscaledZ>o.canonical.z&&(o.canonical.z>=g?_=o.canonical.z-g:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const C=o.canonical.x-(o.canonical.x>>_<<_),E=o.canonical.y-(o.canonical.y>>_<<_),A=a.bc(new Float64Array(16),[1/(a.N<<_),1/(a.N<<_),0]);a.$(A,A,[C*a.N,E*a.N,0]),this._demMatrixCache[o.key]={matrix:A,coord:o}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:f?this._demMatrixCache[o.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(o){const u=this.painter,f=u.width/devicePixelRatio,g=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===f&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new G(u.context,{width:f,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new G(u.context,{width:f,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(f,g,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,f,g))),this._fbo.colorAttachment.set(o==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const o=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,C=0;_<this._coordsTextureSize;_++)for(let E=0;E<this._coordsTextureSize;E++,C+=4)u[C+0]=255&E,u[C+1]=255&_,u[C+2]=E>>8<<4|_>>8,u[C+3]=0;const f=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),g=new G(o,f,o.gl.RGBA,{premultiply:!1});return g.bind(o.gl.NEAREST,o.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(o){const u=new Uint8Array(4),f=this.painter.context,g=f.gl;f.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(o.x,this.painter.height/devicePixelRatio-o.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),f.bindFramebuffer.set(null);const _=u[0]+(u[2]>>4<<8),C=u[1]+((15&u[2])<<8),E=this.coordsIndex[255-u[3]],A=E&&this.sourceCache.getTileByID(E);if(!A)return null;const R=this._coordsTextureSize,B=(1<<A.tileID.canonical.z)*R;return new a.U(this._allowMercatorOverflow(o,(A.tileID.canonical.x*R+_)/B),(A.tileID.canonical.y*R+C)/B,this.getElevation(A.tileID,_,C,R))}getTerrainMesh(){if(this._mesh)return this._mesh;const o=this.painter.context,u=new a.bd,f=new a.b0,g=this.meshSize,_=a.N/g,C=g*g;for(let F=0;F<=g;F++)for(let X=0;X<=g;X++)u.emplaceBack(X*_,F*_,0);for(let F=0;F<C;F+=g+1)for(let X=0;X<g;X++)f.emplaceBack(X+F,g+X+F+1,g+X+F+2),f.emplaceBack(X+F,g+X+F+2,X+F+1);const E=u.length,A=E+2*(g+1);for(const F of[0,1])for(let X=0;X<=g;X++)for(const oe of[0,1])u.emplaceBack(X*_,F*a.N,oe);for(let F=0;F<2*g;F+=2)f.emplaceBack(A+F,A+F+1,A+F+3),f.emplaceBack(A+F,A+F+3,A+F+2),f.emplaceBack(E+F,E+F+3,E+F+1),f.emplaceBack(E+F,E+F+2,E+F+3);const R=u.length,B=R+2*(g+1);for(const F of[0,1])for(let X=0;X<=g;X++)for(const oe of[0,1])u.emplaceBack(F*a.N,X*_,oe);for(let F=0;F<2*g;F+=2)f.emplaceBack(R+F,R+F+1,R+F+3),f.emplaceBack(R+F,R+F+3,R+F+2),f.emplaceBack(B+F,B+F+3,B+F+1),f.emplaceBack(B+F,B+F+2,B+F+3);return this._mesh={indexBuffer:o.createIndexBuffer(f),vertexBuffer:o.createVertexBuffer(u,Bm.members),segments:a.S.simpleSegment(0,0,u.length,f.length)},this._mesh}getMeshFrameDelta(o){return 2*Math.PI*a.be/Math.pow(2,o)/5}getMinTileElevationForLngLatZoom(o,u){var f;const{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(o,u);return(f=this.getMinMaxElevation(g).minElevation)!==null&&f!==void 0?f:0}getMinMaxElevation(o){const u=this.getTerrainData(o).tile,f={minElevation:null,maxElevation:null};return u&&u.dem&&(f.minElevation=u.dem.min*this.exaggeration,f.maxElevation=u.dem.max*this.exaggeration),f}_getOverscaledTileIDFromLngLatZoom(o,u){const f=a.U.fromLngLat(o.wrap()),g=(1<<u)*a.N,_=f.x*g,C=f.y*g,E=Math.floor(_/a.N),A=Math.floor(C/a.N);return{tileID:new a.O(u,0,u,E,A),mercatorX:_,mercatorY:C}}_allowMercatorOverflow(o,u){const f=o.x<this.painter.width/2;let g=a.bf(u);const _=this.painter.transform.center.lng;return f&&Math.sign(g)>0&&Math.sign(_)<0||!f&&Math.sign(g)<0&&Math.sign(_)>0?(g=360*Math.sign(_)+g,a.G(g)):u}}class $v{constructor(o,u,f){this._context=o,this._size=u,this._tileSize=f,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const o of this._objects)o.texture.destroy(),o.fbo.destroy()}_createObject(o){const u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),f=new G(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return f.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(f.texture),{id:o,fbo:u,texture:f,stamp:-1,inUse:!1}}getObjectForId(o){return this._objects[o]}useObject(o){o.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(u=>o.id!==u),this._recentlyUsed.push(o.id)}stampObject(o){o.stamp=++this._stamp}getOrCreateFreeObject(){for(const u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const o=this._createObject(this._objects.length);return this._objects.push(o),o}freeObject(o){o.inUse=!1}freeAllObjects(){for(const o of this._objects)this.freeObject(o)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(o=>!o.inUse)===!1}}const fi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Cu{constructor(o,u){this.painter=o,this.terrain=u,this.pool=new $v(o.context,30,u.sourceCache.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(o){return this.pool.getObjectForId(o.rtt[this._stacks.length-1].id).texture}prepareForRender(o,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=o._order.filter(f=>!o._layers[f].isHidden(u)),this._coordsDescendingInv={};for(const f in o.sourceCaches){this._coordsDescendingInv[f]={};const g=o.sourceCaches[f].getVisibleCoordinates();for(const _ of g){const C=this.terrain.sourceCache.getTerrainCoords(_);for(const E in C)this._coordsDescendingInv[f][E]||(this._coordsDescendingInv[f][E]=[]),this._coordsDescendingInv[f][E].push(C[E])}}this._coordsDescendingInvStr={};for(const f of o._order){const g=o._layers[f],_=g.source;if(fi[g.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const C in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][C]=this._coordsDescendingInv[_][C].map(E=>E.key).sort().join()}}for(const f of this._renderableTiles)for(const g in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[g][f.tileID.key];_&&_!==f.rttCoords[g]&&(f.rtt=[])}}renderLayer(o){if(o.isHidden(this.painter.transform.zoom))return!1;const u=o.type,f=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===o.id;if(fi[u]&&(this._prevType&&fi[this._prevType]||this._stacks.push([]),this._prevType=u,this._stacks[this._stacks.length-1].push(o.id),!g))return!0;if(fi[this._prevType]||fi[u]&&g){this._prevType=u;const _=this._stacks.length-1,C=this._stacks[_]||[];for(const E of this._renderableTiles){if(this.pool.isFull()&&(lr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(E),E.rtt[_]){const R=this.pool.getObjectForId(E.rtt[_].id);if(R.stamp===E.rtt[_].stamp){this.pool.useObject(R);continue}}const A=this.pool.getOrCreateFreeObject();this.pool.useObject(A),this.pool.stampObject(A),E.rtt[_]={id:A.id,stamp:A.stamp},f.context.bindFramebuffer.set(A.fbo.framebuffer),f.context.clear({color:a.aT.transparent,stencil:0}),f.currentStencilSource=void 0;for(let R=0;R<C.length;R++){const B=f.style._layers[C[R]],F=B.source?this._coordsDescendingInv[B.source][E.tileID.key]:[E.tileID];f.context.viewport.set([0,0,A.fbo.width,A.fbo.height]),f._renderTileClippingMasks(B,F),f.renderLayer(f,f.style.sourceCaches[B.source],B,F),B.source&&(E.rttCoords[B.source]=this._coordsDescendingInvStr[B.source][E.tileID.key])}}return lr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),fi[u]}return!1}}const Ct=b,Mt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},cc=y=>{y.touchstart=y.dragStart,y.touchmoveWindow=y.dragMove,y.touchend=y.dragEnd},Md={showCompass:!0,showZoom:!0,visualizePitch:!1};class Rd{constructor(o,u,f=!1){this.mousedown=C=>{this.startMouse(a.e({},C,{ctrlKey:!0,preventDefault:()=>C.preventDefault()}),w.mousePos(this.element,C)),w.addEventListener(window,"mousemove",this.mousemove),w.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.moveMouse(C,w.mousePos(this.element,C))},this.mouseup=C=>{this.mouseRotate.dragEnd(C),this.mousePitch&&this.mousePitch.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.startTouch(C,this._startPos),w.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,C.targetTouches)[0],this.moveTouch(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const g=o.dragRotate._mouseRotate.getClickTolerance(),_=o.dragRotate._mousePitch.getClickTolerance();this.element=u,this.mouseRotate=ll({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:C,clickTolerance:E,bearingDegreesPerPixelMoved:A=.8})=>{const R=new Im;return new Ss({clickTolerance:E,move:(B,F)=>({bearingDelta:(F.x-B.x)*A}),moveStateManager:R,enable:C,assignEvents:cc})})({clickTolerance:g,enable:!0}),this.map=o,f&&(this.mousePitch=Cs({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:C,clickTolerance:E,pitchDegreesPerPixelMoved:A=-.5})=>{const R=new Im;return new Ss({clickTolerance:E,move:(B,F)=>({pitchDelta:(F.y-B.y)*A}),moveStateManager:R,enable:C,assignEvents:cc})})({clickTolerance:_,enable:!0})),w.addEventListener(u,"mousedown",this.mousedown),w.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(u,"touchcancel",this.reset)}startMouse(o,u){this.mouseRotate.dragStart(o,u),this.mousePitch&&this.mousePitch.dragStart(o,u),w.disableDrag()}startTouch(o,u){this.touchRotate.dragStart(o,u),this.touchPitch&&this.touchPitch.dragStart(o,u),w.disableDrag()}moveMouse(o,u){const f=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(o,u)||{};if(g&&f.setBearing(f.getBearing()+g),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(o,u)||{};_&&f.setPitch(f.getPitch()+_)}}moveTouch(o,u){const f=this.map,{bearingDelta:g}=this.touchRotate.dragMove(o,u)||{};if(g&&f.setBearing(f.getBearing()+g),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(o,u)||{};_&&f.setPitch(f.getPitch()+_)}}off(){const o=this.element;w.removeEventListener(o,"mousedown",this.mousedown),w.removeEventListener(o,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend),w.removeEventListener(o,"touchcancel",this.reset),this.offTemp()}offTemp(){w.enableDrag(),w.removeEventListener(window,"mousemove",this.mousemove),w.removeEventListener(window,"mouseup",this.mouseup),w.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),w.removeEventListener(window,"touchend",this.touchend)}}let yr;function Ld(y,o,u){if(y=new a.L(y.lng,y.lat),o){const f=new a.L(y.lng-360,y.lat),g=new a.L(y.lng+360,y.lat),_=u.locationPoint(y).distSqr(o);u.locationPoint(f).distSqr(o)<_?y=f:u.locationPoint(g).distSqr(o)<_&&(y=g)}for(;Math.abs(y.lng-u.center.lng)>180;){const f=u.locationPoint(y);if(f.x>=0&&f.y>=0&&f.x<=u.width&&f.y<=u.height)break;y.lng>u.center.lng?y.lng-=360:y.lng+=360}return y}const yo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nm(y,o,u){const f=y.classList;for(const g in yo)f.remove(`maplibregl-${u}-anchor-${g}`);f.add(`maplibregl-${u}-anchor-${o}`)}class Ca extends a.E{constructor(o){if(super(),this._onKeyPress=u=>{const f=u.code,g=u.charCode||u.keyCode;f!=="Space"&&f!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=u=>{const f=u.originalEvent.target,g=this._element;this._popup&&(f===g||g.contains(f))&&this.togglePopup()},this._update=u=>{if(!this._map)return;const f=this._map.loaded()&&!this._map.isMoving();((u==null?void 0:u.type)==="terrain"||(u==null?void 0:u.type)==="render"&&!f)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Ld(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let g="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?g=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(g=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),w.setTransform(this._element,`${yo[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${g}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const C=this._map.unproject(this._pos),E=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=C.distanceTo(this._lngLat)>20*E?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=u=>{if(!this._isDragging){const f=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=f}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.k("dragstart"))),this.fire(new a.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.k("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment!=="auto"?o.pitchAlignment:this._rotationAlignment,o&&o.element)this._element=o.element,this._offset=a.P.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");const u=w.createNS("http://www.w3.org/2000/svg","svg"),f=41,g=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${f}px`),u.setAttributeNS(null,"width",`${g}px`),u.setAttributeNS(null,"viewBox",`0 0 ${g} ${f}`);const _=w.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const C=w.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");const E=w.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const A=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const _e of A){const Ee=w.createNS("http://www.w3.org/2000/svg","ellipse");Ee.setAttributeNS(null,"opacity","0.04"),Ee.setAttributeNS(null,"cx","10.5"),Ee.setAttributeNS(null,"cy","5.80029008"),Ee.setAttributeNS(null,"rx",_e.rx),Ee.setAttributeNS(null,"ry",_e.ry),E.appendChild(Ee)}const R=w.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill",this._color);const B=w.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),R.appendChild(B);const F=w.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"opacity","0.25"),F.setAttributeNS(null,"fill","#000000");const X=w.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),F.appendChild(X);const oe=w.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),oe.setAttributeNS(null,"fill","#FFFFFF");const ie=w.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ae=w.createNS("http://www.w3.org/2000/svg","circle");ae.setAttributeNS(null,"fill","#000000"),ae.setAttributeNS(null,"opacity","0.25"),ae.setAttributeNS(null,"cx","5.5"),ae.setAttributeNS(null,"cy","5.5"),ae.setAttributeNS(null,"r","5.4999962");const ne=w.createNS("http://www.w3.org/2000/svg","circle");ne.setAttributeNS(null,"fill","#FFFFFF"),ne.setAttributeNS(null,"cx","5.5"),ne.setAttributeNS(null,"cy","5.5"),ne.setAttributeNS(null,"r","5.4999962"),ie.appendChild(ae),ie.appendChild(ne),C.appendChild(E),C.appendChild(R),C.appendChild(F),C.appendChild(oe),C.appendChild(ie),u.appendChild(C),u.setAttributeNS(null,"height",f*this._scale+"px"),u.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(u),this._offset=a.P.convert(o&&o.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",u=>{u.preventDefault()}),this._element.addEventListener("mousedown",u=>{u.preventDefault()}),Nm(this._element,this._anchor,"marker"),o&&o.className)for(const u of o.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),o.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=a.L.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const g=Math.abs(13.5)/Math.SQRT2;o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=o,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const o=this._popup;return o?(o.isOpen()?o.remove():o.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(o){return this._offset=a.P.convert(o),this._update(),this}addClassName(o){this._element.classList.add(o)}removeClassName(o){this._element.classList.remove(o)}toggleClassName(o){return this._element.classList.toggle(o)}setDraggable(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o&&o!=="auto"?o:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const cr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let rr=0,ul=!1;const uc={maxWidth:100,unit:"metric"};function hc(y,o,u){const f=u&&u.maxWidth||100,g=y._container.clientHeight/2,_=y.unproject([0,g]),C=y.unproject([f,g]),E=_.distanceTo(C);if(u&&u.unit==="imperial"){const A=3.2808*E;A>5280?Ta(o,f,A/5280,y._getUIString("ScaleControl.Miles")):Ta(o,f,A,y._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?Ta(o,f,E/1852,y._getUIString("ScaleControl.NauticalMiles")):E>=1e3?Ta(o,f,E/1e3,y._getUIString("ScaleControl.Kilometers")):Ta(o,f,E,y._getUIString("ScaleControl.Meters"))}function Ta(y,o,u,f){const g=function(_){const C=Math.pow(10,`${Math.floor(_)}`.length-1);let E=_/C;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:E>=1?1:function(A){const R=Math.pow(10,Math.ceil(-Math.log(A)/Math.LN10));return Math.round(A*R)/R}(E),C*E}(u);y.style.width=o*(g/u)+"px",y.innerHTML=`${g}&nbsp;${f}`}const Dd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},zd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function hl(y){if(y){if(typeof y=="number"){const o=Math.round(Math.abs(y)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,y),"top-left":new a.P(o,o),"top-right":new a.P(-o,o),bottom:new a.P(0,-y),"bottom-left":new a.P(o,-o),"bottom-right":new a.P(-o,-o),left:new a.P(y,0),right:new a.P(-y,0)}}if(y instanceof a.P||Array.isArray(y)){const o=a.P.convert(y);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:a.P.convert(y.center||[0,0]),top:a.P.convert(y.top||[0,0]),"top-left":a.P.convert(y["top-left"]||[0,0]),"top-right":a.P.convert(y["top-right"]||[0,0]),bottom:a.P.convert(y.bottom||[0,0]),"bottom-left":a.P.convert(y["bottom-left"]||[0,0]),"bottom-right":a.P.convert(y["bottom-right"]||[0,0]),left:a.P.convert(y.left||[0,0]),right:a.P.convert(y.right||[0,0])}}return hl(new a.P(0,0))}const Bd={extend:(y,...o)=>a.e(y,...o),run(y){y()},logToElement(y,o=!1,u="log"){const f=window.document.getElementById(u);f&&(o&&(f.innerHTML=""),f.innerHTML+=`<br>${y}`)}},Od=b;class Sn{static get version(){return Od}static get workerCount(){return Cr.workerCount}static set workerCount(o){Cr.workerCount=o}static get maxParallelImageRequests(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(o){a.c.MAX_PARALLEL_IMAGE_REQUESTS=o}static get workerUrl(){return a.c.WORKER_URL}static set workerUrl(o){a.c.WORKER_URL=o}static addProtocol(o,u){a.c.REGISTERED_PROTOCOLS[o]=u}static removeProtocol(o){delete a.c.REGISTERED_PROTOCOLS[o]}}return Sn.Map=class extends zm{constructor(y){if(a.bg.mark(a.bh.create),(y=a.e({},Mt,y)).minZoom!=null&&y.maxZoom!=null&&y.minZoom>y.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(y.minPitch!=null&&y.maxPitch!=null&&y.minPitch>y.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(y.minPitch!=null&&y.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(y.maxPitch!=null&&y.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new _u(y.minZoom,y.maxZoom,y.minPitch,y.maxPitch,y.renderWorldCopies),{bearingSnap:y.bearingSnap}),this._cooperativeGesturesOnWheel=o=>{this._onCooperativeGesture(o,o[this._metaKey],1)},this._contextLost=o=>{o.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.k("webglcontextlost",{originalEvent:o}))},this._contextRestored=o=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.k("webglcontextrestored",{originalEvent:o}))},this._onMapScroll=o=>{if(o.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=y.interactive,this._cooperativeGestures=y.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=y.maxTileCacheSize,this._maxTileCacheZoomLevels=y.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=y.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=y.preserveDrawingBuffer,this._antialias=y.antialias,this._trackResize=y.trackResize,this._bearingSnap=y.bearingSnap,this._refreshExpiredTiles=y.refreshExpiredTiles,this._fadeDuration=y.fadeDuration,this._crossSourceCollisions=y.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=y.collectResourceTiming,this._renderTaskQueue=new Su,this._controls=[],this._mapId=a.a2(),this._locale=a.e({},Id,y.locale),this._clickTolerance=y.clickTolerance,this._overridePixelRatio=y.pixelRatio,this._maxCanvasSize=y.maxCanvasSize,this.transformCameraUpdate=y.transformCameraUpdate,this._imageQueueHandle=q.addThrottleControl(()=>this.isMoving()),this._requestManager=new V(y.transformRequest),typeof y.container=="string"){if(this._container=document.getElementById(y.container),!this._container)throw new Error(`Container '${y.container}' not found.`)}else{if(!(y.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=y.container}if(y.maxBounds&&this.setMaxBounds(y.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let o=!1;const u=Sa(f=>{this._trackResize&&!this._removed&&this.resize(f)._update()},50);this._resizeObserver=new ResizeObserver(f=>{o?u(f):o=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Ad(this,y),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=y.hash&&new ic(typeof y.hash=="string"&&y.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),y.bounds&&(this.resize(),this.fitBounds(y.bounds,a.e({},y.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=y.localIdeographFontFamily,this._validateStyle=y.validateStyle,y.style&&this.setStyle(y.style,{localIdeographFontFamily:y.localIdeographFontFamily}),y.attributionControl&&this.addControl(new Qi({customAttribution:y.customAttribution})),y.maplibreLogo&&this.addControl(new Gn,y.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update(o.dataType==="style"),this.fire(new a.k(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new a.k(`${o.dataType}dataloading`,o))}),this.on("dataabort",o=>{this.fire(new a.k("sourcedataabort",o))})}_getMapId(){return this._mapId}addControl(y,o){if(o===void 0&&(o=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new a.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=y.onAdd(this);this._controls.push(y);const f=this._controlPositions[o];return o.indexOf("bottom")!==-1?f.insertBefore(u,f.firstChild):f.appendChild(u),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new a.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(y);return o>-1&&this._controls.splice(o,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}calculateCameraOptionsFromTo(y,o,u,f){return f==null&&this.terrain&&(f=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(y,o,u,f)}resize(y){var o;const u=this._containerDimensions(),f=u[0],g=u[1],_=this._getClampedPixelRatio(f,g);if(this._resizeCanvas(f,g,_),this.painter.resize(f,g,_),this.painter.overLimit()){const E=this.painter.context.gl;this._maxCanvasSize=[E.drawingBufferWidth,E.drawingBufferHeight];const A=this._getClampedPixelRatio(f,g);this._resizeCanvas(f,g,A),this.painter.resize(f,g,A)}this.transform.resize(f,g),(o=this._requestedCameraState)===null||o===void 0||o.resize(f,g);const C=!this._moving;return C&&(this.stop(),this.fire(new a.k("movestart",y)).fire(new a.k("move",y))),this.fire(new a.k("resize",y)),C&&this.fire(new a.k("moveend",y)),this}_getClampedPixelRatio(y,o){const{0:u,1:f}=this._maxCanvasSize,g=this.getPixelRatio(),_=y*g,C=o*g;return Math.min(_>u?u/_:1,C>f?f/C:1)*g}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(ut.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.renderWorldCopies=y,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(y){return this._cooperativeGestures=y,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(y){return this.transform.locationPoint(a.L.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.pointLocation(a.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,o,u){if(y==="mouseenter"||y==="mouseover"){let f=!1;return{layer:o,listener:u,delegates:{mousemove:_=>{const C=this.getLayer(o)?this.queryRenderedFeatures(_.point,{layers:[o]}):[];C.length?f||(f=!0,u.call(this,new Ji(y,this,_.originalEvent,{features:C}))):f=!1},mouseout:()=>{f=!1}}}}if(y==="mouseleave"||y==="mouseout"){let f=!1;return{layer:o,listener:u,delegates:{mousemove:C=>{(this.getLayer(o)?this.queryRenderedFeatures(C.point,{layers:[o]}):[]).length?f=!0:f&&(f=!1,u.call(this,new Ji(y,this,C.originalEvent)))},mouseout:C=>{f&&(f=!1,u.call(this,new Ji(y,this,C.originalEvent)))}}}}{const f=g=>{const _=this.getLayer(o)?this.queryRenderedFeatures(g.point,{layers:[o]}):[];_.length&&(g.features=_,u.call(this,g),delete g.features)};return{layer:o,listener:u,delegates:{[y]:f}}}}on(y,o,u){if(u===void 0)return super.on(y,o);const f=this._createDelegatedListener(y,o,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(f);for(const g in f.delegates)this.on(g,f.delegates[g]);return this}once(y,o,u){if(u===void 0)return super.once(y,o);const f=this._createDelegatedListener(y,o,u);for(const g in f.delegates)this.once(g,f.delegates[g]);return this}off(y,o,u){return u===void 0?super.off(y,o):(this._delegatedListeners&&this._delegatedListeners[y]&&(f=>{const g=this._delegatedListeners[y];for(let _=0;_<g.length;_++){const C=g[_];if(C.layer===o&&C.listener===u){for(const E in C.delegates)this.off(E,C.delegates[E]);return g.splice(_,1),this}}})(),this)}queryRenderedFeatures(y,o){if(!this.style)return[];let u;const f=y instanceof a.P||Array.isArray(y),g=f?y:[[0,0],[this.transform.width,this.transform.height]];if(o=o||(f?{}:y)||{},g instanceof a.P||typeof g[0]=="number")u=[a.P.convert(g)];else{const _=a.P.convert(g[0]),C=a.P.convert(g[1]);u=[_,new a.P(C.x,_.y),C,new a.P(_.x,C.y),_]}return this.style.queryRenderedFeatures(u,o,this.transform)}querySourceFeatures(y,o){return this.style.querySourceFeatures(y,o)}setStyle(y,o){return(o=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},o)).diff!==!1&&o.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._updateStyle(y,o))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){const o=this._locale[y];if(o==null)throw new Error(`Missing UI string '${y}'`);return o}_updateStyle(y,o){if(o.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,o));const u=this.style&&o.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new Kr(this,o||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,o,u):this.style.loadJSON(y,o,u),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Kr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,o){if(typeof y=="string"){const u=this._requestManager.transformRequest(y,L.Style);a.f(u,(f,g)=>{f?this.fire(new a.j(f)):g&&this._updateDiff(g,o)})}else typeof y=="object"&&this._updateDiff(y,o)}_updateDiff(y,o){try{this.style.setState(y,o)&&this._update(!0)}catch(u){a.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(y,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(y,o){return this._lazyInitEmptyStyle(),this.style.addSource(y,o),this._update(!0)}isSourceLoaded(y){const o=this.style&&this.style.sourceCaches[y];if(o!==void 0)return o.loaded();this.fire(new a.j(new Error(`There is no source with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){const o=this.style.sourceCaches[y.source];if(!o)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);for(const u in this.style._layers){const f=this.style._layers[u];f.type==="hillshade"&&f.source===y.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Fm(this.painter,o,y),this.painter.renderToTexture=new Cu(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=u=>{u.dataType==="style"?this.terrain.sourceCache.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==y.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.k("terrain",{terrain:y})),this}getTerrain(){var y,o;return(o=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&o!==void 0?o:null}areTilesLoaded(){const y=this.style&&this.style.sourceCaches;for(const o in y){const u=y[o]._tiles;for(const f in u){const g=u[f];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}addSourceType(y,o,u){return this._lazyInitEmptyStyle(),this.style.addSourceType(y,o,u)}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}addImage(y,o,u={}){const{pixelRatio:f=1,sdf:g=!1,stretchX:_,stretchY:C,content:E}=u;if(this._lazyInitEmptyStyle(),!(o instanceof HTMLImageElement||a.a(o))){if(o.width===void 0||o.height===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:A,height:R,data:B}=o,F=o;return this.style.addImage(y,{data:new a.R({width:A,height:R},new Uint8Array(B)),pixelRatio:f,stretchX:_,stretchY:C,content:E,sdf:g,version:0,userImage:F}),F.onAdd&&F.onAdd(this,y),this}}{const{width:A,height:R,data:B}=a.h.getImageData(o);this.style.addImage(y,{data:new a.R({width:A,height:R},B),pixelRatio:f,stretchX:_,stretchY:C,content:E,sdf:g,version:0})}}updateImage(y,o){const u=this.style.getImage(y);if(!u)return this.fire(new a.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const f=o instanceof HTMLImageElement||a.a(o)?a.h.getImageData(o):o,{width:g,height:_,data:C}=f;if(g===void 0||_===void 0)return this.fire(new a.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==u.data.width||_!==u.data.height)return this.fire(new a.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const E=!(o instanceof HTMLImageElement||a.a(o));return u.data.replace(C,E),this.style.updateImage(y,u),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new a.j(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y,o){q.getImage(this._requestManager.transformRequest(y,L.Image),o)}listImages(){return this.style.listImages()}addLayer(y,o){return this._lazyInitEmptyStyle(),this.style.addLayer(y,o),this._update(!0)}moveLayer(y,o){return this.style.moveLayer(y,o),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,o,u){return this.style.setLayerZoomRange(y,o,u),this._update(!0)}setFilter(y,o,u={}){return this.style.setFilter(y,o,u),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,o,u,f={}){return this.style.setPaintProperty(y,o,u,f),this._update(!0)}getPaintProperty(y,o){return this.style.getPaintProperty(y,o)}setLayoutProperty(y,o,u,f={}){return this.style.setLayoutProperty(y,o,u,f),this._update(!0)}getLayoutProperty(y,o){return this.style.getLayoutProperty(y,o)}setGlyphs(y,o={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,o),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,o,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,o,u,f=>{f||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,o={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,o,u=>{u||this._update(!0)}),this}setLight(y,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,o),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(y,o){return this.style.setFeatureState(y,o),this._update()}removeFeatureState(y,o){return this.style.removeFeatureState(y,o),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,o=0;return this._container&&(y=this._container.clientWidth||400,o=this._container.clientHeight||300),[y,o]}_setupContainer(){const y=this._container;y.classList.add("maplibregl-map");const o=this._canvasContainer=w.create("div","maplibregl-canvas-container",y);this._interactive&&o.classList.add("maplibregl-interactive"),this._canvas=w.create("canvas","maplibregl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const u=this._containerDimensions(),f=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],f);const g=this._controlContainer=w.create("div","maplibregl-control-container",y),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{_[C]=w.create("div",`maplibregl-ctrl-${C} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=w.create("div","maplibregl-cooperative-gesture-screen",this._container);let y=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(y=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${y}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){w.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(y,o,u){this._canvas.width=Math.floor(u*y),this._canvas.height=Math.floor(u*o),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${o}px`}_setupPainter(){const y={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let o=null;this._canvas.addEventListener("webglcontextcreationerror",f=>{o={requestedAttributes:y},f&&(o.statusMessage=f.statusMessage,o.type=f.type)},{once:!0});const u=this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y);if(!u){const f="Failed to initialize WebGL";throw o?(o.message=f,new Error(JSON.stringify(o))):new Error(f)}this.painter=new wa(u,this.transform),T.testSupport(u)}_onCooperativeGesture(y,o,u){return!o&&u<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){const o=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,_=a.h.now();this.style.zoomHistory.update(g,_);const C=new a.a8(g,{now:_,fadeDuration:o,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),E=C.crossFadingFactor();E===1&&E===this._crossFadingFactor||(u=!0,this._crossFadingFactor=E),this.style.update(C)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,showPadding:this.showPadding}),this.fire(new a.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.bg.mark(a.bh.load),this.fire(new a.k("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.k("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0,a.bg.mark(a.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),q.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();const o=this.painter.context.gl.getExtension("WEBGL_lose_context");o&&o.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),w.remove(this._canvasContainer),w.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),a.bg.clearMetrics(),this._removed=!0,this.fire(new a.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.h.frame(y=>{a.bg.frame(y),this._frame=null,this._render(y)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return Ct}getCameraTargetElevation(){return this.transform.elevation}},Sn.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{const o=this._map.getZoom(),u=o===this._map.getMaxZoom(),f=o===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=f,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",f.toString())},this._rotateCompassArrow=()=>{const o=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=o},this._setButtonTitle=(o,u)=>{const f=this._map._getUIString(`NavigationControl.${u}`);o.title=f,o.setAttribute("aria-label",f)},this.options=a.e({},Md,y),this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",o=>this._map.zoomIn({},{originalEvent:o})),w.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",o=>this._map.zoomOut({},{originalEvent:o})),w.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",o=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:o}):this._map.resetNorth({},{originalEvent:o})}),this._compassIcon=w.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rd(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,o){const u=w.create("button",y,this._container);return u.type="button",u.addEventListener("click",o),u}},Sn.GeolocateControl=class extends a.E{constructor(y){super(),this._onSuccess=o=>{if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new a.k("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(o),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.k("geolocate",o)),this._finish()}},this._updateCamera=o=>{const u=new a.L(o.coords.longitude,o.coords.latitude),f=o.coords.accuracy,g=this._map.getBearing(),_=a.e({bearing:g},this.options.fitBoundsOptions),C=ut.fromLngLat(u,f);this._map.fitBounds(C,_,{geolocateSource:!0})},this._updateMarker=o=>{if(o){const u=new a.L(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=o=>{if(this._map){if(this.options.trackUserLocation)if(o.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(o.code===3&&ul)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.k("error",o)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=o=>{if(this._map){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=w.create("button","maplibregl-ctrl-geolocate",this._container),w.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",o===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ca({element:this._dotElement}),this._circleElement=w.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ca({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.k("trackuserlocationend")))})}},this.options=a.e({},cr,y)}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(o,u=!1){yr===void 0||u?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(f=>{yr=f.state!=="denied",o(yr)}).catch(()=>{yr=!!window.navigator.geolocation,o(yr)}):(yr=!!window.navigator.geolocation,o(yr)):o(yr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,rr=0,ul=!1}_isOutOfMapMaxBounds(y){const o=this._map.getMaxBounds(),u=y.coords;return o&&(u.longitude<o.getWest()||u.longitude>o.getEast()||u.latitude<o.getSouth()||u.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const y=this._map.getBounds(),o=y.getSouthEast(),u=y.getNorthEast(),f=o.distanceTo(u),g=Math.ceil(this._accuracy/(f/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":rr--,ul=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),rr++,rr>1?(y={maximumAge:6e5,timeout:0},ul=!0):(y=this.options.positionOptions,ul=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Sn.AttributionControl=Qi,Sn.LogoControl=Gn,Sn.ScaleControl=class{constructor(y){this._onMove=()=>{hc(this._map,this._container,this.options)},this.setUnit=o=>{this.options.unit=o,hc(this._map,this._container,this.options)},this.options=a.e({},uc,y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Sn.FullscreenControl=class extends a.E{constructor(y={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){w.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const y=this._fullscreenButton=w.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);w.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new a.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Sn.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=y}onAdd(y){return this._map=y,this._container=w.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=w.create("button","maplibregl-ctrl-terrain",this._container),w.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){w.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Sn.Popup=class extends a.E{constructor(y){super(),this.remove=()=>(this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.k("close")),this),this._onMouseUp=o=>{this._update(o.point)},this._onMouseMove=o=>{this._update(o.point)},this._onDrag=o=>{this._update(o.point)},this._update=o=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=w.create("div","maplibregl-popup",this._map.getContainer()),this._tip=w.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const C of this.options.className.split(" "))this._container.classList.add(C);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ld(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!o)return;const u=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat);let f=this.options.anchor;const g=hl(this.options.offset);if(!f){const C=this._container.offsetWidth,E=this._container.offsetHeight;let A;A=u.y+g.bottom.y<E?["top"]:u.y>this._map.transform.height-E?["bottom"]:[],u.x<C/2?A.push("left"):u.x>this._map.transform.width-C/2&&A.push("right"),f=A.length===0?"bottom":A.join("-")}const _=u.add(g[f]).round();w.setTransform(this._container,`${yo[f]} translate(${_.x}px,${_.y}px)`),Nm(this._container,f,"popup")},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Dd),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=a.L.convert(y),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){const o=document.createDocumentFragment(),u=document.createElement("body");let f;for(u.innerHTML=y;f=u.firstChild,f;)o.appendChild(f);return this.setDOMContent(o)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=w.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){this._container&&this._container.classList.add(y)}removeClassName(y){this._container&&this._container.classList.remove(y)}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}_createCloseButton(){this.options.closeButton&&(this._closeButton=w.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(zd);y&&y.focus()}},Sn.Marker=Ca,Sn.Style=Kr,Sn.LngLat=a.L,Sn.LngLatBounds=ut,Sn.Point=a.P,Sn.MercatorCoordinate=a.U,Sn.Evented=a.E,Sn.AJAXError=a.bi,Sn.config=a.c,Sn.CanvasSource=Gt,Sn.GeoJSONSource=nn,Sn.ImageSource=mt,Sn.RasterDEMTileSource=Ot,Sn.RasterTileSource=xt,Sn.VectorTileSource=qt,Sn.VideoSource=Zt,Sn.setRTLTextPlugin=a.bj,Sn.getRTLTextPluginStatus=a.bk,Sn.prewarm=function(){Ai().acquire(Lt)},Sn.clearPrewarmedResources=function(){const y=Ur;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(Lt),Ur=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Bd.extend(Sn,{isSafari:a.ac,getPerformanceMetrics:a.bg.getPerformanceMetrics}),Sn});var p=l;return p})})(cD);var CY=cD.exports;const cn=s0(CY),hD="3.7.7",TY=hD,Xh=typeof Buffer=="function",Vk=typeof TextDecoder=="function"?new TextDecoder:void 0,Uk=typeof TextEncoder=="function"?new TextEncoder:void 0,EY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ip=Array.prototype.slice.call(EY),Fg=(e=>{let t={};return e.forEach((n,i)=>t[n]=i),t})(Ip),PY=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Si=String.fromCharCode.bind(String),Wk=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),dD=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),pD=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),fD=e=>{let t,n,i,l,h="";const p=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255||(l=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|i<<8|l,h+=Ip[t>>18&63]+Ip[t>>12&63]+Ip[t>>6&63]+Ip[t&63]}return p?h.slice(0,p-3)+"===".substring(p):h},HS=typeof btoa=="function"?e=>btoa(e):Xh?e=>Buffer.from(e,"binary").toString("base64"):fD,xb=Xh?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let i=0,l=e.length;i<l;i+=4096)n.push(Si.apply(null,e.subarray(i,i+4096)));return HS(n.join(""))},dy=(e,t=!1)=>t?dD(xb(e)):xb(e),kY=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Si(192|t>>>6)+Si(128|t&63):Si(224|t>>>12&15)+Si(128|t>>>6&63)+Si(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Si(240|t>>>18&7)+Si(128|t>>>12&63)+Si(128|t>>>6&63)+Si(128|t&63)}},AY=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,mD=e=>e.replace(AY,kY),Gk=Xh?e=>Buffer.from(e,"utf8").toString("base64"):Uk?e=>xb(Uk.encode(e)):e=>HS(mD(e)),xh=(e,t=!1)=>t?dD(Gk(e)):Gk(e),Hk=e=>xh(e,!0),IY=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,MY=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Si((n>>>10)+55296)+Si((n&1023)+56320);case 3:return Si((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Si((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},gD=e=>e.replace(IY,MY),yD=e=>{if(e=e.replace(/\s+/g,""),!PY.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",i,l;for(let h=0;h<e.length;)t=Fg[e.charAt(h++)]<<18|Fg[e.charAt(h++)]<<12|(i=Fg[e.charAt(h++)])<<6|(l=Fg[e.charAt(h++)]),n+=i===64?Si(t>>16&255):l===64?Si(t>>16&255,t>>8&255):Si(t>>16&255,t>>8&255,t&255);return n},qS=typeof atob=="function"?e=>atob(pD(e)):Xh?e=>Buffer.from(e,"base64").toString("binary"):yD,vD=Xh?e=>Wk(Buffer.from(e,"base64")):e=>Wk(qS(e).split("").map(t=>t.charCodeAt(0))),_D=e=>vD(xD(e)),RY=Xh?e=>Buffer.from(e,"base64").toString("utf8"):Vk?e=>Vk.decode(vD(e)):e=>gD(qS(e)),xD=e=>pD(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),bb=e=>RY(xD(e)),LY=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},bD=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),wD=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,bD(n));e("fromBase64",function(){return bb(this)}),e("toBase64",function(t){return xh(this,t)}),e("toBase64URI",function(){return xh(this,!0)}),e("toBase64URL",function(){return xh(this,!0)}),e("toUint8Array",function(){return _D(this)})},SD=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,bD(n));e("toBase64",function(t){return dy(this,t)}),e("toBase64URI",function(){return dy(this,!0)}),e("toBase64URL",function(){return dy(this,!0)})},DY=()=>{wD(),SD()},zY={version:hD,VERSION:TY,atob:qS,atobPolyfill:yD,btoa:HS,btoaPolyfill:fD,fromBase64:bb,toBase64:xh,encode:xh,encodeURI:Hk,encodeURL:Hk,utob:mD,btou:gD,decode:bb,isValid:LY,fromUint8Array:dy,toUint8Array:_D,extendString:wD,extendUint8Array:SD,extendBuiltins:DY};var ZS={exports:{}},bh=typeof Reflect=="object"?Reflect:null,qk=bh&&typeof bh.apply=="function"?bh.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)},py;bh&&typeof bh.ownKeys=="function"?py=bh.ownKeys:Object.getOwnPropertySymbols?py=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:py=function(t){return Object.getOwnPropertyNames(t)};function BY(e){console&&console.warn&&console.warn(e)}var CD=Number.isNaN||function(t){return t!==t};function Zn(){Zn.init.call(this)}ZS.exports=Zn;ZS.exports.once=$Y;Zn.EventEmitter=Zn;Zn.prototype._events=void 0;Zn.prototype._eventsCount=0;Zn.prototype._maxListeners=void 0;var Zk=10;function Sv(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zn,"defaultMaxListeners",{enumerable:!0,get:function(){return Zk},set:function(e){if(typeof e!="number"||e<0||CD(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Zk=e}});Zn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||CD(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function TD(e){return e._maxListeners===void 0?Zn.defaultMaxListeners:e._maxListeners}Zn.prototype.getMaxListeners=function(){return TD(this)};Zn.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var l=t==="error",h=this._events;if(h!==void 0)l=l&&h.error===void 0;else if(!l)return!1;if(l){var p;if(n.length>0&&(p=n[0]),p instanceof Error)throw p;var a=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw a.context=p,a}var b=h[t];if(b===void 0)return!1;if(typeof b=="function")qk(b,this,n);else for(var w=b.length,T=ID(b,w),i=0;i<w;++i)qk(T[i],this,n);return!0};function ED(e,t,n,i){var l,h,p;if(Sv(n),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),h=e._events),p=h[t]),p===void 0)p=h[t]=n,++e._eventsCount;else if(typeof p=="function"?p=h[t]=i?[n,p]:[p,n]:i?p.unshift(n):p.push(n),l=TD(e),l>0&&p.length>l&&!p.warned){p.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=p.length,BY(a)}return e}Zn.prototype.addListener=function(t,n){return ED(this,t,n,!1)};Zn.prototype.on=Zn.prototype.addListener;Zn.prototype.prependListener=function(t,n){return ED(this,t,n,!0)};function OY(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function PD(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},l=OY.bind(i);return l.listener=n,i.wrapFn=l,l}Zn.prototype.once=function(t,n){return Sv(n),this.on(t,PD(this,t,n)),this};Zn.prototype.prependOnceListener=function(t,n){return Sv(n),this.prependListener(t,PD(this,t,n)),this};Zn.prototype.removeListener=function(t,n){var i,l,h,p,a;if(Sv(n),l=this._events,l===void 0)return this;if(i=l[t],i===void 0)return this;if(i===n||i.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,i.listener||n));else if(typeof i!="function"){for(h=-1,p=i.length-1;p>=0;p--)if(i[p]===n||i[p].listener===n){a=i[p].listener,h=p;break}if(h<0)return this;h===0?i.shift():FY(i,h),i.length===1&&(l[t]=i[0]),l.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Zn.prototype.off=Zn.prototype.removeListener;Zn.prototype.removeAllListeners=function(t){var n,i,l;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var h=Object.keys(i),p;for(l=0;l<h.length;++l)p=h[l],p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=i[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(l=n.length-1;l>=0;l--)this.removeListener(t,n[l]);return this};function kD(e,t,n){var i=e._events;if(i===void 0)return[];var l=i[t];return l===void 0?[]:typeof l=="function"?n?[l.listener||l]:[l]:n?NY(l):ID(l,l.length)}Zn.prototype.listeners=function(t){return kD(this,t,!0)};Zn.prototype.rawListeners=function(t){return kD(this,t,!1)};Zn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):AD.call(e,t)};Zn.prototype.listenerCount=AD;function AD(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Zn.prototype.eventNames=function(){return this._eventsCount>0?py(this._events):[]};function ID(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function FY(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function NY(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function $Y(e,t){return new Promise(function(n,i){function l(p){e.removeListener(t,h),i(p)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",l),n([].slice.call(arguments))}MD(e,t,h,{once:!0}),t!=="error"&&jY(e,l,{once:!0})})}function jY(e,t,n){typeof e.on=="function"&&MD(e,"error",t,n)}function MD(e,t,n,i){if(typeof e.on=="function")i.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function l(h){i.once&&e.removeEventListener(t,l),n(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var VY=ZS.exports;const UY=s0(VY);function WY(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class GY{constructor(){this._apiKey="",this._fetch=WY(),this.tileCacheSize=200}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const wh=new GY,HY={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(HY));async function qY(e,t={}){if(wh.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(e).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return wh.fetch(e,t)}const RD={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(RD);class ZY extends Error{constructor(t,n=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${n}`),this.res=t}}const Kk={403:"Key is missing, invalid or restricted"};async function KY(e={}){const t=new URL("geolocation/ip.json",RD.maptilerApiURL);t.searchParams.set("key",e.apiKey??wh.apiKey);const n=t.toString(),i=await qY(n);if(!i.ok)throw new ZY(i,i.status in Kk?Kk[i.status]:"");return await i.json()}const Xk={info:KY};function LD(e){const t=/^maptiler:\/\/(.*)/;let n;const i=e.trim();let l;return i.startsWith("http://")||i.startsWith("https://")?l=i:(n=t.exec(i))!==null?l=`https://api.maptiler.com/maps/${n[1]}/style.json`:l=`https://api.maptiler.com/maps/${i}/style.json`,l}class DD{constructor(t,n,i,l,h,p){this.name=t,this.variantType=n,this.id=i,this.referenceStyle=l,this.description=h,this.imageURL=p}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return LD(this.getId())}}class zD{constructor(t,n){this.name=t,this.id=n,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const wb=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BACKDROP",name:"Backdrop",description:"",variants:[{id:"backdrop",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"backdrop-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"backdrop-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function XY(e){return new Proxy(e,{get(t,n,i){return t.hasVariant(n)?t.getVariant(n):n.toString().toUpperCase()===n?e.getDefaultVariant():Reflect.get(t,n,i)}})}function YY(){const e={};for(let t=0;t<wb.length;t+=1){const n=wb[t],i=XY(new zD(n.name,n.referenceStyleID));for(let l=0;l<n.variants.length;l+=1){const h=n.variants[l],p=new DD(h.name,h.variantType,h.id,i,h.description,h.imageURL);i.addVariant(p)}e[n.referenceStyleID]=i}return e}const JY=YY();let Ng;const QY=new Uint8Array(16);function eJ(){if(!Ng&&(Ng=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ng))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ng(QY)}const xi=[];for(let e=0;e<256;++e)xi.push((e+256).toString(16).slice(1));function tJ(e,t=0){return xi[e[t+0]]+xi[e[t+1]]+xi[e[t+2]]+xi[e[t+3]]+"-"+xi[e[t+4]]+xi[e[t+5]]+"-"+xi[e[t+6]]+xi[e[t+7]]+"-"+xi[e[t+8]]+xi[e[t+9]]+"-"+xi[e[t+10]]+xi[e[t+11]]+xi[e[t+12]]+xi[e[t+13]]+xi[e[t+14]]+xi[e[t+15]]}const nJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yk={randomUUID:nJ};function rJ(e,t,n){if(Yk.randomUUID&&!t&&!e)return Yk.randomUUID();e=e||{};const i=e.random||(e.rng||eJ)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(let l=0;l<16;++l)t[n+l]=i[l];return t}return tJ(i)}const kn={VISITOR:"visitor",VISITOR_ENGLISH:"visitor_en",STYLE:"style",AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"name:latin",NON_LATIN:"name:nonlatin",LOCAL:"name",INTERNATIONAL:"name_int",ALBANIAN:"name:sq",AMHARIC:"name:am",ARABIC:"name:ar",ARMENIAN:"name:hy",AZERBAIJANI:"name:az",BASQUE:"name:eu",BELORUSSIAN:"name:be",BENGALI:"name:bn",BOSNIAN:"name:bs",BRETON:"name:br",BULGARIAN:"name:bg",CATALAN:"name:ca",CHINESE:"name:zh",TRADITIONAL_CHINESE:"name:zh-Hant",SIMPLIFIED_CHINESE:"name:zh-Hans",CORSICAN:"name:co",CROATIAN:"name:hr",CZECH:"name:cs",DANISH:"name:da",DUTCH:"name:nl",ENGLISH:"name:en",ESPERANTO:"name:eo",ESTONIAN:"name:et",FINNISH:"name:fi",FRENCH:"name:fr",FRISIAN:"name:fy",GEORGIAN:"name:ka",GERMAN:"name:de",GREEK:"name:el",HEBREW:"name:he",HINDI:"name:hi",HUNGARIAN:"name:hu",ICELANDIC:"name:is",INDONESIAN:"name:id",IRISH:"name:ga",ITALIAN:"name:it",JAPANESE:"name:ja",JAPANESE_HIRAGANA:"name:ja-Hira",JAPANESE_KANA:"name:ja_kana",JAPANESE_LATIN:"name:ja_rm",JAPANESE_2018:"name:ja-Latn",KANNADA:"name:kn",KAZAKH:"name:kk",KOREAN:"name:ko",KOREAN_LATIN:"name:ko-Latn",KURDISH:"name:ku",ROMAN_LATIN:"name:la",LATVIAN:"name:lv",LITHUANIAN:"name:lt",LUXEMBOURGISH:"name:lb",MACEDONIAN:"name:mk",MALAYALAM:"name:ml",MALTESE:"name:mt",NORWEGIAN:"name:no",OCCITAN:"name:oc",PERSIAN:"name:fa",POLISH:"name:pl",PORTUGUESE:"name:pt",PUNJABI:"name:pa",WESTERN_PUNJABI:"name:pnb",ROMANIAN:"name:ro",ROMANSH:"name:rm",RUSSIAN:"name:ru",SCOTTISH_GAELIC:"name:gd",SERBIAN_CYRILLIC:"name:sr",SERBIAN_LATIN:"name:sr-Latn",SLOVAK:"name:sk",SLOVENE:"name:sl",SPANISH:"name:es",SWEDISH:"name:sv",TAMIL:"name:ta",TELUGU:"name:te",THAI:"name:th",TURKISH:"name:tr",UKRAINIAN:"name:uk",URDU:"name:ur",VIETNAMIAN_LATIN:"name:vi",WELSH:"name:cy"},iJ=new Set(Object.values(kn));function Jk(e){return iJ.has(e)}const oJ=new Set(Object.values(kn));function Qk(){if(typeof navigator>"u")return`name:${Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0]}`;const e=Array.from(new Set(navigator.languages.map(t=>`name:${t.split("-")[0]}`))).filter(t=>oJ.has(t));return e.length?e[0]:kn.LOCAL}const cs={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:kn.STYLE,secondaryLanguage:kn.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(cs);var sJ=Object.defineProperty,aJ=(e,t,n)=>t in e?sJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xp=(e,t,n)=>(aJ(e,typeof t!="symbol"?t+"":t,n),n);const BD=rJ();class lJ extends UY{constructor(){super(),xp(this,"primaryLanguage",cs.primaryLanguage),xp(this,"secondaryLanguage"),xp(this,"session",!0),xp(this,"_unit","metric"),xp(this,"_apiKey","")}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,wh.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){wh.fetch=t}get fetch(){return wh.fetch}}const Ds=new lJ;class cJ extends cn.LogoControl{onAdd(t){return super.onAdd(t)}}var uJ=Object.defineProperty,hJ=(e,t,n)=>t in e?uJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eA=(e,t,n)=>(hJ(e,typeof t!="symbol"?t+"":t,n),n);class tA extends cJ{constructor(t={}){var n,i;super(t),eA(this,"logoURL",""),eA(this,"linkURL",""),this.logoURL=(n=t.logoURL)!=null?n:cs.maptilerLogoURL,this.linkURL=(i=t.linkURL)!=null?i:cs.maptilerURL}onAdd(t){var n;this._map=t,this._compact=(n=this.options.compact)!=null?n:!1,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const i=window.document.createElement("a");return i.style.backgroundRepeat="no-repeat",i.style.cursor="pointer",i.style.display="block",i.style.height="23px",i.style.margin="0 0 -4px -4px",i.style.overflow="hidden",i.style.width="88px",i.style.backgroundImage=`url(${this.logoURL})`,i.style.backgroundSize="100px 30px",i.style.width="100px",i.style.height="30px",i.target="_blank",i.rel="noopener",i.href=this.linkURL,i.setAttribute("aria-label","MapTiler logo"),i.setAttribute("rel","noopener"),this._container.appendChild(i),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}var dJ=Object.defineProperty,nA=Object.getOwnPropertySymbols,pJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,rA=(e,t,n)=>t in e?dJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iA=(e,t)=>{for(var n in t||(t={}))pJ.call(t,n)&&rA(e,n,t[n]);if(nA)for(var n of nA(t))fJ.call(t,n)&&rA(e,n,t[n]);return e};function mJ(){cn.getRTLTextPluginStatus()==="unavailable"&&cn.setRTLTextPlugin(cs.rtlPluginURL,e=>{e&&console.error(e)},!0)}function gJ(e,t){e.forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}function Il(e,t,n){const i=window.document.createElement(e);return t!==void 0&&(i.className=t),n&&n.appendChild(i),i}function OD(e){e.parentNode&&e.parentNode.removeChild(e)}function oA(e,t){let n=null;try{n=new URL(e)}catch{return{url:e}}return n.host===cs.maptilerApiHost&&(n.searchParams.has("key")||n.searchParams.append("key",Ds.apiKey),Ds.session&&n.searchParams.append("mtsid",BD)),{url:n.href}}function sA(e){return function(t,n){var i;if(e!==void 0){const l=e(t,n),h=oA((i=l==null?void 0:l.url)!=null?i:"");return iA(iA({},l),h)}else return oA(t)}}function aA(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:LD(e):e instanceof DD?e.getExpandedStyleURL():e instanceof zD?e.getDefaultVariant().getExpandedStyleURL():e:JY[wb[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}var yJ=Object.defineProperty,vJ=(e,t,n)=>t in e?yJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mx=(e,t,n)=>(vJ(e,typeof t!="symbol"?t+"":t,n),n);class _J{constructor(){Mx(this,"_map"),Mx(this,"_container"),Mx(this,"_terrainButton"),gJ(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=Il("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=Il("button","maplibregl-ctrl-terrain",this._container),Il("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){OD(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}}class xJ extends cn.NavigationControl{onAdd(t){return super.onAdd(t)}}var bJ=Object.defineProperty,wJ=(e,t,n)=>t in e?bJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SJ=(e,t,n)=>(wJ(e,typeof t!="symbol"?t+"":t,n),n);class CJ extends xJ{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),SJ(this,"_rotateCompassArrow",()=>{const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5))}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t}),this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,n){const i=super._createButton(t,n);return i.clickFunction=n,i}}class TJ extends cn.GeolocateControl{onAdd(t){return super.onAdd(t)}}var EJ=Object.defineProperty,PJ=Object.defineProperties,kJ=Object.getOwnPropertyDescriptors,lA=Object.getOwnPropertySymbols,AJ=Object.prototype.hasOwnProperty,IJ=Object.prototype.propertyIsEnumerable,Sb=(e,t,n)=>t in e?EJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MJ=(e,t)=>{for(var n in t||(t={}))AJ.call(t,n)&&Sb(e,n,t[n]);if(lA)for(var n of lA(t))IJ.call(t,n)&&Sb(e,n,t[n]);return e},RJ=(e,t)=>PJ(e,kJ(t)),$g=(e,t,n)=>(Sb(e,typeof t!="symbol"?t+"":t,n),n);const cA=cn.Marker,uA=cn.LngLat,LJ=cn.LngLatBounds;class DJ extends TJ{constructor(){super(...arguments),$g(this,"lastUpdatedCenter",new uA(0,0)),$g(this,"_updateCamera",t=>{var n,i,l;const h=new uA(t.coords.longitude,t.coords.latitude),p=t.coords.accuracy,a=this._map.getBearing(),b=RJ(MJ({bearing:a},this.options.fitBoundsOptions),{linear:!0}),w=this._map.getZoom();w>((l=(i=(n=this.options)==null?void 0:n.fitBoundsOptions)==null?void 0:i.maxZoom)!=null?l:30)&&(b.zoom=w),this._map.fitBounds(LJ.fromLngLat(h,p),b,{geolocateSource:!0});let T=!1;const P=()=>{T=!0};this._map.once("click",P),this._map.once("dblclick",P),this._map.once("dragstart",P),this._map.once("mousedown",P),this._map.once("touchstart",P),this._map.once("wheel",P),this._map.once("moveend",()=>{this._map.off("click",P),this._map.off("dblclick",P),this._map.off("dragstart",P),this._map.off("mousedown",P),this._map.off("touchstart",P),this._map.off("wheel",P),!T&&(this.lastUpdatedCenter=this._map.getCenter())})}),$g(this,"_setupUI",t=>{if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=Il("button","maplibregl-ctrl-geolocate",this._container),Il("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Il("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cA({element:this._dotElement}),this._circleElement=Il("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cA({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",n=>{const i=n.originalEvent&&n.originalEvent.type==="resize",l=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!n.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!i&&l>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})}),$g(this,"_onZoom",()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()})}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],n=this._map.project(t),i=this._map.unproject([n.x,n.y]),l=this._map.unproject([n.x+20,n.y]),h=i.distanceTo(l)/20,p=Math.ceil(2*this._accuracy/h);this._circleElement.style.width=`${p}px`,this._circleElement.style.height=`${p}px`}}class zJ extends cn.AttributionControl{onAdd(t){return super.onAdd(t)}}class BJ extends cn.ScaleControl{onAdd(t){return super.onAdd(t)}}class OJ extends cn.FullscreenControl{onAdd(t){return super.onAdd(t)}}var FJ=Object.defineProperty,NJ=Object.defineProperties,$J=Object.getOwnPropertyDescriptors,hA=Object.getOwnPropertySymbols,jJ=Object.prototype.hasOwnProperty,VJ=Object.prototype.propertyIsEnumerable,Cb=(e,t,n)=>t in e?FJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sh=(e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&Cb(e,n,t[n]);if(hA)for(var n of hA(t))VJ.call(t,n)&&Cb(e,n,t[n]);return e},dA=(e,t)=>NJ(e,$J(t)),UJ=(e,t,n)=>(Cb(e,typeof t!="symbol"?t+"":t,n),n),KS=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Cn=(e,t,n)=>(KS(e,t,"read from private field"),n?n.call(e):t.get(e)),ta=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Gu=(e,t,n,i)=>(KS(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Mo=(e,t,n)=>(KS(e,t,"access private method"),n),Ro,la,Tc,FD,Bc,ns,fy,Tb,ND,Lo,is,Eb,$D;class Rx{constructor(t,n){ta(this,Tb),ta(this,Lo),ta(this,Eb),ta(this,Ro,void 0),UJ(this,"map"),ta(this,la,void 0),ta(this,Tc,void 0),ta(this,FD,void 0),ta(this,Bc,void 0),ta(this,ns,!1),ta(this,fy,void 0);var i;t.style!==void 0&&Gu(this,ns,!0),Gu(this,Ro,dA(Sh(dA(Sh({zoomAdjust:-4,position:"top-right"},n),{forceNoAttributionControl:!0,attributionControl:!1,navigationControl:!1,geolocateControl:!1,maptilerLogo:!1,minimap:!1,hash:!1,pitchAdjust:!1}),t),{containerStyle:Sh({border:"1px solid #000",width:"400px",height:"300px"},(i=t.containerStyle)!=null?i:{})})),t.lockZoom!==void 0&&(Cn(this,Ro).minZoom=t.lockZoom,Cn(this,Ro).maxZoom=t.lockZoom)}setStyle(t,n){Cn(this,ns)||this.map.setStyle(t,n),Mo(this,Lo,is).call(this)}addLayer(t,n){return Cn(this,ns)||this.map.addLayer(t,n),Mo(this,Lo,is).call(this),this.map}moveLayer(t,n){return Cn(this,ns)||this.map.moveLayer(t,n),Mo(this,Lo,is).call(this),this.map}removeLayer(t){return Cn(this,ns)||this.map.removeLayer(t),Mo(this,Lo,is).call(this),this}setLayerZoomRange(t,n,i){return Cn(this,ns)||this.map.setLayerZoomRange(t,n,i),Mo(this,Lo,is).call(this),this}setFilter(t,n,i){return Cn(this,ns)||this.map.setFilter(t,n,i),Mo(this,Lo,is).call(this),this}setPaintProperty(t,n,i,l){return Cn(this,ns)||this.map.setPaintProperty(t,n,i,l),Mo(this,Lo,is).call(this),this}setLayoutProperty(t,n,i,l){return Cn(this,ns)||this.map.setLayoutProperty(t,n,i,l),Mo(this,Lo,is).call(this),this}setGlyphs(t,n){return Cn(this,ns)||this.map.setGlyphs(t,n),Mo(this,Lo,is).call(this),this}onAdd(t){Gu(this,la,t),Gu(this,Tc,Il("div","maplibregl-ctrl maplibregl-ctrl-group"));for(const[n,i]of Object.entries(Cn(this,Ro).containerStyle))Cn(this,Tc).style.setProperty(n,i);return Cn(this,Ro).container=Cn(this,Tc),Cn(this,Ro).zoom=t.getZoom()+Cn(this,Ro).zoomAdjust,this.map=new XS(Cn(this,Ro)),this.map.once("style.load",()=>{this.map.resize()}),this.map.once("load",()=>{Mo(this,Tb,ND).call(this,Cn(this,Ro).parentRect),Gu(this,fy,Mo(this,Eb,$D).call(this))}),Cn(this,Tc)}onRemove(){var t;(t=Cn(this,fy))==null||t.call(this),OD(Cn(this,Tc))}}Ro=new WeakMap;la=new WeakMap;Tc=new WeakMap;FD=new WeakMap;Bc=new WeakMap;ns=new WeakMap;fy=new WeakMap;Tb=new WeakSet;ND=function(e){e===void 0||e.linePaint===void 0&&e.fillPaint===void 0||(Gu(this,Bc,{type:"Feature",properties:{name:"parentRect"},geometry:{type:"Polygon",coordinates:[[[],[],[],[],[]]]}}),this.map.addSource("parentRect",{type:"geojson",data:Cn(this,Bc)}),(e.lineLayout!==void 0||e.linePaint!==void 0)&&this.map.addLayer({id:"parentRectOutline",type:"line",source:"parentRect",layout:Sh({},e.lineLayout),paint:Sh({"line-color":"#FFF","line-width":1,"line-opacity":.85},e.linePaint)}),e.fillPaint!==void 0&&this.map.addLayer({id:"parentRectFill",type:"fill",source:"parentRect",layout:{},paint:Sh({"fill-color":"#08F","fill-opacity":.135},e.fillPaint)}),Mo(this,Lo,is).call(this))};Lo=new WeakSet;is=function(){if(Cn(this,Bc)===void 0)return;const{devicePixelRatio:e}=window,t=Cn(this,la).getCanvas(),n=t.width/e,i=t.height/e,l=Cn(this,la).unproject.bind(Cn(this,la)),h=l([0,0]),p=l([n,0]),a=l([0,i]),b=l([n,i]);Cn(this,Bc).geometry.coordinates=[[a.toArray(),b.toArray(),p.toArray(),h.toArray(),a.toArray()]],this.map.getSource("parentRect").setData(Cn(this,Bc))};Eb=new WeakSet;$D=function(){const{pitchAdjust:e}=Cn(this,Ro),t=()=>{h("parent")},n=()=>{h("minimap")},i=()=>{Cn(this,la).on("move",t),this.map.on("move",n)},l=()=>{Cn(this,la).off("move",t),this.map.off("move",n)},h=p=>{var a;l();const b=p==="parent"?Cn(this,la):this.map,w=p==="parent"?this.map:Cn(this,la),T=b.getCenter(),P=b.getZoom()+((a=Cn(this,Ro).zoomAdjust)!=null?a:-4)*(p==="parent"?1:-1),I=b.getBearing(),D=b.getPitch();w.jumpTo({center:T,zoom:P,bearing:I,pitch:e?D:0}),Mo(this,Lo,is).call(this),i()};return i(),()=>{l()}};var WJ=Object.defineProperty,GJ=Object.defineProperties,HJ=Object.getOwnPropertyDescriptors,pA=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,Pb=(e,t,n)=>t in e?WJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KJ=(e,t)=>{for(var n in t||(t={}))qJ.call(t,n)&&Pb(e,n,t[n]);if(pA)for(var n of pA(t))ZJ.call(t,n)&&Pb(e,n,t[n]);return e},XJ=(e,t)=>GJ(e,HJ(t)),Ba=(e,t,n)=>(Pb(e,typeof t!="symbol"?t+"":t,n),n),na=(e,t,n)=>new Promise((i,l)=>{var h=b=>{try{a(n.next(b))}catch(w){l(w)}},p=b=>{try{a(n.throw(b))}catch(w){l(w)}},a=b=>b.done?i(b.value):Promise.resolve(b.value).then(h,p);a((n=n.apply(e,t)).next())});const YJ={POINT:"POINT",COUNTRY:"COUNTRY"};let XS=class extends cn.Map{constructor(t){var n,i,l;t.apiKey&&(Ds.apiKey=t.apiKey);const h=aA(t.style),p=location.hash;Ds.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!"),super(XJ(KJ({},t),{style:h,maplibreLogo:!1,transformRequest:sA(t.transformRequest)})),Ba(this,"isTerrainEnabled",!1),Ba(this,"terrainExaggeration",1),Ba(this,"primaryLanguage"),Ba(this,"terrainGrowing",!1),Ba(this,"terrainFlattening",!1),Ba(this,"minimap"),Ba(this,"forceLanguageUpdate"),Ba(this,"languageAlwaysBeenStyle"),Ba(this,"isReady",!1),this.primaryLanguage=(n=t.language)!=null?n:Ds.primaryLanguage,this.forceLanguageUpdate=!(this.primaryLanguage===kn.STYLE||this.primaryLanguage===kn.STYLE_LOCK),this.languageAlwaysBeenStyle=this.primaryLanguage===kn.STYLE,this.terrainExaggeration=(i=t.terrainExaggeration)!=null?i:this.terrainExaggeration,this.once("styledata",()=>na(this,null,function*(){if(!t.geolocate||t.center||t.hash&&p)return;try{if(t.geolocate===YJ.COUNTRY){yield this.fitToIpBounds();return}}catch(D){console.warn(D.message)}let P;try{yield this.centerOnIpPoint(t.zoom),P=this.getCameraHash()}catch(D){console.warn(D.message)}(yield navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(D=>{P===this.getCameraHash()&&(this.terrain?this.easeTo({center:[D.coords.longitude,D.coords.latitude],zoom:t.zoom||12,duration:2e3}):this.once("terrain",()=>{this.easeTo({center:[D.coords.longitude,D.coords.latitude],zoom:t.zoom||12,duration:2e3})}))},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})})),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",()=>na(this,null,function*(){mJ()})),this.once("load",()=>na(this,null,function*(){let P={logo:null};try{const I=Object.keys(this.style.sourceCaches).map(j=>this.getSource(j)).filter(j=>j&&"url"in j&&typeof j.url=="string"&&(j==null?void 0:j.url.includes("tiles.json"))),D=new URL(I[0].url);D.searchParams.has("key")||D.searchParams.append("key",Ds.apiKey),P=yield(yield fetch(D.href)).json()}catch{}if(t.forceNoAttributionControl!==!0)if("logo"in P&&P.logo){const I=P.logo;this.addControl(new tA({logoURL:I}),t.logoPosition),t.attributionControl===!1&&this.addControl(new zJ({customAttribution:t.customAttribution}))}else t.maptilerLogo&&this.addControl(new tA,t.logoPosition);if(t.scaleControl){const I=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,D=new BJ({unit:Ds.unit});this.addControl(D,I),Ds.on("unit",O=>{D.setUnit(O)})}if(t.navigationControl!==!1){const I=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new CJ,I)}if(t.geolocateControl!==!1){const I=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new DJ({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),I)}if(t.terrainControl){const I=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new _J,I)}if(t.fullscreenControl){const I=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new OJ({}),I)}this.isReady=!0,this.fire("ready",{target:this})}));let a=!1,b=!1,w;this.once("ready",()=>{a=!0,b&&this.fire("loadWithTerrain",w)}),this.once("style.load",()=>{var P;const{minimap:I}=t;if(typeof I=="object"){const{zoom:D,center:O,style:j,language:q,apiKey:L,maptilerLogo:V,antialias:N,refreshExpiredTiles:K,maxBounds:ee,scrollZoom:ue,minZoom:ge,maxZoom:he,boxZoom:Pe,locale:G,fadeDuration:Te,crossSourceCollisions:Le,clickTolerance:Be,bounds:Ne,fitBoundsOptions:ze,pixelRatio:Ve,validateStyle:qe}=t;this.minimap=new Rx(I,{zoom:D,center:O,style:j,language:q,apiKey:L,container:"null",maptilerLogo:V,antialias:N,refreshExpiredTiles:K,maxBounds:ee,scrollZoom:ue,minZoom:ge,maxZoom:he,boxZoom:Pe,locale:G,fadeDuration:Te,crossSourceCollisions:Le,clickTolerance:Be,bounds:Ne,fitBoundsOptions:ze,pixelRatio:Ve,validateStyle:qe}),this.addControl(this.minimap,(P=I.position)!=null?P:"bottom-left")}else I===!0?(this.minimap=new Rx({},t),this.addControl(this.minimap,"bottom-left")):I!==void 0&&I!==!1&&(this.minimap=new Rx({},t),this.addControl(this.minimap,I))});const T=P=>{P.terrain&&(b=!0,w={type:"loadWithTerrain",target:this,terrain:P.terrain},this.off("terrain",T),a&&this.fire("loadWithTerrain",w))};this.on("terrain",T),t.terrain&&this.enableTerrain((l=t.terrainExaggeration)!=null?l:this.terrainExaggeration)}onLoadAsync(){return na(this,null,function*(){return new Promise(t=>{if(this.loaded())return t(this);this.once("load",()=>{t(this)})})})}onReadyAsync(){return na(this,null,function*(){return new Promise(t=>{if(this.isReady)return t(this);this.once("ready",()=>{t(this)})})})}onLoadWithTerrainAsync(){return na(this,null,function*(){return new Promise(t=>{if(this.isReady&&this.terrain)return t(this);this.once("loadWithTerrain",()=>{t(this)})})})}setStyle(t,n){var i;return(i=this.minimap)==null||i.setStyle(t),this.forceLanguageUpdate=!0,this.once("idle",()=>{this.forceLanguageUpdate=!1}),super.setStyle(aA(t),n)}addLayer(t,n){var i;return(i=this.minimap)==null||i.addLayer(t,n),super.addLayer(t,n)}moveLayer(t,n){var i;return(i=this.minimap)==null||i.moveLayer(t,n),super.moveLayer(t,n)}removeLayer(t){var n;return(n=this.minimap)==null||n.removeLayer(t),super.removeLayer(t)}setLayerZoomRange(t,n,i){var l;return(l=this.minimap)==null||l.setLayerZoomRange(t,n,i),super.setLayerZoomRange(t,n,i)}setFilter(t,n,i){var l;return(l=this.minimap)==null||l.setFilter(t,n,i),super.setFilter(t,n,i)}setPaintProperty(t,n,i,l){var h;return(h=this.minimap)==null||h.setPaintProperty(t,n,i,l),super.setPaintProperty(t,n,i,l)}setLayoutProperty(t,n,i,l){var h;return(h=this.minimap)==null||h.setLayoutProperty(t,n,i,l),super.setLayoutProperty(t,n,i,l)}setGlyphs(t,n){var i;return(i=this.minimap)==null||i.setGlyphs(t,n),super.setGlyphs(t,n)}getStyleLanguage(){return!this.style.stylesheet.metadata||typeof this.style.stylesheet.metadata!="object"?null:"maptiler:language"in this.style.stylesheet.metadata&&typeof this.style.stylesheet.metadata["maptiler:language"]=="string"?this.style.stylesheet.metadata["maptiler:language"]:null}setLanguage(t){var n,i;(i=(n=this.minimap)==null?void 0:n.map)==null||i.setLanguage(t),this.onStyleReady(()=>{this.setPrimaryLanguage(t)})}setPrimaryLanguage(t){const n=this.getStyleLanguage();if(!(t===kn.STYLE&&(n===kn.AUTO||n===kn.VISITOR))&&(t!==kn.STYLE&&(this.languageAlwaysBeenStyle=!1),this.languageAlwaysBeenStyle||this.primaryLanguage===t&&!this.forceLanguageUpdate))return;if(!Jk(t)){console.warn(`The language "${t}" is not supported.`);return}if(this.primaryLanguage===kn.STYLE_LOCK){console.warn("The language cannot be changed because this map has been instantiated with the STYLE_LOCK language flag.");return}this.primaryLanguage=t;let i=t;if(t===kn.STYLE){if(!n){console.warn("The style has no default languages.");return}if(!Jk(n)){console.warn("The language defined in the style is not valid.");return}i=n}let l=kn.LOCAL,h=`{${l}}`;i==kn.VISITOR?(l=Qk(),h=["case",["all",["has",l],["has",kn.LOCAL]],["case",["==",["get",l],["get",kn.LOCAL]],["get",kn.LOCAL],["format",["get",l],{"font-scale":.8},`
`,["get",kn.LOCAL],{"font-scale":1.1}]],["get",kn.LOCAL]]):i==kn.VISITOR_ENGLISH?(l=kn.ENGLISH,h=["case",["all",["has",l],["has",kn.LOCAL]],["case",["==",["get",l],["get",kn.LOCAL]],["get",kn.LOCAL],["format",["get",l],{"font-scale":.8},`
`,["get",kn.LOCAL],{"font-scale":1.1}]],["get",kn.LOCAL]]):i===kn.AUTO?(l=Qk(),h=["case",["has",l],["get",l],["get",kn.LOCAL]]):i===kn.LOCAL?(l=kn.LOCAL,h=`{${l}}`):(l=i,h=["case",["has",l],["get",l],["get",kn.LOCAL]]);const{layers:p}=this.getStyle();for(const{id:a,layout:b}of p){if(!b||!("text-field"in b))continue;const w=this.getLayoutProperty(a,"text-field");typeof w=="string"&&(w.toLowerCase().includes("ref")||w.toLowerCase().includes("housenumber"))||this.setLayoutProperty(a,"text-field",h)}}getPrimaryLanguage(){return this.primaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(t,n=1e3){if(!this.terrain)return;const i=performance.now(),l=this.terrain.exaggeration,h=t-l,p=()=>{if(!this.terrain||this.terrainFlattening)return;const a=(performance.now()-i)/n;if(a<.99){const b=1-Math.pow(1-a,4),w=l+b*h;this.terrain.exaggeration=w,requestAnimationFrame(p)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=t;this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(p)}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const n=l=>na(this,null,function*(){!this.terrain||l.type!=="data"||l.dataType!=="source"||!("source"in l)||l.sourceId!=="maptiler-terrain"||l.source.type!=="raster-dem"||l.isSourceLoaded&&(this.off("data",n),this.growTerrain(t))}),i=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.on("data",n),this.addSource(cs.terrainSourceId,{type:"raster-dem",url:cs.terrainSourceURL}),this.setTerrain({source:cs.terrainSourceId,exaggeration:0})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(t);return}this.loaded()||this.isTerrainEnabled?i():this.once("load",()=>{this.getTerrain()&&this.getSource(cs.terrainSourceId)||i()})}disableTerrain(){if(!this.terrain)return;this.isTerrainEnabled=!1;const t=1*1e3,n=performance.now(),i=this.terrain.exaggeration,l=()=>{if(!this.terrain||this.terrainGrowing)return;const h=(performance.now()-n)/t;if(h<.99){const p=Math.pow(1-h,4),a=i*p;this.terrain.exaggeration=a,requestAnimationFrame(l)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(cs.terrainSourceId)&&this.removeSource(cs.terrainSourceId);this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(l)}setTerrainExaggeration(t,n=!0){!n&&this.terrain?(this.terrainExaggeration=t,this.terrain.exaggeration=t,this.triggerRepaint()):this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}fitToIpBounds(){return na(this,null,function*(){const t=yield Xk.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})})}centerOnIpPoint(t){return na(this,null,function*(){var n,i;const l=yield Xk.info();this.jumpTo({center:[(n=l==null?void 0:l.longitude)!=null?n:0,(i=l==null?void 0:l.latitude)!=null?i:0],zoom:t||11})})}getCameraHash(){const t=new Float32Array(5),n=this.getCenter();return t[0]=n.lng,t[1]=n.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),zY.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return Ds}getMaptilerSessionId(){return BD}setTransformRequest(t){return super.setTransformRequest(sA(t)),this}loadImageAsync(t){return na(this,null,function*(){return new Promise((n,i)=>{this.loadImage(t,(l,h)=>{if(l){i(l);return}n(h)})})})}};class jD extends cn.Marker{addTo(t){return super.addTo(t)}}class JJ extends cn.Popup{addTo(t){return super.addTo(t)}}class SQ extends cn.Style{constructor(t,n={}){super(t,n)}}class CQ extends cn.CanvasSource{onAdd(t){super.onAdd(t)}}class TQ extends cn.GeoJSONSource{onAdd(t){super.onAdd(t)}}class EQ extends cn.ImageSource{onAdd(t){super.onAdd(t)}}class PQ extends cn.RasterTileSource{onAdd(t){super.onAdd(t)}}class kQ extends cn.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class AQ extends cn.VectorTileSource{onAdd(t){super.onAdd(t)}}class IQ extends cn.VideoSource{onAdd(t){super.onAdd(t)}}class MQ extends cn.TerrainControl{onAdd(t){return super.onAdd(t)}}var QJ=Object.defineProperty,eQ=(e,t,n)=>t in e?QJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fA=(e,t,n)=>(eQ(e,typeof t!="symbol"?t+"":t,n),n);function jg(e){const t=e.toString(16);return t.length==1?"0"+t:t}function tQ(e){return"#"+jg(e[0])+jg(e[1])+jg(e[2])+(e.length===4?jg(e[3]):"")}class Bt extends Array{constructor(t={}){super(),fA(this,"min",0),fA(this,"max",1),"min"in t&&(this.min=t.min),"max"in t&&(this.max=t.max),"stops"in t&&this.setStops(t.stops,{clone:!1})}static fromArrayDefinition(t){return new Bt({stops:t.map(n=>({value:n[0],color:n[1]}))})}setStops(t,n={clone:!0}){const i=n.clone?this.clone():this;i.length=0;let l=1/0,h=-1/0;for(let p=0;p<t.length;p+=1)l=Math.min(l,t[p].value),h=Math.max(h,t[p].value),i.push({value:t[p].value,color:t[p].color.slice()});return i.sort((p,a)=>p.value<a.value?-1:1),this.min=l,this.max=h,i}scale(t,n,i={clone:!0}){const l=i.clone,h=this[0].value,a=this.at(-1).value-h,b=n-t,w=[];for(let T=0;T<this.length;T+=1){const D=(this[T].value-h)/a*b+t;l?w.push({value:D,color:this[T].color.slice()}):this[T].value=D}return l?new Bt({stops:w}):this}at(t){return t<0?this[this.length+t]:this[t]}clone(){return new Bt({stops:this.getRawColorStops()})}getRawColorStops(){const t=[];for(let n=0;n<this.length;n+=1)t.push({value:this[n].value,color:this[n].color});return t}reverse(t={clone:!0}){const n=t.clone?this.clone():this;for(let i=0;i<~~(n.length/2);i+=1){const l=n[i].color;n[i].color=n.at(-(i+1)).color,n.at(-(i+1)).color=l}return n}getBounds(){return{min:this.min,max:this.max}}getColor(t,n={smooth:!0}){if(t<=this[0].value)return this[0].color;if(t>=this.at(-1).value)return this.at(-1).color;for(let i=0;i<this.length-1;i+=1){if(t>this[i+1].value)continue;const l=this[i].color;if(!n.smooth)return l.slice();const h=this[i].value,p=this[i+1].value,a=this[i+1].color,b=(p-t)/(p-h);return l.map((w,T)=>Math.round(w*b+a[T]*(1-b)))}return[0,0,0]}getColorHex(t,n={smooth:!0,withAlpha:!1}){return tQ(this.getColor(t,n))}getColorRelative(t,n={smooth:!0}){const i=this.getBounds();return this.getColor(i.min+t*(i.max-i.min),n)}getCanvasStrip(t={horizontal:!0,size:512,smooth:!0}){const n=document.createElement("canvas");n.width=t.horizontal?t.size:1,n.height=t.horizontal?1:t.size;const i=n.getContext("2d");if(!i)throw new Error("Canvs context is missing");const l=i.getImageData(0,0,n.width,n.height),h=l.data,p=t.size,a=this[0].value,T=(this.at(-1).value-a)/p;for(let P=0;P<p;P+=1){const I=this.getColor(a+P*T,{smooth:t.smooth});h[P*4]=I[0],h[P*4+1]=I[1],h[P*4+2]=I[2],h[P*4+3]=I.length>3?I[3]:255}return i.putImageData(l,0,0),n}resample(t,n=15){const i=this.getBounds(),l=this.scale(0,1),h=1/(n-1);let p;if(t==="ease-in-square")p=Array.from({length:n},(w,T)=>{const P=T*h,I=Math.pow(P,2),D=l.getColor(I);return{value:P,color:D}});else if(t==="ease-out-square")p=Array.from({length:n},(w,T)=>{const P=T*h,I=1-Math.pow(1-P,2),D=l.getColor(I);return{value:P,color:D}});else if(t==="ease-out-sqrt")p=Array.from({length:n},(w,T)=>{const P=T*h,I=Math.pow(P,.5),D=l.getColor(I);return{value:P,color:D}});else if(t==="ease-in-sqrt")p=Array.from({length:n},(w,T)=>{const P=T*h,I=1-Math.pow(1-P,.5),D=l.getColor(I);return{value:P,color:D}});else if(t==="ease-out-exp")p=Array.from({length:n},(w,T)=>{const P=T*h,I=1-Math.pow(2,-10*P),D=l.getColor(I);return{value:P,color:D}});else if(t==="ease-in-exp")p=Array.from({length:n},(w,T)=>{const P=T*h,I=Math.pow(2,10*P-10),D=l.getColor(I);return{value:P,color:D}});else throw new Error("Invalid ressampling method.");return new Bt({stops:p}).scale(i.min,i.max)}transparentStart(){const t=this.getRawColorStops();return t.unshift({value:t[0].value,color:t[0].color.slice()}),t[1].value+=.001,t.forEach(n=>{n.color.length===3&&n.color.push(255)}),t[0].color[3]=0,new Bt({stops:t})}hasTransparentStart(){return this[0].color.length===4&&this[0].color[3]===0}}new Bt({stops:[{value:0,color:[0,0,0,0]},{value:1,color:[0,0,0,0]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Bt({stops:[{value:0,color:[0,0,131]},{value:.125,color:[0,60,170]},{value:.375,color:[5,255,255]},{value:.625,color:[255,255,0]},{value:.875,color:[250,0,0]},{value:1,color:[128,0,0]}]}),new Bt({stops:[{value:0,color:[255,0,0]},{value:.169,color:[253,255,2]},{value:.173,color:[247,255,2]},{value:.337,color:[0,252,4]},{value:.341,color:[0,252,10]},{value:.506,color:[1,249,255]},{value:.671,color:[2,0,253]},{value:.675,color:[8,0,253]},{value:.839,color:[255,0,251]},{value:.843,color:[255,0,245]},{value:1,color:[255,0,6]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.3,color:[230,0,0]},{value:.6,color:[255,210,0]},{value:1,color:[255,255,255]}]}),new Bt({stops:[{value:0,color:[255,0,255]},{value:1,color:[255,255,0]}]}),new Bt({stops:[{value:0,color:[0,128,102]},{value:1,color:[255,255,102]}]}),new Bt({stops:[{value:0,color:[255,0,0]},{value:1,color:[255,255,0]}]}),new Bt({stops:[{value:0,color:[0,0,255]},{value:1,color:[0,255,128]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.376,color:[84,84,116]},{value:.753,color:[169,200,200]},{value:1,color:[255,255,255]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.804,color:[255,160,102]},{value:1,color:[255,199,127]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Bt({stops:[{value:0,color:[8,29,88]},{value:.125,color:[37,52,148]},{value:.25,color:[34,94,168]},{value:.375,color:[29,145,192]},{value:.5,color:[65,182,196]},{value:.625,color:[127,205,187]},{value:.75,color:[199,233,180]},{value:.875,color:[237,248,217]},{value:1,color:[255,255,217]}]}),new Bt({stops:[{value:0,color:[0,68,27]},{value:.125,color:[0,109,44]},{value:.25,color:[35,139,69]},{value:.375,color:[65,171,93]},{value:.5,color:[116,196,118]},{value:.625,color:[161,217,155]},{value:.75,color:[199,233,192]},{value:.875,color:[229,245,224]},{value:1,color:[247,252,245]}]}),new Bt({stops:[{value:0,color:[128,0,38]},{value:.125,color:[189,0,38]},{value:.25,color:[227,26,28]},{value:.375,color:[252,78,42]},{value:.5,color:[253,141,60]},{value:.625,color:[254,178,76]},{value:.75,color:[254,217,118]},{value:.875,color:[255,237,160]},{value:1,color:[255,255,204]}]}),new Bt({stops:[{value:0,color:[0,0,255]},{value:1,color:[255,0,0]}]}),new Bt({stops:[{value:0,color:[5,10,172]},{value:.35,color:[106,137,247]},{value:.5,color:[190,190,190]},{value:.6,color:[220,170,132]},{value:.7,color:[230,145,90]},{value:1,color:[178,10,28]}]}),new Bt({stops:[{value:0,color:[0,0,255]},{value:.1,color:[51,153,255]},{value:.2,color:[102,204,255]},{value:.3,color:[153,204,255]},{value:.4,color:[204,204,255]},{value:.5,color:[255,255,255]},{value:.6,color:[255,204,255]},{value:.7,color:[255,153,255]},{value:.8,color:[255,102,204]},{value:.9,color:[255,102,102]},{value:1,color:[255,0,0]}]}),new Bt({stops:[{value:0,color:[150,0,90]},{value:.125,color:[0,0,200]},{value:.25,color:[0,25,255]},{value:.375,color:[0,152,255]},{value:.5,color:[44,255,150]},{value:.625,color:[151,255,0]},{value:.75,color:[255,234,0]},{value:.875,color:[255,111,0]},{value:1,color:[255,0,0]}]}),new Bt({stops:[{value:0,color:[12,51,131]},{value:.25,color:[10,136,186]},{value:.5,color:[242,211,56]},{value:.75,color:[242,143,56]},{value:1,color:[217,30,30]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.2,color:[230,0,0]},{value:.4,color:[230,210,0]},{value:.7,color:[255,255,255]},{value:1,color:[160,200,255]}]}),new Bt({stops:[{value:0,color:[0,0,130]},{value:.1,color:[0,180,180]},{value:.2,color:[40,210,40]},{value:.4,color:[230,230,50]},{value:.6,color:[120,70,20]},{value:1,color:[255,255,255]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.15,color:[30,0,100]},{value:.4,color:[120,0,100]},{value:.6,color:[160,90,0]},{value:.8,color:[230,200,0]},{value:1,color:[255,250,220]}]}),new Bt({stops:[{value:0,color:[68,1,84]},{value:.13,color:[71,44,122]},{value:.25,color:[59,81,139]},{value:.38,color:[44,113,142]},{value:.5,color:[33,144,141]},{value:.63,color:[39,173,129]},{value:.75,color:[92,200,99]},{value:.88,color:[170,220,50]},{value:1,color:[253,231,37]}]}),new Bt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[31,12,72]},{value:.25,color:[85,15,109]},{value:.38,color:[136,34,106]},{value:.5,color:[186,54,85]},{value:.63,color:[227,89,51]},{value:.75,color:[249,140,10]},{value:.88,color:[249,201,50]},{value:1,color:[252,255,164]}]}),new Bt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[28,16,68]},{value:.25,color:[79,18,123]},{value:.38,color:[129,37,129]},{value:.5,color:[181,54,122]},{value:.63,color:[229,80,100]},{value:.75,color:[251,135,97]},{value:.88,color:[254,194,135]},{value:1,color:[252,253,191]}]}),new Bt({stops:[{value:0,color:[13,8,135]},{value:.13,color:[75,3,161]},{value:.25,color:[125,3,168]},{value:.38,color:[168,34,150]},{value:.5,color:[203,70,121]},{value:.63,color:[229,107,93]},{value:.75,color:[248,148,65]},{value:.88,color:[253,195,40]},{value:1,color:[240,249,33]}]}),new Bt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[172,0,187]},{value:.25,color:[219,0,170]},{value:.38,color:[255,0,130]},{value:.5,color:[255,63,74]},{value:.63,color:[255,123,0]},{value:.75,color:[234,176,0]},{value:.88,color:[190,228,0]},{value:1,color:[147,255,0]}]}),new Bt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[116,0,218]},{value:.25,color:[98,74,237]},{value:.38,color:[68,146,231]},{value:.5,color:[0,204,197]},{value:.63,color:[0,247,146]},{value:.75,color:[0,255,88]},{value:.88,color:[40,255,8]},{value:1,color:[147,255,0]}]}),new Bt({stops:[{value:0,color:[125,0,179]},{value:.1,color:[199,0,180]},{value:.2,color:[255,0,121]},{value:.3,color:[255,108,0]},{value:.4,color:[222,194,0]},{value:.5,color:[150,255,0]},{value:.6,color:[0,255,55]},{value:.7,color:[0,246,150]},{value:.8,color:[50,167,222]},{value:.9,color:[103,51,235]},{value:1,color:[124,0,186]}]}),new Bt({stops:[{value:0,color:[40,26,44]},{value:.13,color:[59,49,90]},{value:.25,color:[64,76,139]},{value:.38,color:[63,110,151]},{value:.5,color:[72,142,158]},{value:.63,color:[85,174,163]},{value:.75,color:[120,206,163]},{value:.88,color:[187,230,172]},{value:1,color:[253,254,204]}]}),new Bt({stops:[{value:0,color:[47,15,62]},{value:.13,color:[87,23,86]},{value:.25,color:[130,28,99]},{value:.38,color:[171,41,96]},{value:.5,color:[206,67,86]},{value:.63,color:[230,106,84]},{value:.75,color:[242,149,103]},{value:.88,color:[249,193,135]},{value:1,color:[254,237,176]}]}),new Bt({stops:[{value:0,color:[18,36,20]},{value:.13,color:[25,63,41]},{value:.25,color:[24,91,59]},{value:.38,color:[13,119,72]},{value:.5,color:[18,148,80]},{value:.63,color:[80,173,89]},{value:.75,color:[132,196,122]},{value:.88,color:[175,221,162]},{value:1,color:[215,249,208]}]}),new Bt({stops:[{value:0,color:[54,14,36]},{value:.13,color:[89,23,80]},{value:.25,color:[110,45,132]},{value:.38,color:[120,77,178]},{value:.5,color:[120,113,213]},{value:.63,color:[115,151,228]},{value:.75,color:[134,185,227]},{value:.88,color:[177,214,227]},{value:1,color:[230,241,241]}]}),new Bt({stops:[{value:0,color:[30,4,110]},{value:.13,color:[47,14,176]},{value:.25,color:[41,45,236]},{value:.38,color:[25,99,212]},{value:.5,color:[68,131,200]},{value:.63,color:[114,156,197]},{value:.75,color:[157,181,203]},{value:.88,color:[200,208,216]},{value:1,color:[241,237,236]}]}),new Bt({stops:[{value:0,color:[60,9,18]},{value:.13,color:[100,17,27]},{value:.25,color:[142,20,29]},{value:.38,color:[177,43,27]},{value:.5,color:[192,87,63]},{value:.63,color:[205,125,105]},{value:.75,color:[216,162,148]},{value:.88,color:[227,199,193]},{value:1,color:[241,237,236]}]}),new Bt({stops:[{value:0,color:[64,5,5]},{value:.13,color:[106,6,15]},{value:.25,color:[144,26,7]},{value:.38,color:[168,64,3]},{value:.5,color:[188,100,4]},{value:.63,color:[206,136,11]},{value:.75,color:[220,174,25]},{value:.88,color:[231,215,44]},{value:1,color:[248,254,105]}]}),new Bt({stops:[{value:0,color:[51,20,24]},{value:.13,color:[90,32,35]},{value:.25,color:[129,44,34]},{value:.38,color:[159,68,25]},{value:.5,color:[182,99,19]},{value:.63,color:[199,134,22]},{value:.75,color:[212,171,35]},{value:.88,color:[221,210,54]},{value:1,color:[225,253,75]}]}),new Bt({stops:[{value:0,color:[145,105,18]},{value:.13,color:[184,71,38]},{value:.25,color:[186,58,115]},{value:.38,color:[160,71,185]},{value:.5,color:[110,97,218]},{value:.63,color:[50,123,164]},{value:.75,color:[31,131,110]},{value:.88,color:[77,129,34]},{value:1,color:[145,105,18]}]}),new Bt({stops:[{value:0,color:[42,24,108]},{value:.13,color:[33,50,162]},{value:.25,color:[15,90,145]},{value:.38,color:[40,118,137]},{value:.5,color:[59,146,135]},{value:.63,color:[79,175,126]},{value:.75,color:[120,203,104]},{value:.88,color:[193,221,100]},{value:1,color:[253,239,154]}]}),new Bt({stops:[{value:0,color:[4,35,51]},{value:.13,color:[23,51,122]},{value:.25,color:[85,59,157]},{value:.38,color:[129,79,143]},{value:.5,color:[175,95,130]},{value:.63,color:[222,112,101]},{value:.75,color:[249,146,66]},{value:.88,color:[249,196,65]},{value:1,color:[232,250,91]}]}),new Bt({stops:[{value:0,color:[34,31,27]},{value:.13,color:[65,50,41]},{value:.25,color:[98,69,52]},{value:.38,color:[131,89,57]},{value:.5,color:[161,112,59]},{value:.63,color:[185,140,66]},{value:.75,color:[202,174,88]},{value:.88,color:[216,209,126]},{value:1,color:[233,246,171]}]}),new Bt({stops:[{value:0,color:[17,32,64]},{value:.13,color:[35,52,116]},{value:.25,color:[29,81,156]},{value:.38,color:[31,113,162]},{value:.5,color:[50,144,169]},{value:.63,color:[87,173,176]},{value:.75,color:[149,196,189]},{value:.88,color:[203,221,211]},{value:1,color:[254,251,230]}]}),new Bt({stops:[{value:0,color:[23,35,19]},{value:.13,color:[24,64,38]},{value:.25,color:[11,95,45]},{value:.38,color:[39,123,35]},{value:.5,color:[95,146,12]},{value:.63,color:[152,165,18]},{value:.75,color:[201,186,69]},{value:.88,color:[233,216,137]},{value:1,color:[255,253,205]}]}),new Bt({stops:[{value:0,color:[0,0,0]},{value:.07,color:[22,5,59]},{value:.13,color:[60,4,105]},{value:.2,color:[109,1,135]},{value:.27,color:[161,0,147]},{value:.33,color:[210,2,142]},{value:.4,color:[251,11,123]},{value:.47,color:[255,29,97]},{value:.53,color:[255,54,69]},{value:.6,color:[255,85,46]},{value:.67,color:[255,120,34]},{value:.73,color:[255,157,37]},{value:.8,color:[241,191,57]},{value:.87,color:[224,220,93]},{value:.93,color:[218,241,142]},{value:1,color:[227,253,198]}]}),new Bt({stops:[{value:0,color:[0,32,77,255]},{value:.125,color:[5,54,110,255]},{value:.25,color:[65,77,108,255]},{value:.375,color:[97,100,111,255]},{value:.5,color:[125,124,121,255]},{value:.625,color:[156,149,120,255]},{value:.75,color:[190,175,111,255]},{value:.875,color:[225,204,94,255]},{value:1,color:[255,235,70,255]}]}),new Bt({stops:[{value:0,color:[48,18,59,255]},{value:.125,color:[70,107,227,255]},{value:.25,color:[40,187,236,255]},{value:.375,color:[49,242,153,255]},{value:.5,color:[162,252,60,255]},{value:.625,color:[237,208,58,255]},{value:.75,color:[251,128,34,255]},{value:.875,color:[210,49,5,255]},{value:1,color:[122,4,3,255]}]}),new Bt({stops:[{value:0,color:[250,235,221,0]},{value:.133,color:[250,235,221,255]},{value:.266,color:[246,170,130,255]},{value:.4,color:[240,96,67,255]},{value:.533,color:[203,27,79,255]},{value:.666,color:[132,30,90,255]},{value:.8,color:[63,27,68,255]},{value:1,color:[3,5,26,255]}]}),new Bt({stops:[{value:0,color:[11,4,5,255]},{value:.125,color:[43,28,53,255]},{value:.25,color:[62,53,107,255]},{value:.375,color:[59,86,152,255]},{value:.5,color:[53,123,162,255]},{value:.625,color:[53,158,170,255]},{value:.75,color:[73,193,173,255]},{value:.875,color:[150,221,181,255]},{value:1,color:[222,245,229,255]}]});const{setRTLTextPlugin:RQ,getRTLTextPluginStatus:LQ,LngLat:DQ,LngLatBounds:nQ,MercatorCoordinate:zQ,Evented:BQ,AJAXError:OQ,prewarm:FQ,clearPrewarmedResources:NQ,version:$Q,workerCount:jQ,maxParallelImageRequests:VQ,workerUrl:UQ,addProtocol:WQ,removeProtocol:GQ}=cn;cn.Map;cn.Marker;cn.Popup;cn.Style;cn.CanvasSource;cn.GeoJSONSource;cn.ImageSource;cn.RasterTileSource;cn.RasterDEMTileSource;cn.VectorTileSource;cn.VideoSource;cn.NavigationControl;cn.GeolocateControl;cn.AttributionControl;cn.LogoControl;cn.ScaleControl;cn.FullscreenControl;cn.TerrainControl;styled(Container)(({theme:e})=>({minHeight:"100vh",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(4)},fontFamily:'"Inter", sans-serif'}));styled(qi)(({theme:e})=>({height:{xs:"40vh",sm:"50vh",md:"60vh"},minHeight:{xs:"300px",sm:"400px",md:"500px"},width:"100%",position:"relative",marginBottom:e.spacing(4),overflow:"hidden",border:`1px solid ${e.palette.divider}`,borderRadius:e.shape.borderRadius,"& .maplibregl-canvas":{width:"100% !important",height:"100% !important"},"& .maplibregl-map":{position:"absolute !important",top:0,left:0,right:0,bottom:0},"& .maplibregl-canvas-container":{touchAction:"pan-y pinch-zoom"}}));styled(qi)(({theme:e})=>({padding:e.spacing(3),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",transition:"transform 0.2s, border-color 0.2s","&:hover":{transform:"translateY(-4px)",borderColor:e.palette.primary.main}}));styled(qi)(({theme:e})=>({padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:e.shape.borderRadius,[e.breakpoints.down("sm")]:{padding:e.spacing(1.5),"& .MuiButton-root":{minWidth:"auto",padding:"6px 12px"}}}));styled(so)(({theme:e})=>({"& .MuiTouchRipple-root":{display:"none"},"&.MuiButton-contained":{color:"#fff","&:hover":{color:"#fff"},"&:active":{boxShadow:"none"},"&:focus":{outline:"none",boxShadow:"none"}}}));styled(Dialog)(({theme:e})=>({"& .MuiDialog-paper":{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,padding:e.spacing(2)}}));function rQ(){const e=U.useRef(null),t=U.useRef(null),n=U.useRef([]),[i,l]=U.useState([]),[h,p]=U.useState({}),[a,b]=U.useState(!1);U.useState(!0);const[w,T]=U.useState("desc"),[P,I]=U.useState("all"),D=()=>{const L=[...i].sort((V,N)=>{const K=new Date(V.createdAt),ee=new Date(N.createdAt);return w==="desc"?ee-K:K-ee});l(L),T(V=>V==="desc"?"asc":"desc")},O=L=>{const V=i.filter(N=>L==="all"?!0:N.type===L);l(V),I(L)},j=()=>{const L=i.map(ee=>[ee.title,ee.type,ee.description,`${ee.location.lat}, ${ee.location.lng}`,new Date(ee.createdAt).toLocaleString()].join(",")).join(`
`),V=new Blob([L],{type:"text/csv"}),N=window.URL.createObjectURL(V),K=document.createElement("a");K.href=N,K.download="crime-alerts.csv",K.click(),window.URL.revokeObjectURL(N)};U.useEffect(()=>{(async()=>{try{const N=await Zp.get("http://localhost:5000/api/crimes/accepted");l(N.data)}catch(N){console.error("Error fetching accepted reports:",N)}})();const V=new WebSocket("ws://localhost:8080");return V.onmessage=N=>{const K=JSON.parse(N.data);l(K)},()=>{V.close()}},[]),U.useEffect(()=>{if(!e.current)return;const L="6GHnwlK28StRFj4GuH8E";Ds.apiKey=L;const V=new XS({container:e.current,style:`https://api.maptiler.com/maps/topo-v2/style.json?key=${L}`,center:[77.209,28.6139],zoom:12});t.current=V;const N=()=>{if(i.length===0)return;const K=new nQ;i.forEach(ee=>{K.extend([ee.location.lng,ee.location.lat])}),t.current.fitBounds(K,{padding:50,maxZoom:15,duration:1e3})};return V.on("load",()=>{n.current.forEach(K=>K.remove()),n.current=[],i.forEach(K=>{const ee=new jD().setLngLat([K.location.lng,K.location.lat]).setPopup(new JJ().setHTML(`<h3>${K.title}</h3>
             <p>Type: ${K.type}</p>
             <p>${K.description}</p>`)).addTo(V);n.current.push(ee)}),N()}),()=>{n.current.forEach(K=>K.remove()),t.current&&(t.current.remove(),t.current=null)}},[i]);const q=L=>{p(V=>({...V,[L]:!V[L]}))};return Q.jsxs(Ci,{sx:{display:"flex",flexDirection:"column",height:"100vh",width:"50vw",overflow:"hidden"},children:[Q.jsx(Ci,{sx:{flex:"1 1 auto",minHeight:"30vh",transition:"all 0.3s ease"},children:Q.jsx("div",{ref:e,style:{width:"100%",height:"100%"}})}),Q.jsx(qi,{sx:{flex:"0 1 auto",maxHeight:a?"70vh":"35vh",borderTopLeftRadius:8,borderTopRightRadius:8,borderTop:1,borderColor:"divider",display:"flex",flexDirection:"column",transition:"all 0.3s ease"},children:Q.jsxs(Ci,{sx:{p:1.5},children:[Q.jsxs(Ci,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[Q.jsx(Ui,{variant:"h6",sx:{fontSize:"1.1rem"},children:"Recent Alerts"}),Q.jsx(so,{variant:"contained",color:"primary",size:"small",sx:{minWidth:"auto",px:2},onClick:()=>b(!a),children:a?"Hide Alerts":"Manage Alerts"})]}),Q.jsx(tL,{sx:{overflowY:"auto",maxHeight:a?"calc(70vh - 120px)":"calc(35vh - 80px)",transition:"all 0.3s ease","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"3px"}},children:i.map(L=>Q.jsxs(o7,{sx:{flexDirection:"column",alignItems:"stretch",py:.5},children:[Q.jsxs(Ci,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Q.jsx(d7,{primary:Q.jsx(Ui,{variant:"body1",sx:{fontSize:"0.95rem"},children:L.title}),secondary:Q.jsx(Ui,{variant:"body2",sx:{fontSize:"0.85rem"},children:`${L.type} - ${new Date(L.createdAt).toLocaleString()}`})}),Q.jsx(so,{startIcon:Q.jsx(GK,{sx:{fontSize:"0.9rem"}}),size:"small",sx:{ml:1,minWidth:"auto",px:1},onClick:()=>q(L._id),children:h[L._id]?"Hide":"Show"})]}),Q.jsx(RE,{in:h[L._id],timeout:"auto",unmountOnExit:!0,children:Q.jsxs(Ci,{sx:{p:1.5,bgcolor:"background.paper",mt:.5,borderRadius:1,border:1,borderColor:"divider",wordBreak:"break-word"},children:[Q.jsx(Ui,{variant:"body2",sx:{mb:1},children:L.description}),Q.jsxs(Ui,{variant:"body2",color:"textSecondary",children:["Location: ",L.location.lat,", ",L.location.lng]})]})}),Q.jsx(u9,{sx:{my:.5}})]},L._id))})]})}),Q.jsx(RE,{in:a,children:Q.jsx(Ci,{sx:{p:1.5,borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:Q.jsxs(Ci,{sx:{display:"flex",gap:1.5,flexWrap:"wrap"},children:[Q.jsx(so,{variant:"outlined",size:"small",sx:{minWidth:"auto",px:2},onClick:()=>O(P==="all"?"Theft":"all"),children:P==="all"?"Show Theft Only":"Show All"}),Q.jsxs(so,{variant:"outlined",size:"small",sx:{minWidth:"auto",px:2},onClick:D,children:["Sort ",w==="desc"?"↑":"↓"]}),Q.jsx(so,{variant:"outlined",size:"small",sx:{minWidth:"auto",px:2},onClick:j,children:"Export"})]})})})]})}const iQ=vs(Q.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),Lx=et(oh)(({theme:e})=>({"& .MuiOutlinedInput-root":{backgroundColor:e.palette.background.paper,"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main}}},"& .MuiInputLabel-root":{backgroundColor:e.palette.background.default,padding:"0 4px","&.Mui-focused":{color:e.palette.primary.main}},"& .MuiSelect-select":{maxWidth:"200px"}})),oQ=et(Ci)(({theme:e})=>({height:"500px",width:"100%",borderRadius:e.shape.borderRadius,overflow:"hidden",border:`1px solid ${e.palette.divider}`,marginTop:e.spacing(2)}));function sQ(){const e=C0(),t=U.useRef(null),n=U.useRef(null),i=U.useRef(null),[l,h]=U.useState(""),[p,a]=U.useState(!1),[b,w]=U.useState({title:"",description:"",type:"",location:{lat:"",lng:""}});U.useEffect(()=>{if(!t.current)return;const I="6GHnwlK28StRFj4GuH8E";Ds.apiKey=I;const D=new XS({container:t.current,style:`https://api.maptiler.com/maps/topo-v2/style.json?key=${I}`,center:[77.209,28.6139],zoom:12});return D.on("load",()=>{D.on("click",O=>{const{lng:j,lat:q}=O.lngLat;i.current?i.current.setLngLat([j,q]):i.current=new jD().setLngLat([j,q]).addTo(D),w(L=>({...L,location:{lat:q.toFixed(6),lng:j.toFixed(6)}}))})}),n.current=D,()=>{n.current&&(n.current.remove(),n.current=null)}},[]);const T=async I=>{var D,O;I.preventDefault();try{if(!b.title||!b.type||!b.location.lat||!b.location.lng){h("Please fill in all required fields and select a location on the map");return}(await Zp.post("http://localhost:5000/api/crimes",b)).status===201&&(a(!0),h(""),setTimeout(()=>{e("/")},2e3))}catch(j){console.error("Submission error:",j),h(((O=(D=j.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to submit crime report")}},P=I=>{const{name:D,value:O}=I.target;w(j=>({...j,[D]:O}))};return Q.jsxs(Ci,{sx:{width:"100%",maxWidth:800,mx:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[Q.jsxs(mv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},style:{width:"100%"},children:[Q.jsx(Ui,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:4},children:"Report an Incident"}),Q.jsxs(qi,{elevation:1,sx:{p:4},children:[Q.jsxs(Al,{container:!0,spacing:3,children:[Q.jsx(Al,{item:!0,xs:12,children:Q.jsx(Lx,{fullWidth:!0,label:"Incident Title",name:"title",value:b.title,onChange:P,required:!0})}),Q.jsx(Al,{item:!0,xs:12,children:Q.jsxs(Lx,{select:!0,fullWidth:!0,label:"Incident Type",name:"type",value:b.type,onChange:P,required:!0,SelectProps:{MenuProps:{PaperProps:{sx:{maxWidth:"200px","& .MuiMenuItem-root":{whiteSpace:"normal",padding:"8px 16px"}}}}},children:[Q.jsx(zo,{value:"Theft",children:"Theft"}),Q.jsx(zo,{value:"Robbery",children:"Robbery"}),Q.jsx(zo,{value:"Assault",children:"Assault"}),Q.jsx(zo,{value:"Vandalism",children:"Vandalism"}),Q.jsx(zo,{value:"Other",children:"Other"})]})}),Q.jsx(Al,{item:!0,xs:12,children:Q.jsx(Lx,{fullWidth:!0,multiline:!0,rows:4,label:"Description",name:"description",value:b.description,onChange:P})})]}),Q.jsx(Ui,{variant:"subtitle1",sx:{mt:4,mb:2},children:"Click on the map to select incident location"}),Q.jsx(oQ,{children:Q.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})}),b.location.lat&&Q.jsxs(Ui,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["Selected location: ",b.location.lat,", ",b.location.lng]}),Q.jsx(so,{fullWidth:!0,variant:"contained",color:"primary",size:"large",startIcon:Q.jsx(iQ,{}),onClick:T,sx:{mt:4,py:1.5},children:"Submit Report"})]})]}),Q.jsx(Sf,{open:!!l,autoHideDuration:6e3,onClose:()=>h(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Q.jsx(bf,{severity:"error",onClose:()=>h(""),children:l})}),Q.jsx(Sf,{open:p,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Q.jsx(bf,{severity:"success",children:"Crime reported successfully!"})})]})}function aQ(){return Q.jsx(Ci,{sx:{width:"100%",textAlign:"center"},children:Q.jsxs(mv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[Q.jsx(Ui,{variant:"h4",gutterBottom:!0,sx:{mb:4},children:"Crime Statistics Dashboard"}),Q.jsxs(Al,{container:!0,spacing:3,children:[Q.jsx(Al,{item:!0,xs:12,children:Q.jsx(qi,{elevation:1,sx:{p:3,height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Map Component Will Go Here"})}),Q.jsx(Al,{item:!0,xs:12,md:6,children:Q.jsx(qi,{elevation:1,sx:{p:3,height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Crime Type Distribution Chart"})}),Q.jsx(Al,{item:!0,xs:12,md:6,children:Q.jsx(qi,{elevation:1,sx:{p:3,height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Monthly Trends Chart"})})]})]})})}const lQ=et(UR)(({theme:e})=>({backgroundColor:"rgba(13, 17, 23, 0.8)",backdropFilter:"blur(12px)",borderBottom:`1px solid ${e.palette.divider}`,boxShadow:"none",borderRadius:"0 0 12px 12px",margin:"0 16px",width:"calc(100% - 32px)",top:"8px","& .MuiToolbar-root":{minHeight:"64px"}})),Dx=et(so)(({theme:e})=>({color:e.palette.text.primary,padding:"8px 16px",margin:"0 8px",borderRadius:6,"&:hover":{backgroundColor:"rgba(201, 209, 217, 0.08)"},"& .MuiSvgIcon-root":{transition:"transform 0.2s"},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"}}));function cQ(){return Q.jsx(lQ,{position:"sticky",children:Q.jsx(HR,{maxWidth:"lg",children:Q.jsxs(QW,{sx:{justifyContent:"center"},children:[Q.jsx(Dx,{component:ix,to:"/",startIcon:Q.jsx(jK,{}),children:"Home"}),Q.jsx(Dx,{component:ix,to:"/dashboard",startIcon:Q.jsx(VK,{}),children:"Dashboard"}),Q.jsx(Dx,{component:ix,to:"/report-crime",startIcon:Q.jsx(UK,{}),children:"Report Crime"})]})})})}const mA=et(oh)(({theme:e})=>({"& .MuiOutlinedInput-root":{backgroundColor:e.palette.background.paper}}));function uQ(){const e=C0(),[t,n]=U.useState({username:"",password:""}),[i,l]=U.useState(""),h=p=>{p.preventDefault(),t.username==="admin"&&t.password==="admin123"?(localStorage.setItem("adminToken","demo-token"),e("/admin/dashboard")):l("Invalid credentials")};return Q.jsxs(Ci,{sx:{width:"100%",maxWidth:400,mx:"auto",mt:8},children:[Q.jsxs(mv.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[Q.jsx(Ui,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:4},children:"Admin Login"}),Q.jsx(qi,{elevation:1,sx:{p:4},children:Q.jsxs("form",{onSubmit:h,children:[Q.jsx(mA,{fullWidth:!0,label:"Username",margin:"normal",value:t.username,onChange:p=>n({...t,username:p.target.value}),required:!0}),Q.jsx(mA,{fullWidth:!0,label:"Password",type:"password",margin:"normal",value:t.password,onChange:p=>n({...t,password:p.target.value}),required:!0}),Q.jsx(so,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",sx:{mt:3},children:"Login"})]})})]}),Q.jsx(Sf,{open:!!i,autoHideDuration:6e3,onClose:()=>l(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Q.jsx(bf,{severity:"error",onClose:()=>l(""),children:i})})]})}function hQ(){const e=C0(),[t,n]=U.useState([]),[i,l]=U.useState(""),[h,p]=U.useState(""),[a,b]=U.useState(!1),[w,T]=U.useState(null);U.useEffect(()=>{if(!localStorage.getItem("adminToken")){e("/admin");return}P()},[e]);const P=async()=>{try{const j=await Zp.get("http://localhost:5000/api/crimes");n(j.data)}catch{l("Failed to fetch reports")}},I=async(j,q)=>{try{await Zp.patch(`http://localhost:5000/api/crimes/${j}`,{status:q}),p(`Report ${q}`),P()}catch{l("Failed to update status")}},D=j=>{T(j),b(!0)},O=async j=>{try{await Zp.put(`http://localhost:5000/api/crimes/${j._id}`,j),p("Case updated successfully"),b(!1),P()}catch{l("Failed to update case")}};return Q.jsxs(Ci,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[Q.jsx(Ui,{variant:"h4",gutterBottom:!0,align:"center",sx:{mb:4},children:"Crime Reports Management"}),Q.jsx(VW,{component:qi,children:Q.jsxs(CW,{children:[Q.jsx(ZW,{children:Q.jsxs(hP,{children:[Q.jsx(es,{children:"Title"}),Q.jsx(es,{children:"Type"}),Q.jsx(es,{children:"Description"}),Q.jsx(es,{children:"Location"}),Q.jsx(es,{children:"Status"}),Q.jsx(es,{children:"Actions"})]})}),Q.jsx(MW,{children:t.map(j=>Q.jsxs(hP,{children:[Q.jsx(es,{children:j.title}),Q.jsx(es,{children:j.type}),Q.jsx(es,{children:j.description}),Q.jsx(es,{children:`${j.location.lat}, ${j.location.lng}`}),Q.jsx(es,{children:Q.jsx(v8,{label:j.status,color:j.status==="accepted"?"success":j.status==="rejected"?"error":"default"})}),Q.jsx(es,{children:Q.jsxs(Ci,{sx:{display:"flex",gap:1},children:[j.status==="pending"&&Q.jsxs(Q.Fragment,{children:[Q.jsx(so,{variant:"contained",color:"success",size:"small",onClick:()=>I(j._id,"accepted"),children:"Accept"}),Q.jsx(so,{variant:"contained",color:"error",size:"small",onClick:()=>I(j._id,"rejected"),children:"Reject"})]}),Q.jsx(so,{variant:"outlined",size:"small",onClick:()=>D(j),children:"Edit"})]})})]},j._id))})]})}),Q.jsxs(jU,{open:a,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[Q.jsx(i9,{children:"Edit Case Details"}),Q.jsx(e9,{children:Q.jsxs(Ci,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[Q.jsx(oh,{name:"title",label:"Title",value:(w==null?void 0:w.title)||"",onChange:j=>T({...w,title:j.target.value}),fullWidth:!0}),Q.jsx(oh,{name:"description",label:"Description",value:(w==null?void 0:w.description)||"",onChange:j=>T({...w,description:j.target.value}),multiline:!0,rows:4,fullWidth:!0}),Q.jsxs(oh,{name:"type",label:"Crime Type",value:(w==null?void 0:w.type)||"",onChange:j=>T({...w,type:j.target.value}),select:!0,fullWidth:!0,children:[Q.jsx(zo,{value:"Theft",children:"Theft"}),Q.jsx(zo,{value:"Robbery",children:"Robbery"}),Q.jsx(zo,{value:"Assault",children:"Assault"}),Q.jsx(zo,{value:"Vandalism",children:"Vandalism"}),Q.jsx(zo,{value:"Other",children:"Other"})]}),Q.jsxs(oh,{name:"status",label:"Status",value:(w==null?void 0:w.status)||"",onChange:j=>T({...w,status:j.target.value}),select:!0,fullWidth:!0,children:[Q.jsx(zo,{value:"accepted",children:"Accepted"}),Q.jsx(zo,{value:"rejected",children:"Rejected"}),Q.jsx(zo,{value:"pending",children:"Pending"})]})]})}),Q.jsxs(HU,{children:[Q.jsx(so,{onClick:()=>b(!1),children:"Cancel"}),Q.jsx(so,{onClick:()=>O(w),variant:"contained",color:"primary",children:"Save Changes"})]})]}),Q.jsx(Sf,{open:!!i,autoHideDuration:6e3,onClose:()=>l(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Q.jsx(bf,{severity:"error",onClose:()=>l(""),children:i})}),Q.jsx(Sf,{open:!!h,autoHideDuration:2e3,onClose:()=>p(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Q.jsx(bf,{severity:"success",children:h})})]})}const dQ=et("div")`
  * {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  button, a {
    min-height: 44px;
    min-width: 44px;
  }

  html, body {
    overscroll-behavior-y: contain;
  }
`;et(UR)(({theme:e})=>({backgroundColor:"rgba(13, 17, 23, 0.8)",backdropFilter:"blur(12px)",borderBottom:`1px solid ${e.palette.divider}`,boxShadow:"none"}));et(so)(({theme:e})=>({color:e.palette.text.primary,padding:"8px 16px",borderRadius:6,position:"relative",overflow:"hidden","&:hover":{backgroundColor:"rgba(201, 209, 217, 0.08)"},"& .MuiSvgIcon-root":{transition:"transform 0.2s"},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"}}));const pQ=et(mv.div)({width:"100%"}),fQ=et(Ci)(({theme:e})=>({minHeight:"calc(100vh - 64px)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4),margin:"0 auto"}));function mQ(){const e=$f();return Q.jsx(fG,{mode:"wait",children:Q.jsx(pQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:Q.jsxs(eF,{location:e,children:[Q.jsx(Uu,{path:"/",element:Q.jsx(rQ,{})}),Q.jsx(Uu,{path:"/report-crime",element:Q.jsx(sQ,{})}),Q.jsx(Uu,{path:"/dashboard",element:Q.jsx(aQ,{})}),Q.jsx(Uu,{path:"/admin",element:Q.jsx(uQ,{})}),Q.jsx(Uu,{path:"/admin/dashboard",element:Q.jsx(hQ,{})})]})},e.pathname)})}function gQ(){return Q.jsx(aF,{children:Q.jsxs(Mj,{theme:WK,children:[Q.jsx(hU,{}),Q.jsx(dQ,{}),Q.jsxs(Ci,{sx:{minHeight:"100vh",bgcolor:"background.default",display:"flex",flexDirection:"column"},children:[Q.jsx(cQ,{}),Q.jsx(fQ,{children:Q.jsx(HR,{maxWidth:"lg",sx:{width:"100%"},children:Q.jsx(mQ,{})})})]})]})})}zx.createRoot(document.getElementById("root")).render(Q.jsx(Bs.StrictMode,{children:Q.jsx(gQ,{})}));
